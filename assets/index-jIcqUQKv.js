const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-LfdN0zeE.js","assets/html-C2L_23MC.js","assets/javascript-ySlJ1b_l.js","assets/css-BPhBrDlE.js","assets/angular-ts-CKsD7JZE.js","assets/scss-C31hgJw-.js","assets/apl-BBq3IX1j.js","assets/xml-e3z08dGr.js","assets/java-xI-RfyKK.js","assets/json-BQoSv7ci.js","assets/astro-CqkE3fuf.js","assets/typescript-Dj6nwHGl.js","assets/postcss-B3ZDOciz.js","assets/blade-a8OxSdnT.js","assets/sql-COK4E0Yg.js","assets/bsl-Dgyn0ogV.js","assets/sdbl-BLhTXw86.js","assets/cairo--RitsXJZ.js","assets/python-DhUJRlN_.js","assets/cobol-PTqiYgYu.js","assets/coffee-dyiR41kL.js","assets/cpp-BksuvNSY.js","assets/regexp-DWJ3fJO_.js","assets/glsl-DBO2IWDn.js","assets/c-C3t2pwGQ.js","assets/crystal-DtDmRg-F.js","assets/shellscript-atvbtKCR.js","assets/edge-D5gP-w-T.js","assets/html-derivative-CSfWNPLT.js","assets/elixir-CLiX3zqd.js","assets/elm-CmHSxxaM.js","assets/erb-BYTLMnw6.js","assets/ruby-DeZ3UC14.js","assets/haml-B2EZWmdv.js","assets/graphql-cDcHW_If.js","assets/jsx-BAng5TT0.js","assets/tsx-B6W0miNI.js","assets/lua-CvWAzNxB.js","assets/yaml-CVw76BM1.js","assets/fortran-fixed-form-TqA4NnZg.js","assets/fortran-free-form-DKXYxT9g.js","assets/fsharp-XplgxFYe.js","assets/markdown-UIAJJxZW.js","assets/gdresource-BHYsBjWJ.js","assets/gdshader-SKMF96pI.js","assets/gdscript-DfxzS6Rs.js","assets/git-commit-i4q6IMui.js","assets/diff-BgYniUM_.js","assets/git-rebase-B-v9cOL2.js","assets/glimmer-js-D-cwc0-E.js","assets/glimmer-ts-pgjy16dm.js","assets/hack-D1yCygmZ.js","assets/handlebars-BQGss363.js","assets/http-FRrOvY1W.js","assets/hxml-TIA70rKU.js","assets/haxe-C5wWYbrZ.js","assets/imba-bv_oIlVt.js","assets/jinja-DGy0s7-h.js","assets/jison-BqZprYcd.js","assets/julia-BBuGR-5E.js","assets/r-CwjWoCRV.js","assets/latex-C-cWTeAZ.js","assets/tex-rYs2v40G.js","assets/liquid-D3W5UaiH.js","assets/marko-z0MBrx5-.js","assets/less-BfCpw3nA.js","assets/mdc-DB_EDNY_.js","assets/nginx-D_VnBJ67.js","assets/nim-ZlGxZxc3.js","assets/perl-CHQXSrWU.js","assets/php-B5ebYQev.js","assets/pug-CM9l7STV.js","assets/qml-D8XfuvdV.js","assets/razor-CNLDkMZG.js","assets/csharp-D9R-vmeu.js","assets/rst-4NLicBqY.js","assets/cmake-DbXoA79R.js","assets/sas-BmTFh92c.js","assets/shaderlab-B7qAK45m.js","assets/hlsl-ifBTmRxC.js","assets/shellsession-C_rIy8kc.js","assets/soy-C-lX7w71.js","assets/sparql-bYkjHRlG.js","assets/turtle-BMR_PYu6.js","assets/stata-DorPZHa4.js","assets/svelte-MSaWC3Je.js","assets/templ-dwX3ZSMB.js","assets/go-B1SYOhNW.js","assets/ts-tags-CipyTH0X.js","assets/twig-NC5TFiHP.js","assets/vue-BuYVFjOK.js","assets/vue-html-xdeiXROB.js","assets/xsl-Dd0NUgwM.js","assets/BlogAdmin-CKKDmkzb.js","assets/trash-2-8Fj46AdX.js","assets/ImageUpload-Ix2QotFD.js","assets/upload-Cfig40Um.js","assets/alert-circle-BSXa6p8_.js","assets/square-pen-DU6Xpe4r.js","assets/ProjectAdmin-Y15EQNlx.js","assets/TranslationManager-CrmxGOJv.js","assets/filter-DHS_cYlX.js","assets/ExperienceAdmin-CEETkaUJ.js","assets/EducationAdmin-BCzq3IYE.js","assets/SkillsAdmin-BkoKn5GO.js","assets/FeatureFlagAdmin-BA7BFdVe.js","assets/AboutContentAdmin-CPt_a1qN.js","assets/TechnologyAdmin-CwJTaTfb.js"])))=>i.map(i=>d[i]);
function fL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var nve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function E8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Y2={exports:{}},E0={},X2={exports:{}},ur={};var yT;function w8(){if(yT)return ur;yT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m(ee){return ee===null||typeof ee!="object"?null:(ee=f&&ee[f]||ee["@@iterator"],typeof ee=="function"?ee:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function y(ee,z,U){this.props=ee,this.context=z,this.refs=E,this.updater=U||p}y.prototype.isReactComponent={},y.prototype.setState=function(ee,z){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,z,"setState")},y.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function v(){}v.prototype=y.prototype;function S(ee,z,U){this.props=ee,this.context=z,this.refs=E,this.updater=U||p}var T=S.prototype=new v;T.constructor=S,_(T,y.prototype),T.isPureReactComponent=!0;var L=Array.isArray,I=Object.prototype.hasOwnProperty,O={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function V(ee,z,U){var ce,_e={},Z=null,de=null;if(z!=null)for(ce in z.ref!==void 0&&(de=z.ref),z.key!==void 0&&(Z=""+z.key),z)I.call(z,ce)&&!B.hasOwnProperty(ce)&&(_e[ce]=z[ce]);var Ae=arguments.length-2;if(Ae===1)_e.children=U;else if(1<Ae){for(var Pe=Array(Ae),ke=0;ke<Ae;ke++)Pe[ke]=arguments[ke+2];_e.children=Pe}if(ee&&ee.defaultProps)for(ce in Ae=ee.defaultProps,Ae)_e[ce]===void 0&&(_e[ce]=Ae[ce]);return{$$typeof:t,type:ee,key:Z,ref:de,props:_e,_owner:O.current}}function M(ee,z){return{$$typeof:t,type:ee.type,key:z,ref:ee.ref,props:ee.props,_owner:ee._owner}}function R(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function k(ee){var z={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(U){return z[U]})}var H=/\/+/g;function q(ee,z){return typeof ee=="object"&&ee!==null&&ee.key!=null?k(""+ee.key):z.toString(36)}function Y(ee,z,U,ce,_e){var Z=typeof ee;(Z==="undefined"||Z==="boolean")&&(ee=null);var de=!1;if(ee===null)de=!0;else switch(Z){case"string":case"number":de=!0;break;case"object":switch(ee.$$typeof){case t:case e:de=!0}}if(de)return de=ee,_e=_e(de),ee=ce===""?"."+q(de,0):ce,L(_e)?(U="",ee!=null&&(U=ee.replace(H,"$&/")+"/"),Y(_e,z,U,"",function(ke){return ke})):_e!=null&&(R(_e)&&(_e=M(_e,U+(!_e.key||de&&de.key===_e.key?"":(""+_e.key).replace(H,"$&/")+"/")+ee)),z.push(_e)),1;if(de=0,ce=ce===""?".":ce+":",L(ee))for(var Ae=0;Ae<ee.length;Ae++){Z=ee[Ae];var Pe=ce+q(Z,Ae);de+=Y(Z,z,U,Pe,_e)}else if(Pe=m(ee),typeof Pe=="function")for(ee=Pe.call(ee),Ae=0;!(Z=ee.next()).done;)Z=Z.value,Pe=ce+q(Z,Ae++),de+=Y(Z,z,U,Pe,_e);else if(Z==="object")throw z=String(ee),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return de}function ae(ee,z,U){if(ee==null)return ee;var ce=[],_e=0;return Y(ee,ce,"","",function(Z){return z.call(U,Z,_e++)}),ce}function he(ee){if(ee._status===-1){var z=ee._result;z=z(),z.then(function(U){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=U)},function(U){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=U)}),ee._status===-1&&(ee._status=0,ee._result=z)}if(ee._status===1)return ee._result.default;throw ee._result}var oe={current:null},Q={transition:null},xe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:O};function W(){throw Error("act(...) is not supported in production builds of React.")}return ur.Children={map:ae,forEach:function(ee,z,U){ae(ee,function(){z.apply(this,arguments)},U)},count:function(ee){var z=0;return ae(ee,function(){z++}),z},toArray:function(ee){return ae(ee,function(z){return z})||[]},only:function(ee){if(!R(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},ur.Component=y,ur.Fragment=n,ur.Profiler=i,ur.PureComponent=S,ur.StrictMode=r,ur.Suspense=u,ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,ur.act=W,ur.cloneElement=function(ee,z,U){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var ce=_({},ee.props),_e=ee.key,Z=ee.ref,de=ee._owner;if(z!=null){if(z.ref!==void 0&&(Z=z.ref,de=O.current),z.key!==void 0&&(_e=""+z.key),ee.type&&ee.type.defaultProps)var Ae=ee.type.defaultProps;for(Pe in z)I.call(z,Pe)&&!B.hasOwnProperty(Pe)&&(ce[Pe]=z[Pe]===void 0&&Ae!==void 0?Ae[Pe]:z[Pe])}var Pe=arguments.length-2;if(Pe===1)ce.children=U;else if(1<Pe){Ae=Array(Pe);for(var ke=0;ke<Pe;ke++)Ae[ke]=arguments[ke+2];ce.children=Ae}return{$$typeof:t,type:ee.type,key:_e,ref:Z,props:ce,_owner:de}},ur.createContext=function(ee){return ee={$$typeof:a,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:s,_context:ee},ee.Consumer=ee},ur.createElement=V,ur.createFactory=function(ee){var z=V.bind(null,ee);return z.type=ee,z},ur.createRef=function(){return{current:null}},ur.forwardRef=function(ee){return{$$typeof:o,render:ee}},ur.isValidElement=R,ur.lazy=function(ee){return{$$typeof:d,_payload:{_status:-1,_result:ee},_init:he}},ur.memo=function(ee,z){return{$$typeof:l,type:ee,compare:z===void 0?null:z}},ur.startTransition=function(ee){var z=Q.transition;Q.transition={};try{ee()}finally{Q.transition=z}},ur.unstable_act=W,ur.useCallback=function(ee,z){return oe.current.useCallback(ee,z)},ur.useContext=function(ee){return oe.current.useContext(ee)},ur.useDebugValue=function(){},ur.useDeferredValue=function(ee){return oe.current.useDeferredValue(ee)},ur.useEffect=function(ee,z){return oe.current.useEffect(ee,z)},ur.useId=function(){return oe.current.useId()},ur.useImperativeHandle=function(ee,z,U){return oe.current.useImperativeHandle(ee,z,U)},ur.useInsertionEffect=function(ee,z){return oe.current.useInsertionEffect(ee,z)},ur.useLayoutEffect=function(ee,z){return oe.current.useLayoutEffect(ee,z)},ur.useMemo=function(ee,z){return oe.current.useMemo(ee,z)},ur.useReducer=function(ee,z,U){return oe.current.useReducer(ee,z,U)},ur.useRef=function(ee){return oe.current.useRef(ee)},ur.useState=function(ee){return oe.current.useState(ee)},ur.useSyncExternalStore=function(ee,z,U){return oe.current.useSyncExternalStore(ee,z,U)},ur.useTransition=function(){return oe.current.useTransition()},ur.version="18.3.1",ur}var xT;function mw(){return xT||(xT=1,X2.exports=w8()),X2.exports}var bT;function A8(){if(bT)return E0;bT=1;var t=mw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,u,l){var d,f={},m=null,p=null;l!==void 0&&(m=""+l),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(p=u.ref);for(d in u)r.call(u,d)&&!s.hasOwnProperty(d)&&(f[d]=u[d]);if(o&&o.defaultProps)for(d in u=o.defaultProps,u)f[d]===void 0&&(f[d]=u[d]);return{$$typeof:e,type:o,key:m,ref:p,props:f,_owner:i.current}}return E0.Fragment=n,E0.jsx=a,E0.jsxs=a,E0}var ET;function S8(){return ET||(ET=1,Y2.exports=A8()),Y2.exports}var b=S8(),ne=mw();const T8=Wm(ne),D8=fL({__proto__:null,default:T8},[ne]);var Zg={},Z2={exports:{}},Ba={},J2={exports:{}},Q2={};var wT;function C8(){return wT||(wT=1,(function(t){function e(Q,xe){var W=Q.length;Q.push(xe);e:for(;0<W;){var ee=W-1>>>1,z=Q[ee];if(0<i(z,xe))Q[ee]=xe,Q[W]=z,W=ee;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var xe=Q[0],W=Q.pop();if(W!==xe){Q[0]=W;e:for(var ee=0,z=Q.length,U=z>>>1;ee<U;){var ce=2*(ee+1)-1,_e=Q[ce],Z=ce+1,de=Q[Z];if(0>i(_e,W))Z<z&&0>i(de,_e)?(Q[ee]=de,Q[Z]=W,ee=Z):(Q[ee]=_e,Q[ce]=W,ee=ce);else if(Z<z&&0>i(de,W))Q[ee]=de,Q[Z]=W,ee=Z;else break e}}return xe}function i(Q,xe){var W=Q.sortIndex-xe.sortIndex;return W!==0?W:Q.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],l=[],d=1,f=null,m=3,p=!1,_=!1,E=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Q){for(var xe=n(l);xe!==null;){if(xe.callback===null)r(l);else if(xe.startTime<=Q)r(l),xe.sortIndex=xe.expirationTime,e(u,xe);else break;xe=n(l)}}function L(Q){if(E=!1,T(Q),!_)if(n(u)!==null)_=!0,he(I);else{var xe=n(l);xe!==null&&oe(L,xe.startTime-Q)}}function I(Q,xe){_=!1,E&&(E=!1,v(V),V=-1),p=!0;var W=m;try{for(T(xe),f=n(u);f!==null&&(!(f.expirationTime>xe)||Q&&!k());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,m=f.priorityLevel;var z=ee(f.expirationTime<=xe);xe=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(u)&&r(u),T(xe)}else r(u);f=n(u)}if(f!==null)var U=!0;else{var ce=n(l);ce!==null&&oe(L,ce.startTime-xe),U=!1}return U}finally{f=null,m=W,p=!1}}var O=!1,B=null,V=-1,M=5,R=-1;function k(){return!(t.unstable_now()-R<M)}function H(){if(B!==null){var Q=t.unstable_now();R=Q;var xe=!0;try{xe=B(!0,Q)}finally{xe?q():(O=!1,B=null)}}else O=!1}var q;if(typeof S=="function")q=function(){S(H)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ae=Y.port2;Y.port1.onmessage=H,q=function(){ae.postMessage(null)}}else q=function(){y(H,0)};function he(Q){B=Q,O||(O=!0,q())}function oe(Q,xe){V=y(function(){Q(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,he(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var xe=3;break;default:xe=m}var W=m;m=xe;try{return Q()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,xe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var W=m;m=Q;try{return xe()}finally{m=W}},t.unstable_scheduleCallback=function(Q,xe,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,Q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,Q={id:d++,callback:xe,priorityLevel:Q,startTime:W,expirationTime:z,sortIndex:-1},W>ee?(Q.sortIndex=W,e(l,Q),n(u)===null&&Q===n(l)&&(E?(v(V),V=-1):E=!0,oe(L,W-ee))):(Q.sortIndex=z,e(u,Q),_||p||(_=!0,he(I))),Q},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Q){var xe=m;return function(){var W=m;m=xe;try{return Q.apply(this,arguments)}finally{m=W}}}})(Q2)),Q2}var AT;function N8(){return AT||(AT=1,J2.exports=C8()),J2.exports}var ST;function L8(){if(ST)return Ba;ST=1;var t=mw(),e=N8();function n(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(c,h){a(c,h),a(c+"Capture",h)}function a(c,h){for(i[c]=h,c=0;c<h.length;c++)r.add(h[c])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(c){return u.call(f,c)?!0:u.call(d,c)?!1:l.test(c)?f[c]=!0:(d[c]=!0,!1)}function p(c,h,g,w){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function _(c,h,g,w){if(h===null||typeof h>"u"||p(c,h,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function E(c,h,g,w,N,F,X){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=w,this.attributeNamespace=N,this.mustUseProperty=g,this.propertyName=c,this.type=h,this.sanitizeURL=F,this.removeEmptyString=X}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){y[c]=new E(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];y[h]=new E(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){y[c]=new E(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){y[c]=new E(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){y[c]=new E(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){y[c]=new E(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){y[c]=new E(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){y[c]=new E(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){y[c]=new E(c,5,!1,c.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function S(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(v,S);y[h]=new E(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(v,S);y[h]=new E(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(v,S);y[h]=new E(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){y[c]=new E(c,1,!1,c.toLowerCase(),null,!1,!1)}),y.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){y[c]=new E(c,1,!1,c.toLowerCase(),null,!0,!0)});function T(c,h,g,w){var N=y.hasOwnProperty(h)?y[h]:null;(N!==null?N.type!==0:w||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(_(h,g,N,w)&&(g=null),w||N===null?m(h)&&(g===null?c.removeAttribute(h):c.setAttribute(h,""+g)):N.mustUseProperty?c[N.propertyName]=g===null?N.type===3?!1:"":g:(h=N.attributeName,w=N.attributeNamespace,g===null?c.removeAttribute(h):(N=N.type,g=N===3||N===4&&g===!0?"":""+g,w?c.setAttributeNS(w,h,g):c.setAttribute(h,g))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),O=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),k=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function xe(c){return c===null||typeof c!="object"?null:(c=Q&&c[Q]||c["@@iterator"],typeof c=="function"?c:null)}var W=Object.assign,ee;function z(c){if(ee===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);ee=h&&h[1]||""}return`
`+ee+c}var U=!1;function ce(c,h){if(!c||U)return"";U=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(tt){var w=tt}Reflect.construct(c,[],h)}else{try{h.call()}catch(tt){w=tt}c.call(h.prototype)}else{try{throw Error()}catch(tt){w=tt}c()}}catch(tt){if(tt&&w&&typeof tt.stack=="string"){for(var N=tt.stack.split(`
`),F=w.stack.split(`
`),X=N.length-1,Se=F.length-1;1<=X&&0<=Se&&N[X]!==F[Se];)Se--;for(;1<=X&&0<=Se;X--,Se--)if(N[X]!==F[Se]){if(X!==1||Se!==1)do if(X--,Se--,0>Se||N[X]!==F[Se]){var Ie=`
`+N[X].replace(" at new "," at ");return c.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",c.displayName)),Ie}while(1<=X&&0<=Se);break}}}finally{U=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?z(c):""}function _e(c){switch(c.tag){case 5:return z(c.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return c=ce(c.type,!1),c;case 11:return c=ce(c.type.render,!1),c;case 1:return c=ce(c.type,!0),c;default:return""}}function Z(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case B:return"Fragment";case O:return"Portal";case M:return"Profiler";case V:return"StrictMode";case q:return"Suspense";case Y:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case k:return(c.displayName||"Context")+".Consumer";case R:return(c._context.displayName||"Context")+".Provider";case H:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case ae:return h=c.displayName||null,h!==null?h:Z(c.type)||"Memo";case he:h=c._payload,c=c._init;try{return Z(c(h))}catch{}}return null}function de(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(h);case 8:return h===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Ae(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Pe(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ke(c){var h=Pe(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),w=""+c[h];if(!c.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var N=g.get,F=g.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return N.call(this)},set:function(X){w=""+X,F.call(this,X)}}),Object.defineProperty(c,h,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(X){w=""+X},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function ot(c){c._valueTracker||(c._valueTracker=ke(c))}function Dt(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var g=h.getValue(),w="";return c&&(w=Pe(c)?c.checked?"true":"false":c.value),c=w,c!==g?(h.setValue(c),!0):!1}function yt(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function jt(c,h){var g=h.checked;return W({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function le(c,h){var g=h.defaultValue==null?"":h.defaultValue,w=h.checked!=null?h.checked:h.defaultChecked;g=Ae(h.value!=null?h.value:g),c._wrapperState={initialChecked:w,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function pt(c,h){h=h.checked,h!=null&&T(c,"checked",h,!1)}function rn(c,h){pt(c,h);var g=Ae(h.value),w=h.type;if(g!=null)w==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?ct(c,h.type,g):h.hasOwnProperty("defaultValue")&&ct(c,h.type,Ae(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function Ee(c,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var w=h.type;if(!(w!=="submit"&&w!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,g||h===c.value||(c.value=h),c.defaultValue=h}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function ct(c,h,g){(h!=="number"||yt(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var zt=Array.isArray;function Mt(c,h,g,w){if(c=c.options,h){h={};for(var N=0;N<g.length;N++)h["$"+g[N]]=!0;for(g=0;g<c.length;g++)N=h.hasOwnProperty("$"+c[g].value),c[g].selected!==N&&(c[g].selected=N),N&&w&&(c[g].defaultSelected=!0)}else{for(g=""+Ae(g),h=null,N=0;N<c.length;N++){if(c[N].value===g){c[N].selected=!0,w&&(c[N].defaultSelected=!0);return}h!==null||c[N].disabled||(h=c[N])}h!==null&&(h.selected=!0)}}function xt(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function se(c,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(n(92));if(zt(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),g=h}c._wrapperState={initialValue:Ae(g)}}function G(c,h){var g=Ae(h.value),w=Ae(h.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),h.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),w!=null&&(c.defaultValue=""+w)}function De(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function ge(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ce(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?ge(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Le,Ve=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,w,N){MSApp.execUnsafeLocalFunction(function(){return c(h,g,w,N)})}:c})(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Le.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function Ze(c,h){if(h){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=h;return}}c.textContent=h}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yt=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(c){Yt.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),st[h]=st[c]})});function et(c,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||st.hasOwnProperty(c)&&st[c]?(""+h).trim():h+"px"}function ft(c,h){c=c.style;for(var g in h)if(h.hasOwnProperty(g)){var w=g.indexOf("--")===0,N=et(g,h[g],w);g==="float"&&(g="cssFloat"),w?c.setProperty(g,N):c[g]=N}}var Tt=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nt(c,h){if(h){if(Tt[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function nt(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qt=null;function we(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var gt=null,vt=null,bt=null;function Qe(c){if(c=Mc(c)){if(typeof gt!="function")throw Error(n(280));var h=c.stateNode;h&&(h=jd(h),gt(c.stateNode,c.type,h))}}function rt(c){vt?bt?bt.push(c):bt=[c]:vt=c}function Ht(){if(vt){var c=vt,h=bt;if(bt=vt=null,Qe(c),h)for(c=0;c<h.length;c++)Qe(h[c])}}function un(c,h){return c(h)}function qn(){}var Fn=!1;function cn(c,h,g){if(Fn)return c(h,g);Fn=!0;try{return un(c,h,g)}finally{Fn=!1,(vt!==null||bt!==null)&&(qn(),Ht())}}function Vr(c,h){var g=c.stateNode;if(g===null)return null;var w=jd(g);if(w===null)return null;g=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var Ne=!1;if(o)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch{Ne=!1}function Xe(c,h,g,w,N,F,X,Se,Ie){var tt=Array.prototype.slice.call(arguments,3);try{h.apply(g,tt)}catch(kt){this.onError(kt)}}var ht=!1,Pt=null,Zt=!1,dn=null,Qt={onError:function(c){ht=!0,Pt=c}};function en(c,h,g,w,N,F,X,Se,Ie){ht=!1,Pt=null,Xe.apply(Qt,arguments)}function Jt(c,h,g,w,N,F,X,Se,Ie){if(en.apply(this,arguments),ht){if(ht){var tt=Pt;ht=!1,Pt=null}else throw Error(n(198));Zt||(Zt=!0,dn=tt)}}function Kt(c){var h=c,g=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(g=h.return),c=h.return;while(c)}return h.tag===3?g:null}function An(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function Cn(c){if(Kt(c)!==c)throw Error(n(188))}function Dr(c){var h=c.alternate;if(!h){if(h=Kt(c),h===null)throw Error(n(188));return h!==c?null:c}for(var g=c,w=h;;){var N=g.return;if(N===null)break;var F=N.alternate;if(F===null){if(w=N.return,w!==null){g=w;continue}break}if(N.child===F.child){for(F=N.child;F;){if(F===g)return Cn(N),c;if(F===w)return Cn(N),h;F=F.sibling}throw Error(n(188))}if(g.return!==w.return)g=N,w=F;else{for(var X=!1,Se=N.child;Se;){if(Se===g){X=!0,g=N,w=F;break}if(Se===w){X=!0,w=N,g=F;break}Se=Se.sibling}if(!X){for(Se=F.child;Se;){if(Se===g){X=!0,g=F,w=N;break}if(Se===w){X=!0,w=F,g=N;break}Se=Se.sibling}if(!X)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?c:h}function Jn(c){return c=Dr(c),c!==null?$n(c):null}function $n(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=$n(c);if(h!==null)return h;c=c.sibling}return null}var gr=e.unstable_scheduleCallback,gs=e.unstable_cancelCallback,Hs=e.unstable_shouldYield,Rs=e.unstable_requestPaint,tr=e.unstable_now,re=e.unstable_getCurrentPriorityLevel,Ue=e.unstable_ImmediatePriority,Ge=e.unstable_UserBlockingPriority,Ye=e.unstable_NormalPriority,ze=e.unstable_LowPriority,Et=e.unstable_IdlePriority,Ft=null,Ot=null;function tn(c){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ft,c,void 0,(c.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:_n,mn=Math.log,xn=Math.LN2;function _n(c){return c>>>=0,c===0?32:31-(mn(c)/xn|0)|0}var sr=64,ar=4194304;function hr(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function lr(c,h){var g=c.pendingLanes;if(g===0)return 0;var w=0,N=c.suspendedLanes,F=c.pingedLanes,X=g&268435455;if(X!==0){var Se=X&~N;Se!==0?w=hr(Se):(F&=X,F!==0&&(w=hr(F)))}else X=g&~N,X!==0?w=hr(X):F!==0&&(w=hr(F));if(w===0)return 0;if(h!==0&&h!==w&&(h&N)===0&&(N=w&-w,F=h&-h,N>=F||N===16&&(F&4194240)!==0))return h;if((w&4)!==0&&(w|=g&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=w;0<h;)g=31-It(h),N=1<<g,w|=c[g],h&=~N;return w}function ln(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(c,h){for(var g=c.suspendedLanes,w=c.pingedLanes,N=c.expirationTimes,F=c.pendingLanes;0<F;){var X=31-It(F),Se=1<<X,Ie=N[X];Ie===-1?((Se&g)===0||(Se&w)!==0)&&(N[X]=ln(Se,h)):Ie<=h&&(c.expiredLanes|=Se),F&=~Se}}function Vn(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Bi(){var c=sr;return sr<<=1,(sr&4194240)===0&&(sr=64),c}function Aa(c){for(var h=[],g=0;31>g;g++)h.push(c);return h}function pi(c,h,g){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-It(h),c[h]=g}function vs(c,h){var g=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var N=31-It(g),F=1<<N;h[N]=0,w[N]=-1,c[N]=-1,g&=~F}}function fr(c,h){var g=c.entangledLanes|=h;for(c=c.entanglements;g;){var w=31-It(g),N=1<<w;N&h|c[w]&h&&(c[w]|=h),g&=~N}}var On=0;function Si(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Kr,Ti,Tu,Sa,pc,mc=!1,Vs=[],xo=null,Ws=null,Ta=null,dl=new Map,In=new Map,bo=[],Zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kh(c,h){switch(c){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":dl.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(h.pointerId)}}function da(c,h,g,w,N,F){return c===null||c.nativeEvent!==F?(c={blockedOn:h,domEventName:g,eventSystemFlags:w,nativeEvent:F,targetContainers:[N]},h!==null&&(h=Mc(h),h!==null&&Ti(h)),c):(c.eventSystemFlags|=w,h=c.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),c)}function qo(c,h,g,w,N){switch(h){case"focusin":return xo=da(xo,c,h,g,w,N),!0;case"dragenter":return Ws=da(Ws,c,h,g,w,N),!0;case"mouseover":return Ta=da(Ta,c,h,g,w,N),!0;case"pointerover":var F=N.pointerId;return dl.set(F,da(dl.get(F)||null,c,h,g,w,N)),!0;case"gotpointercapture":return F=N.pointerId,In.set(F,da(In.get(F)||null,c,h,g,w,N)),!0}return!1}function Yh(c){var h=Ou(c.target);if(h!==null){var g=Kt(h);if(g!==null){if(h=g.tag,h===13){if(h=An(g),h!==null){c.blockedOn=h,pc(c.priority,function(){Tu(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function gc(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var g=pl(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);qt=w,g.target.dispatchEvent(w),qt=null}else return h=Mc(g),h!==null&&Ti(h),c.blockedOn=g,!1;h.shift()}return!0}function hl(c,h,g){gc(c)&&g.delete(h)}function Sd(){mc=!1,xo!==null&&gc(xo)&&(xo=null),Ws!==null&&gc(Ws)&&(Ws=null),Ta!==null&&gc(Ta)&&(Ta=null),dl.forEach(hl),In.forEach(hl)}function Xa(c,h){c.blockedOn===h&&(c.blockedOn=null,mc||(mc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sd)))}function fl(c){function h(N){return Xa(N,c)}if(0<Vs.length){Xa(Vs[0],c);for(var g=1;g<Vs.length;g++){var w=Vs[g];w.blockedOn===c&&(w.blockedOn=null)}}for(xo!==null&&Xa(xo,c),Ws!==null&&Xa(Ws,c),Ta!==null&&Xa(Ta,c),dl.forEach(h),In.forEach(h),g=0;g<bo.length;g++)w=bo[g],w.blockedOn===c&&(w.blockedOn=null);for(;0<bo.length&&(g=bo[0],g.blockedOn===null);)Yh(g),g.blockedOn===null&&bo.shift()}var Gs=L.ReactCurrentBatchConfig,vc=!0;function Td(c,h,g,w){var N=On,F=Gs.transition;Gs.transition=null;try{On=1,_c(c,h,g,w)}finally{On=N,Gs.transition=F}}function Dd(c,h,g,w){var N=On,F=Gs.transition;Gs.transition=null;try{On=4,_c(c,h,g,w)}finally{On=N,Gs.transition=F}}function _c(c,h,g,w){if(vc){var N=pl(c,h,g,w);if(N===null)Od(c,h,w,Da,g),Kh(c,w);else if(qo(N,c,h,g,w))w.stopPropagation();else if(Kh(c,w),h&4&&-1<Zp.indexOf(c)){for(;N!==null;){var F=Mc(N);if(F!==null&&Kr(F),F=pl(c,h,g,w),F===null&&Od(c,h,w,Da,g),F===N)break;N=F}N!==null&&w.stopPropagation()}else Od(c,h,w,null,g)}}var Da=null;function pl(c,h,g,w){if(Da=null,c=we(w),c=Ou(c),c!==null)if(h=Kt(c),h===null)c=null;else if(g=h.tag,g===13){if(c=An(h),c!==null)return c;c=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return Da=c,null}function ml(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(re()){case Ue:return 1;case Ge:return 4;case Ye:case ze:return 16;case Et:return 536870912;default:return 16}default:return 16}}var Ca=null,$o=null,Du=null;function Cd(){if(Du)return Du;var c,h=$o,g=h.length,w,N="value"in Ca?Ca.value:Ca.textContent,F=N.length;for(c=0;c<g&&h[c]===N[c];c++);var X=g-c;for(w=1;w<=X&&h[g-w]===N[F-w];w++);return Du=N.slice(c,1<w?1-w:void 0)}function gl(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Na(){return!0}function Eo(){return!1}function _s(c){function h(g,w,N,F,X){this._reactName=g,this._targetInst=N,this.type=w,this.nativeEvent=F,this.target=X,this.currentTarget=null;for(var Se in c)c.hasOwnProperty(Se)&&(g=c[Se],this[Se]=g?g(F):F[Se]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Na:Eo,this.isPropagationStopped=Eo,this}return W(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),h}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yc=_s(La),C=W({},La,{view:0,detail:0}),K=_s(C),ye,Me,je,mt=W({},C,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==je&&(je&&c.type==="mousemove"?(ye=c.screenX-je.screenX,Me=c.screenY-je.screenY):Me=ye=0,je=c),ye)},movementY:function(c){return"movementY"in c?c.movementY:Me}}),Ct=_s(mt),fn=W({},mt,{dataTransfer:0}),bn=_s(fn),Un=W({},C,{relatedTarget:0}),Wn=_s(Un),pr=W({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=_s(pr),Di=W({},La,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Br=_s(Di),Ui=W({},La,{data:0}),mi=_s(Ui),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=Za[c])?!!h[c]:!1}function vl(){return Yo}var xc=W({},C,{key:function(c){if(c.key){var h=ss[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=gl(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Ko[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(c){return c.type==="keypress"?gl(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?gl(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Cu=_s(xc),_l=W({},mt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nu=_s(_l),Lu=W({},C,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),as=_s(Lu),yl=W({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),xl=_s(yl),Nd=W({},mt,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Ld=_s(Nd),Is=[9,13,27,32],Ja=o&&"CompositionEvent"in window,wo=null;o&&"documentMode"in document&&(wo=document.documentMode);var Xh=o&&"TextEvent"in window&&!wo,ha=o&&(!Ja||wo&&8<wo&&11>=wo),Mu=" ",bc=!1;function Ec(c,h){switch(c){case"keyup":return Is.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xo(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ma=!1;function fa(c,h){switch(c){case"compositionend":return Xo(h);case"keypress":return h.which!==32?null:(bc=!0,Mu);case"textInput":return c=h.data,c===Mu&&bc?null:c;default:return null}}function pa(c,h){if(Ma)return c==="compositionend"||!Ja&&Ec(c,h)?(c=Cd(),Du=$o=Ca=null,Ma=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return ha&&h.locale!=="ko"?null:h.data;default:return null}}var Pu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ao(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!Pu[c.type]:h==="textarea"}function Zo(c,h,g,w){rt(w),h=tf(h,"onChange"),0<h.length&&(g=new yc("onChange","change",null,g,w),c.push({event:g,listeners:h}))}var Jo=null,So=null;function gi(c){kd(c,0)}function bl(c){var h=Ml(c);if(Dt(h))return c}function To(c,h){if(c==="change")return h}var Qa=!1;if(o){var El;if(o){var wl="oninput"in document;if(!wl){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),wl=typeof wc.oninput=="function"}El=wl}else El=!1;Qa=El&&(!document.documentMode||9<document.documentMode)}function Ac(){Jo&&(Jo.detachEvent("onpropertychange",Qo),So=Jo=null)}function Qo(c){if(c.propertyName==="value"&&bl(So)){var h=[];Zo(h,So,c,we(c)),cn(gi,h)}}function Ru(c,h,g){c==="focusin"?(Ac(),Jo=h,So=g,Jo.attachEvent("onpropertychange",Qo)):c==="focusout"&&Ac()}function Iu(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return bl(So)}function Al(c,h){if(c==="click")return bl(h)}function ku(c,h){if(c==="input"||c==="change")return bl(h)}function Sl(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var si=typeof Object.is=="function"?Object.is:Sl;function qs(c,h){if(si(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var g=Object.keys(c),w=Object.keys(h);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var N=g[w];if(!u.call(h,N)||!si(c[N],h[N]))return!1}return!0}function _r(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Cr(c,h){var g=_r(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=h&&w>=h)return{node:g,offset:h-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=_r(g)}}function ai(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?ai(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function Ci(){for(var c=window,h=yt();h instanceof c.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)c=h.contentWindow;else break;h=yt(c.document)}return h}function eo(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function Md(c){var h=Ci(),g=c.focusedElem,w=c.selectionRange;if(h!==g&&g&&g.ownerDocument&&ai(g.ownerDocument.documentElement,g)){if(w!==null&&eo(g)){if(h=w.start,c=w.end,c===void 0&&(c=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(c,g.value.length);else if(c=(h=g.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var N=g.textContent.length,F=Math.min(w.start,N);w=w.end===void 0?F:Math.min(w.end,N),!c.extend&&F>w&&(N=w,w=F,F=N),N=Cr(g,F);var X=Cr(g,w);N&&X&&(c.rangeCount!==1||c.anchorNode!==N.node||c.anchorOffset!==N.offset||c.focusNode!==X.node||c.focusOffset!==X.offset)&&(h=h.createRange(),h.setStart(N.node,N.offset),c.removeAllRanges(),F>w?(c.addRange(h),c.extend(X.node,X.offset)):(h.setEnd(X.node,X.offset),c.addRange(h)))}}for(h=[],c=g;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)c=h[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Sc=o&&"documentMode"in document&&11>=document.documentMode,eu=null,Zh=null,Tc=null,Jh=!1;function Jp(c,h,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Jh||eu==null||eu!==yt(w)||(w=eu,"selectionStart"in w&&eo(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Tc&&qs(Tc,w)||(Tc=w,w=tf(Zh,"onSelect"),0<w.length&&(h=new yc("onSelect","select",null,h,g),c.push({event:h,listeners:w}),h.target=eu)))}function Pd(c,h){var g={};return g[c.toLowerCase()]=h.toLowerCase(),g["Webkit"+c]="webkit"+h,g["Moz"+c]="moz"+h,g}var Tl={animationend:Pd("Animation","AnimationEnd"),animationiteration:Pd("Animation","AnimationIteration"),animationstart:Pd("Animation","AnimationStart"),transitionend:Pd("Transition","TransitionEnd")},Dl={},Qp={};o&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function Rd(c){if(Dl[c])return Dl[c];if(!Tl[c])return c;var h=Tl[c],g;for(g in h)if(h.hasOwnProperty(g)&&g in Qp)return Dl[c]=h[g];return c}var e0=Rd("animationend"),t0=Rd("animationiteration"),n0=Rd("animationstart"),r0=Rd("transitionend"),i0=new Map,s0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(c,h){i0.set(c,h),s(h,[c])}for(var Dc=0;Dc<s0.length;Dc++){var ks=s0[Dc],Pa=ks.toLowerCase(),Qh=ks[0].toUpperCase()+ks.slice(1);Do(Pa,"on"+Qh)}Do(e0,"onAnimationEnd"),Do(t0,"onAnimationIteration"),Do(n0,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(r0,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fu));function Id(c,h,g){var w=c.type||"unknown-event";c.currentTarget=g,Jt(w,h,void 0,c),c.currentTarget=null}function kd(c,h){h=(h&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],N=w.event;w=w.listeners;e:{var F=void 0;if(h)for(var X=w.length-1;0<=X;X--){var Se=w[X],Ie=Se.instance,tt=Se.currentTarget;if(Se=Se.listener,Ie!==F&&N.isPropagationStopped())break e;Id(N,Se,tt),F=Ie}else for(X=0;X<w.length;X++){if(Se=w[X],Ie=Se.instance,tt=Se.currentTarget,Se=Se.listener,Ie!==F&&N.isPropagationStopped())break e;Id(N,Se,tt),F=Ie}}}if(Zt)throw c=dn,Zt=!1,dn=null,c}function Mr(c,h){var g=h[Ks];g===void 0&&(g=h[Ks]=new Set);var w=c+"__bubble";g.has(w)||(Fd(h,c,2,!1),g.add(w))}function ef(c,h,g){var w=0;h&&(w|=4),Fd(g,c,w,h)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Cl(c){if(!c[Cc]){c[Cc]=!0,r.forEach(function(g){g!=="selectionchange"&&(vg.has(g)||ef(g,!1,c),ef(g,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Cc]||(h[Cc]=!0,ef("selectionchange",!1,h))}}function Fd(c,h,g,w){switch(ml(h)){case 1:var N=Td;break;case 4:N=Dd;break;default:N=_c}g=N.bind(null,h,g,c),N=void 0,!Ne||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),w?N!==void 0?c.addEventListener(h,g,{capture:!0,passive:N}):c.addEventListener(h,g,!0):N!==void 0?c.addEventListener(h,g,{passive:N}):c.addEventListener(h,g,!1)}function Od(c,h,g,w,N){var F=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var X=w.tag;if(X===3||X===4){var Se=w.stateNode.containerInfo;if(Se===N||Se.nodeType===8&&Se.parentNode===N)break;if(X===4)for(X=w.return;X!==null;){var Ie=X.tag;if((Ie===3||Ie===4)&&(Ie=X.stateNode.containerInfo,Ie===N||Ie.nodeType===8&&Ie.parentNode===N))return;X=X.return}for(;Se!==null;){if(X=Ou(Se),X===null)return;if(Ie=X.tag,Ie===5||Ie===6){w=F=X;continue e}Se=Se.parentNode}}w=w.return}cn(function(){var tt=F,kt=we(g),Bt=[];e:{var Lt=i0.get(c);if(Lt!==void 0){var sn=yc,gn=c;switch(c){case"keypress":if(gl(g)===0)break e;case"keydown":case"keyup":sn=Cu;break;case"focusin":gn="focus",sn=Wn;break;case"focusout":gn="blur",sn=Wn;break;case"beforeblur":case"afterblur":sn=Wn;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":sn=Ct;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":sn=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":sn=as;break;case e0:case t0:case n0:sn=ni;break;case r0:sn=xl;break;case"scroll":sn=K;break;case"wheel":sn=Ld;break;case"copy":case"cut":case"paste":sn=Br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":sn=Nu}var yn=(h&4)!==0,Hi=!yn&&c==="scroll",qe=yn?Lt!==null?Lt+"Capture":null:Lt;yn=[];for(var Oe=tt,Je;Oe!==null;){Je=Oe;var Gt=Je.stateNode;if(Je.tag===5&&Gt!==null&&(Je=Gt,qe!==null&&(Gt=Vr(Oe,qe),Gt!=null&&yn.push(Bd(Oe,Gt,Je)))),Hi)break;Oe=Oe.return}0<yn.length&&(Lt=new sn(Lt,gn,null,g,kt),Bt.push({event:Lt,listeners:yn}))}}if((h&7)===0){e:{if(Lt=c==="mouseover"||c==="pointerover",sn=c==="mouseout"||c==="pointerout",Lt&&g!==qt&&(gn=g.relatedTarget||g.fromElement)&&(Ou(gn)||gn[ys]))break e;if((sn||Lt)&&(Lt=kt.window===kt?kt:(Lt=kt.ownerDocument)?Lt.defaultView||Lt.parentWindow:window,sn?(gn=g.relatedTarget||g.toElement,sn=tt,gn=gn?Ou(gn):null,gn!==null&&(Hi=Kt(gn),gn!==Hi||gn.tag!==5&&gn.tag!==6)&&(gn=null)):(sn=null,gn=tt),sn!==gn)){if(yn=Ct,Gt="onMouseLeave",qe="onMouseEnter",Oe="mouse",(c==="pointerout"||c==="pointerover")&&(yn=Nu,Gt="onPointerLeave",qe="onPointerEnter",Oe="pointer"),Hi=sn==null?Lt:Ml(sn),Je=gn==null?Lt:Ml(gn),Lt=new yn(Gt,Oe+"leave",sn,g,kt),Lt.target=Hi,Lt.relatedTarget=Je,Gt=null,Ou(kt)===tt&&(yn=new yn(qe,Oe+"enter",gn,g,kt),yn.target=Je,yn.relatedTarget=Hi,Gt=yn),Hi=Gt,sn&&gn)t:{for(yn=sn,qe=gn,Oe=0,Je=yn;Je;Je=Nl(Je))Oe++;for(Je=0,Gt=qe;Gt;Gt=Nl(Gt))Je++;for(;0<Oe-Je;)yn=Nl(yn),Oe--;for(;0<Je-Oe;)qe=Nl(qe),Je--;for(;Oe--;){if(yn===qe||qe!==null&&yn===qe.alternate)break t;yn=Nl(yn),qe=Nl(qe)}yn=null}else yn=null;sn!==null&&_g(Bt,Lt,sn,yn,!1),gn!==null&&Hi!==null&&_g(Bt,Hi,gn,yn,!0)}}e:{if(Lt=tt?Ml(tt):window,sn=Lt.nodeName&&Lt.nodeName.toLowerCase(),sn==="select"||sn==="input"&&Lt.type==="file")var wn=To;else if(Ao(Lt))if(Qa)wn=ku;else{wn=Iu;var Nn=Ru}else(sn=Lt.nodeName)&&sn.toLowerCase()==="input"&&(Lt.type==="checkbox"||Lt.type==="radio")&&(wn=Al);if(wn&&(wn=wn(c,tt))){Zo(Bt,wn,g,kt);break e}Nn&&Nn(c,Lt,tt),c==="focusout"&&(Nn=Lt._wrapperState)&&Nn.controlled&&Lt.type==="number"&&ct(Lt,"number",Lt.value)}switch(Nn=tt?Ml(tt):window,c){case"focusin":(Ao(Nn)||Nn.contentEditable==="true")&&(eu=Nn,Zh=tt,Tc=null);break;case"focusout":Tc=Zh=eu=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Jp(Bt,g,kt);break;case"selectionchange":if(Sc)break;case"keydown":case"keyup":Jp(Bt,g,kt)}var Ln;if(Ja)e:{switch(c){case"compositionstart":var jn="onCompositionStart";break e;case"compositionend":jn="onCompositionEnd";break e;case"compositionupdate":jn="onCompositionUpdate";break e}jn=void 0}else Ma?Ec(c,g)&&(jn="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(jn="onCompositionStart");jn&&(ha&&g.locale!=="ko"&&(Ma||jn!=="onCompositionStart"?jn==="onCompositionEnd"&&Ma&&(Ln=Cd()):(Ca=kt,$o="value"in Ca?Ca.value:Ca.textContent,Ma=!0)),Nn=tf(tt,jn),0<Nn.length&&(jn=new mi(jn,c,null,g,kt),Bt.push({event:jn,listeners:Nn}),Ln?jn.data=Ln:(Ln=Xo(g),Ln!==null&&(jn.data=Ln)))),(Ln=Xh?fa(c,g):pa(c,g))&&(tt=tf(tt,"onBeforeInput"),0<tt.length&&(kt=new mi("onBeforeInput","beforeinput",null,g,kt),Bt.push({event:kt,listeners:tt}),kt.data=Ln))}kd(Bt,h)})}function Bd(c,h,g){return{instance:c,listener:h,currentTarget:g}}function tf(c,h){for(var g=h+"Capture",w=[];c!==null;){var N=c,F=N.stateNode;N.tag===5&&F!==null&&(N=F,F=Vr(c,g),F!=null&&w.unshift(Bd(c,F,N)),F=Vr(c,h),F!=null&&w.push(Bd(c,F,N))),c=c.return}return w}function Nl(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function _g(c,h,g,w,N){for(var F=h._reactName,X=[];g!==null&&g!==w;){var Se=g,Ie=Se.alternate,tt=Se.stateNode;if(Ie!==null&&Ie===w)break;Se.tag===5&&tt!==null&&(Se=tt,N?(Ie=Vr(g,F),Ie!=null&&X.unshift(Bd(g,Ie,Se))):N||(Ie=Vr(g,F),Ie!=null&&X.push(Bd(g,Ie,Se)))),g=g.return}X.length!==0&&c.push({event:h,listeners:X})}var l2=/\r\n?/g,c2=/\u0000|\uFFFD/g;function yg(c){return(typeof c=="string"?c:""+c).replace(l2,`
`).replace(c2,"")}function nf(c,h,g){if(h=yg(h),yg(c)!==h&&g)throw Error(n(425))}function Nc(){}var Ud=null,Ll=null;function a0(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var o0=typeof setTimeout=="function"?setTimeout:void 0,xg=typeof clearTimeout=="function"?clearTimeout:void 0,bg=typeof Promise=="function"?Promise:void 0,d2=typeof queueMicrotask=="function"?queueMicrotask:typeof bg<"u"?function(c){return bg.resolve(null).then(c).catch(h2)}:o0;function h2(c){setTimeout(function(){throw c})}function u0(c,h){var g=h,w=0;do{var N=g.nextSibling;if(c.removeChild(g),N&&N.nodeType===8)if(g=N.data,g==="/$"){if(w===0){c.removeChild(N),fl(h);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=N}while(g);fl(h)}function Fs(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function Ra(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return c;h--}else g==="/$"&&h++}c=c.previousSibling}return null}var $s=Math.random().toString(36).slice(2),Co="__reactFiber$"+$s,Lc="__reactProps$"+$s,ys="__reactContainer$"+$s,Ks="__reactEvents$"+$s,f2="__reactListeners$"+$s,p2="__reactHandles$"+$s;function Ou(c){var h=c[Co];if(h)return h;for(var g=c.parentNode;g;){if(h=g[ys]||g[Co]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(c=Ra(c);c!==null;){if(g=c[Co])return g;c=Ra(c)}return h}c=g,g=c.parentNode}return null}function Mc(c){return c=c[Co]||c[ys],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Ml(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function jd(c){return c[Lc]||null}var l0=[],tu=-1;function to(c){return{current:c}}function Tr(c){0>tu||(c.current=l0[tu],l0[tu]=null,tu--)}function Nr(c,h){tu++,l0[tu]=c.current,c.current=h}var Bu={},os=to(Bu),Ys=to(!1),Pl=Bu;function Pc(c,h){var g=c.type.contextTypes;if(!g)return Bu;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var N={},F;for(F in g)N[F]=h[F];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=N),N}function Xs(c){return c=c.childContextTypes,c!=null}function rf(){Tr(Ys),Tr(os)}function Eg(c,h,g){if(os.current!==Bu)throw Error(n(168));Nr(os,h),Nr(Ys,g)}function c0(c,h,g){var w=c.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var N in w)if(!(N in h))throw Error(n(108,de(c)||"Unknown",N));return W({},g,w)}function Rl(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Bu,Pl=os.current,Nr(os,c),Nr(Ys,Ys.current),!0}function wg(c,h,g){var w=c.stateNode;if(!w)throw Error(n(169));g?(c=c0(c,h,Pl),w.__reactInternalMemoizedMergedChildContext=c,Tr(Ys),Tr(os),Nr(os,c)):Tr(Ys),Nr(Ys,g)}var nu=null,zd=!1,x=!1;function A(c){nu===null?nu=[c]:nu.push(c)}function P(c){zd=!0,A(c)}function j(){if(!x&&nu!==null){x=!0;var c=0,h=On;try{var g=nu;for(On=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}nu=null,zd=!1}catch(N){throw nu!==null&&(nu=nu.slice(c+1)),gr(Ue,j),N}finally{On=h,x=!1}}return null}var $=[],J=0,te=null,ie=0,ue=[],me=0,Re=null,We=1,ve="";function Fe(c,h){$[J++]=ie,$[J++]=te,te=c,ie=h}function He(c,h,g){ue[me++]=We,ue[me++]=ve,ue[me++]=Re,Re=c;var w=We;c=ve;var N=32-It(w)-1;w&=~(1<<N),g+=1;var F=32-It(h)+N;if(30<F){var X=N-N%5;F=(w&(1<<X)-1).toString(32),w>>=X,N-=X,We=1<<32-It(h)+N|g<<N|w,ve=F+c}else We=1<<F|g<<N|w,ve=c}function dt(c){c.return!==null&&(Fe(c,1),He(c,1,0))}function $e(c){for(;c===te;)te=$[--J],$[J]=null,ie=$[--J],$[J]=null;for(;c===Re;)Re=ue[--me],ue[me]=null,ve=ue[--me],ue[me]=null,We=ue[--me],ue[me]=null}var at=null,ut=null,_t=!1,wt=null;function En(c,h){var g=Ro(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=c,h=c.deletions,h===null?(c.deletions=[g],c.flags|=16):h.push(g)}function an(c,h){switch(c.tag){case 5:var g=c.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,at=c,ut=Fs(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,at=c,ut=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=Re!==null?{id:We,overflow:ve}:null,c.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=Ro(18,null,null,0),g.stateNode=h,g.return=c,c.child=g,at=c,ut=null,!0):!1;default:return!1}}function Gn(c){return(c.mode&1)!==0&&(c.flags&128)===0}function pn(c){if(_t){var h=ut;if(h){var g=h;if(!an(c,h)){if(Gn(c))throw Error(n(418));h=Fs(g.nextSibling);var w=at;h&&an(c,h)?En(w,g):(c.flags=c.flags&-4097|2,_t=!1,at=c)}}else{if(Gn(c))throw Error(n(418));c.flags=c.flags&-4097|2,_t=!1,at=c}}}function or(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;at=c}function oi(c){if(c!==at)return!1;if(!_t)return or(c),_t=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!a0(c.type,c.memoizedProps)),h&&(h=ut)){if(Gn(c))throw Kn(),Error(n(418));for(;h;)En(c,h),h=Fs(h.nextSibling)}if(or(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(h===0){ut=Fs(c.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}c=c.nextSibling}ut=null}}else ut=at?Fs(c.stateNode.nextSibling):null;return!0}function Kn(){for(var c=ut;c;)c=Fs(c.nextSibling)}function on(){ut=at=null,_t=!1}function $t(c){wt===null?wt=[c]:wt.push(c)}var vi=L.ReactCurrentBatchConfig;function Bn(c,h,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var w=g.stateNode}if(!w)throw Error(n(147,c));var N=w,F=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===F?h.ref:(h=function(X){var Se=N.refs;X===null?delete Se[F]:Se[F]=X},h._stringRef=F,h)}if(typeof c!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,c))}return c}function rr(c,h){throw c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function Ur(c){var h=c._init;return h(c._payload)}function Yi(c){function h(qe,Oe){if(c){var Je=qe.deletions;Je===null?(qe.deletions=[Oe],qe.flags|=16):Je.push(Oe)}}function g(qe,Oe){if(!c)return null;for(;Oe!==null;)h(qe,Oe),Oe=Oe.sibling;return null}function w(qe,Oe){for(qe=new Map;Oe!==null;)Oe.key!==null?qe.set(Oe.key,Oe):qe.set(Oe.index,Oe),Oe=Oe.sibling;return qe}function N(qe,Oe){return qe=Hc(qe,Oe),qe.index=0,qe.sibling=null,qe}function F(qe,Oe,Je){return qe.index=Je,c?(Je=qe.alternate,Je!==null?(Je=Je.index,Je<Oe?(qe.flags|=2,Oe):Je):(qe.flags|=2,Oe)):(qe.flags|=1048576,Oe)}function X(qe){return c&&qe.alternate===null&&(qe.flags|=2),qe}function Se(qe,Oe,Je,Gt){return Oe===null||Oe.tag!==6?(Oe=V2(Je,qe.mode,Gt),Oe.return=qe,Oe):(Oe=N(Oe,Je),Oe.return=qe,Oe)}function Ie(qe,Oe,Je,Gt){var wn=Je.type;return wn===B?kt(qe,Oe,Je.props.children,Gt,Je.key):Oe!==null&&(Oe.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===he&&Ur(wn)===Oe.type)?(Gt=N(Oe,Je.props),Gt.ref=Bn(qe,Oe,Je),Gt.return=qe,Gt):(Gt=Vg(Je.type,Je.key,Je.props,null,qe.mode,Gt),Gt.ref=Bn(qe,Oe,Je),Gt.return=qe,Gt)}function tt(qe,Oe,Je,Gt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Je.containerInfo||Oe.stateNode.implementation!==Je.implementation?(Oe=W2(Je,qe.mode,Gt),Oe.return=qe,Oe):(Oe=N(Oe,Je.children||[]),Oe.return=qe,Oe)}function kt(qe,Oe,Je,Gt,wn){return Oe===null||Oe.tag!==7?(Oe=Yd(Je,qe.mode,Gt,wn),Oe.return=qe,Oe):(Oe=N(Oe,Je),Oe.return=qe,Oe)}function Bt(qe,Oe,Je){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Oe=V2(""+Oe,qe.mode,Je),Oe.return=qe,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case I:return Je=Vg(Oe.type,Oe.key,Oe.props,null,qe.mode,Je),Je.ref=Bn(qe,null,Oe),Je.return=qe,Je;case O:return Oe=W2(Oe,qe.mode,Je),Oe.return=qe,Oe;case he:var Gt=Oe._init;return Bt(qe,Gt(Oe._payload),Je)}if(zt(Oe)||xe(Oe))return Oe=Yd(Oe,qe.mode,Je,null),Oe.return=qe,Oe;rr(qe,Oe)}return null}function Lt(qe,Oe,Je,Gt){var wn=Oe!==null?Oe.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number")return wn!==null?null:Se(qe,Oe,""+Je,Gt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case I:return Je.key===wn?Ie(qe,Oe,Je,Gt):null;case O:return Je.key===wn?tt(qe,Oe,Je,Gt):null;case he:return wn=Je._init,Lt(qe,Oe,wn(Je._payload),Gt)}if(zt(Je)||xe(Je))return wn!==null?null:kt(qe,Oe,Je,Gt,null);rr(qe,Je)}return null}function sn(qe,Oe,Je,Gt,wn){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number")return qe=qe.get(Je)||null,Se(Oe,qe,""+Gt,wn);if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case I:return qe=qe.get(Gt.key===null?Je:Gt.key)||null,Ie(Oe,qe,Gt,wn);case O:return qe=qe.get(Gt.key===null?Je:Gt.key)||null,tt(Oe,qe,Gt,wn);case he:var Nn=Gt._init;return sn(qe,Oe,Je,Nn(Gt._payload),wn)}if(zt(Gt)||xe(Gt))return qe=qe.get(Je)||null,kt(Oe,qe,Gt,wn,null);rr(Oe,Gt)}return null}function gn(qe,Oe,Je,Gt){for(var wn=null,Nn=null,Ln=Oe,jn=Oe=0,As=null;Ln!==null&&jn<Je.length;jn++){Ln.index>jn?(As=Ln,Ln=null):As=Ln.sibling;var Ar=Lt(qe,Ln,Je[jn],Gt);if(Ar===null){Ln===null&&(Ln=As);break}c&&Ln&&Ar.alternate===null&&h(qe,Ln),Oe=F(Ar,Oe,jn),Nn===null?wn=Ar:Nn.sibling=Ar,Nn=Ar,Ln=As}if(jn===Je.length)return g(qe,Ln),_t&&Fe(qe,jn),wn;if(Ln===null){for(;jn<Je.length;jn++)Ln=Bt(qe,Je[jn],Gt),Ln!==null&&(Oe=F(Ln,Oe,jn),Nn===null?wn=Ln:Nn.sibling=Ln,Nn=Ln);return _t&&Fe(qe,jn),wn}for(Ln=w(qe,Ln);jn<Je.length;jn++)As=sn(Ln,qe,jn,Je[jn],Gt),As!==null&&(c&&As.alternate!==null&&Ln.delete(As.key===null?jn:As.key),Oe=F(As,Oe,jn),Nn===null?wn=As:Nn.sibling=As,Nn=As);return c&&Ln.forEach(function(Vc){return h(qe,Vc)}),_t&&Fe(qe,jn),wn}function yn(qe,Oe,Je,Gt){var wn=xe(Je);if(typeof wn!="function")throw Error(n(150));if(Je=wn.call(Je),Je==null)throw Error(n(151));for(var Nn=wn=null,Ln=Oe,jn=Oe=0,As=null,Ar=Je.next();Ln!==null&&!Ar.done;jn++,Ar=Je.next()){Ln.index>jn?(As=Ln,Ln=null):As=Ln.sibling;var Vc=Lt(qe,Ln,Ar.value,Gt);if(Vc===null){Ln===null&&(Ln=As);break}c&&Ln&&Vc.alternate===null&&h(qe,Ln),Oe=F(Vc,Oe,jn),Nn===null?wn=Vc:Nn.sibling=Vc,Nn=Vc,Ln=As}if(Ar.done)return g(qe,Ln),_t&&Fe(qe,jn),wn;if(Ln===null){for(;!Ar.done;jn++,Ar=Je.next())Ar=Bt(qe,Ar.value,Gt),Ar!==null&&(Oe=F(Ar,Oe,jn),Nn===null?wn=Ar:Nn.sibling=Ar,Nn=Ar);return _t&&Fe(qe,jn),wn}for(Ln=w(qe,Ln);!Ar.done;jn++,Ar=Je.next())Ar=sn(Ln,qe,jn,Ar.value,Gt),Ar!==null&&(c&&Ar.alternate!==null&&Ln.delete(Ar.key===null?jn:Ar.key),Oe=F(Ar,Oe,jn),Nn===null?wn=Ar:Nn.sibling=Ar,Nn=Ar);return c&&Ln.forEach(function(b8){return h(qe,b8)}),_t&&Fe(qe,jn),wn}function Hi(qe,Oe,Je,Gt){if(typeof Je=="object"&&Je!==null&&Je.type===B&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case I:e:{for(var wn=Je.key,Nn=Oe;Nn!==null;){if(Nn.key===wn){if(wn=Je.type,wn===B){if(Nn.tag===7){g(qe,Nn.sibling),Oe=N(Nn,Je.props.children),Oe.return=qe,qe=Oe;break e}}else if(Nn.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===he&&Ur(wn)===Nn.type){g(qe,Nn.sibling),Oe=N(Nn,Je.props),Oe.ref=Bn(qe,Nn,Je),Oe.return=qe,qe=Oe;break e}g(qe,Nn);break}else h(qe,Nn);Nn=Nn.sibling}Je.type===B?(Oe=Yd(Je.props.children,qe.mode,Gt,Je.key),Oe.return=qe,qe=Oe):(Gt=Vg(Je.type,Je.key,Je.props,null,qe.mode,Gt),Gt.ref=Bn(qe,Oe,Je),Gt.return=qe,qe=Gt)}return X(qe);case O:e:{for(Nn=Je.key;Oe!==null;){if(Oe.key===Nn)if(Oe.tag===4&&Oe.stateNode.containerInfo===Je.containerInfo&&Oe.stateNode.implementation===Je.implementation){g(qe,Oe.sibling),Oe=N(Oe,Je.children||[]),Oe.return=qe,qe=Oe;break e}else{g(qe,Oe);break}else h(qe,Oe);Oe=Oe.sibling}Oe=W2(Je,qe.mode,Gt),Oe.return=qe,qe=Oe}return X(qe);case he:return Nn=Je._init,Hi(qe,Oe,Nn(Je._payload),Gt)}if(zt(Je))return gn(qe,Oe,Je,Gt);if(xe(Je))return yn(qe,Oe,Je,Gt);rr(qe,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"?(Je=""+Je,Oe!==null&&Oe.tag===6?(g(qe,Oe.sibling),Oe=N(Oe,Je),Oe.return=qe,qe=Oe):(g(qe,Oe),Oe=V2(Je,qe.mode,Gt),Oe.return=qe,qe=Oe),X(qe)):g(qe,Oe)}return Hi}var Ni=Yi(!0),ri=Yi(!1),ji=to(null),Xi=null,Yr=null,cr=null;function yr(){cr=Yr=Xi=null}function Xr(c){var h=ji.current;Tr(ji),c._currentValue=h}function xr(c,h,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),c===g)break;c=c.return}}function ui(c,h){Xi=c,cr=Yr=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(ka=!0),c.firstContext=null)}function li(c){var h=c._currentValue;if(cr!==c)if(c={context:c,memoizedValue:h,next:null},Yr===null){if(Xi===null)throw Error(n(308));Yr=c,Xi.dependencies={lanes:0,firstContext:c}}else Yr=Yr.next=c;return h}var Pr=null;function xs(c){Pr===null?Pr=[c]:Pr.push(c)}function Lr(c,h,g,w){var N=h.interleaved;return N===null?(g.next=g,xs(h)):(g.next=N.next,N.next=g),h.interleaved=g,Rr(c,w)}function Rr(c,h){c.lanes|=h;var g=c.alternate;for(g!==null&&(g.lanes|=h),g=c,c=c.return;c!==null;)c.childLanes|=h,g=c.alternate,g!==null&&(g.childLanes|=h),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Li=!1;function us(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zs(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function _i(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function yi(c,h,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(br&2)!==0){var N=w.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),w.pending=h,Rr(c,g)}return N=w.interleaved,N===null?(h.next=h,xs(w)):(h.next=N.next,N.next=h),w.interleaved=h,Rr(c,g)}function bs(c,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var w=h.lanes;w&=c.pendingLanes,g|=w,h.lanes=g,fr(c,g)}}function Ir(c,h){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var N=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var X={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};F===null?N=F=X:F=F.next=X,g=g.next}while(g!==null);F===null?N=F=h:F=F.next=h}else N=F=h;g={baseState:w.baseState,firstBaseUpdate:N,lastBaseUpdate:F,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=h}function Es(c,h,g,w){var N=c.updateQueue;Li=!1;var F=N.firstBaseUpdate,X=N.lastBaseUpdate,Se=N.shared.pending;if(Se!==null){N.shared.pending=null;var Ie=Se,tt=Ie.next;Ie.next=null,X===null?F=tt:X.next=tt,X=Ie;var kt=c.alternate;kt!==null&&(kt=kt.updateQueue,Se=kt.lastBaseUpdate,Se!==X&&(Se===null?kt.firstBaseUpdate=tt:Se.next=tt,kt.lastBaseUpdate=Ie))}if(F!==null){var Bt=N.baseState;X=0,kt=tt=Ie=null,Se=F;do{var Lt=Se.lane,sn=Se.eventTime;if((w&Lt)===Lt){kt!==null&&(kt=kt.next={eventTime:sn,lane:0,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null});e:{var gn=c,yn=Se;switch(Lt=h,sn=g,yn.tag){case 1:if(gn=yn.payload,typeof gn=="function"){Bt=gn.call(sn,Bt,Lt);break e}Bt=gn;break e;case 3:gn.flags=gn.flags&-65537|128;case 0:if(gn=yn.payload,Lt=typeof gn=="function"?gn.call(sn,Bt,Lt):gn,Lt==null)break e;Bt=W({},Bt,Lt);break e;case 2:Li=!0}}Se.callback!==null&&Se.lane!==0&&(c.flags|=64,Lt=N.effects,Lt===null?N.effects=[Se]:Lt.push(Se))}else sn={eventTime:sn,lane:Lt,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},kt===null?(tt=kt=sn,Ie=Bt):kt=kt.next=sn,X|=Lt;if(Se=Se.next,Se===null){if(Se=N.shared.pending,Se===null)break;Lt=Se,Se=Lt.next,Lt.next=null,N.lastBaseUpdate=Lt,N.shared.pending=null}}while(!0);if(kt===null&&(Ie=Bt),N.baseState=Ie,N.firstBaseUpdate=tt,N.lastBaseUpdate=kt,h=N.shared.interleaved,h!==null){N=h;do X|=N.lane,N=N.next;while(N!==h)}else F===null&&(N.shared.lanes=0);Gd|=X,c.lanes=X,c.memoizedState=Bt}}function Ia(c,h,g){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var w=c[h],N=w.callback;if(N!==null){if(w.callback=null,w=g,typeof N!="function")throw Error(n(191,N));N.call(w)}}}var no={},Zi=to(no),xi=to(no),Uu=to(no);function ru(c){if(c===no)throw Error(n(174));return c}function Rc(c,h){switch(Nr(Uu,h),Nr(xi,c),Nr(Zi,no),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Ce(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=Ce(h,c)}Tr(Zi),Nr(Zi,h)}function No(){Tr(Zi),Tr(xi),Tr(Uu)}function Ag(c){ru(Uu.current);var h=ru(Zi.current),g=Ce(h,c.type);h!==g&&(Nr(xi,c),Nr(Zi,g))}function d0(c){xi.current===c&&(Tr(Zi),Tr(xi))}var Wr=to(0);function ro(c){for(var h=c;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var h0=[];function f0(){for(var c=0;c<h0.length;c++)h0[c]._workInProgressVersionPrimary=null;h0.length=0}var sf=L.ReactCurrentDispatcher,af=L.ReactCurrentBatchConfig,Lo=0,Zr=null,Mi=null,bi=null,Ic=!1,iu=!1,kc=0,m2=0;function zi(){throw Error(n(321))}function of(c,h){if(h===null)return!1;for(var g=0;g<h.length&&g<c.length;g++)if(!si(c[g],h[g]))return!1;return!0}function Hd(c,h,g,w,N,F){if(Lo=F,Zr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,sf.current=c===null||c.memoizedState===null?$F:KF,c=g(w,N),iu){F=0;do{if(iu=!1,kc=0,25<=F)throw Error(n(301));F+=1,bi=Mi=null,h.updateQueue=null,sf.current=YF,c=g(w,N)}while(iu)}if(sf.current=Ng,h=Mi!==null&&Mi.next!==null,Lo=0,bi=Mi=Zr=null,Ic=!1,h)throw Error(n(300));return c}function Mo(){var c=kc!==0;return kc=0,c}function io(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?Zr.memoizedState=bi=c:bi=bi.next=c,bi}function ma(){if(Mi===null){var c=Zr.alternate;c=c!==null?c.memoizedState:null}else c=Mi.next;var h=bi===null?Zr.memoizedState:bi.next;if(h!==null)bi=h,Mi=c;else{if(c===null)throw Error(n(310));Mi=c,c={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},bi===null?Zr.memoizedState=bi=c:bi=bi.next=c}return bi}function Vd(c,h){return typeof h=="function"?h(c):h}function uf(c){var h=ma(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=c;var w=Mi,N=w.baseQueue,F=g.pending;if(F!==null){if(N!==null){var X=N.next;N.next=F.next,F.next=X}w.baseQueue=N=F,g.pending=null}if(N!==null){F=N.next,w=w.baseState;var Se=X=null,Ie=null,tt=F;do{var kt=tt.lane;if((Lo&kt)===kt)Ie!==null&&(Ie=Ie.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),w=tt.hasEagerState?tt.eagerState:c(w,tt.action);else{var Bt={lane:kt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};Ie===null?(Se=Ie=Bt,X=w):Ie=Ie.next=Bt,Zr.lanes|=kt,Gd|=kt}tt=tt.next}while(tt!==null&&tt!==F);Ie===null?X=w:Ie.next=Se,si(w,h.memoizedState)||(ka=!0),h.memoizedState=w,h.baseState=X,h.baseQueue=Ie,g.lastRenderedState=w}if(c=g.interleaved,c!==null){N=c;do F=N.lane,Zr.lanes|=F,Gd|=F,N=N.next;while(N!==c)}else N===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function ju(c){var h=ma(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=c;var w=g.dispatch,N=g.pending,F=h.memoizedState;if(N!==null){g.pending=null;var X=N=N.next;do F=c(F,X.action),X=X.next;while(X!==N);si(F,h.memoizedState)||(ka=!0),h.memoizedState=F,h.baseQueue===null&&(h.baseState=F),g.lastRenderedState=F}return[F,w]}function Sg(){}function p0(c,h){var g=Zr,w=ma(),N=h(),F=!si(w.memoizedState,N);if(F&&(w.memoizedState=N,ka=!0),w=w.queue,df(Dg.bind(null,g,w,c),[c]),w.getSnapshot!==h||F||bi!==null&&bi.memoizedState.tag&1){if(g.flags|=2048,ga(9,m0.bind(null,g,w,N,h),void 0,null),ws===null)throw Error(n(349));(Lo&30)!==0||Tg(g,h,N)}return N}function Tg(c,h,g){c.flags|=16384,c={getSnapshot:h,value:g},h=Zr.updateQueue,h===null?(h={lastEffect:null,stores:null},Zr.updateQueue=h,h.stores=[c]):(g=h.stores,g===null?h.stores=[c]:g.push(c))}function m0(c,h,g,w){h.value=g,h.getSnapshot=w,Fc(h)&&lf(c)}function Dg(c,h,g){return g(function(){Fc(h)&&lf(c)})}function Fc(c){var h=c.getSnapshot;c=c.value;try{var g=h();return!si(c,g)}catch{return!0}}function lf(c){var h=Rr(c,1);h!==null&&lu(h,c,1,-1)}function Wd(c){var h=io();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:c},h.queue=c,c=c.dispatch=qF.bind(null,Zr,c),[h.memoizedState,c]}function ga(c,h,g,w){return c={tag:c,create:h,destroy:g,deps:w,next:null},h=Zr.updateQueue,h===null?(h={lastEffect:null,stores:null},Zr.updateQueue=h,h.lastEffect=c.next=c):(g=h.lastEffect,g===null?h.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,h.lastEffect=c)),c}function su(){return ma().memoizedState}function so(c,h,g,w){var N=io();Zr.flags|=c,N.memoizedState=ga(1|h,g,void 0,w===void 0?null:w)}function Il(c,h,g,w){var N=ma();w=w===void 0?null:w;var F=void 0;if(Mi!==null){var X=Mi.memoizedState;if(F=X.destroy,w!==null&&of(w,X.deps)){N.memoizedState=ga(h,g,F,w);return}}Zr.flags|=c,N.memoizedState=ga(1|h,g,F,w)}function cf(c,h){return so(8390656,8,c,h)}function df(c,h){return Il(2048,8,c,h)}function Cg(c,h){return Il(4,2,c,h)}function hf(c,h){return Il(4,4,c,h)}function ff(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function vS(c,h,g){return g=g!=null?g.concat([c]):null,Il(4,4,ff.bind(null,h,c),g)}function g2(){}function _S(c,h){var g=ma();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&of(h,w[1])?w[0]:(g.memoizedState=[c,h],c)}function yS(c,h){var g=ma();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&of(h,w[1])?w[0]:(c=c(),g.memoizedState=[c,h],c)}function xS(c,h,g){return(Lo&21)===0?(c.baseState&&(c.baseState=!1,ka=!0),c.memoizedState=g):(si(g,h)||(g=Bi(),Zr.lanes|=g,Gd|=g,c.baseState=!0),h)}function WF(c,h){var g=On;On=g!==0&&4>g?g:4,c(!0);var w=af.transition;af.transition={};try{c(!1),h()}finally{On=g,af.transition=w}}function bS(){return ma().memoizedState}function GF(c,h,g){var w=jc(c);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},ES(c))wS(h,g);else if(g=Lr(c,h,g,w),g!==null){var N=_a();lu(g,c,w,N),AS(g,h,w)}}function qF(c,h,g){var w=jc(c),N={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(ES(c))wS(h,N);else{var F=c.alternate;if(c.lanes===0&&(F===null||F.lanes===0)&&(F=h.lastRenderedReducer,F!==null))try{var X=h.lastRenderedState,Se=F(X,g);if(N.hasEagerState=!0,N.eagerState=Se,si(Se,X)){var Ie=h.interleaved;Ie===null?(N.next=N,xs(h)):(N.next=Ie.next,Ie.next=N),h.interleaved=N;return}}catch{}g=Lr(c,h,N,w),g!==null&&(N=_a(),lu(g,c,w,N),AS(g,h,w))}}function ES(c){var h=c.alternate;return c===Zr||h!==null&&h===Zr}function wS(c,h){iu=Ic=!0;var g=c.pending;g===null?h.next=h:(h.next=g.next,g.next=h),c.pending=h}function AS(c,h,g){if((g&4194240)!==0){var w=h.lanes;w&=c.pendingLanes,g|=w,h.lanes=g,fr(c,g)}}var Ng={readContext:li,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useInsertionEffect:zi,useLayoutEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useMutableSource:zi,useSyncExternalStore:zi,useId:zi,unstable_isNewReconciler:!1},$F={readContext:li,useCallback:function(c,h){return io().memoizedState=[c,h===void 0?null:h],c},useContext:li,useEffect:cf,useImperativeHandle:function(c,h,g){return g=g!=null?g.concat([c]):null,so(4194308,4,ff.bind(null,h,c),g)},useLayoutEffect:function(c,h){return so(4194308,4,c,h)},useInsertionEffect:function(c,h){return so(4,2,c,h)},useMemo:function(c,h){var g=io();return h=h===void 0?null:h,c=c(),g.memoizedState=[c,h],c},useReducer:function(c,h,g){var w=io();return h=g!==void 0?g(h):h,w.memoizedState=w.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},w.queue=c,c=c.dispatch=GF.bind(null,Zr,c),[w.memoizedState,c]},useRef:function(c){var h=io();return c={current:c},h.memoizedState=c},useState:Wd,useDebugValue:g2,useDeferredValue:function(c){return io().memoizedState=c},useTransition:function(){var c=Wd(!1),h=c[0];return c=WF.bind(null,c[1]),io().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,g){var w=Zr,N=io();if(_t){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),ws===null)throw Error(n(349));(Lo&30)!==0||Tg(w,h,g)}N.memoizedState=g;var F={value:g,getSnapshot:h};return N.queue=F,cf(Dg.bind(null,w,F,c),[c]),w.flags|=2048,ga(9,m0.bind(null,w,F,g,h),void 0,null),g},useId:function(){var c=io(),h=ws.identifierPrefix;if(_t){var g=ve,w=We;g=(w&~(1<<32-It(w)-1)).toString(32)+g,h=":"+h+"R"+g,g=kc++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=m2++,h=":"+h+"r"+g.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},KF={readContext:li,useCallback:_S,useContext:li,useEffect:df,useImperativeHandle:vS,useInsertionEffect:Cg,useLayoutEffect:hf,useMemo:yS,useReducer:uf,useRef:su,useState:function(){return uf(Vd)},useDebugValue:g2,useDeferredValue:function(c){var h=ma();return xS(h,Mi.memoizedState,c)},useTransition:function(){var c=uf(Vd)[0],h=ma().memoizedState;return[c,h]},useMutableSource:Sg,useSyncExternalStore:p0,useId:bS,unstable_isNewReconciler:!1},YF={readContext:li,useCallback:_S,useContext:li,useEffect:df,useImperativeHandle:vS,useInsertionEffect:Cg,useLayoutEffect:hf,useMemo:yS,useReducer:ju,useRef:su,useState:function(){return ju(Vd)},useDebugValue:g2,useDeferredValue:function(c){var h=ma();return Mi===null?h.memoizedState=c:xS(h,Mi.memoizedState,c)},useTransition:function(){var c=ju(Vd)[0],h=ma().memoizedState;return[c,h]},useMutableSource:Sg,useSyncExternalStore:p0,useId:bS,unstable_isNewReconciler:!1};function au(c,h){if(c&&c.defaultProps){h=W({},h),c=c.defaultProps;for(var g in c)h[g]===void 0&&(h[g]=c[g]);return h}return h}function v2(c,h,g,w){h=c.memoizedState,g=g(w,h),g=g==null?h:W({},h,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Lg={isMounted:function(c){return(c=c._reactInternals)?Kt(c)===c:!1},enqueueSetState:function(c,h,g){c=c._reactInternals;var w=_a(),N=jc(c),F=_i(w,N);F.payload=h,g!=null&&(F.callback=g),h=yi(c,F,N),h!==null&&(lu(h,c,N,w),bs(h,c,N))},enqueueReplaceState:function(c,h,g){c=c._reactInternals;var w=_a(),N=jc(c),F=_i(w,N);F.tag=1,F.payload=h,g!=null&&(F.callback=g),h=yi(c,F,N),h!==null&&(lu(h,c,N,w),bs(h,c,N))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var g=_a(),w=jc(c),N=_i(g,w);N.tag=2,h!=null&&(N.callback=h),h=yi(c,N,w),h!==null&&(lu(h,c,w,g),bs(h,c,w))}};function SS(c,h,g,w,N,F,X){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,F,X):h.prototype&&h.prototype.isPureReactComponent?!qs(g,w)||!qs(N,F):!0}function TS(c,h,g){var w=!1,N=Bu,F=h.contextType;return typeof F=="object"&&F!==null?F=li(F):(N=Xs(h)?Pl:os.current,w=h.contextTypes,F=(w=w!=null)?Pc(c,N):Bu),h=new h(g,F),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Lg,c.stateNode=h,h._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=N,c.__reactInternalMemoizedMaskedChildContext=F),h}function DS(c,h,g,w){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,w),h.state!==c&&Lg.enqueueReplaceState(h,h.state,null)}function _2(c,h,g,w){var N=c.stateNode;N.props=g,N.state=c.memoizedState,N.refs={},us(c);var F=h.contextType;typeof F=="object"&&F!==null?N.context=li(F):(F=Xs(h)?Pl:os.current,N.context=Pc(c,F)),N.state=c.memoizedState,F=h.getDerivedStateFromProps,typeof F=="function"&&(v2(c,h,F,g),N.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(h=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),h!==N.state&&Lg.enqueueReplaceState(N,N.state,null),Es(c,g,N,w),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308)}function pf(c,h){try{var g="",w=h;do g+=_e(w),w=w.return;while(w);var N=g}catch(F){N=`
Error generating stack: `+F.message+`
`+F.stack}return{value:c,source:h,stack:N,digest:null}}function y2(c,h,g){return{value:c,source:null,stack:g??null,digest:h??null}}function x2(c,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var XF=typeof WeakMap=="function"?WeakMap:Map;function CS(c,h,g){g=_i(-1,g),g.tag=3,g.payload={element:null};var w=h.value;return g.callback=function(){Og||(Og=!0,k2=w),x2(c,h)},g}function NS(c,h,g){g=_i(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var N=h.value;g.payload=function(){return w(N)},g.callback=function(){x2(c,h)}}var F=c.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(g.callback=function(){x2(c,h),typeof w!="function"&&(Bc===null?Bc=new Set([this]):Bc.add(this));var X=h.stack;this.componentDidCatch(h.value,{componentStack:X!==null?X:""})}),g}function LS(c,h,g){var w=c.pingCache;if(w===null){w=c.pingCache=new XF;var N=new Set;w.set(h,N)}else N=w.get(h),N===void 0&&(N=new Set,w.set(h,N));N.has(g)||(N.add(g),c=c8.bind(null,c,h,g),h.then(c,c))}function MS(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function PS(c,h,g,w,N){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=_i(-1,1),h.tag=2,yi(g,h,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=N,c)}var ZF=L.ReactCurrentOwner,ka=!1;function va(c,h,g,w){h.child=c===null?ri(h,null,g,w):Ni(h,c.child,g,w)}function RS(c,h,g,w,N){g=g.render;var F=h.ref;return ui(h,N),w=Hd(c,h,g,w,F,N),g=Mo(),c!==null&&!ka?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~N,kl(c,h,N)):(_t&&g&&dt(h),h.flags|=1,va(c,h,w,N),h.child)}function IS(c,h,g,w,N){if(c===null){var F=g.type;return typeof F=="function"&&!H2(F)&&F.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=F,kS(c,h,F,w,N)):(c=Vg(g.type,null,w,h,h.mode,N),c.ref=h.ref,c.return=h,h.child=c)}if(F=c.child,(c.lanes&N)===0){var X=F.memoizedProps;if(g=g.compare,g=g!==null?g:qs,g(X,w)&&c.ref===h.ref)return kl(c,h,N)}return h.flags|=1,c=Hc(F,w),c.ref=h.ref,c.return=h,h.child=c}function kS(c,h,g,w,N){if(c!==null){var F=c.memoizedProps;if(qs(F,w)&&c.ref===h.ref)if(ka=!1,h.pendingProps=w=F,(c.lanes&N)!==0)(c.flags&131072)!==0&&(ka=!0);else return h.lanes=c.lanes,kl(c,h,N)}return b2(c,h,g,w,N)}function FS(c,h,g){var w=h.pendingProps,N=w.children,F=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(gf,ao),ao|=g;else{if((g&1073741824)===0)return c=F!==null?F.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,Nr(gf,ao),ao|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=F!==null?F.baseLanes:g,Nr(gf,ao),ao|=w}else F!==null?(w=F.baseLanes|g,h.memoizedState=null):w=g,Nr(gf,ao),ao|=w;return va(c,h,N,g),h.child}function OS(c,h){var g=h.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function b2(c,h,g,w,N){var F=Xs(g)?Pl:os.current;return F=Pc(h,F),ui(h,N),g=Hd(c,h,g,w,F,N),w=Mo(),c!==null&&!ka?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~N,kl(c,h,N)):(_t&&w&&dt(h),h.flags|=1,va(c,h,g,N),h.child)}function BS(c,h,g,w,N){if(Xs(g)){var F=!0;Rl(h)}else F=!1;if(ui(h,N),h.stateNode===null)Pg(c,h),TS(h,g,w),_2(h,g,w,N),w=!0;else if(c===null){var X=h.stateNode,Se=h.memoizedProps;X.props=Se;var Ie=X.context,tt=g.contextType;typeof tt=="object"&&tt!==null?tt=li(tt):(tt=Xs(g)?Pl:os.current,tt=Pc(h,tt));var kt=g.getDerivedStateFromProps,Bt=typeof kt=="function"||typeof X.getSnapshotBeforeUpdate=="function";Bt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(Se!==w||Ie!==tt)&&DS(h,X,w,tt),Li=!1;var Lt=h.memoizedState;X.state=Lt,Es(h,w,X,N),Ie=h.memoizedState,Se!==w||Lt!==Ie||Ys.current||Li?(typeof kt=="function"&&(v2(h,g,kt,w),Ie=h.memoizedState),(Se=Li||SS(h,g,Se,w,Lt,Ie,tt))?(Bt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(h.flags|=4194308)):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Ie),X.props=w,X.state=Ie,X.context=tt,w=Se):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{X=h.stateNode,Zs(c,h),Se=h.memoizedProps,tt=h.type===h.elementType?Se:au(h.type,Se),X.props=tt,Bt=h.pendingProps,Lt=X.context,Ie=g.contextType,typeof Ie=="object"&&Ie!==null?Ie=li(Ie):(Ie=Xs(g)?Pl:os.current,Ie=Pc(h,Ie));var sn=g.getDerivedStateFromProps;(kt=typeof sn=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(Se!==Bt||Lt!==Ie)&&DS(h,X,w,Ie),Li=!1,Lt=h.memoizedState,X.state=Lt,Es(h,w,X,N);var gn=h.memoizedState;Se!==Bt||Lt!==gn||Ys.current||Li?(typeof sn=="function"&&(v2(h,g,sn,w),gn=h.memoizedState),(tt=Li||SS(h,g,tt,w,Lt,gn,Ie)||!1)?(kt||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(w,gn,Ie),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(w,gn,Ie)),typeof X.componentDidUpdate=="function"&&(h.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof X.componentDidUpdate!="function"||Se===c.memoizedProps&&Lt===c.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||Se===c.memoizedProps&&Lt===c.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=gn),X.props=w,X.state=gn,X.context=Ie,w=tt):(typeof X.componentDidUpdate!="function"||Se===c.memoizedProps&&Lt===c.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||Se===c.memoizedProps&&Lt===c.memoizedState||(h.flags|=1024),w=!1)}return E2(c,h,g,w,F,N)}function E2(c,h,g,w,N,F){OS(c,h);var X=(h.flags&128)!==0;if(!w&&!X)return N&&wg(h,g,!1),kl(c,h,F);w=h.stateNode,ZF.current=h;var Se=X&&typeof g.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,c!==null&&X?(h.child=Ni(h,c.child,null,F),h.child=Ni(h,null,Se,F)):va(c,h,Se,F),h.memoizedState=w.state,N&&wg(h,g,!0),h.child}function US(c){var h=c.stateNode;h.pendingContext?Eg(c,h.pendingContext,h.pendingContext!==h.context):h.context&&Eg(c,h.context,!1),Rc(c,h.containerInfo)}function jS(c,h,g,w,N){return on(),$t(N),h.flags|=256,va(c,h,g,w),h.child}var w2={dehydrated:null,treeContext:null,retryLane:0};function A2(c){return{baseLanes:c,cachePool:null,transitions:null}}function zS(c,h,g){var w=h.pendingProps,N=Wr.current,F=!1,X=(h.flags&128)!==0,Se;if((Se=X)||(Se=c!==null&&c.memoizedState===null?!1:(N&2)!==0),Se?(F=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(N|=1),Nr(Wr,N&1),c===null)return pn(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(X=w.children,c=w.fallback,F?(w=h.mode,F=h.child,X={mode:"hidden",children:X},(w&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=X):F=Wg(X,w,0,null),c=Yd(c,w,g,null),F.return=h,c.return=h,F.sibling=c,h.child=F,h.child.memoizedState=A2(g),h.memoizedState=w2,c):S2(h,X));if(N=c.memoizedState,N!==null&&(Se=N.dehydrated,Se!==null))return JF(c,h,X,w,Se,N,g);if(F){F=w.fallback,X=h.mode,N=c.child,Se=N.sibling;var Ie={mode:"hidden",children:w.children};return(X&1)===0&&h.child!==N?(w=h.child,w.childLanes=0,w.pendingProps=Ie,h.deletions=null):(w=Hc(N,Ie),w.subtreeFlags=N.subtreeFlags&14680064),Se!==null?F=Hc(Se,F):(F=Yd(F,X,g,null),F.flags|=2),F.return=h,w.return=h,w.sibling=F,h.child=w,w=F,F=h.child,X=c.child.memoizedState,X=X===null?A2(g):{baseLanes:X.baseLanes|g,cachePool:null,transitions:X.transitions},F.memoizedState=X,F.childLanes=c.childLanes&~g,h.memoizedState=w2,w}return F=c.child,c=F.sibling,w=Hc(F,{mode:"visible",children:w.children}),(h.mode&1)===0&&(w.lanes=g),w.return=h,w.sibling=null,c!==null&&(g=h.deletions,g===null?(h.deletions=[c],h.flags|=16):g.push(c)),h.child=w,h.memoizedState=null,w}function S2(c,h){return h=Wg({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function Mg(c,h,g,w){return w!==null&&$t(w),Ni(h,c.child,null,g),c=S2(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function JF(c,h,g,w,N,F,X){if(g)return h.flags&256?(h.flags&=-257,w=y2(Error(n(422))),Mg(c,h,X,w)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(F=w.fallback,N=h.mode,w=Wg({mode:"visible",children:w.children},N,0,null),F=Yd(F,N,X,null),F.flags|=2,w.return=h,F.return=h,w.sibling=F,h.child=w,(h.mode&1)!==0&&Ni(h,c.child,null,X),h.child.memoizedState=A2(X),h.memoizedState=w2,F);if((h.mode&1)===0)return Mg(c,h,X,null);if(N.data==="$!"){if(w=N.nextSibling&&N.nextSibling.dataset,w)var Se=w.dgst;return w=Se,F=Error(n(419)),w=y2(F,w,void 0),Mg(c,h,X,w)}if(Se=(X&c.childLanes)!==0,ka||Se){if(w=ws,w!==null){switch(X&-X){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(w.suspendedLanes|X))!==0?0:N,N!==0&&N!==F.retryLane&&(F.retryLane=N,Rr(c,N),lu(w,c,N,-1))}return z2(),w=y2(Error(n(421))),Mg(c,h,X,w)}return N.data==="$?"?(h.flags|=128,h.child=c.child,h=d8.bind(null,c),N._reactRetry=h,null):(c=F.treeContext,ut=Fs(N.nextSibling),at=h,_t=!0,wt=null,c!==null&&(ue[me++]=We,ue[me++]=ve,ue[me++]=Re,We=c.id,ve=c.overflow,Re=h),h=S2(h,w.children),h.flags|=4096,h)}function HS(c,h,g){c.lanes|=h;var w=c.alternate;w!==null&&(w.lanes|=h),xr(c.return,h,g)}function T2(c,h,g,w,N){var F=c.memoizedState;F===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:N}:(F.isBackwards=h,F.rendering=null,F.renderingStartTime=0,F.last=w,F.tail=g,F.tailMode=N)}function VS(c,h,g){var w=h.pendingProps,N=w.revealOrder,F=w.tail;if(va(c,h,w.children,g),w=Wr.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&HS(c,g,h);else if(c.tag===19)HS(c,g,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(Nr(Wr,w),(h.mode&1)===0)h.memoizedState=null;else switch(N){case"forwards":for(g=h.child,N=null;g!==null;)c=g.alternate,c!==null&&ro(c)===null&&(N=g),g=g.sibling;g=N,g===null?(N=h.child,h.child=null):(N=g.sibling,g.sibling=null),T2(h,!1,N,g,F);break;case"backwards":for(g=null,N=h.child,h.child=null;N!==null;){if(c=N.alternate,c!==null&&ro(c)===null){h.child=N;break}c=N.sibling,N.sibling=g,g=N,N=c}T2(h,!0,g,null,F);break;case"together":T2(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Pg(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function kl(c,h,g){if(c!==null&&(h.dependencies=c.dependencies),Gd|=h.lanes,(g&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,g=Hc(c,c.pendingProps),h.child=g,g.return=h;c.sibling!==null;)c=c.sibling,g=g.sibling=Hc(c,c.pendingProps),g.return=h;g.sibling=null}return h.child}function QF(c,h,g){switch(h.tag){case 3:US(h),on();break;case 5:Ag(h);break;case 1:Xs(h.type)&&Rl(h);break;case 4:Rc(h,h.stateNode.containerInfo);break;case 10:var w=h.type._context,N=h.memoizedProps.value;Nr(ji,w._currentValue),w._currentValue=N;break;case 13:if(w=h.memoizedState,w!==null)return w.dehydrated!==null?(Nr(Wr,Wr.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?zS(c,h,g):(Nr(Wr,Wr.current&1),c=kl(c,h,g),c!==null?c.sibling:null);Nr(Wr,Wr.current&1);break;case 19:if(w=(g&h.childLanes)!==0,(c.flags&128)!==0){if(w)return VS(c,h,g);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Nr(Wr,Wr.current),w)break;return null;case 22:case 23:return h.lanes=0,FS(c,h,g)}return kl(c,h,g)}var WS,D2,GS,qS;WS=function(c,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},D2=function(){},GS=function(c,h,g,w){var N=c.memoizedProps;if(N!==w){c=h.stateNode,ru(Zi.current);var F=null;switch(g){case"input":N=jt(c,N),w=jt(c,w),F=[];break;case"select":N=W({},N,{value:void 0}),w=W({},w,{value:void 0}),F=[];break;case"textarea":N=xt(c,N),w=xt(c,w),F=[];break;default:typeof N.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=Nc)}Nt(g,w);var X;g=null;for(tt in N)if(!w.hasOwnProperty(tt)&&N.hasOwnProperty(tt)&&N[tt]!=null)if(tt==="style"){var Se=N[tt];for(X in Se)Se.hasOwnProperty(X)&&(g||(g={}),g[X]="")}else tt!=="dangerouslySetInnerHTML"&&tt!=="children"&&tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(i.hasOwnProperty(tt)?F||(F=[]):(F=F||[]).push(tt,null));for(tt in w){var Ie=w[tt];if(Se=N?.[tt],w.hasOwnProperty(tt)&&Ie!==Se&&(Ie!=null||Se!=null))if(tt==="style")if(Se){for(X in Se)!Se.hasOwnProperty(X)||Ie&&Ie.hasOwnProperty(X)||(g||(g={}),g[X]="");for(X in Ie)Ie.hasOwnProperty(X)&&Se[X]!==Ie[X]&&(g||(g={}),g[X]=Ie[X])}else g||(F||(F=[]),F.push(tt,g)),g=Ie;else tt==="dangerouslySetInnerHTML"?(Ie=Ie?Ie.__html:void 0,Se=Se?Se.__html:void 0,Ie!=null&&Se!==Ie&&(F=F||[]).push(tt,Ie)):tt==="children"?typeof Ie!="string"&&typeof Ie!="number"||(F=F||[]).push(tt,""+Ie):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&(i.hasOwnProperty(tt)?(Ie!=null&&tt==="onScroll"&&Mr("scroll",c),F||Se===Ie||(F=[])):(F=F||[]).push(tt,Ie))}g&&(F=F||[]).push("style",g);var tt=F;(h.updateQueue=tt)&&(h.flags|=4)}},qS=function(c,h,g,w){g!==w&&(h.flags|=4)};function g0(c,h){if(!_t)switch(c.tailMode){case"hidden":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function Js(c){var h=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(h)for(var N=c.child;N!==null;)g|=N.lanes|N.childLanes,w|=N.subtreeFlags&14680064,w|=N.flags&14680064,N.return=c,N=N.sibling;else for(N=c.child;N!==null;)g|=N.lanes|N.childLanes,w|=N.subtreeFlags,w|=N.flags,N.return=c,N=N.sibling;return c.subtreeFlags|=w,c.childLanes=g,h}function e8(c,h,g){var w=h.pendingProps;switch($e(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Js(h),null;case 1:return Xs(h.type)&&rf(),Js(h),null;case 3:return w=h.stateNode,No(),Tr(Ys),Tr(os),f0(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(oi(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,wt!==null&&(B2(wt),wt=null))),D2(c,h),Js(h),null;case 5:d0(h);var N=ru(Uu.current);if(g=h.type,c!==null&&h.stateNode!=null)GS(c,h,g,w,N),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(n(166));return Js(h),null}if(c=ru(Zi.current),oi(h)){w=h.stateNode,g=h.type;var F=h.memoizedProps;switch(w[Co]=h,w[Lc]=F,c=(h.mode&1)!==0,g){case"dialog":Mr("cancel",w),Mr("close",w);break;case"iframe":case"object":case"embed":Mr("load",w);break;case"video":case"audio":for(N=0;N<Fu.length;N++)Mr(Fu[N],w);break;case"source":Mr("error",w);break;case"img":case"image":case"link":Mr("error",w),Mr("load",w);break;case"details":Mr("toggle",w);break;case"input":le(w,F),Mr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!F.multiple},Mr("invalid",w);break;case"textarea":se(w,F),Mr("invalid",w)}Nt(g,F),N=null;for(var X in F)if(F.hasOwnProperty(X)){var Se=F[X];X==="children"?typeof Se=="string"?w.textContent!==Se&&(F.suppressHydrationWarning!==!0&&nf(w.textContent,Se,c),N=["children",Se]):typeof Se=="number"&&w.textContent!==""+Se&&(F.suppressHydrationWarning!==!0&&nf(w.textContent,Se,c),N=["children",""+Se]):i.hasOwnProperty(X)&&Se!=null&&X==="onScroll"&&Mr("scroll",w)}switch(g){case"input":ot(w),Ee(w,F,!0);break;case"textarea":ot(w),De(w);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(w.onclick=Nc)}w=N,h.updateQueue=w,w!==null&&(h.flags|=4)}else{X=N.nodeType===9?N:N.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=ge(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=X.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=X.createElement(g,{is:w.is}):(c=X.createElement(g),g==="select"&&(X=c,w.multiple?X.multiple=!0:w.size&&(X.size=w.size))):c=X.createElementNS(c,g),c[Co]=h,c[Lc]=w,WS(c,h,!1,!1),h.stateNode=c;e:{switch(X=nt(g,w),g){case"dialog":Mr("cancel",c),Mr("close",c),N=w;break;case"iframe":case"object":case"embed":Mr("load",c),N=w;break;case"video":case"audio":for(N=0;N<Fu.length;N++)Mr(Fu[N],c);N=w;break;case"source":Mr("error",c),N=w;break;case"img":case"image":case"link":Mr("error",c),Mr("load",c),N=w;break;case"details":Mr("toggle",c),N=w;break;case"input":le(c,w),N=jt(c,w),Mr("invalid",c);break;case"option":N=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},N=W({},w,{value:void 0}),Mr("invalid",c);break;case"textarea":se(c,w),N=xt(c,w),Mr("invalid",c);break;default:N=w}Nt(g,N),Se=N;for(F in Se)if(Se.hasOwnProperty(F)){var Ie=Se[F];F==="style"?ft(c,Ie):F==="dangerouslySetInnerHTML"?(Ie=Ie?Ie.__html:void 0,Ie!=null&&Ve(c,Ie)):F==="children"?typeof Ie=="string"?(g!=="textarea"||Ie!=="")&&Ze(c,Ie):typeof Ie=="number"&&Ze(c,""+Ie):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?Ie!=null&&F==="onScroll"&&Mr("scroll",c):Ie!=null&&T(c,F,Ie,X))}switch(g){case"input":ot(c),Ee(c,w,!1);break;case"textarea":ot(c),De(c);break;case"option":w.value!=null&&c.setAttribute("value",""+Ae(w.value));break;case"select":c.multiple=!!w.multiple,F=w.value,F!=null?Mt(c,!!w.multiple,F,!1):w.defaultValue!=null&&Mt(c,!!w.multiple,w.defaultValue,!0);break;default:typeof N.onClick=="function"&&(c.onclick=Nc)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Js(h),null;case 6:if(c&&h.stateNode!=null)qS(c,h,c.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(g=ru(Uu.current),ru(Zi.current),oi(h)){if(w=h.stateNode,g=h.memoizedProps,w[Co]=h,(F=w.nodeValue!==g)&&(c=at,c!==null))switch(c.tag){case 3:nf(w.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&nf(w.nodeValue,g,(c.mode&1)!==0)}F&&(h.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[Co]=h,h.stateNode=w}return Js(h),null;case 13:if(Tr(Wr),w=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(_t&&ut!==null&&(h.mode&1)!==0&&(h.flags&128)===0)Kn(),on(),h.flags|=98560,F=!1;else if(F=oi(h),w!==null&&w.dehydrated!==null){if(c===null){if(!F)throw Error(n(318));if(F=h.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(n(317));F[Co]=h}else on(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Js(h),F=!1}else wt!==null&&(B2(wt),wt=null),F=!0;if(!F)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(Wr.current&1)!==0?ls===0&&(ls=3):z2())),h.updateQueue!==null&&(h.flags|=4),Js(h),null);case 4:return No(),D2(c,h),c===null&&Cl(h.stateNode.containerInfo),Js(h),null;case 10:return Xr(h.type._context),Js(h),null;case 17:return Xs(h.type)&&rf(),Js(h),null;case 19:if(Tr(Wr),F=h.memoizedState,F===null)return Js(h),null;if(w=(h.flags&128)!==0,X=F.rendering,X===null)if(w)g0(F,!1);else{if(ls!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(X=ro(c),X!==null){for(h.flags|=128,g0(F,!1),w=X.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),h.subtreeFlags=0,w=g,g=h.child;g!==null;)F=g,c=w,F.flags&=14680066,X=F.alternate,X===null?(F.childLanes=0,F.lanes=c,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=X.childLanes,F.lanes=X.lanes,F.child=X.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=X.memoizedProps,F.memoizedState=X.memoizedState,F.updateQueue=X.updateQueue,F.type=X.type,c=X.dependencies,F.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return Nr(Wr,Wr.current&1|2),h.child}c=c.sibling}F.tail!==null&&tr()>vf&&(h.flags|=128,w=!0,g0(F,!1),h.lanes=4194304)}else{if(!w)if(c=ro(X),c!==null){if(h.flags|=128,w=!0,g=c.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),g0(F,!0),F.tail===null&&F.tailMode==="hidden"&&!X.alternate&&!_t)return Js(h),null}else 2*tr()-F.renderingStartTime>vf&&g!==1073741824&&(h.flags|=128,w=!0,g0(F,!1),h.lanes=4194304);F.isBackwards?(X.sibling=h.child,h.child=X):(g=F.last,g!==null?g.sibling=X:h.child=X,F.last=X)}return F.tail!==null?(h=F.tail,F.rendering=h,F.tail=h.sibling,F.renderingStartTime=tr(),h.sibling=null,g=Wr.current,Nr(Wr,w?g&1|2:g&1),h):(Js(h),null);case 22:case 23:return j2(),w=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(ao&1073741824)!==0&&(Js(h),h.subtreeFlags&6&&(h.flags|=8192)):Js(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function t8(c,h){switch($e(h),h.tag){case 1:return Xs(h.type)&&rf(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return No(),Tr(Ys),Tr(os),f0(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return d0(h),null;case 13:if(Tr(Wr),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));on()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return Tr(Wr),null;case 4:return No(),null;case 10:return Xr(h.type._context),null;case 22:case 23:return j2(),null;case 24:return null;default:return null}}var Rg=!1,Qs=!1,n8=typeof WeakSet=="function"?WeakSet:Set,hn=null;function mf(c,h){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Pi(c,h,w)}else g.current=null}function C2(c,h,g){try{g()}catch(w){Pi(c,h,w)}}var $S=!1;function r8(c,h){if(Ud=vc,c=Ci(),eo(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var N=w.anchorOffset,F=w.focusNode;w=w.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var X=0,Se=-1,Ie=-1,tt=0,kt=0,Bt=c,Lt=null;t:for(;;){for(var sn;Bt!==g||N!==0&&Bt.nodeType!==3||(Se=X+N),Bt!==F||w!==0&&Bt.nodeType!==3||(Ie=X+w),Bt.nodeType===3&&(X+=Bt.nodeValue.length),(sn=Bt.firstChild)!==null;)Lt=Bt,Bt=sn;for(;;){if(Bt===c)break t;if(Lt===g&&++tt===N&&(Se=X),Lt===F&&++kt===w&&(Ie=X),(sn=Bt.nextSibling)!==null)break;Bt=Lt,Lt=Bt.parentNode}Bt=sn}g=Se===-1||Ie===-1?null:{start:Se,end:Ie}}else g=null}g=g||{start:0,end:0}}else g=null;for(Ll={focusedElem:c,selectionRange:g},vc=!1,hn=h;hn!==null;)if(h=hn,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,hn=c;else for(;hn!==null;){h=hn;try{var gn=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(gn!==null){var yn=gn.memoizedProps,Hi=gn.memoizedState,qe=h.stateNode,Oe=qe.getSnapshotBeforeUpdate(h.elementType===h.type?yn:au(h.type,yn),Hi);qe.__reactInternalSnapshotBeforeUpdate=Oe}break;case 3:var Je=h.stateNode.containerInfo;Je.nodeType===1?Je.textContent="":Je.nodeType===9&&Je.documentElement&&Je.removeChild(Je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Gt){Pi(h,h.return,Gt)}if(c=h.sibling,c!==null){c.return=h.return,hn=c;break}hn=h.return}return gn=$S,$S=!1,gn}function v0(c,h,g){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var N=w=w.next;do{if((N.tag&c)===c){var F=N.destroy;N.destroy=void 0,F!==void 0&&C2(h,g,F)}N=N.next}while(N!==w)}}function Ig(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==h)}}function N2(c){var h=c.ref;if(h!==null){var g=c.stateNode;c.tag,c=g,typeof h=="function"?h(c):h.current=c}}function KS(c){var h=c.alternate;h!==null&&(c.alternate=null,KS(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[Co],delete h[Lc],delete h[Ks],delete h[f2],delete h[p2])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function YS(c){return c.tag===5||c.tag===3||c.tag===4}function XS(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||YS(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function L2(c,h,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(c,h):g.insertBefore(c,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(c,g)):(h=g,h.appendChild(c)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=Nc));else if(w!==4&&(c=c.child,c!==null))for(L2(c,h,g),c=c.sibling;c!==null;)L2(c,h,g),c=c.sibling}function M2(c,h,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?g.insertBefore(c,h):g.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(M2(c,h,g),c=c.sibling;c!==null;)M2(c,h,g),c=c.sibling}var Os=null,ou=!1;function Oc(c,h,g){for(g=g.child;g!==null;)ZS(c,h,g),g=g.sibling}function ZS(c,h,g){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ft,g)}catch{}switch(g.tag){case 5:Qs||mf(g,h);case 6:var w=Os,N=ou;Os=null,Oc(c,h,g),Os=w,ou=N,Os!==null&&(ou?(c=Os,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):Os.removeChild(g.stateNode));break;case 18:Os!==null&&(ou?(c=Os,g=g.stateNode,c.nodeType===8?u0(c.parentNode,g):c.nodeType===1&&u0(c,g),fl(c)):u0(Os,g.stateNode));break;case 4:w=Os,N=ou,Os=g.stateNode.containerInfo,ou=!0,Oc(c,h,g),Os=w,ou=N;break;case 0:case 11:case 14:case 15:if(!Qs&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){N=w=w.next;do{var F=N,X=F.destroy;F=F.tag,X!==void 0&&((F&2)!==0||(F&4)!==0)&&C2(g,h,X),N=N.next}while(N!==w)}Oc(c,h,g);break;case 1:if(!Qs&&(mf(g,h),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(Se){Pi(g,h,Se)}Oc(c,h,g);break;case 21:Oc(c,h,g);break;case 22:g.mode&1?(Qs=(w=Qs)||g.memoizedState!==null,Oc(c,h,g),Qs=w):Oc(c,h,g);break;default:Oc(c,h,g)}}function JS(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new n8),h.forEach(function(w){var N=h8.bind(null,c,w);g.has(w)||(g.add(w),w.then(N,N))})}}function uu(c,h){var g=h.deletions;if(g!==null)for(var w=0;w<g.length;w++){var N=g[w];try{var F=c,X=h,Se=X;e:for(;Se!==null;){switch(Se.tag){case 5:Os=Se.stateNode,ou=!1;break e;case 3:Os=Se.stateNode.containerInfo,ou=!0;break e;case 4:Os=Se.stateNode.containerInfo,ou=!0;break e}Se=Se.return}if(Os===null)throw Error(n(160));ZS(F,X,N),Os=null,ou=!1;var Ie=N.alternate;Ie!==null&&(Ie.return=null),N.return=null}catch(tt){Pi(N,h,tt)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)QS(h,c),h=h.sibling}function QS(c,h){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(uu(h,c),zu(c),w&4){try{v0(3,c,c.return),Ig(3,c)}catch(yn){Pi(c,c.return,yn)}try{v0(5,c,c.return)}catch(yn){Pi(c,c.return,yn)}}break;case 1:uu(h,c),zu(c),w&512&&g!==null&&mf(g,g.return);break;case 5:if(uu(h,c),zu(c),w&512&&g!==null&&mf(g,g.return),c.flags&32){var N=c.stateNode;try{Ze(N,"")}catch(yn){Pi(c,c.return,yn)}}if(w&4&&(N=c.stateNode,N!=null)){var F=c.memoizedProps,X=g!==null?g.memoizedProps:F,Se=c.type,Ie=c.updateQueue;if(c.updateQueue=null,Ie!==null)try{Se==="input"&&F.type==="radio"&&F.name!=null&&pt(N,F),nt(Se,X);var tt=nt(Se,F);for(X=0;X<Ie.length;X+=2){var kt=Ie[X],Bt=Ie[X+1];kt==="style"?ft(N,Bt):kt==="dangerouslySetInnerHTML"?Ve(N,Bt):kt==="children"?Ze(N,Bt):T(N,kt,Bt,tt)}switch(Se){case"input":rn(N,F);break;case"textarea":G(N,F);break;case"select":var Lt=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!F.multiple;var sn=F.value;sn!=null?Mt(N,!!F.multiple,sn,!1):Lt!==!!F.multiple&&(F.defaultValue!=null?Mt(N,!!F.multiple,F.defaultValue,!0):Mt(N,!!F.multiple,F.multiple?[]:"",!1))}N[Lc]=F}catch(yn){Pi(c,c.return,yn)}}break;case 6:if(uu(h,c),zu(c),w&4){if(c.stateNode===null)throw Error(n(162));N=c.stateNode,F=c.memoizedProps;try{N.nodeValue=F}catch(yn){Pi(c,c.return,yn)}}break;case 3:if(uu(h,c),zu(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{fl(h.containerInfo)}catch(yn){Pi(c,c.return,yn)}break;case 4:uu(h,c),zu(c);break;case 13:uu(h,c),zu(c),N=c.child,N.flags&8192&&(F=N.memoizedState!==null,N.stateNode.isHidden=F,!F||N.alternate!==null&&N.alternate.memoizedState!==null||(I2=tr())),w&4&&JS(c);break;case 22:if(kt=g!==null&&g.memoizedState!==null,c.mode&1?(Qs=(tt=Qs)||kt,uu(h,c),Qs=tt):uu(h,c),zu(c),w&8192){if(tt=c.memoizedState!==null,(c.stateNode.isHidden=tt)&&!kt&&(c.mode&1)!==0)for(hn=c,kt=c.child;kt!==null;){for(Bt=hn=kt;hn!==null;){switch(Lt=hn,sn=Lt.child,Lt.tag){case 0:case 11:case 14:case 15:v0(4,Lt,Lt.return);break;case 1:mf(Lt,Lt.return);var gn=Lt.stateNode;if(typeof gn.componentWillUnmount=="function"){w=Lt,g=Lt.return;try{h=w,gn.props=h.memoizedProps,gn.state=h.memoizedState,gn.componentWillUnmount()}catch(yn){Pi(w,g,yn)}}break;case 5:mf(Lt,Lt.return);break;case 22:if(Lt.memoizedState!==null){nT(Bt);continue}}sn!==null?(sn.return=Lt,hn=sn):nT(Bt)}kt=kt.sibling}e:for(kt=null,Bt=c;;){if(Bt.tag===5){if(kt===null){kt=Bt;try{N=Bt.stateNode,tt?(F=N.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(Se=Bt.stateNode,Ie=Bt.memoizedProps.style,X=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null,Se.style.display=et("display",X))}catch(yn){Pi(c,c.return,yn)}}}else if(Bt.tag===6){if(kt===null)try{Bt.stateNode.nodeValue=tt?"":Bt.memoizedProps}catch(yn){Pi(c,c.return,yn)}}else if((Bt.tag!==22&&Bt.tag!==23||Bt.memoizedState===null||Bt===c)&&Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===c)break e;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===c)break e;kt===Bt&&(kt=null),Bt=Bt.return}kt===Bt&&(kt=null),Bt.sibling.return=Bt.return,Bt=Bt.sibling}}break;case 19:uu(h,c),zu(c),w&4&&JS(c);break;case 21:break;default:uu(h,c),zu(c)}}function zu(c){var h=c.flags;if(h&2){try{e:{for(var g=c.return;g!==null;){if(YS(g)){var w=g;break e}g=g.return}throw Error(n(160))}switch(w.tag){case 5:var N=w.stateNode;w.flags&32&&(Ze(N,""),w.flags&=-33);var F=XS(c);M2(c,F,N);break;case 3:case 4:var X=w.stateNode.containerInfo,Se=XS(c);L2(c,Se,X);break;default:throw Error(n(161))}}catch(Ie){Pi(c,c.return,Ie)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function i8(c,h,g){hn=c,eT(c)}function eT(c,h,g){for(var w=(c.mode&1)!==0;hn!==null;){var N=hn,F=N.child;if(N.tag===22&&w){var X=N.memoizedState!==null||Rg;if(!X){var Se=N.alternate,Ie=Se!==null&&Se.memoizedState!==null||Qs;Se=Rg;var tt=Qs;if(Rg=X,(Qs=Ie)&&!tt)for(hn=N;hn!==null;)X=hn,Ie=X.child,X.tag===22&&X.memoizedState!==null?rT(N):Ie!==null?(Ie.return=X,hn=Ie):rT(N);for(;F!==null;)hn=F,eT(F),F=F.sibling;hn=N,Rg=Se,Qs=tt}tT(c)}else(N.subtreeFlags&8772)!==0&&F!==null?(F.return=N,hn=F):tT(c)}}function tT(c){for(;hn!==null;){var h=hn;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Qs||Ig(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Qs)if(g===null)w.componentDidMount();else{var N=h.elementType===h.type?g.memoizedProps:au(h.type,g.memoizedProps);w.componentDidUpdate(N,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var F=h.updateQueue;F!==null&&Ia(h,F,w);break;case 3:var X=h.updateQueue;if(X!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}Ia(h,X,g)}break;case 5:var Se=h.stateNode;if(g===null&&h.flags&4){g=Se;var Ie=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":Ie.autoFocus&&g.focus();break;case"img":Ie.src&&(g.src=Ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var tt=h.alternate;if(tt!==null){var kt=tt.memoizedState;if(kt!==null){var Bt=kt.dehydrated;Bt!==null&&fl(Bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qs||h.flags&512&&N2(h)}catch(Lt){Pi(h,h.return,Lt)}}if(h===c){hn=null;break}if(g=h.sibling,g!==null){g.return=h.return,hn=g;break}hn=h.return}}function nT(c){for(;hn!==null;){var h=hn;if(h===c){hn=null;break}var g=h.sibling;if(g!==null){g.return=h.return,hn=g;break}hn=h.return}}function rT(c){for(;hn!==null;){var h=hn;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{Ig(4,h)}catch(Ie){Pi(h,g,Ie)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var N=h.return;try{w.componentDidMount()}catch(Ie){Pi(h,N,Ie)}}var F=h.return;try{N2(h)}catch(Ie){Pi(h,F,Ie)}break;case 5:var X=h.return;try{N2(h)}catch(Ie){Pi(h,X,Ie)}}}catch(Ie){Pi(h,h.return,Ie)}if(h===c){hn=null;break}var Se=h.sibling;if(Se!==null){Se.return=h.return,hn=Se;break}hn=h.return}}var s8=Math.ceil,kg=L.ReactCurrentDispatcher,P2=L.ReactCurrentOwner,Po=L.ReactCurrentBatchConfig,br=0,ws=null,Ji=null,Bs=0,ao=0,gf=to(0),ls=0,_0=null,Gd=0,Fg=0,R2=0,y0=null,Fa=null,I2=0,vf=1/0,Fl=null,Og=!1,k2=null,Bc=null,Bg=!1,Uc=null,Ug=0,x0=0,F2=null,jg=-1,zg=0;function _a(){return(br&6)!==0?tr():jg!==-1?jg:jg=tr()}function jc(c){return(c.mode&1)===0?1:(br&2)!==0&&Bs!==0?Bs&-Bs:vi.transition!==null?(zg===0&&(zg=Bi()),zg):(c=On,c!==0||(c=window.event,c=c===void 0?16:ml(c.type)),c)}function lu(c,h,g,w){if(50<x0)throw x0=0,F2=null,Error(n(185));pi(c,g,w),((br&2)===0||c!==ws)&&(c===ws&&((br&2)===0&&(Fg|=g),ls===4&&zc(c,Bs)),Oa(c,w),g===1&&br===0&&(h.mode&1)===0&&(vf=tr()+500,zd&&j()))}function Oa(c,h){var g=c.callbackNode;Rn(c,h);var w=lr(c,c===ws?Bs:0);if(w===0)g!==null&&gs(g),c.callbackNode=null,c.callbackPriority=0;else if(h=w&-w,c.callbackPriority!==h){if(g!=null&&gs(g),h===1)c.tag===0?P(sT.bind(null,c)):A(sT.bind(null,c)),d2(function(){(br&6)===0&&j()}),g=null;else{switch(Si(w)){case 1:g=Ue;break;case 4:g=Ge;break;case 16:g=Ye;break;case 536870912:g=Et;break;default:g=Ye}g=fT(g,iT.bind(null,c))}c.callbackPriority=h,c.callbackNode=g}}function iT(c,h){if(jg=-1,zg=0,(br&6)!==0)throw Error(n(327));var g=c.callbackNode;if(_f()&&c.callbackNode!==g)return null;var w=lr(c,c===ws?Bs:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||h)h=Hg(c,w);else{h=w;var N=br;br|=2;var F=oT();(ws!==c||Bs!==h)&&(Fl=null,vf=tr()+500,$d(c,h));do try{u8();break}catch(Se){aT(c,Se)}while(!0);yr(),kg.current=F,br=N,Ji!==null?h=0:(ws=null,Bs=0,h=ls)}if(h!==0){if(h===2&&(N=Vn(c),N!==0&&(w=N,h=O2(c,N))),h===1)throw g=_0,$d(c,0),zc(c,w),Oa(c,tr()),g;if(h===6)zc(c,w);else{if(N=c.current.alternate,(w&30)===0&&!a8(N)&&(h=Hg(c,w),h===2&&(F=Vn(c),F!==0&&(w=F,h=O2(c,F))),h===1))throw g=_0,$d(c,0),zc(c,w),Oa(c,tr()),g;switch(c.finishedWork=N,c.finishedLanes=w,h){case 0:case 1:throw Error(n(345));case 2:Kd(c,Fa,Fl);break;case 3:if(zc(c,w),(w&130023424)===w&&(h=I2+500-tr(),10<h)){if(lr(c,0)!==0)break;if(N=c.suspendedLanes,(N&w)!==w){_a(),c.pingedLanes|=c.suspendedLanes&N;break}c.timeoutHandle=o0(Kd.bind(null,c,Fa,Fl),h);break}Kd(c,Fa,Fl);break;case 4:if(zc(c,w),(w&4194240)===w)break;for(h=c.eventTimes,N=-1;0<w;){var X=31-It(w);F=1<<X,X=h[X],X>N&&(N=X),w&=~F}if(w=N,w=tr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*s8(w/1960))-w,10<w){c.timeoutHandle=o0(Kd.bind(null,c,Fa,Fl),w);break}Kd(c,Fa,Fl);break;case 5:Kd(c,Fa,Fl);break;default:throw Error(n(329))}}}return Oa(c,tr()),c.callbackNode===g?iT.bind(null,c):null}function O2(c,h){var g=y0;return c.current.memoizedState.isDehydrated&&($d(c,h).flags|=256),c=Hg(c,h),c!==2&&(h=Fa,Fa=g,h!==null&&B2(h)),c}function B2(c){Fa===null?Fa=c:Fa.push.apply(Fa,c)}function a8(c){for(var h=c;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var N=g[w],F=N.getSnapshot;N=N.value;try{if(!si(F(),N))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function zc(c,h){for(h&=~R2,h&=~Fg,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var g=31-It(h),w=1<<g;c[g]=-1,h&=~w}}function sT(c){if((br&6)!==0)throw Error(n(327));_f();var h=lr(c,0);if((h&1)===0)return Oa(c,tr()),null;var g=Hg(c,h);if(c.tag!==0&&g===2){var w=Vn(c);w!==0&&(h=w,g=O2(c,w))}if(g===1)throw g=_0,$d(c,0),zc(c,h),Oa(c,tr()),g;if(g===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,Kd(c,Fa,Fl),Oa(c,tr()),null}function U2(c,h){var g=br;br|=1;try{return c(h)}finally{br=g,br===0&&(vf=tr()+500,zd&&j())}}function qd(c){Uc!==null&&Uc.tag===0&&(br&6)===0&&_f();var h=br;br|=1;var g=Po.transition,w=On;try{if(Po.transition=null,On=1,c)return c()}finally{On=w,Po.transition=g,br=h,(br&6)===0&&j()}}function j2(){ao=gf.current,Tr(gf)}function $d(c,h){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,xg(g)),Ji!==null)for(g=Ji.return;g!==null;){var w=g;switch($e(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&rf();break;case 3:No(),Tr(Ys),Tr(os),f0();break;case 5:d0(w);break;case 4:No();break;case 13:Tr(Wr);break;case 19:Tr(Wr);break;case 10:Xr(w.type._context);break;case 22:case 23:j2()}g=g.return}if(ws=c,Ji=c=Hc(c.current,null),Bs=ao=h,ls=0,_0=null,R2=Fg=Gd=0,Fa=y0=null,Pr!==null){for(h=0;h<Pr.length;h++)if(g=Pr[h],w=g.interleaved,w!==null){g.interleaved=null;var N=w.next,F=g.pending;if(F!==null){var X=F.next;F.next=N,w.next=X}g.pending=w}Pr=null}return c}function aT(c,h){do{var g=Ji;try{if(yr(),sf.current=Ng,Ic){for(var w=Zr.memoizedState;w!==null;){var N=w.queue;N!==null&&(N.pending=null),w=w.next}Ic=!1}if(Lo=0,bi=Mi=Zr=null,iu=!1,kc=0,P2.current=null,g===null||g.return===null){ls=1,_0=h,Ji=null;break}e:{var F=c,X=g.return,Se=g,Ie=h;if(h=Bs,Se.flags|=32768,Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var tt=Ie,kt=Se,Bt=kt.tag;if((kt.mode&1)===0&&(Bt===0||Bt===11||Bt===15)){var Lt=kt.alternate;Lt?(kt.updateQueue=Lt.updateQueue,kt.memoizedState=Lt.memoizedState,kt.lanes=Lt.lanes):(kt.updateQueue=null,kt.memoizedState=null)}var sn=MS(X);if(sn!==null){sn.flags&=-257,PS(sn,X,Se,F,h),sn.mode&1&&LS(F,tt,h),h=sn,Ie=tt;var gn=h.updateQueue;if(gn===null){var yn=new Set;yn.add(Ie),h.updateQueue=yn}else gn.add(Ie);break e}else{if((h&1)===0){LS(F,tt,h),z2();break e}Ie=Error(n(426))}}else if(_t&&Se.mode&1){var Hi=MS(X);if(Hi!==null){(Hi.flags&65536)===0&&(Hi.flags|=256),PS(Hi,X,Se,F,h),$t(pf(Ie,Se));break e}}F=Ie=pf(Ie,Se),ls!==4&&(ls=2),y0===null?y0=[F]:y0.push(F),F=X;do{switch(F.tag){case 3:F.flags|=65536,h&=-h,F.lanes|=h;var qe=CS(F,Ie,h);Ir(F,qe);break e;case 1:Se=Ie;var Oe=F.type,Je=F.stateNode;if((F.flags&128)===0&&(typeof Oe.getDerivedStateFromError=="function"||Je!==null&&typeof Je.componentDidCatch=="function"&&(Bc===null||!Bc.has(Je)))){F.flags|=65536,h&=-h,F.lanes|=h;var Gt=NS(F,Se,h);Ir(F,Gt);break e}}F=F.return}while(F!==null)}lT(g)}catch(wn){h=wn,Ji===g&&g!==null&&(Ji=g=g.return);continue}break}while(!0)}function oT(){var c=kg.current;return kg.current=Ng,c===null?Ng:c}function z2(){(ls===0||ls===3||ls===2)&&(ls=4),ws===null||(Gd&268435455)===0&&(Fg&268435455)===0||zc(ws,Bs)}function Hg(c,h){var g=br;br|=2;var w=oT();(ws!==c||Bs!==h)&&(Fl=null,$d(c,h));do try{o8();break}catch(N){aT(c,N)}while(!0);if(yr(),br=g,kg.current=w,Ji!==null)throw Error(n(261));return ws=null,Bs=0,ls}function o8(){for(;Ji!==null;)uT(Ji)}function u8(){for(;Ji!==null&&!Hs();)uT(Ji)}function uT(c){var h=hT(c.alternate,c,ao);c.memoizedProps=c.pendingProps,h===null?lT(c):Ji=h,P2.current=null}function lT(c){var h=c;do{var g=h.alternate;if(c=h.return,(h.flags&32768)===0){if(g=e8(g,h,ao),g!==null){Ji=g;return}}else{if(g=t8(g,h),g!==null){g.flags&=32767,Ji=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{ls=6,Ji=null;return}}if(h=h.sibling,h!==null){Ji=h;return}Ji=h=c}while(h!==null);ls===0&&(ls=5)}function Kd(c,h,g){var w=On,N=Po.transition;try{Po.transition=null,On=1,l8(c,h,g,w)}finally{Po.transition=N,On=w}return null}function l8(c,h,g,w){do _f();while(Uc!==null);if((br&6)!==0)throw Error(n(327));g=c.finishedWork;var N=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var F=g.lanes|g.childLanes;if(vs(c,F),c===ws&&(Ji=ws=null,Bs=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Bg||(Bg=!0,fT(Ye,function(){return _f(),null})),F=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||F){F=Po.transition,Po.transition=null;var X=On;On=1;var Se=br;br|=4,P2.current=null,r8(c,g),QS(g,c),Md(Ll),vc=!!Ud,Ll=Ud=null,c.current=g,i8(g),Rs(),br=Se,On=X,Po.transition=F}else c.current=g;if(Bg&&(Bg=!1,Uc=c,Ug=N),F=c.pendingLanes,F===0&&(Bc=null),tn(g.stateNode),Oa(c,tr()),h!==null)for(w=c.onRecoverableError,g=0;g<h.length;g++)N=h[g],w(N.value,{componentStack:N.stack,digest:N.digest});if(Og)throw Og=!1,c=k2,k2=null,c;return(Ug&1)!==0&&c.tag!==0&&_f(),F=c.pendingLanes,(F&1)!==0?c===F2?x0++:(x0=0,F2=c):x0=0,j(),null}function _f(){if(Uc!==null){var c=Si(Ug),h=Po.transition,g=On;try{if(Po.transition=null,On=16>c?16:c,Uc===null)var w=!1;else{if(c=Uc,Uc=null,Ug=0,(br&6)!==0)throw Error(n(331));var N=br;for(br|=4,hn=c.current;hn!==null;){var F=hn,X=F.child;if((hn.flags&16)!==0){var Se=F.deletions;if(Se!==null){for(var Ie=0;Ie<Se.length;Ie++){var tt=Se[Ie];for(hn=tt;hn!==null;){var kt=hn;switch(kt.tag){case 0:case 11:case 15:v0(8,kt,F)}var Bt=kt.child;if(Bt!==null)Bt.return=kt,hn=Bt;else for(;hn!==null;){kt=hn;var Lt=kt.sibling,sn=kt.return;if(KS(kt),kt===tt){hn=null;break}if(Lt!==null){Lt.return=sn,hn=Lt;break}hn=sn}}}var gn=F.alternate;if(gn!==null){var yn=gn.child;if(yn!==null){gn.child=null;do{var Hi=yn.sibling;yn.sibling=null,yn=Hi}while(yn!==null)}}hn=F}}if((F.subtreeFlags&2064)!==0&&X!==null)X.return=F,hn=X;else e:for(;hn!==null;){if(F=hn,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:v0(9,F,F.return)}var qe=F.sibling;if(qe!==null){qe.return=F.return,hn=qe;break e}hn=F.return}}var Oe=c.current;for(hn=Oe;hn!==null;){X=hn;var Je=X.child;if((X.subtreeFlags&2064)!==0&&Je!==null)Je.return=X,hn=Je;else e:for(X=Oe;hn!==null;){if(Se=hn,(Se.flags&2048)!==0)try{switch(Se.tag){case 0:case 11:case 15:Ig(9,Se)}}catch(wn){Pi(Se,Se.return,wn)}if(Se===X){hn=null;break e}var Gt=Se.sibling;if(Gt!==null){Gt.return=Se.return,hn=Gt;break e}hn=Se.return}}if(br=N,j(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ft,c)}catch{}w=!0}return w}finally{On=g,Po.transition=h}}return!1}function cT(c,h,g){h=pf(g,h),h=CS(c,h,1),c=yi(c,h,1),h=_a(),c!==null&&(pi(c,1,h),Oa(c,h))}function Pi(c,h,g){if(c.tag===3)cT(c,c,g);else for(;h!==null;){if(h.tag===3){cT(h,c,g);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Bc===null||!Bc.has(w))){c=pf(g,c),c=NS(h,c,1),h=yi(h,c,1),c=_a(),h!==null&&(pi(h,1,c),Oa(h,c));break}}h=h.return}}function c8(c,h,g){var w=c.pingCache;w!==null&&w.delete(h),h=_a(),c.pingedLanes|=c.suspendedLanes&g,ws===c&&(Bs&g)===g&&(ls===4||ls===3&&(Bs&130023424)===Bs&&500>tr()-I2?$d(c,0):R2|=g),Oa(c,h)}function dT(c,h){h===0&&((c.mode&1)===0?h=1:(h=ar,ar<<=1,(ar&130023424)===0&&(ar=4194304)));var g=_a();c=Rr(c,h),c!==null&&(pi(c,h,g),Oa(c,g))}function d8(c){var h=c.memoizedState,g=0;h!==null&&(g=h.retryLane),dT(c,g)}function h8(c,h){var g=0;switch(c.tag){case 13:var w=c.stateNode,N=c.memoizedState;N!==null&&(g=N.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(h),dT(c,g)}var hT;hT=function(c,h,g){if(c!==null)if(c.memoizedProps!==h.pendingProps||Ys.current)ka=!0;else{if((c.lanes&g)===0&&(h.flags&128)===0)return ka=!1,QF(c,h,g);ka=(c.flags&131072)!==0}else ka=!1,_t&&(h.flags&1048576)!==0&&He(h,ie,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;Pg(c,h),c=h.pendingProps;var N=Pc(h,os.current);ui(h,g),N=Hd(null,h,w,c,N,g);var F=Mo();return h.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Xs(w)?(F=!0,Rl(h)):F=!1,h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,us(h),N.updater=Lg,h.stateNode=N,N._reactInternals=h,_2(h,w,c,g),h=E2(null,h,w,!0,F,g)):(h.tag=0,_t&&F&&dt(h),va(null,h,N,g),h=h.child),h;case 16:w=h.elementType;e:{switch(Pg(c,h),c=h.pendingProps,N=w._init,w=N(w._payload),h.type=w,N=h.tag=p8(w),c=au(w,c),N){case 0:h=b2(null,h,w,c,g);break e;case 1:h=BS(null,h,w,c,g);break e;case 11:h=RS(null,h,w,c,g);break e;case 14:h=IS(null,h,w,au(w.type,c),g);break e}throw Error(n(306,w,""))}return h;case 0:return w=h.type,N=h.pendingProps,N=h.elementType===w?N:au(w,N),b2(c,h,w,N,g);case 1:return w=h.type,N=h.pendingProps,N=h.elementType===w?N:au(w,N),BS(c,h,w,N,g);case 3:e:{if(US(h),c===null)throw Error(n(387));w=h.pendingProps,F=h.memoizedState,N=F.element,Zs(c,h),Es(h,w,null,g);var X=h.memoizedState;if(w=X.element,F.isDehydrated)if(F={element:w,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},h.updateQueue.baseState=F,h.memoizedState=F,h.flags&256){N=pf(Error(n(423)),h),h=jS(c,h,w,g,N);break e}else if(w!==N){N=pf(Error(n(424)),h),h=jS(c,h,w,g,N);break e}else for(ut=Fs(h.stateNode.containerInfo.firstChild),at=h,_t=!0,wt=null,g=ri(h,null,w,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(on(),w===N){h=kl(c,h,g);break e}va(c,h,w,g)}h=h.child}return h;case 5:return Ag(h),c===null&&pn(h),w=h.type,N=h.pendingProps,F=c!==null?c.memoizedProps:null,X=N.children,a0(w,N)?X=null:F!==null&&a0(w,F)&&(h.flags|=32),OS(c,h),va(c,h,X,g),h.child;case 6:return c===null&&pn(h),null;case 13:return zS(c,h,g);case 4:return Rc(h,h.stateNode.containerInfo),w=h.pendingProps,c===null?h.child=Ni(h,null,w,g):va(c,h,w,g),h.child;case 11:return w=h.type,N=h.pendingProps,N=h.elementType===w?N:au(w,N),RS(c,h,w,N,g);case 7:return va(c,h,h.pendingProps,g),h.child;case 8:return va(c,h,h.pendingProps.children,g),h.child;case 12:return va(c,h,h.pendingProps.children,g),h.child;case 10:e:{if(w=h.type._context,N=h.pendingProps,F=h.memoizedProps,X=N.value,Nr(ji,w._currentValue),w._currentValue=X,F!==null)if(si(F.value,X)){if(F.children===N.children&&!Ys.current){h=kl(c,h,g);break e}}else for(F=h.child,F!==null&&(F.return=h);F!==null;){var Se=F.dependencies;if(Se!==null){X=F.child;for(var Ie=Se.firstContext;Ie!==null;){if(Ie.context===w){if(F.tag===1){Ie=_i(-1,g&-g),Ie.tag=2;var tt=F.updateQueue;if(tt!==null){tt=tt.shared;var kt=tt.pending;kt===null?Ie.next=Ie:(Ie.next=kt.next,kt.next=Ie),tt.pending=Ie}}F.lanes|=g,Ie=F.alternate,Ie!==null&&(Ie.lanes|=g),xr(F.return,g,h),Se.lanes|=g;break}Ie=Ie.next}}else if(F.tag===10)X=F.type===h.type?null:F.child;else if(F.tag===18){if(X=F.return,X===null)throw Error(n(341));X.lanes|=g,Se=X.alternate,Se!==null&&(Se.lanes|=g),xr(X,g,h),X=F.sibling}else X=F.child;if(X!==null)X.return=F;else for(X=F;X!==null;){if(X===h){X=null;break}if(F=X.sibling,F!==null){F.return=X.return,X=F;break}X=X.return}F=X}va(c,h,N.children,g),h=h.child}return h;case 9:return N=h.type,w=h.pendingProps.children,ui(h,g),N=li(N),w=w(N),h.flags|=1,va(c,h,w,g),h.child;case 14:return w=h.type,N=au(w,h.pendingProps),N=au(w.type,N),IS(c,h,w,N,g);case 15:return kS(c,h,h.type,h.pendingProps,g);case 17:return w=h.type,N=h.pendingProps,N=h.elementType===w?N:au(w,N),Pg(c,h),h.tag=1,Xs(w)?(c=!0,Rl(h)):c=!1,ui(h,g),TS(h,w,N),_2(h,w,N,g),E2(null,h,w,!0,c,g);case 19:return VS(c,h,g);case 22:return FS(c,h,g)}throw Error(n(156,h.tag))};function fT(c,h){return gr(c,h)}function f8(c,h,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(c,h,g,w){return new f8(c,h,g,w)}function H2(c){return c=c.prototype,!(!c||!c.isReactComponent)}function p8(c){if(typeof c=="function")return H2(c)?1:0;if(c!=null){if(c=c.$$typeof,c===H)return 11;if(c===ae)return 14}return 2}function Hc(c,h){var g=c.alternate;return g===null?(g=Ro(c.tag,h,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=h,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,h=c.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function Vg(c,h,g,w,N,F){var X=2;if(w=c,typeof c=="function")H2(c)&&(X=1);else if(typeof c=="string")X=5;else e:switch(c){case B:return Yd(g.children,N,F,h);case V:X=8,N|=8;break;case M:return c=Ro(12,g,h,N|2),c.elementType=M,c.lanes=F,c;case q:return c=Ro(13,g,h,N),c.elementType=q,c.lanes=F,c;case Y:return c=Ro(19,g,h,N),c.elementType=Y,c.lanes=F,c;case oe:return Wg(g,N,F,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case R:X=10;break e;case k:X=9;break e;case H:X=11;break e;case ae:X=14;break e;case he:X=16,w=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return h=Ro(X,g,h,N),h.elementType=c,h.type=w,h.lanes=F,h}function Yd(c,h,g,w){return c=Ro(7,c,w,h),c.lanes=g,c}function Wg(c,h,g,w){return c=Ro(22,c,w,h),c.elementType=oe,c.lanes=g,c.stateNode={isHidden:!1},c}function V2(c,h,g){return c=Ro(6,c,null,h),c.lanes=g,c}function W2(c,h,g){return h=Ro(4,c.children!==null?c.children:[],c.key,h),h.lanes=g,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function m8(c,h,g,w,N){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aa(0),this.expirationTimes=Aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.identifierPrefix=w,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function G2(c,h,g,w,N,F,X,Se,Ie){return c=new m8(c,h,g,Se,Ie),h===1?(h=1,F===!0&&(h|=8)):h=0,F=Ro(3,null,null,h),c.current=F,F.stateNode=c,F.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},us(F),c}function g8(c,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:w==null?null:""+w,children:c,containerInfo:h,implementation:g}}function pT(c){if(!c)return Bu;c=c._reactInternals;e:{if(Kt(c)!==c||c.tag!==1)throw Error(n(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Xs(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(c.tag===1){var g=c.type;if(Xs(g))return c0(c,g,h)}return h}function mT(c,h,g,w,N,F,X,Se,Ie){return c=G2(g,w,!0,c,N,F,X,Se,Ie),c.context=pT(null),g=c.current,w=_a(),N=jc(g),F=_i(w,N),F.callback=h??null,yi(g,F,N),c.current.lanes=N,pi(c,N,w),Oa(c,w),c}function Gg(c,h,g,w){var N=h.current,F=_a(),X=jc(N);return g=pT(g),h.context===null?h.context=g:h.pendingContext=g,h=_i(F,X),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=yi(N,h,X),c!==null&&(lu(c,N,X,F),bs(c,N,X)),X}function qg(c){return c=c.current,c.child?(c.child.tag===5,c.child.stateNode):null}function gT(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<h?g:h}}function q2(c,h){gT(c,h),(c=c.alternate)&&gT(c,h)}function v8(){return null}var vT=typeof reportError=="function"?reportError:function(c){console.error(c)};function $2(c){this._internalRoot=c}$g.prototype.render=$2.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));Gg(c,h,null,null)},$g.prototype.unmount=$2.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;qd(function(){Gg(null,c,null,null)}),h[ys]=null}};function $g(c){this._internalRoot=c}$g.prototype.unstable_scheduleHydration=function(c){if(c){var h=Sa();c={blockedOn:null,target:c,priority:h};for(var g=0;g<bo.length&&h!==0&&h<bo[g].priority;g++);bo.splice(g,0,c),g===0&&Yh(c)}};function K2(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Kg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function _T(){}function _8(c,h,g,w,N){if(N){if(typeof w=="function"){var F=w;w=function(){var tt=qg(X);F.call(tt)}}var X=mT(h,w,c,0,null,!1,!1,"",_T);return c._reactRootContainer=X,c[ys]=X.current,Cl(c.nodeType===8?c.parentNode:c),qd(),X}for(;N=c.lastChild;)c.removeChild(N);if(typeof w=="function"){var Se=w;w=function(){var tt=qg(Ie);Se.call(tt)}}var Ie=G2(c,0,!1,null,null,!1,!1,"",_T);return c._reactRootContainer=Ie,c[ys]=Ie.current,Cl(c.nodeType===8?c.parentNode:c),qd(function(){Gg(h,Ie,g,w)}),Ie}function Yg(c,h,g,w,N){var F=g._reactRootContainer;if(F){var X=F;if(typeof N=="function"){var Se=N;N=function(){var Ie=qg(X);Se.call(Ie)}}Gg(h,X,c,N)}else X=_8(g,h,c,N,w);return qg(X)}Kr=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var g=hr(h.pendingLanes);g!==0&&(fr(h,g|1),Oa(h,tr()),(br&6)===0&&(vf=tr()+500,j()))}break;case 13:qd(function(){var w=Rr(c,1);if(w!==null){var N=_a();lu(w,c,1,N)}}),q2(c,1)}},Ti=function(c){if(c.tag===13){var h=Rr(c,134217728);if(h!==null){var g=_a();lu(h,c,134217728,g)}q2(c,134217728)}},Tu=function(c){if(c.tag===13){var h=jc(c),g=Rr(c,h);if(g!==null){var w=_a();lu(g,c,h,w)}q2(c,h)}},Sa=function(){return On},pc=function(c,h){var g=On;try{return On=c,h()}finally{On=g}},gt=function(c,h,g){switch(h){case"input":if(rn(c,g),h=g.name,g.type==="radio"&&h!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var w=g[h];if(w!==c&&w.form===c.form){var N=jd(w);if(!N)throw Error(n(90));Dt(w),rn(w,N)}}}break;case"textarea":G(c,g);break;case"select":h=g.value,h!=null&&Mt(c,!!g.multiple,h,!1)}},un=U2,qn=qd;var y8={usingClientEntryPoint:!1,Events:[Mc,Ml,jd,rt,Ht,U2]},b0={findFiberByHostInstance:Ou,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x8={bundleType:b0.bundleType,version:b0.version,rendererPackageName:b0.rendererPackageName,rendererConfig:b0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Jn(c),c===null?null:c.stateNode},findFiberByHostInstance:b0.findFiberByHostInstance||v8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xg.isDisabled&&Xg.supportsFiber)try{Ft=Xg.inject(x8),Ot=Xg}catch{}}return Ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y8,Ba.createPortal=function(c,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K2(h))throw Error(n(200));return g8(c,h,null,g)},Ba.createRoot=function(c,h){if(!K2(c))throw Error(n(299));var g=!1,w="",N=vT;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),h=G2(c,1,!1,null,null,g,!1,w,N),c[ys]=h.current,Cl(c.nodeType===8?c.parentNode:c),new $2(h)},Ba.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=Jn(h),c=c===null?null:c.stateNode,c},Ba.flushSync=function(c){return qd(c)},Ba.hydrate=function(c,h,g){if(!Kg(h))throw Error(n(200));return Yg(null,c,h,!0,g)},Ba.hydrateRoot=function(c,h,g){if(!K2(c))throw Error(n(405));var w=g!=null&&g.hydratedSources||null,N=!1,F="",X=vT;if(g!=null&&(g.unstable_strictMode===!0&&(N=!0),g.identifierPrefix!==void 0&&(F=g.identifierPrefix),g.onRecoverableError!==void 0&&(X=g.onRecoverableError)),h=mT(h,null,c,1,g??null,N,!1,F,X),c[ys]=h.current,Cl(c),w)for(c=0;c<w.length;c++)g=w[c],N=g._getVersion,N=N(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,N]:h.mutableSourceEagerHydrationData.push(g,N);return new $g(h)},Ba.render=function(c,h,g){if(!Kg(h))throw Error(n(200));return Yg(null,c,h,!1,g)},Ba.unmountComponentAtNode=function(c){if(!Kg(c))throw Error(n(40));return c._reactRootContainer?(qd(function(){Yg(null,null,c,!1,function(){c._reactRootContainer=null,c[ys]=null})}),!0):!1},Ba.unstable_batchedUpdates=U2,Ba.unstable_renderSubtreeIntoContainer=function(c,h,g,w){if(!Kg(g))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return Yg(c,h,g,!1,w)},Ba.version="18.3.1-next-f1338f8080-20240426",Ba}var TT;function pL(){if(TT)return Z2.exports;TT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Z2.exports=L8(),Z2.exports}var DT;function M8(){if(DT)return Zg;DT=1;var t=pL();return Zg.createRoot=t.createRoot,Zg.hydrateRoot=t.hydrateRoot,Zg}var mL=M8(),gL=pL();const P8=Wm(gL),R8=fL({__proto__:null,default:P8},[gL]);function hi(){return hi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hi.apply(this,arguments)}var ts;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ts||(ts={}));const CT="popstate";function I8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return bm("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ph(i)}return F8(e,n,null,t)}function ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k8(){return Math.random().toString(36).substr(2,8)}function NT(t,e){return{usr:t.state,key:t.key,idx:e}}function bm(t,e,n,r){return n===void 0&&(n=null),hi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yd(e):e,{state:n,key:e&&e.key||r||k8()})}function Ph(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function F8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ts.Pop,u=null,l=d();l==null&&(l=0,a.replaceState(hi({},a.state,{idx:l}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=ts.Pop;let y=d(),v=y==null?null:y-l;l=y,u&&u({action:o,location:E.location,delta:v})}function m(y,v){o=ts.Push;let S=bm(E.location,y,v);l=d()+1;let T=NT(S,l),L=E.createHref(S);try{a.pushState(T,"",L)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(L)}s&&u&&u({action:o,location:E.location,delta:1})}function p(y,v){o=ts.Replace;let S=bm(E.location,y,v);l=d();let T=NT(S,l),L=E.createHref(S);a.replaceState(T,"",L),s&&u&&u({action:o,location:E.location,delta:0})}function _(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof y=="string"?y:Ph(y);return S=S.replace(/ $/,"%20"),ir(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let E={get action(){return o},get location(){return t(i,a)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(CT,f),u=y,()=>{i.removeEventListener(CT,f),u=null}},createHref(y){return e(i,y)},createURL:_,encodeLocation(y){let v=_(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(y){return a.go(y)}};return E}var Fr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fr||(Fr={}));const O8=new Set(["lazy","caseSensitive","path","id","index","children"]);function B8(t){return t.index===!0}function Tv(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let a=[...n,String(s)],o=typeof i.id=="string"?i.id:a.join("-");if(ir(i.index!==!0||!i.children,"Cannot specify children on an index route"),ir(!r[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),B8(i)){let u=hi({},i,e(i),{id:o});return r[o]=u,u}else{let u=hi({},i,e(i),{id:o,children:void 0});return r[o]=u,i.children&&(u.children=Tv(i.children,e,a,r)),u}})}function fh(t,e,n){return n===void 0&&(n="/"),tv(t,e,n,!1)}function tv(t,e,n,r){let i=typeof e=="string"?yd(e):e,s=ic(i.pathname||"/",n);if(s==null)return null;let a=vL(t);j8(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let l=Z8(s);o=Y8(a[u],l,r)}return o}function U8(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function vL(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ir(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Xl([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(ir(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),vL(s.children,e,d,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:$8(l,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let u of _L(s.path))i(s,a,u)}),e}function _L(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=_L(r.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function j8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const z8=/^:[\w-]+$/,H8=3,V8=2,W8=1,G8=10,q8=-2,LT=t=>t==="*";function $8(t,e){let n=t.split("/"),r=n.length;return n.some(LT)&&(r+=q8),e&&(r+=V8),n.filter(i=>!LT(i)).reduce((i,s)=>i+(z8.test(s)?H8:s===""?W8:G8),r)}function K8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Y8(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],l=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Dv({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},d),m=u.route;if(!f&&l&&n&&!r[r.length-1].route.index&&(f=Dv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Xl([s,f.pathname]),pathnameBase:tO(Xl([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Xl([s,f.pathnameBase]))}return a}function Dv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=X8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((l,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let E=o[f]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const _=o[f];return p&&!_?l[m]=void 0:l[m]=(_||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:t}}function X8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Z8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ic(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const J8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q8=t=>J8.test(t);function eO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yd(t):t,s;if(n)if(Q8(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Mh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=MT(n.substring(1),"/"):s=MT(n,e)}else s=e;return{pathname:s,search:nO(r),hash:rO(i)}}function MT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ey(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function y_(t,e){let n=yL(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function x_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=yd(t):(i=hi({},t),ir(!i.pathname||!i.pathname.includes("?"),ey("?","pathname","search",i)),ir(!i.pathname||!i.pathname.includes("#"),ey("#","pathname","hash",i)),ir(!i.search||!i.search.includes("#"),ey("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}o=f>=0?e[f]:"/"}let u=eO(i,o),l=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||d)&&(u.pathname+="/"),u}const Xl=t=>t.join("/").replace(/\/\/+/g,"/"),tO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Cv{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Em(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xL=["post","put","patch","delete"],iO=new Set(xL),sO=["get",...xL],aO=new Set(sO),oO=new Set([301,302,303,307,308]),uO=new Set([307,308]),ty={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},w0={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),bL="remix-router-transitions";function dO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ir(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let Ne=t.detectErrorBoundary;i=Be=>({hasErrorBoundary:Ne(Be)})}else i=cO;let s={},a=Tv(t.routes,i,void 0,s),o,u=t.basename||"/",l=t.dataStrategy||mO,d=t.patchRoutesOnNavigation,f=hi({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,p=new Set,_=null,E=null,y=null,v=t.hydrationData!=null,S=fh(a,t.history.location,u),T=!1,L=null;if(S==null&&!d){let Ne=Va(404,{pathname:t.history.location.pathname}),{matches:Be,route:Xe}=HT(a);S=Be,L={[Xe.id]:Ne}}S&&!t.hydrationData&&qn(S,a,t.history.location.pathname).active&&(S=null);let I;if(S)if(S.some(Ne=>Ne.route.lazy))I=!1;else if(!S.some(Ne=>Ne.route.loader))I=!0;else if(f.v7_partialHydration){let Ne=t.hydrationData?t.hydrationData.loaderData:null,Be=t.hydrationData?t.hydrationData.errors:null;if(Be){let Xe=S.findIndex(ht=>Be[ht.route.id]!==void 0);I=S.slice(0,Xe+1).every(ht=>!tb(ht.route,Ne,Be))}else I=S.every(Xe=>!tb(Xe.route,Ne,Be))}else I=t.hydrationData!=null;else if(I=!1,S=[],f.v7_partialHydration){let Ne=qn(null,a,t.history.location.pathname);Ne.active&&Ne.matches&&(T=!0,S=Ne.matches)}let O,B={historyAction:t.history.action,location:t.history.location,matches:S,initialized:I,navigation:ty,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},V=ts.Pop,M=!1,R,k=!1,H=new Map,q=null,Y=!1,ae=!1,he=[],oe=new Set,Q=new Map,xe=0,W=-1,ee=new Map,z=new Set,U=new Map,ce=new Map,_e=new Set,Z=new Map,de=new Map,Ae;function Pe(){if(m=t.history.listen(Ne=>{let{action:Be,location:Xe,delta:ht}=Ne;if(Ae){Ae(),Ae=void 0;return}Mh(de.size===0||ht!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Pt=gt({currentLocation:B.location,nextLocation:Xe,historyAction:Be});if(Pt&&ht!=null){let Zt=new Promise(dn=>{Ae=dn});t.history.go(ht*-1),we(Pt,{state:"blocked",location:Xe,proceed(){we(Pt,{state:"proceeding",proceed:void 0,reset:void 0,location:Xe}),Zt.then(()=>t.history.go(ht))},reset(){let dn=new Map(B.blockers);dn.set(Pt,w0),Dt({blockers:dn})}});return}return pt(Be,Xe)}),n){NO(e,H);let Ne=()=>LO(e,H);e.addEventListener("pagehide",Ne),q=()=>e.removeEventListener("pagehide",Ne)}return B.initialized||pt(ts.Pop,B.location,{initialHydration:!0}),O}function ke(){m&&m(),q&&q(),p.clear(),R&&R.abort(),B.fetchers.forEach((Ne,Be)=>st(Be)),B.blockers.forEach((Ne,Be)=>qt(Be))}function ot(Ne){return p.add(Ne),()=>p.delete(Ne)}function Dt(Ne,Be){Be===void 0&&(Be={}),B=hi({},B,Ne);let Xe=[],ht=[];f.v7_fetcherPersist&&B.fetchers.forEach((Pt,Zt)=>{Pt.state==="idle"&&(_e.has(Zt)?ht.push(Zt):Xe.push(Zt))}),_e.forEach(Pt=>{!B.fetchers.has(Pt)&&!Q.has(Pt)&&ht.push(Pt)}),[...p].forEach(Pt=>Pt(B,{deletedFetchers:ht,viewTransitionOpts:Be.viewTransitionOpts,flushSync:Be.flushSync===!0})),f.v7_fetcherPersist?(Xe.forEach(Pt=>B.fetchers.delete(Pt)),ht.forEach(Pt=>st(Pt))):ht.forEach(Pt=>_e.delete(Pt))}function yt(Ne,Be,Xe){var ht,Pt;let{flushSync:Zt}=Xe===void 0?{}:Xe,dn=B.actionData!=null&&B.navigation.formMethod!=null&&gu(B.navigation.formMethod)&&B.navigation.state==="loading"&&((ht=Ne.state)==null?void 0:ht._isRedirect)!==!0,Qt;Be.actionData?Object.keys(Be.actionData).length>0?Qt=Be.actionData:Qt=null:dn?Qt=B.actionData:Qt=null;let en=Be.loaderData?jT(B.loaderData,Be.loaderData,Be.matches||[],Be.errors):B.loaderData,Jt=B.blockers;Jt.size>0&&(Jt=new Map(Jt),Jt.forEach((Cn,Dr)=>Jt.set(Dr,w0)));let Kt=M===!0||B.navigation.formMethod!=null&&gu(B.navigation.formMethod)&&((Pt=Ne.state)==null?void 0:Pt._isRedirect)!==!0;o&&(a=o,o=void 0),Y||V===ts.Pop||(V===ts.Push?t.history.push(Ne,Ne.state):V===ts.Replace&&t.history.replace(Ne,Ne.state));let An;if(V===ts.Pop){let Cn=H.get(B.location.pathname);Cn&&Cn.has(Ne.pathname)?An={currentLocation:B.location,nextLocation:Ne}:H.has(Ne.pathname)&&(An={currentLocation:Ne,nextLocation:B.location})}else if(k){let Cn=H.get(B.location.pathname);Cn?Cn.add(Ne.pathname):(Cn=new Set([Ne.pathname]),H.set(B.location.pathname,Cn)),An={currentLocation:B.location,nextLocation:Ne}}Dt(hi({},Be,{actionData:Qt,loaderData:en,historyAction:V,location:Ne,initialized:!0,navigation:ty,revalidation:"idle",restoreScrollPosition:un(Ne,Be.matches||B.matches),preventScrollReset:Kt,blockers:Jt}),{viewTransitionOpts:An,flushSync:Zt===!0}),V=ts.Pop,M=!1,k=!1,Y=!1,ae=!1,he=[]}async function jt(Ne,Be){if(typeof Ne=="number"){t.history.go(Ne);return}let Xe=eb(B.location,B.matches,u,f.v7_prependBasename,Ne,f.v7_relativeSplatPath,Be?.fromRouteId,Be?.relative),{path:ht,submission:Pt,error:Zt}=PT(f.v7_normalizeFormMethod,!1,Xe,Be),dn=B.location,Qt=bm(B.location,ht,Be&&Be.state);Qt=hi({},Qt,t.history.encodeLocation(Qt));let en=Be&&Be.replace!=null?Be.replace:void 0,Jt=ts.Push;en===!0?Jt=ts.Replace:en===!1||Pt!=null&&gu(Pt.formMethod)&&Pt.formAction===B.location.pathname+B.location.search&&(Jt=ts.Replace);let Kt=Be&&"preventScrollReset"in Be?Be.preventScrollReset===!0:void 0,An=(Be&&Be.flushSync)===!0,Cn=gt({currentLocation:dn,nextLocation:Qt,historyAction:Jt});if(Cn){we(Cn,{state:"blocked",location:Qt,proceed(){we(Cn,{state:"proceeding",proceed:void 0,reset:void 0,location:Qt}),jt(Ne,Be)},reset(){let Dr=new Map(B.blockers);Dr.set(Cn,w0),Dt({blockers:Dr})}});return}return await pt(Jt,Qt,{submission:Pt,pendingError:Zt,preventScrollReset:Kt,replace:Be&&Be.replace,enableViewTransition:Be&&Be.viewTransition,flushSync:An})}function le(){if(Ce(),Dt({revalidation:"loading"}),B.navigation.state!=="submitting"){if(B.navigation.state==="idle"){pt(B.historyAction,B.location,{startUninterruptedRevalidation:!0});return}pt(V||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation,enableViewTransition:k===!0})}}async function pt(Ne,Be,Xe){R&&R.abort(),R=null,V=Ne,Y=(Xe&&Xe.startUninterruptedRevalidation)===!0,Ht(B.location,B.matches),M=(Xe&&Xe.preventScrollReset)===!0,k=(Xe&&Xe.enableViewTransition)===!0;let ht=o||a,Pt=Xe&&Xe.overrideNavigation,Zt=Xe!=null&&Xe.initialHydration&&B.matches&&B.matches.length>0&&!T?B.matches:fh(ht,Be,u),dn=(Xe&&Xe.flushSync)===!0;if(Zt&&B.initialized&&!ae&&bO(B.location,Be)&&!(Xe&&Xe.submission&&gu(Xe.submission.formMethod))){yt(Be,{matches:Zt},{flushSync:dn});return}let Qt=qn(Zt,ht,Be.pathname);if(Qt.active&&Qt.matches&&(Zt=Qt.matches),!Zt){let{error:Jn,notFoundMatches:$n,route:gr}=vt(Be.pathname);yt(Be,{matches:$n,loaderData:{},errors:{[gr.id]:Jn}},{flushSync:dn});return}R=new AbortController;let en=yf(t.history,Be,R.signal,Xe&&Xe.submission),Jt;if(Xe&&Xe.pendingError)Jt=[ph(Zt).route.id,{type:Fr.error,error:Xe.pendingError}];else if(Xe&&Xe.submission&&gu(Xe.submission.formMethod)){let Jn=await rn(en,Be,Xe.submission,Zt,Qt.active,{replace:Xe.replace,flushSync:dn});if(Jn.shortCircuited)return;if(Jn.pendingActionResult){let[$n,gr]=Jn.pendingActionResult;if(fo(gr)&&Em(gr.error)&&gr.error.status===404){R=null,yt(Be,{matches:Jn.matches,loaderData:{},errors:{[$n]:gr.error}});return}}Zt=Jn.matches||Zt,Jt=Jn.pendingActionResult,Pt=ny(Be,Xe.submission),dn=!1,Qt.active=!1,en=yf(t.history,en.url,en.signal)}let{shortCircuited:Kt,matches:An,loaderData:Cn,errors:Dr}=await Ee(en,Be,Zt,Qt.active,Pt,Xe&&Xe.submission,Xe&&Xe.fetcherSubmission,Xe&&Xe.replace,Xe&&Xe.initialHydration===!0,dn,Jt);Kt||(R=null,yt(Be,hi({matches:An||Zt},zT(Jt),{loaderData:Cn,errors:Dr})))}async function rn(Ne,Be,Xe,ht,Pt,Zt){Zt===void 0&&(Zt={}),Ce();let dn=DO(Be,Xe);if(Dt({navigation:dn},{flushSync:Zt.flushSync===!0}),Pt){let Jt=await Fn(ht,Be.pathname,Ne.signal);if(Jt.type==="aborted")return{shortCircuited:!0};if(Jt.type==="error"){let Kt=ph(Jt.partialMatches).route.id;return{matches:Jt.partialMatches,pendingActionResult:[Kt,{type:Fr.error,error:Jt.error}]}}else if(Jt.matches)ht=Jt.matches;else{let{notFoundMatches:Kt,error:An,route:Cn}=vt(Be.pathname);return{matches:Kt,pendingActionResult:[Cn.id,{type:Fr.error,error:An}]}}}let Qt,en=V0(ht,Be);if(!en.route.action&&!en.route.lazy)Qt={type:Fr.error,error:Va(405,{method:Ne.method,pathname:Be.pathname,routeId:en.route.id})};else if(Qt=(await De("action",B,Ne,[en],ht,null))[en.route.id],Ne.signal.aborted)return{shortCircuited:!0};if(xh(Qt)){let Jt;return Zt&&Zt.replace!=null?Jt=Zt.replace:Jt=OT(Qt.response.headers.get("Location"),new URL(Ne.url),u,t.history)===B.location.pathname+B.location.search,await G(Ne,Qt,!0,{submission:Xe,replace:Jt}),{shortCircuited:!0}}if(cd(Qt))throw Va(400,{type:"defer-action"});if(fo(Qt)){let Jt=ph(ht,en.route.id);return(Zt&&Zt.replace)!==!0&&(V=ts.Push),{matches:ht,pendingActionResult:[Jt.route.id,Qt]}}return{matches:ht,pendingActionResult:[en.route.id,Qt]}}async function Ee(Ne,Be,Xe,ht,Pt,Zt,dn,Qt,en,Jt,Kt){let An=Pt||ny(Be,Zt),Cn=Zt||dn||WT(An),Dr=!Y&&(!f.v7_partialHydration||!en);if(ht){if(Dr){let Ft=ct(Kt);Dt(hi({navigation:An},Ft!==void 0?{actionData:Ft}:{}),{flushSync:Jt})}let Et=await Fn(Xe,Be.pathname,Ne.signal);if(Et.type==="aborted")return{shortCircuited:!0};if(Et.type==="error"){let Ft=ph(Et.partialMatches).route.id;return{matches:Et.partialMatches,loaderData:{},errors:{[Ft]:Et.error}}}else if(Et.matches)Xe=Et.matches;else{let{error:Ft,notFoundMatches:Ot,route:tn}=vt(Be.pathname);return{matches:Ot,loaderData:{},errors:{[tn.id]:Ft}}}}let Jn=o||a,[$n,gr]=IT(t.history,B,Xe,Cn,Be,f.v7_partialHydration&&en===!0,f.v7_skipActionErrorRevalidation,ae,he,oe,_e,U,z,Jn,u,Kt);if(bt(Et=>!(Xe&&Xe.some(Ft=>Ft.route.id===Et))||$n&&$n.some(Ft=>Ft.route.id===Et)),W=++xe,$n.length===0&&gr.length===0){let Et=Tt();return yt(Be,hi({matches:Xe,loaderData:{},errors:Kt&&fo(Kt[1])?{[Kt[0]]:Kt[1].error}:null},zT(Kt),Et?{fetchers:new Map(B.fetchers)}:{}),{flushSync:Jt}),{shortCircuited:!0}}if(Dr){let Et={};if(!ht){Et.navigation=An;let Ft=ct(Kt);Ft!==void 0&&(Et.actionData=Ft)}gr.length>0&&(Et.fetchers=zt(gr)),Dt(Et,{flushSync:Jt})}gr.forEach(Et=>{et(Et.key),Et.controller&&Q.set(Et.key,Et.controller)});let gs=()=>gr.forEach(Et=>et(Et.key));R&&R.signal.addEventListener("abort",gs);let{loaderResults:Hs,fetcherResults:Rs}=await ge(B,Xe,$n,gr,Ne);if(Ne.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",gs),gr.forEach(Et=>Q.delete(Et.key));let tr=Jg(Hs);if(tr)return await G(Ne,tr.result,!0,{replace:Qt}),{shortCircuited:!0};if(tr=Jg(Rs),tr)return z.add(tr.key),await G(Ne,tr.result,!0,{replace:Qt}),{shortCircuited:!0};let{loaderData:re,errors:Ue}=UT(B,Xe,Hs,Kt,gr,Rs,Z);Z.forEach((Et,Ft)=>{Et.subscribe(Ot=>{(Ot||Et.done)&&Z.delete(Ft)})}),f.v7_partialHydration&&en&&B.errors&&(Ue=hi({},B.errors,Ue));let Ge=Tt(),Ye=Nt(W),ze=Ge||Ye||gr.length>0;return hi({matches:Xe,loaderData:re,errors:Ue},ze?{fetchers:new Map(B.fetchers)}:{})}function ct(Ne){if(Ne&&!fo(Ne[1]))return{[Ne[0]]:Ne[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function zt(Ne){return Ne.forEach(Be=>{let Xe=B.fetchers.get(Be.key),ht=A0(void 0,Xe?Xe.data:void 0);B.fetchers.set(Be.key,ht)}),new Map(B.fetchers)}function Mt(Ne,Be,Xe,ht){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");et(Ne);let Pt=(ht&&ht.flushSync)===!0,Zt=o||a,dn=eb(B.location,B.matches,u,f.v7_prependBasename,Xe,f.v7_relativeSplatPath,Be,ht?.relative),Qt=fh(Zt,dn,u),en=qn(Qt,Zt,dn);if(en.active&&en.matches&&(Qt=en.matches),!Qt){Ve(Ne,Be,Va(404,{pathname:dn}),{flushSync:Pt});return}let{path:Jt,submission:Kt,error:An}=PT(f.v7_normalizeFormMethod,!0,dn,ht);if(An){Ve(Ne,Be,An,{flushSync:Pt});return}let Cn=V0(Qt,Jt),Dr=(ht&&ht.preventScrollReset)===!0;if(Kt&&gu(Kt.formMethod)){xt(Ne,Be,Jt,Cn,Qt,en.active,Pt,Dr,Kt);return}U.set(Ne,{routeId:Be,path:Jt}),se(Ne,Be,Jt,Cn,Qt,en.active,Pt,Dr,Kt)}async function xt(Ne,Be,Xe,ht,Pt,Zt,dn,Qt,en){Ce(),U.delete(Ne);function Jt(It){if(!It.route.action&&!It.route.lazy){let mn=Va(405,{method:en.formMethod,pathname:Xe,routeId:Be});return Ve(Ne,Be,mn,{flushSync:dn}),!0}return!1}if(!Zt&&Jt(ht))return;let Kt=B.fetchers.get(Ne);Le(Ne,CO(en,Kt),{flushSync:dn});let An=new AbortController,Cn=yf(t.history,Xe,An.signal,en);if(Zt){let It=await Fn(Pt,new URL(Cn.url).pathname,Cn.signal,Ne);if(It.type==="aborted")return;if(It.type==="error"){Ve(Ne,Be,It.error,{flushSync:dn});return}else if(It.matches){if(Pt=It.matches,ht=V0(Pt,Xe),Jt(ht))return}else{Ve(Ne,Be,Va(404,{pathname:Xe}),{flushSync:dn});return}}Q.set(Ne,An);let Dr=xe,$n=(await De("action",B,Cn,[ht],Pt,Ne))[ht.route.id];if(Cn.signal.aborted){Q.get(Ne)===An&&Q.delete(Ne);return}if(f.v7_fetcherPersist&&_e.has(Ne)){if(xh($n)||fo($n)){Le(Ne,td(void 0));return}}else{if(xh($n))if(Q.delete(Ne),W>Dr){Le(Ne,td(void 0));return}else return z.add(Ne),Le(Ne,A0(en)),G(Cn,$n,!1,{fetcherSubmission:en,preventScrollReset:Qt});if(fo($n)){Ve(Ne,Be,$n.error);return}}if(cd($n))throw Va(400,{type:"defer-action"});let gr=B.navigation.location||B.location,gs=yf(t.history,gr,An.signal),Hs=o||a,Rs=B.navigation.state!=="idle"?fh(Hs,B.navigation.location,u):B.matches;ir(Rs,"Didn't find any matches after fetcher action");let tr=++xe;ee.set(Ne,tr);let re=A0(en,$n.data);B.fetchers.set(Ne,re);let[Ue,Ge]=IT(t.history,B,Rs,en,gr,!1,f.v7_skipActionErrorRevalidation,ae,he,oe,_e,U,z,Hs,u,[ht.route.id,$n]);Ge.filter(It=>It.key!==Ne).forEach(It=>{let mn=It.key,xn=B.fetchers.get(mn),_n=A0(void 0,xn?xn.data:void 0);B.fetchers.set(mn,_n),et(mn),It.controller&&Q.set(mn,It.controller)}),Dt({fetchers:new Map(B.fetchers)});let Ye=()=>Ge.forEach(It=>et(It.key));An.signal.addEventListener("abort",Ye);let{loaderResults:ze,fetcherResults:Et}=await ge(B,Rs,Ue,Ge,gs);if(An.signal.aborted)return;An.signal.removeEventListener("abort",Ye),ee.delete(Ne),Q.delete(Ne),Ge.forEach(It=>Q.delete(It.key));let Ft=Jg(ze);if(Ft)return G(gs,Ft.result,!1,{preventScrollReset:Qt});if(Ft=Jg(Et),Ft)return z.add(Ft.key),G(gs,Ft.result,!1,{preventScrollReset:Qt});let{loaderData:Ot,errors:tn}=UT(B,Rs,ze,void 0,Ge,Et,Z);if(B.fetchers.has(Ne)){let It=td($n.data);B.fetchers.set(Ne,It)}Nt(tr),B.navigation.state==="loading"&&tr>W?(ir(V,"Expected pending action"),R&&R.abort(),yt(B.navigation.location,{matches:Rs,loaderData:Ot,errors:tn,fetchers:new Map(B.fetchers)})):(Dt({errors:tn,loaderData:jT(B.loaderData,Ot,Rs,tn),fetchers:new Map(B.fetchers)}),ae=!1)}async function se(Ne,Be,Xe,ht,Pt,Zt,dn,Qt,en){let Jt=B.fetchers.get(Ne);Le(Ne,A0(en,Jt?Jt.data:void 0),{flushSync:dn});let Kt=new AbortController,An=yf(t.history,Xe,Kt.signal);if(Zt){let $n=await Fn(Pt,new URL(An.url).pathname,An.signal,Ne);if($n.type==="aborted")return;if($n.type==="error"){Ve(Ne,Be,$n.error,{flushSync:dn});return}else if($n.matches)Pt=$n.matches,ht=V0(Pt,Xe);else{Ve(Ne,Be,Va(404,{pathname:Xe}),{flushSync:dn});return}}Q.set(Ne,Kt);let Cn=xe,Jn=(await De("loader",B,An,[ht],Pt,Ne))[ht.route.id];if(cd(Jn)&&(Jn=await vw(Jn,An.signal,!0)||Jn),Q.get(Ne)===Kt&&Q.delete(Ne),!An.signal.aborted){if(_e.has(Ne)){Le(Ne,td(void 0));return}if(xh(Jn))if(W>Cn){Le(Ne,td(void 0));return}else{z.add(Ne),await G(An,Jn,!1,{preventScrollReset:Qt});return}if(fo(Jn)){Ve(Ne,Be,Jn.error);return}ir(!cd(Jn),"Unhandled fetcher deferred data"),Le(Ne,td(Jn.data))}}async function G(Ne,Be,Xe,ht){let{submission:Pt,fetcherSubmission:Zt,preventScrollReset:dn,replace:Qt}=ht===void 0?{}:ht;Be.response.headers.has("X-Remix-Revalidate")&&(ae=!0);let en=Be.response.headers.get("Location");ir(en,"Expected a Location header on the redirect Response"),en=OT(en,new URL(Ne.url),u,t.history);let Jt=bm(B.location,en,{_isRedirect:!0});if(n){let $n=!1;if(Be.response.headers.has("X-Remix-Reload-Document"))$n=!0;else if(gw.test(en)){const gr=t.history.createURL(en);$n=gr.origin!==e.location.origin||ic(gr.pathname,u)==null}if($n){Qt?e.location.replace(en):e.location.assign(en);return}}R=null;let Kt=Qt===!0||Be.response.headers.has("X-Remix-Replace")?ts.Replace:ts.Push,{formMethod:An,formAction:Cn,formEncType:Dr}=B.navigation;!Pt&&!Zt&&An&&Cn&&Dr&&(Pt=WT(B.navigation));let Jn=Pt||Zt;if(uO.has(Be.response.status)&&Jn&&gu(Jn.formMethod))await pt(Kt,Jt,{submission:hi({},Jn,{formAction:en}),preventScrollReset:dn||M,enableViewTransition:Xe?k:void 0});else{let $n=ny(Jt,Pt);await pt(Kt,Jt,{overrideNavigation:$n,fetcherSubmission:Zt,preventScrollReset:dn||M,enableViewTransition:Xe?k:void 0})}}async function De(Ne,Be,Xe,ht,Pt,Zt){let dn,Qt={};try{dn=await gO(l,Ne,Be,Xe,ht,Pt,Zt,s,i)}catch(en){return ht.forEach(Jt=>{Qt[Jt.route.id]={type:Fr.error,error:en}}),Qt}for(let[en,Jt]of Object.entries(dn))if(EO(Jt)){let Kt=Jt.result;Qt[en]={type:Fr.redirect,response:yO(Kt,Xe,en,Pt,u,f.v7_relativeSplatPath)}}else Qt[en]=await _O(Jt);return Qt}async function ge(Ne,Be,Xe,ht,Pt){let Zt=Ne.matches,dn=De("loader",Ne,Pt,Xe,Be,null),Qt=Promise.all(ht.map(async Kt=>{if(Kt.matches&&Kt.match&&Kt.controller){let Cn=(await De("loader",Ne,yf(t.history,Kt.path,Kt.controller.signal),[Kt.match],Kt.matches,Kt.key))[Kt.match.route.id];return{[Kt.key]:Cn}}else return Promise.resolve({[Kt.key]:{type:Fr.error,error:Va(404,{pathname:Kt.path})}})})),en=await dn,Jt=(await Qt).reduce((Kt,An)=>Object.assign(Kt,An),{});return await Promise.all([SO(Be,en,Pt.signal,Zt,Ne.loaderData),TO(Be,Jt,ht)]),{loaderResults:en,fetcherResults:Jt}}function Ce(){ae=!0,he.push(...bt()),U.forEach((Ne,Be)=>{Q.has(Be)&&oe.add(Be),et(Be)})}function Le(Ne,Be,Xe){Xe===void 0&&(Xe={}),B.fetchers.set(Ne,Be),Dt({fetchers:new Map(B.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function Ve(Ne,Be,Xe,ht){ht===void 0&&(ht={});let Pt=ph(B.matches,Be);st(Ne),Dt({errors:{[Pt.route.id]:Xe},fetchers:new Map(B.fetchers)},{flushSync:(ht&&ht.flushSync)===!0})}function Ze(Ne){return ce.set(Ne,(ce.get(Ne)||0)+1),_e.has(Ne)&&_e.delete(Ne),B.fetchers.get(Ne)||lO}function st(Ne){let Be=B.fetchers.get(Ne);Q.has(Ne)&&!(Be&&Be.state==="loading"&&ee.has(Ne))&&et(Ne),U.delete(Ne),ee.delete(Ne),z.delete(Ne),f.v7_fetcherPersist&&_e.delete(Ne),oe.delete(Ne),B.fetchers.delete(Ne)}function Yt(Ne){let Be=(ce.get(Ne)||0)-1;Be<=0?(ce.delete(Ne),_e.add(Ne),f.v7_fetcherPersist||st(Ne)):ce.set(Ne,Be),Dt({fetchers:new Map(B.fetchers)})}function et(Ne){let Be=Q.get(Ne);Be&&(Be.abort(),Q.delete(Ne))}function ft(Ne){for(let Be of Ne){let Xe=Ze(Be),ht=td(Xe.data);B.fetchers.set(Be,ht)}}function Tt(){let Ne=[],Be=!1;for(let Xe of z){let ht=B.fetchers.get(Xe);ir(ht,"Expected fetcher: "+Xe),ht.state==="loading"&&(z.delete(Xe),Ne.push(Xe),Be=!0)}return ft(Ne),Be}function Nt(Ne){let Be=[];for(let[Xe,ht]of ee)if(ht<Ne){let Pt=B.fetchers.get(Xe);ir(Pt,"Expected fetcher: "+Xe),Pt.state==="loading"&&(et(Xe),ee.delete(Xe),Be.push(Xe))}return ft(Be),Be.length>0}function nt(Ne,Be){let Xe=B.blockers.get(Ne)||w0;return de.get(Ne)!==Be&&de.set(Ne,Be),Xe}function qt(Ne){B.blockers.delete(Ne),de.delete(Ne)}function we(Ne,Be){let Xe=B.blockers.get(Ne)||w0;ir(Xe.state==="unblocked"&&Be.state==="blocked"||Xe.state==="blocked"&&Be.state==="blocked"||Xe.state==="blocked"&&Be.state==="proceeding"||Xe.state==="blocked"&&Be.state==="unblocked"||Xe.state==="proceeding"&&Be.state==="unblocked","Invalid blocker state transition: "+Xe.state+" -> "+Be.state);let ht=new Map(B.blockers);ht.set(Ne,Be),Dt({blockers:ht})}function gt(Ne){let{currentLocation:Be,nextLocation:Xe,historyAction:ht}=Ne;if(de.size===0)return;de.size>1&&Mh(!1,"A router only supports one blocker at a time");let Pt=Array.from(de.entries()),[Zt,dn]=Pt[Pt.length-1],Qt=B.blockers.get(Zt);if(!(Qt&&Qt.state==="proceeding")&&dn({currentLocation:Be,nextLocation:Xe,historyAction:ht}))return Zt}function vt(Ne){let Be=Va(404,{pathname:Ne}),Xe=o||a,{matches:ht,route:Pt}=HT(Xe);return bt(),{notFoundMatches:ht,route:Pt,error:Be}}function bt(Ne){let Be=[];return Z.forEach((Xe,ht)=>{(!Ne||Ne(ht))&&(Xe.cancel(),Be.push(ht),Z.delete(ht))}),Be}function Qe(Ne,Be,Xe){if(_=Ne,y=Be,E=Xe||null,!v&&B.navigation===ty){v=!0;let ht=un(B.location,B.matches);ht!=null&&Dt({restoreScrollPosition:ht})}return()=>{_=null,y=null,E=null}}function rt(Ne,Be){return E&&E(Ne,Be.map(ht=>U8(ht,B.loaderData)))||Ne.key}function Ht(Ne,Be){if(_&&y){let Xe=rt(Ne,Be);_[Xe]=y()}}function un(Ne,Be){if(_){let Xe=rt(Ne,Be),ht=_[Xe];if(typeof ht=="number")return ht}return null}function qn(Ne,Be,Xe){if(d)if(Ne){if(Object.keys(Ne[0].params).length>0)return{active:!0,matches:tv(Be,Xe,u,!0)}}else return{active:!0,matches:tv(Be,Xe,u,!0)||[]};return{active:!1,matches:null}}async function Fn(Ne,Be,Xe,ht){if(!d)return{type:"success",matches:Ne};let Pt=Ne;for(;;){let Zt=o==null,dn=o||a,Qt=s;try{await d({signal:Xe,path:Be,matches:Pt,fetcherKey:ht,patch:(Kt,An)=>{Xe.aborted||FT(Kt,An,dn,Qt,i)}})}catch(Kt){return{type:"error",error:Kt,partialMatches:Pt}}finally{Zt&&!Xe.aborted&&(a=[...a])}if(Xe.aborted)return{type:"aborted"};let en=fh(dn,Be,u);if(en)return{type:"success",matches:en};let Jt=tv(dn,Be,u,!0);if(!Jt||Pt.length===Jt.length&&Pt.every((Kt,An)=>Kt.route.id===Jt[An].route.id))return{type:"success",matches:null};Pt=Jt}}function cn(Ne){s={},o=Tv(Ne,i,void 0,s)}function Vr(Ne,Be){let Xe=o==null;FT(Ne,Be,o||a,s,i),Xe&&(a=[...a],Dt({}))}return O={get basename(){return u},get future(){return f},get state(){return B},get routes(){return a},get window(){return e},initialize:Pe,subscribe:ot,enableScrollRestoration:Qe,navigate:jt,fetch:Mt,revalidate:le,createHref:Ne=>t.history.createHref(Ne),encodeLocation:Ne=>t.history.encodeLocation(Ne),getFetcher:Ze,deleteFetcher:Yt,dispose:ke,getBlocker:nt,deleteBlocker:qt,patchRoutes:Vr,_internalFetchControllers:Q,_internalActiveDeferreds:Z,_internalSetRoutes:cn},O}function hO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function eb(t,e,n,r,i,s,a,o){let u,l;if(a){u=[];for(let f of e)if(u.push(f),f.route.id===a){l=f;break}}else u=e,l=e[e.length-1];let d=x_(i||".",y_(u,s),ic(t.pathname,n)||t.pathname,o==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&l){let f=_w(d.search);if(l.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&f){let m=new URLSearchParams(d.search),p=m.getAll("index");m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let _=m.toString();d.search=_?"?"+_:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Xl([n,d.pathname])),Ph(d)}function PT(t,e,n,r){if(!r||!hO(r))return{path:n};if(r.formMethod&&!AO(r.formMethod))return{path:n,error:Va(405,{method:r.formMethod})};let i=()=>({path:n,error:Va(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),o=AL(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!gu(a))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,_)=>{let[E,y]=_;return""+p+E+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!gu(a))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ir(typeof FormData=="function","FormData is not available in this environment");let u,l;if(r.formData)u=nb(r.formData),l=r.formData;else if(r.body instanceof FormData)u=nb(r.body),l=r.body;else if(r.body instanceof URLSearchParams)u=r.body,l=BT(u);else if(r.body==null)u=new URLSearchParams,l=new FormData;else try{u=new URLSearchParams(r.body),l=BT(u)}catch{return i()}let d={formMethod:a,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(gu(d.formMethod))return{path:n,submission:d};let f=yd(n);return e&&f.search&&_w(f.search)&&u.append("index",""),f.search="?"+u,{path:Ph(f),submission:d}}function RT(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function IT(t,e,n,r,i,s,a,o,u,l,d,f,m,p,_,E){let y=E?fo(E[1])?E[1].error:E[1].data:void 0,v=t.createURL(e.location),S=t.createURL(i),T=n;s&&e.errors?T=RT(n,Object.keys(e.errors)[0],!0):E&&fo(E[1])&&(T=RT(n,E[0]));let L=E?E[1].statusCode:void 0,I=a&&L&&L>=400,O=T.filter((V,M)=>{let{route:R}=V;if(R.lazy)return!0;if(R.loader==null)return!1;if(s)return tb(R,e.loaderData,e.errors);if(fO(e.loaderData,e.matches[M],V)||u.some(q=>q===V.route.id))return!0;let k=e.matches[M],H=V;return kT(V,hi({currentUrl:v,currentParams:k.params,nextUrl:S,nextParams:H.params},r,{actionResult:y,actionStatus:L,defaultShouldRevalidate:I?!1:o||v.pathname+v.search===S.pathname+S.search||v.search!==S.search||EL(k,H)}))}),B=[];return f.forEach((V,M)=>{if(s||!n.some(Y=>Y.route.id===V.routeId)||d.has(M))return;let R=fh(p,V.path,_);if(!R){B.push({key:M,routeId:V.routeId,path:V.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(M),H=V0(R,V.path),q=!1;m.has(M)?q=!1:l.has(M)?(l.delete(M),q=!0):k&&k.state!=="idle"&&k.data===void 0?q=o:q=kT(H,hi({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:L,defaultShouldRevalidate:I?!1:o})),q&&B.push({key:M,routeId:V.routeId,path:V.path,matches:R,match:H,controller:new AbortController})}),[O,B]}function tb(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function fO(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function EL(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function kT(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function FT(t,e,n,r,i){var s;let a;if(t){let l=r[t];ir(l,"No route found to patch children into: routeId = "+t),l.children||(l.children=[]),a=l.children}else a=n;let o=e.filter(l=>!a.some(d=>wL(l,d))),u=Tv(o,i,[t||"_","patch",String(((s=a)==null?void 0:s.length)||"0")],r);a.push(...u)}function wL(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>wL(n,s))}):!1}async function pO(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ir(i,"No route found in manifest");let s={};for(let a in r){let u=i[a]!==void 0&&a!=="hasErrorBoundary";Mh(!u,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!O8.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,hi({},e(i),{lazy:void 0}))}async function mO(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,a)=>Object.assign(i,{[n[a].route.id]:s}),{})}async function gO(t,e,n,r,i,s,a,o,u,l){let d=s.map(p=>p.route.lazy?pO(p.route,u,o):void 0),f=s.map((p,_)=>{let E=d[_],y=i.some(S=>S.route.id===p.route.id);return hi({},p,{shouldLoad:y,resolve:async S=>(S&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(y=!0),y?vO(e,r,p,E,S,l):Promise.resolve({type:Fr.data,result:void 0}))})}),m=await t({matches:f,request:r,params:s[0].params,fetcherKey:a,context:l});try{await Promise.all(d)}catch{}return m}async function vO(t,e,n,r,i,s){let a,o,u=l=>{let d,f=new Promise((_,E)=>d=E);o=()=>d(),e.signal.addEventListener("abort",o);let m=_=>typeof l!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):l({request:e,params:n.params,context:s},..._!==void 0?[_]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(E=>m(E)):m())}}catch(_){return{type:"error",result:_}}})();return Promise.race([p,f])};try{let l=n.route[t];if(r)if(l){let d,[f]=await Promise.all([u(l).catch(m=>{d=m}),r]);if(d!==void 0)throw d;a=f}else if(await r,l=n.route[t],l)a=await u(l);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw Va(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Fr.data,result:void 0};else if(l)a=await u(l);else{let d=new URL(e.url),f=d.pathname+d.search;throw Va(404,{pathname:f})}ir(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(l){return{type:Fr.error,result:l}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function _O(t){let{result:e,type:n}=t;if(SL(e)){let f;try{let m=e.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(m){return{type:Fr.error,error:m}}return n===Fr.error?{type:Fr.error,error:new Cv(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:Fr.data,data:f,statusCode:e.status,headers:e.headers}}if(n===Fr.error){if(VT(e)){var r,i;if(e.data instanceof Error){var s,a;return{type:Fr.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:Fr.error,error:new Cv(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Em(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Fr.error,error:e,statusCode:Em(e)?e.status:void 0}}if(wO(e)){var o,u;return{type:Fr.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((u=e.init)==null?void 0:u.headers)&&new Headers(e.init.headers)}}if(VT(e)){var l,d;return{type:Fr.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}}return{type:Fr.data,data:e}}function yO(t,e,n,r,i,s){let a=t.headers.get("Location");if(ir(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!gw.test(a)){let o=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=eb(new URL(e.url),o,i,!0,a,s),t.headers.set("Location",a)}return t}function OT(t,e,n,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(gw.test(t)){let s=t,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s);if(i.includes(a.protocol))throw new Error("Invalid redirect location");let o=ic(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}try{let s=r.createURL(t);if(i.includes(s.protocol))throw new Error("Invalid redirect location")}catch{}return t}function yf(t,e,n,r){let i=t.createURL(AL(e)).toString(),s={signal:n};if(r&&gu(r.formMethod)){let{formMethod:a,formEncType:o}=r;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(r.json)):o==="text/plain"?s.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?s.body=nb(r.formData):s.body=r.formData}return new Request(i,s)}function nb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function BT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function xO(t,e,n,r,i){let s={},a=null,o,u=!1,l={},d=n&&fo(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let m=f.route.id,p=e[m];if(ir(!xh(p),"Cannot handle redirect results in processLoaderData"),fo(p)){let _=p.error;d!==void 0&&(_=d,d=void 0),a=a||{};{let E=ph(t,m);a[E.route.id]==null&&(a[E.route.id]=_)}s[m]=void 0,u||(u=!0,o=Em(p.error)?p.error.status:500),p.headers&&(l[m]=p.headers)}else cd(p)?(r.set(m,p.deferredData),s[m]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!u&&(o=p.statusCode),p.headers&&(l[m]=p.headers)):(s[m]=p.data,p.statusCode&&p.statusCode!==200&&!u&&(o=p.statusCode),p.headers&&(l[m]=p.headers))}),d!==void 0&&n&&(a={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:l}}function UT(t,e,n,r,i,s,a){let{loaderData:o,errors:u}=xO(e,n,r,a);return i.forEach(l=>{let{key:d,match:f,controller:m}=l,p=s[d];if(ir(p,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(fo(p)){let _=ph(t.matches,f?.route.id);u&&u[_.route.id]||(u=hi({},u,{[_.route.id]:p.error})),t.fetchers.delete(d)}else if(xh(p))ir(!1,"Unhandled fetcher revalidation redirect");else if(cd(p))ir(!1,"Unhandled fetcher deferred data");else{let _=td(p.data);t.fetchers.set(d,_)}}),{loaderData:o,errors:u}}function jT(t,e,n,r){let i=hi({},e);for(let s of n){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function zT(t){return t?fo(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ph(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function HT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Va(t,e){let{pathname:n,routeId:r,method:i,type:s,message:a}=e===void 0?{}:e,o="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(o="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",u='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Cv(t||500,o,new Error(u),!0)}function Jg(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(xh(i))return{key:r,result:i}}}function AL(t){let e=typeof t=="string"?yd(t):t;return Ph(hi({},e,{hash:""}))}function bO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function EO(t){return SL(t.result)&&oO.has(t.result.status)}function cd(t){return t.type===Fr.deferred}function fo(t){return t.type===Fr.error}function xh(t){return(t&&t.type)===Fr.redirect}function VT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function wO(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function SL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function AO(t){return aO.has(t.toLowerCase())}function gu(t){return iO.has(t.toLowerCase())}async function SO(t,e,n,r,i){let s=Object.entries(e);for(let a=0;a<s.length;a++){let[o,u]=s[a],l=t.find(m=>m?.route.id===o);if(!l)continue;let d=r.find(m=>m.route.id===l.route.id),f=d!=null&&!EL(d,l)&&(i&&i[l.route.id])!==void 0;cd(u)&&f&&await vw(u,n,!1).then(m=>{m&&(e[o]=m)})}}async function TO(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:a}=n[r],o=e[i];t.find(l=>l?.route.id===s)&&cd(o)&&(ir(a,"Expected an AbortController for revalidating fetcher deferred result"),await vw(o,a.signal,!0).then(l=>{l&&(e[i]=l)}))}}async function vw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Fr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Fr.error,error:i}}return{type:Fr.data,data:t.deferredData.data}}}function _w(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function V0(t,e){let n=typeof e=="string"?yd(e).search:e.search;if(t[t.length-1].route.index&&_w(n||""))return t[t.length-1];let r=yL(t);return r[r.length-1]}function WT(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function ny(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function DO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function A0(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function CO(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function td(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function NO(t,e){try{let n=t.sessionStorage.getItem(bL);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function LO(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(bL,JSON.stringify(n))}catch(r){Mh(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(this,arguments)}const Gm=ne.createContext(null),yw=ne.createContext(null),cc=ne.createContext(null),xw=ne.createContext(null),ul=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),TL=ne.createContext(null);function MO(t,e){let{relative:n}=e===void 0?{}:e;Hp()||ir(!1);let{basename:r,navigator:i}=ne.useContext(cc),{hash:s,pathname:a,search:o}=b_(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Xl([r,a])),i.createHref({pathname:u,search:o,hash:s})}function Hp(){return ne.useContext(xw)!=null}function dc(){return Hp()||ir(!1),ne.useContext(xw).location}function DL(t){ne.useContext(cc).static||ne.useLayoutEffect(t)}function bw(){let{isDataRoute:t}=ne.useContext(ul);return t?qO():PO()}function PO(){Hp()||ir(!1);let t=ne.useContext(Gm),{basename:e,future:n,navigator:r}=ne.useContext(cc),{matches:i}=ne.useContext(ul),{pathname:s}=dc(),a=JSON.stringify(y_(i,n.v7_relativeSplatPath)),o=ne.useRef(!1);return DL(()=>{o.current=!0}),ne.useCallback(function(l,d){if(d===void 0&&(d={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let f=x_(l,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xl([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}const RO=ne.createContext(null);function IO(t){let e=ne.useContext(ul).outlet;return e&&ne.createElement(RO.Provider,{value:t},e)}function kO(){let{matches:t}=ne.useContext(ul),e=t[t.length-1];return e?e.params:{}}function b_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ne.useContext(cc),{matches:i}=ne.useContext(ul),{pathname:s}=dc(),a=JSON.stringify(y_(i,r.v7_relativeSplatPath));return ne.useMemo(()=>x_(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function FO(t,e,n,r){Hp()||ir(!1);let{navigator:i}=ne.useContext(cc),{matches:s}=ne.useContext(ul),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let l=dc(),d;d=l;let f=d.pathname||"/",m=f;if(u!=="/"){let E=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let p=fh(t,{pathname:m});return zO(p&&p.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Xl([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:Xl([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function OO(){let t=GO(),e=Em(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),n?ne.createElement("pre",{style:i},n):null,null)}const BO=ne.createElement(OO,null);class UO extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ne.createElement(ul.Provider,{value:this.props.routeContext},ne.createElement(TL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jO(t){let{routeContext:e,match:n,children:r}=t,i=ne.useContext(Gm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ne.createElement(ul.Provider,{value:e},r)}function zO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);d>=0||ir(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:m,errors:p}=n,_=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||_){u=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((d,f,m)=>{let p,_=!1,E=null,y=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,E=f.route.errorElement||BO,u&&(l<0&&m===0?($O("route-fallback"),_=!0,y=null):l===m&&(_=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,m+1)),S=()=>{let T;return p?T=E:_?T=y:f.route.Component?T=ne.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,ne.createElement(jO,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?ne.createElement(UO,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}var CL=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(CL||{}),NL=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(NL||{});function HO(t){let e=ne.useContext(Gm);return e||ir(!1),e}function LL(t){let e=ne.useContext(yw);return e||ir(!1),e}function VO(t){let e=ne.useContext(ul);return e||ir(!1),e}function ML(t){let e=VO(),n=e.matches[e.matches.length-1];return n.route.id||ir(!1),n.route.id}function WO(){return LL().navigation}function GO(){var t;let e=ne.useContext(TL),n=LL(),r=ML();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qO(){let{router:t}=HO(CL.UseNavigateStable),e=ML(NL.UseNavigateStable),n=ne.useRef(!1);return DL(()=>{n.current=!0}),ne.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nv({fromRouteId:e},s)))},[t,e])}const GT={};function $O(t,e,n){GT[t]||(GT[t]=!0)}function KO(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function rb(t){let{to:e,replace:n,state:r,relative:i}=t;Hp()||ir(!1);let{future:s,static:a}=ne.useContext(cc),{matches:o}=ne.useContext(ul),{pathname:u}=dc(),l=bw(),d=x_(e,y_(o,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return ne.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function PL(t){return IO(t.context)}function YO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ts.Pop,navigator:s,static:a=!1,future:o}=t;Hp()&&ir(!1);let u=e.replace(/^\/*/,"/"),l=ne.useMemo(()=>({basename:u,navigator:s,static:a,future:Nv({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof r=="string"&&(r=yd(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:_="default"}=r,E=ne.useMemo(()=>{let y=ic(d,u);return y==null?null:{location:{pathname:y,search:f,hash:m,state:p,key:_},navigationType:i}},[u,d,f,m,p,_,i]);return E==null?null:ne.createElement(cc.Provider,{value:l},ne.createElement(xw.Provider,{children:n,value:E}))}new Promise(()=>{});function XO(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:ne.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:ne.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:ne.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function RL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JO(t,e){return t.button===0&&(!e||e==="_self")&&!ZO(t)}const QO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eB=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],tB="6";try{window.__reactRouterVersion=tB}catch{}function nB(t,e){return dO({basename:e?.basename,future:Sp({},e?.future,{v7_prependBasename:!0}),history:I8({window:e?.window}),hydrationData:e?.hydrationData||rB(),routes:t,mapRouteProperties:XO,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function rB(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Sp({},e,{errors:iB(e.errors)})),e}function iB(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Cv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const IL=ne.createContext({isTransitioning:!1}),sB=ne.createContext(new Map),aB="startTransition",qT=D8[aB],oB="flushSync",$T=R8[oB];function uB(t){qT?qT(t):t()}function S0(t){$T?$T(t):t()}let lB=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function cB(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=ne.useState(n.state),[a,o]=ne.useState(),[u,l]=ne.useState({isTransitioning:!1}),[d,f]=ne.useState(),[m,p]=ne.useState(),[_,E]=ne.useState(),y=ne.useRef(new Map),{v7_startTransition:v}=r||{},S=ne.useCallback(V=>{v?uB(V):V()},[v]),T=ne.useCallback((V,M)=>{let{deletedFetchers:R,flushSync:k,viewTransitionOpts:H}=M;V.fetchers.forEach((Y,ae)=>{Y.data!==void 0&&y.current.set(ae,Y.data)}),R.forEach(Y=>y.current.delete(Y));let q=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!H||q){k?S0(()=>s(V)):S(()=>s(V));return}if(k){S0(()=>{m&&(d&&d.resolve(),m.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let Y=n.window.document.startViewTransition(()=>{S0(()=>s(V))});Y.finished.finally(()=>{S0(()=>{f(void 0),p(void 0),o(void 0),l({isTransitioning:!1})})}),S0(()=>p(Y));return}m?(d&&d.resolve(),m.skipTransition(),E({state:V,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(o(V),l({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,m,d,y,S]);ne.useLayoutEffect(()=>n.subscribe(T),[n,T]),ne.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new lB)},[u]),ne.useEffect(()=>{if(d&&a&&n.window){let V=a,M=d.promise,R=n.window.document.startViewTransition(async()=>{S(()=>s(V)),await M});R.finished.finally(()=>{f(void 0),p(void 0),o(void 0),l({isTransitioning:!1})}),p(R)}},[S,a,d,n.window]),ne.useEffect(()=>{d&&a&&i.location.key===a.location.key&&d.resolve()},[d,m,i.location,a]),ne.useEffect(()=>{!u.isTransitioning&&_&&(o(_.state),l({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),E(void 0))},[u.isTransitioning,_]),ne.useEffect(()=>{},[]);let L=ne.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:V=>n.navigate(V),push:(V,M,R)=>n.navigate(V,{state:M,preventScrollReset:R?.preventScrollReset}),replace:(V,M,R)=>n.navigate(V,{replace:!0,state:M,preventScrollReset:R?.preventScrollReset})}),[n]),I=n.basename||"/",O=ne.useMemo(()=>({router:n,navigator:L,static:!1,basename:I}),[n,L,I]),B=ne.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return ne.useEffect(()=>KO(r,n.future),[r,n.future]),ne.createElement(ne.Fragment,null,ne.createElement(Gm.Provider,{value:O},ne.createElement(yw.Provider,{value:i},ne.createElement(sB.Provider,{value:y.current},ne.createElement(IL.Provider,{value:u},ne.createElement(YO,{basename:I,location:i.location,navigationType:i.historyAction,navigator:L,future:B},i.initialized||n.future.v7_partialHydration?ne.createElement(dB,{routes:n.routes,future:n.future,state:i}):e))))),null)}const dB=ne.memo(hB);function hB(t){let{routes:e,future:n,state:r}=t;return FO(e,void 0,r,n)}const fB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hs=ne.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:u,to:l,preventScrollReset:d,viewTransition:f}=e,m=RL(e,QO),{basename:p}=ne.useContext(cc),_,E=!1;if(typeof l=="string"&&pB.test(l)&&(_=l,fB))try{let T=new URL(window.location.href),L=l.startsWith("//")?new URL(T.protocol+l):new URL(l),I=ic(L.pathname,p);L.origin===T.origin&&I!=null?l=I+L.search+L.hash:E=!0}catch{}let y=MO(l,{relative:i}),v=gB(l,{replace:a,state:o,target:u,preventScrollReset:d,relative:i,viewTransition:f});function S(T){r&&r(T),T.defaultPrevented||v(T)}return ne.createElement("a",Sp({},m,{href:_||y,onClick:E||s?r:S,ref:n,target:u}))}),kL=ne.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:l,children:d}=e,f=RL(e,eB),m=b_(u,{relative:f.relative}),p=dc(),_=ne.useContext(yw),{navigator:E,basename:y}=ne.useContext(cc),v=_!=null&&vB(m)&&l===!0,S=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,T=p.pathname,L=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(T=T.toLowerCase(),L=L?L.toLowerCase():null,S=S.toLowerCase()),L&&y&&(L=ic(L,y)||L);const I=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=T===S||!a&&T.startsWith(S)&&T.charAt(I)==="/",B=L!=null&&(L===S||!a&&L.startsWith(S)&&L.charAt(S.length)==="/"),V={isActive:O,isPending:B,isTransitioning:v},M=O?r:void 0,R;typeof s=="function"?R=s(V):R=[s,O?"active":null,B?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(V):o;return ne.createElement(hs,Sp({},f,{"aria-current":M,className:R,ref:n,style:k,to:u,viewTransition:l}),typeof d=="function"?d(V):d)});var ib;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ib||(ib={}));var KT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KT||(KT={}));function mB(t){let e=ne.useContext(Gm);return e||ir(!1),e}function gB(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,u=bw(),l=dc(),d=b_(t,{relative:a});return ne.useCallback(f=>{if(JO(f,n)){f.preventDefault();let m=r!==void 0?r:Ph(l)===Ph(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,u,d,r,i,n,t,s,a,o])}function vB(t,e){e===void 0&&(e={});let n=ne.useContext(IL);n==null&&ir(!1);let{basename:r}=mB(ib.useViewTransitionState),i=b_(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ic(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ic(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dv(i.pathname,a)!=null||Dv(i.pathname,s)!=null}const _B="modulepreload",yB=function(t){return"/my-portfolio/"+t},YT={},fe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=u(n.map(l=>{if(l=yB(l),l in YT)return;YT[l]=!0;const d=l.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":_B,d||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((p,_)=>{m.addEventListener("load",p),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var xB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Tn=(t,e)=>{const n=ne.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:u,...l},d)=>ne.createElement("svg",{ref:d,...xB,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${bB(t)}`,o].join(" "),...l},[...e.map(([f,m])=>ne.createElement(f,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};const tp=Tn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const EB=Tn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const wB=Tn("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const dp=Tn("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Rh=Tn("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const Ew=Tn("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const FL=Tn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const XT=Tn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const AB=Tn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const OL=Tn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const ww=Tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const SB=Tn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const TB=Tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const DB=Tn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const E_=Tn("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);const BL=Tn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const CB=Tn("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const UL=Tn("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const NB=Tn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const LB=Tn("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const MB=Tn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const jL=Tn("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const PB=Tn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const RB=Tn("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const IB=Tn("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const kB=Tn("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const zL=Tn("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);const HL=Tn("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Aw=Tn("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const VL=Tn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const FB=Tn("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);const Sw=Tn("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const Tw=Tn("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const WL=Tn("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const OB=Tn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const ZT=Tn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const BB=Tn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const w_=Tn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Dw=Tn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const UB=Tn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const jB=Tn("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const GL=Tn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const zB=Tn("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);const HB=Tn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const VB=Tn("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const qL=Tn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const JT=Tn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const WB=Tn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const GB=Tn("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);const $L=Tn("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const qB=Tn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const $B=Tn("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);const A_=Tn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const KB=Tn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const KL=Tn("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);const Cw=Tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const YB=Tn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),XB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fe(async()=>{const{default:r}=await Promise.resolve().then(()=>Vp);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Nw extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class QT extends Nw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class e5 extends Nw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class t5 extends Nw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sb;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sb||(sb={}));var ZB=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};class JB{constructor(e,{headers:n={},customFetch:r,region:i=sb.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=XB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ZB(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:a,body:o,signal:u}=r;let l={},{region:d}=r;d||(d=this.region);const f=new URL(`${this.url}/${n}`);d&&d!=="any"&&(l["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",m=o):typeof o=="string"?(l["Content-Type"]="text/plain",m=o):typeof FormData<"u"&&o instanceof FormData?m=o:(l["Content-Type"]="application/json",m=JSON.stringify(o)));const p=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:m,signal:u}).catch(v=>{throw v.name==="AbortError"?v:new QT(v)}),_=p.headers.get("x-relay-error");if(_&&_==="true")throw new e5(p);if(!p.ok)throw new t5(p);let E=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return E==="application/json"?y=yield p.json():E==="application/octet-stream"?y=yield p.blob():E==="text/event-stream"?y=p:E==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new QT(s)}:{data:null,error:s,response:s instanceof t5||s instanceof e5?s.context:void 0}}})}}var Ss={},xf={},bf={},Ef={},wf={},Af={},QB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Tp=QB();const e7=Tp.fetch,YL=Tp.fetch.bind(Tp),XL=Tp.Headers,t7=Tp.Request,n7=Tp.Response,Vp=Object.freeze(Object.defineProperty({__proto__:null,Headers:XL,Request:t7,Response:n7,default:YL,fetch:e7},Symbol.toStringTag,{value:"Module"})),r7=E8(Vp);var Qg={},n5;function ZL(){if(n5)return Qg;n5=1,Object.defineProperty(Qg,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Qg.default=t,Qg}var r5;function JL(){if(r5)return Af;r5=1;var t=Af&&Af.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Af,"__esModule",{value:!0});const e=t(r7),n=t(ZL());class r{constructor(s){var a,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var d,f,m,p;let _=null,E=null,y=null,v=l.status,S=l.statusText;if(l.ok){if(this.method!=="HEAD"){const O=await l.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?E=O:E=JSON.parse(O))}const L=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),I=(m=l.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");L&&I&&I.length>1&&(y=parseInt(I[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(_={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,y=null,v=406,S="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const L=await l.text();try{_=JSON.parse(L),Array.isArray(_)&&l.status===404&&(E=[],_=null,v=200,S="OK")}catch{l.status===404&&L===""?(v=204,S="No Content"):_={message:L}}if(_&&this.isMaybeSingle&&(!((p=_?.details)===null||p===void 0)&&p.includes("0 rows"))&&(_=null,v=200,S="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:E,count:y,status:v,statusText:S}});return this.shouldThrowOnError||(u=u.catch(l=>{var d,f,m;return{error:{message:`${(d=l?.name)!==null&&d!==void 0?d:"FetchError"}: ${l?.message}`,details:`${(f=l?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=l?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}}return Af.default=r,Af}var i5;function QL(){if(i5)return wf;i5=1;var t=wf&&wf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wf,"__esModule",{value:!0});const e=t(JL());class n extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:u=o}={}){const l=u?`${u}.order`:"order",d=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const u=typeof o>"u"?"offset":`${o}.offset`,l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(l,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:u=!1,format:l="text"}={}){var d;const f=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${m}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return wf.default=n,wf}var s5;function Lw(){if(s5)return Ef;s5=1;var t=Ef&&Ef.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ef,"__esModule",{value:!0});const e=t(QL());class n extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const l=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${l}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}}return Ef.default=n,Ef}var a5;function eM(){if(a5)return bf;a5=1;var t=bf&&bf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bf,"__esModule",{value:!0});const e=t(Lw());class n{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},u=a?"HEAD":"GET";let l=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const l=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(l.length>0){const d=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:u=!0}={}){var l;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return bf.default=n,bf}var o5;function i7(){if(o5)return xf;o5=1;var t=xf&&xf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xf,"__esModule",{value:!0});const e=t(eM()),n=t(Lw());class r{constructor(s,{headers:a={},schema:o,fetch:u}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=u}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:u=!1,count:l}={}){var d;let f;const m=new URL(`${this.url}/rpc/${s}`);let p;o||u?(f=o?"HEAD":"GET",Object.entries(a).filter(([E,y])=>y!==void 0).map(([E,y])=>[E,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([E,y])=>{m.searchParams.append(E,y)})):(f="POST",p=a);const _=new Headers(this.headers);return l&&_.set("Prefer",`count=${l}`),new n.default({method:f,url:m,headers:_,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return xf.default=r,xf}var u5;function s7(){if(u5)return Ss;u5=1;var t=Ss&&Ss.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.PostgrestError=Ss.PostgrestBuilder=Ss.PostgrestTransformBuilder=Ss.PostgrestFilterBuilder=Ss.PostgrestQueryBuilder=Ss.PostgrestClient=void 0;const e=t(i7());Ss.PostgrestClient=e.default;const n=t(eM());Ss.PostgrestQueryBuilder=n.default;const r=t(Lw());Ss.PostgrestFilterBuilder=r.default;const i=t(QL());Ss.PostgrestTransformBuilder=i.default;const s=t(JL());Ss.PostgrestBuilder=s.default;const a=t(ZL());return Ss.PostgrestError=a.default,Ss.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Ss}var a7=s7();const o7=Wm(a7),{PostgrestClient:u7,PostgrestQueryBuilder:ive,PostgrestFilterBuilder:sve,PostgrestTransformBuilder:ave,PostgrestBuilder:ove,PostgrestError:uve}=o7;class l7{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const c7="2.75.0",d7=`realtime-js/${c7}`,h7="1.0.0",ab=1e4,f7=1e3,p7=100;var em;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(em||(em={}));var cs;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(cs||(cs={}));var vu;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vu||(vu={}));var ob;(function(t){t.websocket="websocket"})(ob||(ob={}));var mh;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mh||(mh={}));class m7{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+i));a=a+i;const u=r.decode(e.slice(a,a+s));a=a+s;const l=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:u,payload:l}}}class tM{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Jr||(Jr={}));const l5=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=g7(a,t,e,i),s),{}):{}},g7=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i?.type,a=n[t];return s&&!r.includes(s)?nM(s,a):ub(a)},nM=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return x7(e,n)}switch(t){case Jr.bool:return v7(e);case Jr.float4:case Jr.float8:case Jr.int2:case Jr.int4:case Jr.int8:case Jr.numeric:case Jr.oid:return _7(e);case Jr.json:case Jr.jsonb:return y7(e);case Jr.timestamp:return b7(e);case Jr.abstime:case Jr.date:case Jr.daterange:case Jr.int4range:case Jr.int8range:case Jr.money:case Jr.reltime:case Jr.text:case Jr.time:case Jr.timestamptz:case Jr.timetz:case Jr.tsrange:case Jr.tstzrange:return ub(e);default:return ub(e)}},ub=t=>t,v7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},y7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},x7=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>nM(e,o))}return t},b7=t=>typeof t=="string"?t.replace(" ","T"):t,rM=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ry{constructor(e,n,r={},i=ab){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var c5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(c5||(c5={}));class tm{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tm.syncState(this.state,i,s,a),this.pendingDiffs.forEach(u=>{this.state=tm.syncDiff(this.state,u,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=tm.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},u={};return this.map(s,(l,d)=>{a[l]||(u[l]=d)}),this.map(a,(l,d)=>{const f=s[l];if(f){const m=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),_=d.filter(y=>p.indexOf(y.presence_ref)<0),E=f.filter(y=>m.indexOf(y.presence_ref)<0);_.length>0&&(o[l]=_),E.length>0&&(u[l]=E)}else o[l]=d}),this.syncDiff(s,{joins:o,leaves:u},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,u)=>{var l;const d=(l=e[o])!==null&&l!==void 0?l:[];if(e[o]=this.cloneDeep(u),d.length>0){const f=e[o].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...m)}r(o,d,u)}),this.map(a,(o,u)=>{let l=e[o];if(!l)return;const d=u.map(f=>f.presence_ref);l=l.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=l,i(o,l,u),l.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var d5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(d5||(d5={}));var nm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(nm||(nm={}));var Wl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wl||(Wl={}));class Mw{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=cs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ry(this,vu.join,this.params,this.timeout),this.rejoinTimer=new tM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=cs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vu.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new tm(this),this.broadcastEndpointURL=rM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==cs.closed){const{config:{broadcast:a,presence:o,private:u}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[nm.PRESENCE]&&this.bindings[nm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},m={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:l,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(Wl.CHANNEL_ERROR,p)),this._onClose(()=>e?.(Wl.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var _;if(this.socket.setAuth(),p===void 0){e?.(Wl.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,y=(_=E?.length)!==null&&_!==void 0?_:0,v=[];for(let S=0;S<y;S++){const T=E[S],{filter:{event:L,schema:I,table:O,filter:B}}=T,V=p&&p[S];if(V&&V.event===L&&V.schema===I&&V.table===O&&V.filter===B)v.push(Object.assign(Object.assign({},T),{id:V.id}));else{this.unsubscribe(),this.state=cs.errored,e?.(Wl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Wl.SUBSCRIBED);return}}).receive("error",p=>{this.state=cs.errored,e?.(Wl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(Wl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===cs.joined&&e===nm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,u;const l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("error",()=>s("error")),l.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=cs.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vu.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ry(this,vu.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=cs.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ry(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>p7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:u,leave:l,join:d}=vu;if(r&&[o,u,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var _,E,y;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((y=(E=p.filter)===null||E===void 0?void 0:E.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(p=>p.callback(m,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var _,E,y,v,S,T;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const L=p.id,I=(_=p.filter)===null||_===void 0?void 0:_.event;return L&&((E=n.ids)===null||E===void 0?void 0:E.includes(L))&&(I==="*"||I?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const L=(S=(v=p?.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return L==="*"||L===((T=n?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:E,table:y,commit_timestamp:v,type:S,errors:T}=_;m=Object.assign(Object.assign({},{schema:E,table:y,commit_timestamp:v,eventType:S,new:{},old:{},errors:T}),this._getPayloadRecords(_))}p.callback(m,r)})}_isClosed(){return this.state===cs.closed}_isJoined(){return this.state===cs.joined}_isJoining(){return this.state===cs.joining}_isLeaving(){return this.state===cs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Mw.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vu.close,{},e)}_onError(e){this._on(vu.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=l5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=l5(e.columns,e.old_record)),n}}const iy=()=>{},e1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},E7=[1e3,2e3,5e3,1e4],w7=1e4,A7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S7{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ab,this.transport=null,this.heartbeatIntervalMs=e1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iy,this.ref=0,this.reconnectTimer=null,this.logger=iy,this.conn=null,this.sendBuffer=[],this.serializer=new m7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>fe(async()=>{const{default:o}=await Promise.resolve().then(()=>Vp);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ob.websocket}`,this.httpEndpoint=rM(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=l7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h7}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case em.connecting:return mh.Connecting;case em.open:return mh.Open;case em.closing:return mh.Closing;default:return mh.Closed}}isConnected(){return this.connectionState()===mh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Mw(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(f7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},e1.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",u=s.status||"";this.log("receive",`${u} ${r} ${i} ${o}`.trim(),s),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vu.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([A7],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:d7};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(vu.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new tM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},e1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,u,l,d;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:ab,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:e1.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e?.heartbeatCallback)!==null&&o!==void 0?o:iy,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(f=>E7[f-1]||w7),this.encode=(l=e?.encode)!==null&&l!==void 0?l:((f,m)=>m(JSON.stringify(f))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Pw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rs(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class T7 extends Pw{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lb extends Pw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var D7=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};const iM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fe(async()=>{const{default:r}=await Promise.resolve().then(()=>Vp);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},C7=()=>D7(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fe(()=>Promise.resolve().then(()=>Vp),void 0)).Response:Response}),cb=t=>{if(Array.isArray(t))return t.map(n=>cb(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=cb(r)}),e},N7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var jh=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};const sy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),L7=(t,e,n)=>jh(void 0,void 0,void 0,function*(){const r=yield C7();t instanceof r&&!n?.noResolveJson?t.json().then(i=>{const s=t.status||500,a=i?.statusCode||s+"";e(new T7(sy(i),s,a))}).catch(i=>{e(new lb(sy(i),i))}):e(new lb(sy(t),t))}),M7=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(N7(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function qm(t,e,n,r,i,s){return jh(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,M7(e,r,i,s)).then(u=>{if(!u.ok)throw u;return r?.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>L7(u,o,r))})})}function Lv(t,e,n,r){return jh(this,void 0,void 0,function*(){return qm(t,"GET",e,n,r)})}function $u(t,e,n,r,i){return jh(this,void 0,void 0,function*(){return qm(t,"POST",e,r,i,n)})}function db(t,e,n,r,i){return jh(this,void 0,void 0,function*(){return qm(t,"PUT",e,r,i,n)})}function P7(t,e,n,r){return jh(this,void 0,void 0,function*(){return qm(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function sM(t,e,n,r,i){return jh(this,void 0,void 0,function*(){return qm(t,"DELETE",e,r,i,n)})}var R7=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};class I7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return R7(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rs(e))return{data:null,error:e};throw e}})}}var k7=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};class F7{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new I7(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return k7(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rs(e))return{data:null,error:e};throw e}})}}var Ua=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};const O7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class B7{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=iM(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Ua(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},h5),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(o=Object.assign(Object.assign({},o),i.headers));const l=this._removeEmptyFolders(n),d=this._getFinalPath(l),f=yield(e=="PUT"?db:$u)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:l,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rs(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Ua(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Ua(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let u;const l=Object.assign({upsert:h5.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl)):(u=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);const f=yield db(this.fetch,o.toString(),u,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(rs(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Ua(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const s=yield $u(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Pw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rs(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ua(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ua(this,void 0,void 0,function*(){try{return{data:yield $u(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rs(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Ua(this,void 0,void 0,function*(){try{return{data:{path:(yield $u(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rs(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Ua(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield $u(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rs(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Ua(this,void 0,void 0,function*(){try{const i=yield $u(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rs(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(n?.transform||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),u=()=>Lv(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new F7(u,this.shouldThrowOnError)}info(e){return Ua(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Lv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:cb(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rs(r))return{data:null,error:r};throw r}})}exists(e){return Ua(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield P7(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rs(r)&&r instanceof lb){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n?.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof n?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(n?.transform||{});u!==""&&i.push(u);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${l}`)}}}remove(e){return Ua(this,void 0,void 0,function*(){try{return{data:yield sM(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ua(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},O7),n),{prefix:e||""});return{data:yield $u(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rs(i))return{data:null,error:i};throw i}})}listV2(e,n){return Ua(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield $u(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rs(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const U7="2.75.0",j7={"X-Client-Info":`storage-js/${U7}`};var Sf=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};class z7{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j7),n),this.fetch=iM(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Sf(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rs(e))return{data:null,error:e};throw e}})}getBucket(e){return Sf(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}createBucket(e){return Sf(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield $u(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rs(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Sf(this,void 0,void 0,function*(){try{return{data:yield db(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rs(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Sf(this,void 0,void 0,function*(){try{return{data:yield $u(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Sf(this,void 0,void 0,function*(){try{return{data:yield sM(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rs(n))return{data:null,error:n};throw n}})}}class H7 extends z7{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new B7(this.url,this.headers,e,this.fetch)}}const V7="2.75.0";let W0="";typeof Deno<"u"?W0="deno":typeof document<"u"?W0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?W0="react-native":W0="node";const W7={"X-Client-Info":`supabase-js-${W0}/${V7}`},G7={headers:W7},q7={schema:"public"},$7={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K7={};var Y7=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};const X7=t=>{let e;return t?e=t:typeof fetch>"u"?e=YL:e=fetch,(...n)=>e(...n)},Z7=()=>typeof Headers>"u"?XL:Headers,J7=(t,e,n)=>{const r=X7(n),i=Z7();return(s,a)=>Y7(void 0,void 0,void 0,function*(){var o;const u=(o=yield e())!==null&&o!==void 0?o:t;let l=new i(a?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),r(s,Object.assign(Object.assign({},a),{headers:l}))})};var Q7=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};function eU(t){return t.endsWith("/")?t:t+"/"}function tU(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:u,auth:l,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},l),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=o?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Q7(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function nU(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const aM="2.75.0",Xf=30*1e3,hb=3,ay=hb*Xf,rU="http://localhost:9999",iU="supabase.auth.token",sU={"X-Client-Info":`gotrue-js/${aM}`},fb="X-Supabase-Api-Version",oM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oU=600*1e3;class wm extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Mn(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class uU extends wm{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function lU(t){return Mn(t)&&t.name==="AuthApiError"}class gh extends wm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class xd extends wm{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class nd extends xd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cU(t){return Mn(t)&&t.name==="AuthSessionMissingError"}class Tf extends xd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class t1 extends xd{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class n1 extends xd{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dU(t){return Mn(t)&&t.name==="AuthImplicitGrantRedirectError"}class f5 extends xd{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pb extends xd{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function oy(t){return Mn(t)&&t.name==="AuthRetryableFetchError"}class p5 extends xd{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class mb extends xd{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),m5=` 	
\r=`.split(""),hU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<m5.length;e+=1)t[m5[e].charCodeAt(0)]=-2;for(let e=0;e<Mv.length;e+=1)t[Mv[e].charCodeAt(0)]=e;return t})();function g5(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Mv[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Mv[r]),e.queuedBits-=6}}function uM(t,e,n){const r=hU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function v5(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{mU(a,r,n)};for(let a=0;a<t.length;a+=1)uM(t.charCodeAt(a),i,s);return e.join("")}function fU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}fU(r,e)}}function mU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function hp(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)uM(t.charCodeAt(i),n,r);return new Uint8Array(e)}function gU(t){const e=[];return pU(t,n=>e.push(n)),new Uint8Array(e)}function bh(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>g5(i,n,r)),g5(null,n,r),e.join("")}function vU(t){return Math.round(Date.now()/1e3)+t}function _U(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ho=()=>typeof window<"u"&&typeof document<"u",Xd={tested:!1,writable:!1},lM=()=>{if(!ho())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xd.tested)return Xd.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xd.tested=!0,Xd.writable=!0}catch{Xd.tested=!0,Xd.writable=!1}return Xd.writable};function yU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const cM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fe(async()=>{const{default:r}=await Promise.resolve().then(()=>Vp);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},xU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zf=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wc=async(t,e)=>{await t.removeItem(e)};class S_{constructor(){this.promise=new S_.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}S_.promiseConstructor=Promise;function uy(t){const e=t.split(".");if(e.length!==3)throw new mb("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!aU.test(e[r]))throw new mb("JWT not in base64url format");return{header:JSON.parse(v5(e[0])),payload:JSON.parse(v5(e[1])),signature:hp(e[2]),raw:{header:e[0],payload:e[1]}}}async function bU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function EU(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function wU(t){return("0"+t.toString(16)).substr(-2)}function AU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,wU).join("")}async function SU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function TU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await SU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Df(t,e,n=!1){const r=AU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Zf(t,`${e}-code-verifier`,i);const s=await TU(r);return[s,r===s?"plain":"s256"]}const DU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CU(t){const e=t.headers.get(fb);if(!e||!e.match(DU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function NU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function LU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cf(t){if(!MU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ly(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _5(t){return JSON.parse(JSON.stringify(t))}var PU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const oh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RU=[502,503,504];async function y5(t){var e;if(!xU(t))throw new pb(oh(t),0);if(RU.includes(t.status))throw new pb(oh(t),t.status);let n;try{n=await t.json()}catch(s){throw new gh(oh(s),s)}let r;const i=CU(t);if(i&&i.getTime()>=oM["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new p5(oh(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nd}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new p5(oh(n),t.status,n.weak_password.reasons);throw new uU(oh(n),t.status||500,r)}const IU=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Xn(t,e,n,r){var i;const s=Object.assign({},r?.headers);s[fb]||(s[fb]=oM["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await kU(t,e,n+o,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(u):{data:Object.assign({},u),error:null}}async function kU(t,e,n,r,i,s){const a=IU(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new pb(oh(u),0)}if(o.ok||await y5(o),r?.noResolveJson)return o;try{return await o.json()}catch(u){await y5(u)}}function pu(t){var e;let n=null;BU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=vU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function x5(t){const e=pu(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ud(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function FU(t){return{data:t,error:null}}function OU(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=PU(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},u=Object.assign({},a);return{data:{properties:o,user:u},error:null}}function b5(t){return t}function BU(t){return t.access_token&&t.refresh_token&&t.expires_in}const cy=["global","local","others"];var UU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class jU{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=cM(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=cy[0]){if(cy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cy.join(", ")}`);try{return await Xn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Xn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ud})}catch(r){if(Mn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=UU(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Xn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:OU,redirectTo:n?.redirectTo})}catch(n){if(Mn(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Xn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ud})}catch(n){if(Mn(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,u;try{const l={nextPage:null,lastPage:0,total:0},d=await Xn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:b5});if(d.error)throw d.error;const f=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(_.split(";")[1].split("=")[1]);l[`${y}Page`]=E}),l.total=parseInt(m)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(Mn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Cf(e);try{return await Xn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ud})}catch(n){if(Mn(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Cf(e);try{return await Xn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ud})}catch(r){if(Mn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Cf(e);try{return await Xn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ud})}catch(r){if(Mn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Cf(e.userId);try{const{data:n,error:r}=await Xn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Mn(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Cf(e.userId),Cf(e.id);try{return{data:await Xn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,o,u;try{const l={nextPage:null,lastPage:0,total:0},d=await Xn(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:b5});if(d.error)throw d.error;const f=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(_.split(";")[1].split("=")[1]);l[`${y}Page`]=E}),l.total=parseInt(m)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(Mn(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await Xn(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Mn(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Xn(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Mn(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Xn(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Mn(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Xn(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Mn(n))return{data:null,error:n};throw n}}}function E5(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Nf={debug:!!(globalThis&&lM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dM extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class zU extends dM{}async function HU(t,e,n){Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Nf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function VU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hM(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function WU(t){return parseInt(t,16)}function GU(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function qU(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:u,resources:l,scheme:d,uri:f,version:m}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=hM(t.address),_=d?`${d}://${r}`:r,E=t.statement?`${t.statement}
`:"",y=`${_} wants you to sign in with your Ethereum account:
${p}

${E}`;let v=`URI: ${f}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),o&&(v+=`
Not Before: ${o.toISOString()}`),u&&(v+=`
Request ID: ${u}`),l){let S=`
Resources:`;for(const T of l){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);S+=`
- ${T}`}v+=S}return`${y}
${v}`}class ns extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Pv extends ns{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function $U({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ns({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ns({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ns({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ns({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ns({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ns({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ns({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ns({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(pM(a)){if(s.rp.id!==a)return new ns({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ns({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ns({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ns({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ns({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function KU({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ns({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ns({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(pM(r)){if(n.rpId!==r)return new ns({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ns({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ns({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ns({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var fM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class YU{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const XU=new YU;function ZU(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=fM(t,["challenge","user","excludeCredentials"]),s=hp(e).buffer,a=Object.assign(Object.assign({},n),{id:hp(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const l=r[u];o.excludeCredentials[u]=Object.assign(Object.assign({},l),{id:hp(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function JU(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=fM(t,["challenge","allowCredentials"]),i=hp(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:hp(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function QU(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:bh(new Uint8Array(t.response.attestationObject)),clientDataJSON:bh(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function e9(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bh(new Uint8Array(i.authenticatorData)),clientDataJSON:bh(new Uint8Array(i.clientDataJSON)),signature:bh(new Uint8Array(i.signature)),userHandle:i.userHandle?bh(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function pM(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function w5(){var t,e;return!!(ho()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function t9(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pv("Browser returned unexpected credential type",e)}:{data:null,error:new Pv("Empty credential response",e)}}catch(e){return{data:null,error:$U({error:e,options:t})}}}async function n9(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pv("Browser returned unexpected credential type",e)}:{data:null,error:new Pv("Empty credential response",e)}}catch(e){return{data:null,error:KU({error:e,options:t})}}}const r9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},i9={userVerification:"preferred",hints:["security-key"]};function Rv(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=Rv(o,a):r[s]=Rv(a)}else r[s]=a}return r}function s9(t,e){return Rv(r9,t,e||{})}function a9(t,e){return Rv(i9,t,e||{})}class o9{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const u=i??XU.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:l}=a.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${r}`),l.displayName||(l.displayName=l.name)}switch(a.webauthn.type){case"create":{const l=s9(a.webauthn.credential_options.publicKey,s?.create),{data:d,error:f}=await t9({publicKey:l,signal:u});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const l=a9(a.webauthn.credential_options.publicKey,s?.request),{data:d,error:f}=await n9(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:l,signal:u}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return Mn(a)?{data:null,error:a}:{data:null,error:new gh("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new wm("rpId is required for WebAuthn authentication")};try{if(!w5())return{data:null,error:new gh("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:u}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:r,credential_response:u.credential_response}})}catch(a){return Mn(a)?{data:null,error:a}:{data:null,error:new gh("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new wm("rpId is required for WebAuthn registration")};try{if(!w5())return{data:null,error:new gh("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:o};const{data:u,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:l}}catch(a){return Mn(a)?{data:null,error:a}:{data:null,error:new gh("Unexpected error in register",a)}}}}VU();const u9={url:rU,storageKey:iU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function A5(t,e,n){return await n()}const Lf={};class Am{get jwks(){var e,n;return(n=(e=Lf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Lf[this.storageKey]=Object.assign(Object.assign({},Lf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Lf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Lf[this.storageKey]=Object.assign(Object.assign({},Lf[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Am.nextInstanceID,Am.nextInstanceID+=1,this.instanceID>0&&ho()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},u9),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jU({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cM(i.fetch),this.lock=i.lock||A5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ho()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=HU:this.lock=A5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new o9(this)},this.persistSession?(i.storage?this.storage=i.storage:lM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=E5(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=E5(this.memoryStorage)),ho()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aM}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=yU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ho()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),dU(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Mn(n)?{error:n}:{error:new gh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:pu}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(Mn(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:f,options:m}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await Df(this.storage,this.storageKey)),s=await Xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:d,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:_},xform:pu})}else if("phone"in e){const{phone:d,password:f,options:m}=e;s=await Xn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m?.data)!==null&&r!==void 0?r:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:pu})}else throw new t1("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(Mn(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:x5})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:x5})}else throw new t1("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Tf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Mn(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,u,l,d,f,m;let p,_;if("message"in e)p=e.message,_=e.signature;else{const{chain:E,wallet:y,statement:v,options:S}=e;let T;if(ho())if(typeof y=="object")T=y;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")T=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const L=new URL((n=S?.url)!==null&&n!==void 0?n:window.location.href),I=await T.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=hM(I[0]);let B=(r=S?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const M=await T.request({method:"eth_chainId"});B=WU(M)}const V={domain:L.host,address:O,statement:v,uri:L.href,version:"1",chainId:B,nonce:(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=qU(V),_=await T.request({method:"personal_sign",params:[GU(p),O]})}try{const{data:E,error:y}=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:_},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:pu});if(y)throw y;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Tf}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:y})}catch(E){if(Mn(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(e){var n,r,i,s,a,o,u,l,d,f,m,p;let _,E;if("message"in e)_=e.message,E=e.signature;else{const{chain:y,wallet:v,statement:S,options:T}=e;let L;if(ho())if(typeof v=="object")L=v;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))L=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=v}const I=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const O=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),S?{statement:S}:null));let B;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")B=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)B=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)_=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),E=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${I.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(r=T?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=T?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((a=T?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((o=T?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((l=T?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((f=(d=T?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...T.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const O=await L.signMessage(new TextEncoder().encode(_),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=O}}try{const{data:y,error:v}=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:bh(E)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:pu});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Tf}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Mn(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await Zd(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pu});if(await Wc(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Tf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Mn(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:pu}),{data:u,error:l}=o;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Tf}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(n){if(Mn(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:u}=e;let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Df(this.storage,this.storageKey));const{error:f}=await Xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(r=u?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:u}=e,{data:l,error:d}=await Xn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new t1("You must provide either an email or phone number.")}catch(o){if(Mn(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Xn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:pu});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(i){if(Mn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Df(this.storage,this.storageKey)),await Xn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:FU})}catch(s){if(Mn(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nd;const{error:i}=await Xn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Mn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await Xn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await Xn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:o}}throw new t1("You must provide either an email or phone number and a type")}catch(n){if(Mn(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ay:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Zd(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=ly()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,l,d)=>(!a&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,l,d))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ud}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nd}:await Xn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ud})})}catch(n){if(Mn(n))return cU(n)&&(await this._removeSession(),await Wc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new nd;const a=i.session;let o=null,u=null;this.flowType==="pkce"&&e.email!=null&&([o,u]=await Df(this.storage,this.storageKey));const{data:l,error:d}=await Xn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:u}),jwt:a.access_token,xform:ud});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Mn(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nd;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=uy(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Mn(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new nd;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Mn(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ho())throw new n1("No browser detected.");if(e.error||e.error_description||e.error_code)throw new n1(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new f5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new n1("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new f5("No code detected.");const{data:S,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:u,token_type:l}=e;if(!s||!o||!a||!l)throw new n1("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let m=d+f;u&&(m=parseInt(u));const p=m-d;p*1e3<=Xf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const _=m-f;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,d);const{data:E,error:y}=await this._getUser(s);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:m,refresh_token:a,token_type:l,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(Mn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(lU(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Wc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=_U(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Df(this.storage,this.storageKey,!0));try{return await Xn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Mn(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Mn(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,u,l,d;const{data:f,error:m}=s;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Xn(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ho()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Mn(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:u,access_token:l,nonce:d}=e,f=await Xn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:pu}),{data:m,error:p}=f;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Tf}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(i){if(Mn(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Xn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Mn(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await EU(async i=>(i>0&&await bU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Xn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pu})),(i,s)=>{const a=200*Math.pow(2,i);return s&&oy(s)&&Date.now()+a-r<Xf})}catch(r){if(this._debug(n,"error",r),Mn(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ho()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Zd(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Zd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Zf(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:ly()}else if(i&&!i.user&&!i.user){const a=await Zd(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Wc(this.storage,this.storageKey+"-user"),await Zf(this.storage,this.storageKey,i)):i.user=ly()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ay;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ay}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),oy(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new S_;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new nd;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Mn(s)){const a={data:null,error:s};return oy(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Zf(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=_5(i);await Zf(this.storage,this.storageKey,s)}else{const i=_5(n);await Zf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Wc(this.storage,this.storageKey),await Wc(this.storage,this.storageKey+"-code-verifier"),await Wc(this.storage,this.storageKey+"-user"),this.userStorage&&await Wc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ho()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Xf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xf}ms, refresh threshold is ${hb} ticks`),i<=hb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof dM)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ho()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Df(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Xn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Mn(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:l}=await Xn(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Mn(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?QU(e.webauthn.credential_response):e9(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:u}=await Xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=await Xn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:ZU(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:JU(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Mn(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=uy(i.access_token);let o=null;a.aal&&(o=a.aal);let u=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+oU>i)return r;const{data:s,error:a}=await Xn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:_}=await this.getSession();if(_||!p.session)return{data:null,error:_};r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:u}}=uy(r);n?.allowExpired||NU(s.exp);const l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!l){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=LU(i.alg),f=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,gU(`${o}.${u}`)))throw new mb("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}}}Am.nextInstanceID=0;const l9=Am;class c9 extends l9{constructor(e){super(e)}}var d9=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{l(r.next(d))}catch(f){a(f)}}function u(d){try{l(r.throw(d))}catch(f){a(f)}}function l(d){d.done?s(d.value):i(d.value).then(o,u)}l((r=r.apply(t,e||[])).next())})};class h9{constructor(e,n,r){var i,s,a;this.supabaseUrl=e,this.supabaseKey=n;const o=nU(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:q7,realtime:K7,auth:Object.assign(Object.assign({},$7),{storageKey:u}),global:G7},d=tU(r??{},l);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=J7(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new u7(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new H7(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new JB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return d9(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:o,lock:u,debug:l},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c9({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:o,lock:u,debug:l,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new S7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f9=(t,e,n)=>new h9(t,e,n);function p9(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}p9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const S5={BASE_URL:"/my-portfolio/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PUBLISHABLE_DEFAULT_KEY:"sb_publishable_1pFhXLkA6yWF4A9zy47onw_jhztMNEt",VITE_SUPABASE_URL:"https://ocsoqppieozakfmjrrsh.supabase.co"};var T5={};const rm=(t,e)=>typeof import.meta<"u"&&S5?.[t]?S5[t]:typeof process<"u"&&T5?.[t]?T5[t]:e,Iv={url:rm("VITE_SUPABASE_URL","https://ocsoqppieozakfmjrrsh.supabase.co"),anonKey:rm("VITE_SUPABASE_ANON_KEY","")||rm("VITE_SUPABASE_PUBLISHABLE_DEFAULT_KEY","")},nv={cv:rm("VITE_CV_URL","https://ocsoqppieozakfmjrrsh.supabase.co/storage/v1/object/public/documents/Gor_Papyan_CV.pdf"),portrait:rm("VITE_PORTRAIT_URL","https://ocsoqppieozakfmjrrsh.supabase.co/storage/v1/object/public/images/portrait/portrait.png")};if(!Iv.anonKey||Iv.anonKey.trim()==="")throw console.error(`
     Supabase configuration error: VITE_SUPABASE_ANON_KEY is required!
    
    Please create a .env file in the project root with:
    VITE_SUPABASE_URL=https://ocsoqppieozakfmjrrsh.supabase.co
    VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here
    
    Get your key from: https://supabase.com/dashboard  Project Settings  API  anon public key
  `),new Error("VITE_SUPABASE_ANON_KEY is required. Please check your .env file.");const Hn=f9(Iv.url,Iv.anonKey);function St(t,e,n){function r(o,u){var l;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(l=o._zod).traits??(l.traits=new Set),o._zod.traits.add(t),e(o,u);for(const d in a.prototype)d in o||Object.defineProperty(o,d,{value:a.prototype[d].bind(o)});o._zod.constr=a,o._zod.def=u}const i=n?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function a(o){var u;const l=n?.Parent?new s:this;r(l,o),(u=l._zod).deferred??(u.deferred=[]);for(const d of l._zod.deferred)d();return l}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>n?.Parent&&o instanceof n.Parent?!0:o?._zod?.traits?.has(t)}),Object.defineProperty(a,"name",{value:t}),a}class fp extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class mM extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const gM={};function pd(t){return gM}function m9(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function gb(t,e){return typeof e=="bigint"?e.toString():e}function Rw(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Iw(t){return t==null}function kw(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function g9(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(i=Number.parseInt(u[1]))}const s=n>i?n:i,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}const D5=Symbol("evaluating");function ti(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==D5)return r===void 0&&(r=D5,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function zh(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Hh(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function C5(t){return JSON.stringify(t)}const vM="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function kv(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const v9=Rw(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Dp(t){if(kv(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(kv(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function _M(t){return Dp(t)?{...t}:Array.isArray(t)?[...t]:t}const _9=new Set(["string","number","symbol"]);function Cp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bd(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function Dn(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function y9(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const x9={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function b9(t,e){const n=t._zod.def,r=Hh(t._zod.def,{get shape(){const i={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(i[s]=n.shape[s])}return zh(this,"shape",i),i},checks:[]});return bd(t,r)}function E9(t,e){const n=t._zod.def,r=Hh(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete i[s]}return zh(this,"shape",i),i},checks:[]});return bd(t,r)}function w9(t,e){if(!Dp(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Hh(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return zh(this,"shape",s),s},checks:[]});return bd(t,i)}function A9(t,e){if(!Dp(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return zh(this,"shape",r),r},checks:t._zod.def.checks};return bd(t,n)}function S9(t,e){const n=Hh(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return zh(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return bd(t,n)}function T9(t,e,n){const r=Hh(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=t?new t({type:"optional",innerType:i[a]}):i[a])}else for(const a in i)s[a]=t?new t({type:"optional",innerType:i[a]}):i[a];return zh(this,"shape",s),s},checks:[]});return bd(e,r)}function D9(t,e,n){const r=Hh(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new t({type:"nonoptional",innerType:i[a]}))}else for(const a in i)s[a]=new t({type:"nonoptional",innerType:i[a]});return zh(this,"shape",s),s},checks:[]});return bd(e,r)}function np(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function rp(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function r1(t){return typeof t=="string"?t:t?.message}function md(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=r1(t.inst?._zod.def?.error?.(t))??r1(e?.error?.(t))??r1(n.customError?.(t))??r1(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Fw(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Sm(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const yM=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,gb,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},xM=St("$ZodError",yM),bM=St("$ZodError",yM,{Parent:Error});function C9(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function N9(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>r({issues:a}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let a=n,o=0;for(;o<s.path.length;){const u=s.path[o];o===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(e(s))):a[u]=a[u]||{_errors:[]},a=a[u],o++}}};return r(t),n}const Ow=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new fp;if(a.issues.length){const o=new(i?.Err??t)(a.issues.map(u=>md(u,s,pd())));throw vM(o,i?.callee),o}return a.value},Bw=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new(i?.Err??t)(a.issues.map(u=>md(u,s,pd())));throw vM(o,i?.callee),o}return a.value},T_=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new fp;return s.issues.length?{success:!1,error:new(t??xM)(s.issues.map(a=>md(a,i,pd())))}:{success:!0,data:s.value}},L9=T_(bM),D_=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(a=>md(a,i,pd())))}:{success:!0,data:s.value}},M9=D_(bM),P9=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ow(t)(e,n,i)},R9=t=>(e,n,r)=>Ow(t)(e,n,r),I9=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Bw(t)(e,n,i)},k9=t=>async(e,n,r)=>Bw(t)(e,n,r),F9=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return T_(t)(e,n,i)},O9=t=>(e,n,r)=>T_(t)(e,n,r),B9=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return D_(t)(e,n,i)},U9=t=>async(e,n,r)=>D_(t)(e,n,r),j9=/^[cC][^\s-]{8,}$/,z9=/^[0-9a-z]+$/,H9=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,V9=/^[0-9a-vA-V]{20}$/,W9=/^[A-Za-z0-9]{27}$/,G9=/^[a-zA-Z0-9_-]{21}$/,q9=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,$9=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,N5=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,K9=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Y9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function X9(){return new RegExp(Y9,"u")}const Z9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,J9=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Q9=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,ej=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tj=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,EM=/^[A-Za-z0-9_-]*$/,nj=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,rj=/^\+(?:[0-9]){6,14}[0-9]$/,wM="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ij=new RegExp(`^${wM}$`);function AM(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function sj(t){return new RegExp(`^${AM(t)}$`)}function aj(t){const e=AM({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${wM}T(?:${r})$`)}const oj=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},uj=/^-?\d+$/,lj=/^-?\d+(?:\.\d+)?/,cj=/^(?:true|false)$/i,dj=/^[^A-Z]*$/,hj=/^[^a-z]*$/,qa=St("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),SM={number:"number",bigint:"bigint",object:"date"},TM=St("$ZodCheckLessThan",(t,e)=>{qa.init(t,e);const n=SM[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),DM=St("$ZodCheckGreaterThan",(t,e)=>{qa.init(t,e);const n=SM[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),fj=St("$ZodCheckMultipleOf",(t,e)=>{qa.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):g9(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),pj=St("$ZodCheckNumberFormat",(t,e)=>{qa.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,s]=x9[e.format];t._zod.onattach.push(a=>{const o=a._zod.bag;o.format=e.format,o.minimum=i,o.maximum=s,n&&(o.pattern=uj)}),t._zod.check=a=>{const o=a.value;if(n){if(!Number.isInteger(o)){a.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:o,inst:t});return}if(!Number.isSafeInteger(o)){o>0?a.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):a.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}o<i&&a.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),o>s&&a.issues.push({origin:"number",input:o,code:"too_big",maximum:s,inst:t})}}),mj=St("$ZodCheckMaxLength",(t,e)=>{var n;qa.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Iw(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const a=Fw(i);r.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),gj=St("$ZodCheckMinLength",(t,e)=>{var n;qa.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Iw(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const a=Fw(i);r.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),vj=St("$ZodCheckLengthEquals",(t,e)=>{var n;qa.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Iw(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const a=Fw(i),o=s>e.length;r.issues.push({origin:a,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),C_=St("$ZodCheckStringFormat",(t,e)=>{var n,r;qa.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),_j=St("$ZodCheckRegex",(t,e)=>{C_.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),yj=St("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=dj),C_.init(t,e)}),xj=St("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=hj),C_.init(t,e)}),bj=St("$ZodCheckIncludes",(t,e)=>{qa.init(t,e);const n=Cp(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),Ej=St("$ZodCheckStartsWith",(t,e)=>{qa.init(t,e);const n=new RegExp(`^${Cp(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),wj=St("$ZodCheckEndsWith",(t,e)=>{qa.init(t,e);const n=new RegExp(`.*${Cp(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),Aj=St("$ZodCheckOverwrite",(t,e)=>{qa.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class Sj{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(a=>a),i=Math.min(...r.map(a=>a.length-a.trimStart().length)),s=r.map(a=>a.slice(i)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const Tj={major:4,minor:1,patch:12},wi=St("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Tj;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const s of i._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(a,o,u)=>{let l=np(a),d;for(const f of o){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(l)continue;const m=a.issues.length,p=f._zod.check(a);if(p instanceof Promise&&u?.async===!1)throw new fp;if(d||p instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await p,a.issues.length!==m&&(l||(l=np(a,m)))});else{if(a.issues.length===m)continue;l||(l=np(a,m))}}return d?d.then(()=>a):a},s=(a,o,u)=>{if(np(a))return a.aborted=!0,a;const l=i(o,r,u);if(l instanceof Promise){if(u.async===!1)throw new fp;return l.then(d=>t._zod.parse(d,u))}return t._zod.parse(l,u)};t._zod.run=(a,o)=>{if(o.skipChecks)return t._zod.parse(a,o);if(o.direction==="backward"){const l=t._zod.parse({value:a.value,issues:[]},{...o,skipChecks:!0});return l instanceof Promise?l.then(d=>s(d,a,o)):s(l,a,o)}const u=t._zod.parse(a,o);if(u instanceof Promise){if(o.async===!1)throw new fp;return u.then(l=>i(l,r,o))}return i(u,r,o)}}t["~standard"]={validate:i=>{try{const s=L9(t,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return M9(t,i).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),Uw=St("$ZodString",(t,e)=>{wi.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??oj(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),fi=St("$ZodStringFormat",(t,e)=>{C_.init(t,e),Uw.init(t,e)}),Dj=St("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=$9),fi.init(t,e)}),Cj=St("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=N5(r))}else e.pattern??(e.pattern=N5());fi.init(t,e)}),Nj=St("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=K9),fi.init(t,e)}),Lj=St("$ZodURL",(t,e)=>{fi.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:nj.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),Mj=St("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=X9()),fi.init(t,e)}),Pj=St("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=G9),fi.init(t,e)}),Rj=St("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=j9),fi.init(t,e)}),Ij=St("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=z9),fi.init(t,e)}),kj=St("$ZodULID",(t,e)=>{e.pattern??(e.pattern=H9),fi.init(t,e)}),Fj=St("$ZodXID",(t,e)=>{e.pattern??(e.pattern=V9),fi.init(t,e)}),Oj=St("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=W9),fi.init(t,e)}),Bj=St("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=aj(e)),fi.init(t,e)}),Uj=St("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=ij),fi.init(t,e)}),jj=St("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=sj(e)),fi.init(t,e)}),zj=St("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=q9),fi.init(t,e)}),Hj=St("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Z9),fi.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Vj=St("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=J9),fi.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),Wj=St("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Q9),fi.init(t,e)}),Gj=St("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=ej),fi.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function CM(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const qj=St("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=tj),fi.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{CM(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function $j(t){if(!EM.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return CM(n)}const Kj=St("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=EM),fi.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{$j(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),Yj=St("$ZodE164",(t,e)=>{e.pattern??(e.pattern=rj),fi.init(t,e)});function Xj(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const Zj=St("$ZodJWT",(t,e)=>{fi.init(t,e),t._zod.check=n=>{Xj(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),NM=St("$ZodNumber",(t,e)=>{wi.init(t,e),t._zod.pattern=t._zod.bag.pattern??lj,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),Jj=St("$ZodNumber",(t,e)=>{pj.init(t,e),NM.init(t,e)}),Qj=St("$ZodBoolean",(t,e)=>{wi.init(t,e),t._zod.pattern=cj,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),ez=St("$ZodUnknown",(t,e)=>{wi.init(t,e),t._zod.parse=n=>n}),tz=St("$ZodNever",(t,e)=>{wi.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function L5(t,e,n){t.issues.length&&e.issues.push(...rp(n,t.issues)),e.value[n]=t.value}const nz=St("$ZodArray",(t,e)=>{wi.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let a=0;a<i.length;a++){const o=i[a],u=e.element._zod.run({value:o,issues:[]},r);u instanceof Promise?s.push(u.then(l=>L5(l,n,a))):L5(u,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function Fv(t,e,n,r){t.issues.length&&e.issues.push(...rp(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function LM(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=y9(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function MM(t,e,n,r,i,s){const a=[],o=i.keySet,u=i.catchall._zod,l=u.def.type;for(const d of Object.keys(e)){if(o.has(d))continue;if(l==="never"){a.push(d);continue}const f=u.run({value:e[d],issues:[]},r);f instanceof Promise?t.push(f.then(m=>Fv(m,n,d,e))):Fv(f,n,d,e)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const rz=St("$ZodObject",(t,e)=>{if(wi.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const o=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...o};return Object.defineProperty(e,"shape",{value:u}),u}})}const r=Rw(()=>LM(e));ti(t._zod,"propValues",()=>{const o=e.shape,u={};for(const l in o){const d=o[l]._zod;if(d.values){u[l]??(u[l]=new Set);for(const f of d.values)u[l].add(f)}}return u});const i=kv,s=e.catchall;let a;t._zod.parse=(o,u)=>{a??(a=r.value);const l=o.value;if(!i(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),o;o.value={};const d=[],f=a.shape;for(const m of a.keys){const _=f[m]._zod.run({value:l[m],issues:[]},u);_ instanceof Promise?d.push(_.then(E=>Fv(E,o,m,l))):Fv(_,o,m,l)}return s?MM(d,l,o,u,r.value,t):d.length?Promise.all(d).then(()=>o):o}}),iz=St("$ZodObjectJIT",(t,e)=>{rz.init(t,e);const n=t._zod.parse,r=Rw(()=>LM(e)),i=m=>{const p=new Sj(["shape","payload","ctx"]),_=r.value,E=T=>{const L=C5(T);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};p.write("const input = payload.value;");const y=Object.create(null);let v=0;for(const T of _.keys)y[T]=`key_${v++}`;p.write("const newResult = {};");for(const T of _.keys){const L=y[T],I=C5(T);p.write(`const ${L} = ${E(T)};`),p.write(`
        if (${L}.issues.length) {
          payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${I}, ...iss.path] : [${I}]
          })));
        }
        
        
        if (${L}.value === undefined) {
          if (${I} in input) {
            newResult[${I}] = undefined;
          }
        } else {
          newResult[${I}] = ${L}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const S=p.compile();return(T,L)=>S(m,T,L)};let s;const a=kv,o=!gM.jitless,l=o&&v9.value,d=e.catchall;let f;t._zod.parse=(m,p)=>{f??(f=r.value);const _=m.value;return a(_)?o&&l&&p?.async===!1&&p.jitless!==!0?(s||(s=i(e.shape)),m=s(m,p),d?MM([],_,m,p,f,t):m):n(m,p):(m.issues.push({expected:"object",code:"invalid_type",input:_,inst:t}),m)}});function M5(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!np(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(a=>md(a,r,pd())))}),e)}const sz=St("$ZodUnion",(t,e)=>{wi.init(t,e),ti(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),ti(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),ti(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),ti(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>kw(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let a=!1;const o=[];for(const u of e.options){const l=u._zod.run({value:i.value,issues:[]},s);if(l instanceof Promise)o.push(l),a=!0;else{if(l.issues.length===0)return l;o.push(l)}}return a?Promise.all(o).then(u=>M5(u,i,t,s)):M5(o,i,t,s)}}),az=St("$ZodIntersection",(t,e)=>{wi.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),a=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([u,l])=>P5(n,u,l)):P5(n,s,a)}});function vb(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Dp(t)&&Dp(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const a=vb(t[s],e[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};i[s]=a.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],a=vb(i,s);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function P5(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),np(t))return t;const r=vb(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const oz=St("$ZodRecord",(t,e)=>{wi.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Dp(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),n;const s=[];if(e.keyType._zod.values){const a=e.keyType._zod.values;n.value={};for(const u of a)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){const l=e.valueType._zod.run({value:i[u],issues:[]},r);l instanceof Promise?s.push(l.then(d=>{d.issues.length&&n.issues.push(...rp(u,d.issues)),n.value[u]=d.value})):(l.issues.length&&n.issues.push(...rp(u,l.issues)),n.value[u]=l.value)}let o;for(const u in i)a.has(u)||(o=o??[],o.push(u));o&&o.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:o})}else{n.value={};for(const a of Reflect.ownKeys(i)){if(a==="__proto__")continue;const o=e.keyType._zod.run({value:a,issues:[]},r);if(o instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(o.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:o.issues.map(l=>md(l,r,pd())),input:a,path:[a],inst:t}),n.value[o.value]=o.value;continue}const u=e.valueType._zod.run({value:i[a],issues:[]},r);u instanceof Promise?s.push(u.then(l=>{l.issues.length&&n.issues.push(...rp(a,l.issues)),n.value[o.value]=l.value})):(u.issues.length&&n.issues.push(...rp(a,u.issues)),n.value[o.value]=u.value)}}return s.length?Promise.all(s).then(()=>n):n}}),uz=St("$ZodEnum",(t,e)=>{wi.init(t,e);const n=m9(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>_9.has(typeof i)).map(i=>typeof i=="string"?Cp(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:n,input:a,inst:t}),i}}),lz=St("$ZodLiteral",(t,e)=>{if(wi.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");t._zod.values=new Set(e.values),t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?Cp(n):n?Cp(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,r)=>{const i=n.value;return t._zod.values.has(i)||n.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),n}}),cz=St("$ZodTransform",(t,e)=>{wi.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new mM(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(a=>(n.value=a,n));if(i instanceof Promise)throw new fp;return n.value=i,n}});function R5(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const dz=St("$ZodOptional",(t,e)=>{wi.init(t,e),t._zod.optin="optional",t._zod.optout="optional",ti(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),ti(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${kw(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>R5(s,n.value)):R5(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),hz=St("$ZodNullable",(t,e)=>{wi.init(t,e),ti(t._zod,"optin",()=>e.innerType._zod.optin),ti(t._zod,"optout",()=>e.innerType._zod.optout),ti(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${kw(n.source)}|null)$`):void 0}),ti(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),fz=St("$ZodDefault",(t,e)=>{wi.init(t,e),t._zod.optin="optional",ti(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>I5(s,e)):I5(i,e)}});function I5(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const pz=St("$ZodPrefault",(t,e)=>{wi.init(t,e),t._zod.optin="optional",ti(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),mz=St("$ZodNonOptional",(t,e)=>{wi.init(t,e),ti(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>k5(s,t)):k5(i,t)}});function k5(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const gz=St("$ZodCatch",(t,e)=>{wi.init(t,e),ti(t._zod,"optin",()=>e.innerType._zod.optin),ti(t._zod,"optout",()=>e.innerType._zod.optout),ti(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(a=>md(a,r,pd()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>md(s,r,pd()))},input:n.value}),n.issues=[]),n)}}),vz=St("$ZodPipe",(t,e)=>{wi.init(t,e),ti(t._zod,"values",()=>e.in._zod.values),ti(t._zod,"optin",()=>e.in._zod.optin),ti(t._zod,"optout",()=>e.out._zod.optout),ti(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(a=>i1(a,e.in,r)):i1(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>i1(s,e.out,r)):i1(i,e.out,r)}});function i1(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const _z=St("$ZodReadonly",(t,e)=>{wi.init(t,e),ti(t._zod,"propValues",()=>e.innerType._zod.propValues),ti(t._zod,"values",()=>e.innerType._zod.values),ti(t._zod,"optin",()=>e.innerType._zod.optin),ti(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(F5):F5(i)}});function F5(t){return t.value=Object.freeze(t.value),t}const yz=St("$ZodCustom",(t,e)=>{qa.init(t,e),wi.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>O5(s,n,r,t));O5(i,n,r,t)}});function O5(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(Sm(i))}}class xz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function bz(){return new xz}const s1=bz();function Ez(t,e){return new t({type:"string",...Dn(e)})}function wz(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Dn(e)})}function B5(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Dn(e)})}function Az(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Dn(e)})}function Sz(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Dn(e)})}function Tz(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Dn(e)})}function Dz(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Dn(e)})}function Cz(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Dn(e)})}function Nz(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Dn(e)})}function Lz(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Dn(e)})}function Mz(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Dn(e)})}function Pz(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Dn(e)})}function Rz(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Dn(e)})}function Iz(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Dn(e)})}function kz(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Dn(e)})}function Fz(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Dn(e)})}function Oz(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Dn(e)})}function Bz(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Dn(e)})}function Uz(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Dn(e)})}function jz(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Dn(e)})}function zz(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Dn(e)})}function Hz(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Dn(e)})}function Vz(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Dn(e)})}function Wz(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Dn(e)})}function Gz(t,e){return new t({type:"string",format:"date",check:"string_format",...Dn(e)})}function qz(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Dn(e)})}function $z(t,e){return new t({type:"string",format:"duration",check:"string_format",...Dn(e)})}function Kz(t,e){return new t({type:"number",checks:[],...Dn(e)})}function Yz(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Dn(e)})}function Xz(t,e){return new t({type:"boolean",...Dn(e)})}function Zz(t){return new t({type:"unknown"})}function Jz(t,e){return new t({type:"never",...Dn(e)})}function U5(t,e){return new TM({check:"less_than",...Dn(e),value:t,inclusive:!1})}function dy(t,e){return new TM({check:"less_than",...Dn(e),value:t,inclusive:!0})}function j5(t,e){return new DM({check:"greater_than",...Dn(e),value:t,inclusive:!1})}function hy(t,e){return new DM({check:"greater_than",...Dn(e),value:t,inclusive:!0})}function z5(t,e){return new fj({check:"multiple_of",...Dn(e),value:t})}function PM(t,e){return new mj({check:"max_length",...Dn(e),maximum:t})}function Ov(t,e){return new gj({check:"min_length",...Dn(e),minimum:t})}function RM(t,e){return new vj({check:"length_equals",...Dn(e),length:t})}function Qz(t,e){return new _j({check:"string_format",format:"regex",...Dn(e),pattern:t})}function eH(t){return new yj({check:"string_format",format:"lowercase",...Dn(t)})}function tH(t){return new xj({check:"string_format",format:"uppercase",...Dn(t)})}function nH(t,e){return new bj({check:"string_format",format:"includes",...Dn(e),includes:t})}function rH(t,e){return new Ej({check:"string_format",format:"starts_with",...Dn(e),prefix:t})}function iH(t,e){return new wj({check:"string_format",format:"ends_with",...Dn(e),suffix:t})}function $m(t){return new Aj({check:"overwrite",tx:t})}function sH(t){return $m(e=>e.normalize(t))}function aH(){return $m(t=>t.trim())}function oH(){return $m(t=>t.toLowerCase())}function uH(){return $m(t=>t.toUpperCase())}function lH(t,e,n){return new t({type:"array",element:e,...Dn(n)})}function cH(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Dn(n)})}function dH(t){const e=hH(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Sm(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(Sm(i))}},t(n.value,n)));return e}function hH(t,e){const n=new qa({check:"custom",...Dn(e)});return n._zod.check=t,n}const fH=St("ZodISODateTime",(t,e)=>{Bj.init(t,e),Ai.init(t,e)});function pH(t){return Wz(fH,t)}const mH=St("ZodISODate",(t,e)=>{Uj.init(t,e),Ai.init(t,e)});function gH(t){return Gz(mH,t)}const vH=St("ZodISOTime",(t,e)=>{jj.init(t,e),Ai.init(t,e)});function _H(t){return qz(vH,t)}const yH=St("ZodISODuration",(t,e)=>{zj.init(t,e),Ai.init(t,e)});function xH(t){return $z(yH,t)}const IM=(t,e)=>{xM.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>N9(t,n)},flatten:{value:n=>C9(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,gb,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,gb,2)}},isEmpty:{get(){return t.issues.length===0}}})},lve=St("ZodError",IM),Go=St("ZodError",IM,{Parent:Error}),bH=Ow(Go),EH=Bw(Go),wH=T_(Go),AH=D_(Go),SH=P9(Go),TH=R9(Go),DH=I9(Go),CH=k9(Go),NH=F9(Go),LH=O9(Go),MH=B9(Go),PH=U9(Go),Fi=St("ZodType",(t,e)=>(wi.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Hh(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>bd(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>bH(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>wH(t,n,r),t.parseAsync=async(n,r)=>EH(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>AH(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>SH(t,n,r),t.decode=(n,r)=>TH(t,n,r),t.encodeAsync=async(n,r)=>DH(t,n,r),t.decodeAsync=async(n,r)=>CH(t,n,r),t.safeEncode=(n,r)=>NH(t,n,r),t.safeDecode=(n,r)=>LH(t,n,r),t.safeEncodeAsync=async(n,r)=>MH(t,n,r),t.safeDecodeAsync=async(n,r)=>PH(t,n,r),t.refine=(n,r)=>t.check(wV(n,r)),t.superRefine=n=>t.check(AV(n)),t.overwrite=n=>t.check($m(n)),t.optional=()=>G5(t),t.nullable=()=>q5(t),t.nullish=()=>G5(q5(t)),t.nonoptional=n=>gV(t,n),t.array=()=>ei(t),t.or=n=>jw([t,n]),t.and=n=>aV(t,n),t.transform=n=>$5(t,cV(n)),t.default=n=>fV(t,n),t.prefault=n=>mV(t,n),t.catch=n=>_V(t,n),t.pipe=n=>$5(t,n),t.readonly=()=>bV(t),t.describe=n=>{const r=t.clone();return s1.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return s1.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return s1.get(t);const r=t.clone();return s1.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),kM=St("_ZodString",(t,e)=>{Uw.init(t,e),Fi.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(Qz(...r)),t.includes=(...r)=>t.check(nH(...r)),t.startsWith=(...r)=>t.check(rH(...r)),t.endsWith=(...r)=>t.check(iH(...r)),t.min=(...r)=>t.check(Ov(...r)),t.max=(...r)=>t.check(PM(...r)),t.length=(...r)=>t.check(RM(...r)),t.nonempty=(...r)=>t.check(Ov(1,...r)),t.lowercase=r=>t.check(eH(r)),t.uppercase=r=>t.check(tH(r)),t.trim=()=>t.check(aH()),t.normalize=(...r)=>t.check(sH(...r)),t.toLowerCase=()=>t.check(oH()),t.toUpperCase=()=>t.check(uH())}),RH=St("ZodString",(t,e)=>{Uw.init(t,e),kM.init(t,e),t.email=n=>t.check(wz(IH,n)),t.url=n=>t.check(Cz(kH,n)),t.jwt=n=>t.check(Vz(XH,n)),t.emoji=n=>t.check(Nz(FH,n)),t.guid=n=>t.check(B5(H5,n)),t.uuid=n=>t.check(Az(a1,n)),t.uuidv4=n=>t.check(Sz(a1,n)),t.uuidv6=n=>t.check(Tz(a1,n)),t.uuidv7=n=>t.check(Dz(a1,n)),t.nanoid=n=>t.check(Lz(OH,n)),t.guid=n=>t.check(B5(H5,n)),t.cuid=n=>t.check(Mz(BH,n)),t.cuid2=n=>t.check(Pz(UH,n)),t.ulid=n=>t.check(Rz(jH,n)),t.base64=n=>t.check(jz($H,n)),t.base64url=n=>t.check(zz(KH,n)),t.xid=n=>t.check(Iz(zH,n)),t.ksuid=n=>t.check(kz(HH,n)),t.ipv4=n=>t.check(Fz(VH,n)),t.ipv6=n=>t.check(Oz(WH,n)),t.cidrv4=n=>t.check(Bz(GH,n)),t.cidrv6=n=>t.check(Uz(qH,n)),t.e164=n=>t.check(Hz(YH,n)),t.datetime=n=>t.check(pH(n)),t.date=n=>t.check(gH(n)),t.time=n=>t.check(_H(n)),t.duration=n=>t.check(xH(n))});function Wt(t){return Ez(RH,t)}const Ai=St("ZodStringFormat",(t,e)=>{fi.init(t,e),kM.init(t,e)}),IH=St("ZodEmail",(t,e)=>{Nj.init(t,e),Ai.init(t,e)}),H5=St("ZodGUID",(t,e)=>{Dj.init(t,e),Ai.init(t,e)}),a1=St("ZodUUID",(t,e)=>{Cj.init(t,e),Ai.init(t,e)}),kH=St("ZodURL",(t,e)=>{Lj.init(t,e),Ai.init(t,e)}),FH=St("ZodEmoji",(t,e)=>{Mj.init(t,e),Ai.init(t,e)}),OH=St("ZodNanoID",(t,e)=>{Pj.init(t,e),Ai.init(t,e)}),BH=St("ZodCUID",(t,e)=>{Rj.init(t,e),Ai.init(t,e)}),UH=St("ZodCUID2",(t,e)=>{Ij.init(t,e),Ai.init(t,e)}),jH=St("ZodULID",(t,e)=>{kj.init(t,e),Ai.init(t,e)}),zH=St("ZodXID",(t,e)=>{Fj.init(t,e),Ai.init(t,e)}),HH=St("ZodKSUID",(t,e)=>{Oj.init(t,e),Ai.init(t,e)}),VH=St("ZodIPv4",(t,e)=>{Hj.init(t,e),Ai.init(t,e)}),WH=St("ZodIPv6",(t,e)=>{Vj.init(t,e),Ai.init(t,e)}),GH=St("ZodCIDRv4",(t,e)=>{Wj.init(t,e),Ai.init(t,e)}),qH=St("ZodCIDRv6",(t,e)=>{Gj.init(t,e),Ai.init(t,e)}),$H=St("ZodBase64",(t,e)=>{qj.init(t,e),Ai.init(t,e)}),KH=St("ZodBase64URL",(t,e)=>{Kj.init(t,e),Ai.init(t,e)}),YH=St("ZodE164",(t,e)=>{Yj.init(t,e),Ai.init(t,e)}),XH=St("ZodJWT",(t,e)=>{Zj.init(t,e),Ai.init(t,e)}),FM=St("ZodNumber",(t,e)=>{NM.init(t,e),Fi.init(t,e),t.gt=(r,i)=>t.check(j5(r,i)),t.gte=(r,i)=>t.check(hy(r,i)),t.min=(r,i)=>t.check(hy(r,i)),t.lt=(r,i)=>t.check(U5(r,i)),t.lte=(r,i)=>t.check(dy(r,i)),t.max=(r,i)=>t.check(dy(r,i)),t.int=r=>t.check(V5(r)),t.safe=r=>t.check(V5(r)),t.positive=r=>t.check(j5(0,r)),t.nonnegative=r=>t.check(hy(0,r)),t.negative=r=>t.check(U5(0,r)),t.nonpositive=r=>t.check(dy(0,r)),t.multipleOf=(r,i)=>t.check(z5(r,i)),t.step=(r,i)=>t.check(z5(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Ih(t){return Kz(FM,t)}const ZH=St("ZodNumberFormat",(t,e)=>{Jj.init(t,e),FM.init(t,e)});function V5(t){return Yz(ZH,t)}const JH=St("ZodBoolean",(t,e)=>{Qj.init(t,e),Fi.init(t,e)});function OM(t){return Xz(JH,t)}const QH=St("ZodUnknown",(t,e)=>{ez.init(t,e),Fi.init(t,e)});function W5(){return Zz(QH)}const eV=St("ZodNever",(t,e)=>{tz.init(t,e),Fi.init(t,e)});function tV(t){return Jz(eV,t)}const nV=St("ZodArray",(t,e)=>{nz.init(t,e),Fi.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(Ov(n,r)),t.nonempty=n=>t.check(Ov(1,n)),t.max=(n,r)=>t.check(PM(n,r)),t.length=(n,r)=>t.check(RM(n,r)),t.unwrap=()=>t.element});function ei(t,e){return lH(nV,t,e)}const rV=St("ZodObject",(t,e)=>{iz.init(t,e),Fi.init(t,e),ti(t,"shape",()=>e.shape),t.keyof=()=>zw(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:W5()}),t.loose=()=>t.clone({...t._zod.def,catchall:W5()}),t.strict=()=>t.clone({...t._zod.def,catchall:tV()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>w9(t,n),t.safeExtend=n=>A9(t,n),t.merge=n=>S9(t,n),t.pick=n=>b9(t,n),t.omit=n=>E9(t,n),t.partial=(...n)=>T9(BM,t,n[0]),t.required=(...n)=>D9(UM,t,n[0])});function Wi(t,e){const n={type:"object",shape:t??{},...Dn(e)};return new rV(n)}const iV=St("ZodUnion",(t,e)=>{sz.init(t,e),Fi.init(t,e),t.options=e.options});function jw(t,e){return new iV({type:"union",options:t,...Dn(e)})}const sV=St("ZodIntersection",(t,e)=>{az.init(t,e),Fi.init(t,e)});function aV(t,e){return new sV({type:"intersection",left:t,right:e})}const oV=St("ZodRecord",(t,e)=>{oz.init(t,e),Fi.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function Dh(t,e,n){return new oV({type:"record",keyType:t,valueType:e,...Dn(n)})}const _b=St("ZodEnum",(t,e)=>{uz.init(t,e),Fi.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const a of r)if(n.has(a))s[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new _b({...e,checks:[],...Dn(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const a of r)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new _b({...e,checks:[],...Dn(i),entries:s})}});function zw(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new _b({type:"enum",entries:n,...Dn(e)})}const uV=St("ZodLiteral",(t,e)=>{lz.init(t,e),Fi.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function rv(t,e){return new uV({type:"literal",values:Array.isArray(t)?t:[t],...Dn(e)})}const lV=St("ZodTransform",(t,e)=>{cz.init(t,e),Fi.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new mM(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Sm(s,n.value,e));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(Sm(a))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function cV(t){return new lV({type:"transform",transform:t})}const BM=St("ZodOptional",(t,e)=>{dz.init(t,e),Fi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function G5(t){return new BM({type:"optional",innerType:t})}const dV=St("ZodNullable",(t,e)=>{hz.init(t,e),Fi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function q5(t){return new dV({type:"nullable",innerType:t})}const hV=St("ZodDefault",(t,e)=>{fz.init(t,e),Fi.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function fV(t,e){return new hV({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():_M(e)}})}const pV=St("ZodPrefault",(t,e)=>{pz.init(t,e),Fi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function mV(t,e){return new pV({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():_M(e)}})}const UM=St("ZodNonOptional",(t,e)=>{mz.init(t,e),Fi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function gV(t,e){return new UM({type:"nonoptional",innerType:t,...Dn(e)})}const vV=St("ZodCatch",(t,e)=>{gz.init(t,e),Fi.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function _V(t,e){return new vV({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const yV=St("ZodPipe",(t,e)=>{vz.init(t,e),Fi.init(t,e),t.in=e.in,t.out=e.out});function $5(t,e){return new yV({type:"pipe",in:t,out:e})}const xV=St("ZodReadonly",(t,e)=>{_z.init(t,e),Fi.init(t,e),t.unwrap=()=>t._zod.def.innerType});function bV(t){return new xV({type:"readonly",innerType:t})}const EV=St("ZodCustom",(t,e)=>{yz.init(t,e),Fi.init(t,e)});function wV(t,e={}){return cH(EV,t,e)}function AV(t){return dH(t)}const jM=Wi({key:Wt().min(1,"Key is required").max(255,"Key too long"),language:zw(["en","ru","am"],{errorMap:()=>({message:"Language must be en, ru, or am"})}),value:Wt().min(1,"Value is required"),category:Wt().min(1,"Category is required").max(50,"Category too long").optional()}),K5=jM,SV=jM.partial(),cve=Wi({en:Dh(Wt(),Wt()).optional(),ru:Dh(Wt(),Wt()).optional(),am:Dh(Wt(),Wt()).optional()});function TV(){const[t,e]=ne.useState({en:{},ru:{},am:{}}),[n,r]=ne.useState(!0),[i,s]=ne.useState(null),a=ne.useCallback(async()=>{try{r(!0),s(null);const m=1e3;let p=0,_=[];for(;;){const{data:E,error:y}=await Hn.from("translations").select("*").range(p,p+m-1);if(y)throw y;if(!E||E.length===0||(_=_.concat(E),E.length<m))break;p+=m}if(_.length>0){const E={en:{},ru:{},am:{}};_.forEach(y=>{E[y.language]&&(E[y.language][y.key]=y.value)}),e(E)}else e({en:{},ru:{},am:{}})}catch(m){console.error("Error loading translations:",m),s(m instanceof Error?m.message:"Failed to load translations"),e({en:{},ru:{},am:{}})}finally{r(!1)}},[]),o=ne.useCallback(async m=>{try{const p=K5.parse(m),{error:_}=await Hn.from("translations").insert(p);if(_)throw _;e(E=>({...E,[p.language]:{...E[p.language],[p.key]:p.value}}))}catch(p){throw console.error("Error creating translation:",p),p}},[]),u=ne.useCallback(async(m,p)=>{try{const _=SV.parse(p),{data:E,error:y}=await Hn.from("translations").update(_).eq("id",m).select().single();if(y)throw y;E&&e(v=>({...v,[E.language]:{...v[E.language],[E.key]:E.value}}))}catch(_){throw console.error("Error updating translation:",_),_}},[]),l=ne.useCallback(async m=>{try{const{data:p,error:_}=await Hn.from("translations").delete().eq("id",m).select().single();if(_)throw _;p&&e(E=>{const y={...E};return delete y[p.language][p.key],y})}catch(p){throw console.error("Error deleting translation:",p),p}},[]),d=ne.useCallback(async m=>{try{const p=m.map(T=>K5.parse(T)),{data:_,error:E}=await Hn.from("translations").select("id, key, language");if(E)throw E;const y=new Map((_||[]).map(T=>[`${T.key}::${T.language}`,T.id])),v=[],S=[];if(p.forEach(T=>{const L=`${T.key}::${T.language}`,I=y.get(L);I?S.push({id:I,data:T}):v.push(T)}),v.length>0){const{error:T}=await Hn.from("translations").insert(v);if(T)throw T}if(S.length>0)for(const{id:T,data:L}of S){const{error:I}=await Hn.from("translations").update({value:L.value,category:L.category}).eq("id",T);if(I)throw I}await a()}catch(p){throw console.error("Error bulk importing translations:",p),p}},[a]),f=ne.useCallback(async()=>{await a()},[a]);return ne.useEffect(()=>{a()},[a]),{translations:t,isLoading:n,error:i,createTranslation:o,updateTranslation:u,deleteTranslation:l,bulkImport:d,refreshTranslations:f}}function kh(){return b.jsxs("div",{className:"relative w-16 h-16",children:[b.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-accent border-r-accent/30 animate-spin-smooth"}),b.jsx("div",{className:"absolute inset-2 rounded-full border-[3px] border-transparent border-b-[#dbe938] border-l-[#dbe938]/30 animate-spin-reverse"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-pulse-smooth"})})]})}function Hw(){return b.jsxs("div",{className:"absolute inset-0 opacity-50",children:[b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_#ffffff10_0.5px,_transparent_1px)] [background-size:24px_24px] animate-[particles_20s_linear_infinite]"}),b.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,_#ffffff05_1px,_transparent_1px),linear-gradient(to_bottom,_#ffffff05_1px,_transparent_1px)] [background-size:48px_48px] animate-[wave_10s_ease-in-out_infinite]"})]})}function zM({progress:t=0}){const r=Math.min(100,Math.max(0,t)),i=120*Math.PI,s=i-r/100*i;return b.jsx("div",{className:"absolute inset-0 -rotate-90",children:b.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 132 132",children:[b.jsx("circle",{cx:"66",cy:"66",r:60,fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:4}),b.jsx("circle",{cx:"66",cy:"66",r:60,fill:"none",stroke:"url(#progressGradient)",strokeWidth:4,strokeDasharray:i,strokeDashoffset:s,strokeLinecap:"round",className:"transition-[stroke-dashoffset] duration-500 ease-in-out"}),b.jsx("defs",{children:b.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[b.jsx("stop",{offset:"0%",stopColor:"rgb(var(--accent))"}),b.jsx("stop",{offset:"100%",stopColor:"#dbe938"})]})})]})})}function DV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function N_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const yb=t=>Array.isArray(t);function HM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Tm(t){return typeof t=="string"||Array.isArray(t)}function Y5(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Vw(t,e,n,r){if(typeof e=="function"){const[i,s]=Y5(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Y5(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function L_(t,e,n){const r=t.getProps();return Vw(r,e,n!==void 0?n:r.custom,t)}const Ww=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gw=["initial",...Ww],Km=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vh=new Set(Km),Zl=t=>t*1e3,Jl=t=>t/1e3,CV={type:"spring",stiffness:500,damping:25,restSpeed:10},NV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LV={type:"keyframes",duration:.8},MV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PV=(t,{keyframes:e})=>e.length>2?LV:Vh.has(t)?t.startsWith("scale")?NV(e[1]):CV:MV;function qw(t,e){return t?t[e]||t.default||t:void 0}const RV={useManualTiming:!1},IV=t=>t!==null;function M_(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(IV),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const go=t=>t;let VM=go;function kV(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(l){s.has(l)&&(u.schedule(l),t()),l(a)}const u={schedule:(l,d=!1,f=!1)=>{const p=f&&r?e:n;return d&&s.add(l),p.has(l)||p.add(l),l},cancel:l=>{n.delete(l),s.delete(l)},process:l=>{if(a=l,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,u.process(l))}};return u}const o1=["read","resolveKeyframes","update","preRender","render","postRender"],FV=40;function WM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=o1.reduce((v,S)=>(v[S]=kV(s),v),{}),{read:o,resolveKeyframes:u,update:l,preRender:d,render:f,postRender:m}=a,p=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,FV),1),i.timestamp=v,i.isProcessing=!0,o.process(i),u.process(i),l.process(i),d.process(i),f.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},_=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:o1.reduce((v,S)=>{const T=a[S];return v[S]=(L,I=!1,O=!1)=>(n||_(),T.schedule(L,I,O)),v},{}),cancel:v=>{for(let S=0;S<o1.length;S++)a[o1[S]].cancel(v)},state:i,steps:a}}const{schedule:qr,cancel:sc,state:Ns,steps:fy}=WM(typeof requestAnimationFrame<"u"?requestAnimationFrame:go,!0),GM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OV=1e-7,BV=12;function UV(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=GM(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>OV&&++o<BV);return a}function Ym(t,e,n,r){if(t===e&&n===r)return go;const i=s=>UV(s,0,1,t,n);return s=>s===0||s===1?s:GM(i(s),e,r)}const qM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$M=t=>e=>1-t(1-e),KM=Ym(.33,1.53,.69,.99),$w=$M(KM),YM=qM($w),XM=t=>(t*=2)<1?.5*$w(t):.5*(2-Math.pow(2,-10*(t-1))),Kw=t=>1-Math.sin(Math.acos(t)),ZM=$M(Kw),JM=qM(Kw),QM=t=>/^0[^.\s]+$/u.test(t);function jV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QM(t):!0}const eP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),tP=t=>e=>typeof e=="string"&&e.startsWith(t),nP=tP("--"),zV=tP("var(--"),Yw=t=>zV(t)?HV.test(t.split("/*")[0].trim()):!1,HV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,VV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WV(t){const e=VV.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function rP(t,e,n=1){const[r,i]=WV(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return eP(a)?parseFloat(a):a}return Yw(i)?rP(i,e,n+1):i}const ac=(t,e,n)=>n>e?e:n<t?t:n,Wp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dm={...Wp,transform:t=>ac(0,1,t)},u1={...Wp,default:1},Xm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rd=Xm("deg"),el=Xm("%"),kn=Xm("px"),GV=Xm("vh"),qV=Xm("vw"),X5={...el,parse:t=>el.parse(t)/100,transform:t=>el.transform(t*100)},$V=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Z5=t=>t===Wp||t===kn,J5=(t,e)=>parseFloat(t.split(", ")[e]),Q5=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return J5(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?J5(s[1],t):0}},KV=new Set(["x","y","z"]),YV=Km.filter(t=>!KV.has(t));function XV(t){const e=[];return YV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Np={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Q5(4,13),y:Q5(5,14)};Np.translateX=Np.x;Np.translateY=Np.y;const iP=t=>e=>e.test(t),ZV={test:t=>t==="auto",parse:t=>t},sP=[Wp,kn,el,rd,qV,GV,ZV],e3=t=>sP.find(iP(t)),Ch=new Set;let xb=!1,bb=!1;function aP(){if(bb){const t=Array.from(Ch).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=XV(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bb=!1,xb=!1,Ch.forEach(t=>t.complete()),Ch.clear()}function oP(){Ch.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(bb=!0)})}function JV(){oP(),aP()}class Xw{constructor(e,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ch.add(this),xb||(xb=!0,qr.read(oP),qr.resolveKeyframes(aP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ch.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ch.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const im=t=>Math.round(t*1e5)/1e5,Zw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QV(t){return t==null}const eW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jw=(t,e)=>n=>!!(typeof n=="string"&&eW.test(n)&&n.startsWith(t)||e&&!QV(n)&&Object.prototype.hasOwnProperty.call(n,e)),uP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(Zw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},tW=t=>ac(0,255,t),py={...Wp,transform:t=>Math.round(tW(t))},Eh={test:Jw("rgb","red"),parse:uP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+py.transform(t)+", "+py.transform(e)+", "+py.transform(n)+", "+im(Dm.transform(r))+")"};function nW(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Eb={test:Jw("#"),parse:nW,transform:Eh.transform},ip={test:Jw("hsl","hue"),parse:uP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+el.transform(im(e))+", "+el.transform(im(n))+", "+im(Dm.transform(r))+")"},oa={test:t=>Eh.test(t)||Eb.test(t)||ip.test(t),parse:t=>Eh.test(t)?Eh.parse(t):ip.test(t)?ip.parse(t):Eb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Eh.transform(t):ip.transform(t)},rW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iW(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Zw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(rW))===null||n===void 0?void 0:n.length)||0)>0}const lP="number",cP="color",sW="var",aW="var(",t3="${}",oW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(oW,u=>(oa.test(u)?(r.color.push(s),i.push(cP),n.push(oa.parse(u))):u.startsWith(aW)?(r.var.push(s),i.push(sW),n.push(u)):(r.number.push(s),i.push(lP),n.push(parseFloat(u))),++s,t3)).split(t3);return{values:n,split:o,indexes:r,types:i}}function dP(t){return Cm(t).values}function hP(t){const{split:e,types:n}=Cm(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===lP?s+=im(i[a]):o===cP?s+=oa.transform(i[a]):s+=i[a]}return s}}const uW=t=>typeof t=="number"?0:t;function lW(t){const e=dP(t);return hP(t)(e.map(uW))}const gd={test:iW,parse:dP,createTransformer:hP,getAnimatableNone:lW},cW=new Set(["brightness","contrast","saturate","opacity"]);function dW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zw)||[];if(!r)return t;const i=n.replace(r,"");let s=cW.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const hW=/\b([a-z-]*)\(.*?\)/gu,wb={...gd,getAnimatableNone:t=>{const e=t.match(hW);return e?e.map(dW).join(" "):t}},fW={borderWidth:kn,borderTopWidth:kn,borderRightWidth:kn,borderBottomWidth:kn,borderLeftWidth:kn,borderRadius:kn,radius:kn,borderTopLeftRadius:kn,borderTopRightRadius:kn,borderBottomRightRadius:kn,borderBottomLeftRadius:kn,width:kn,maxWidth:kn,height:kn,maxHeight:kn,top:kn,right:kn,bottom:kn,left:kn,padding:kn,paddingTop:kn,paddingRight:kn,paddingBottom:kn,paddingLeft:kn,margin:kn,marginTop:kn,marginRight:kn,marginBottom:kn,marginLeft:kn,backgroundPositionX:kn,backgroundPositionY:kn},pW={rotate:rd,rotateX:rd,rotateY:rd,rotateZ:rd,scale:u1,scaleX:u1,scaleY:u1,scaleZ:u1,skew:rd,skewX:rd,skewY:rd,distance:kn,translateX:kn,translateY:kn,translateZ:kn,x:kn,y:kn,z:kn,perspective:kn,transformPerspective:kn,opacity:Dm,originX:X5,originY:X5,originZ:kn},n3={...Wp,transform:Math.round},Qw={...fW,...pW,zIndex:n3,size:kn,fillOpacity:Dm,strokeOpacity:Dm,numOctaves:n3},mW={...Qw,color:oa,backgroundColor:oa,outlineColor:oa,fill:oa,stroke:oa,borderColor:oa,borderTopColor:oa,borderRightColor:oa,borderBottomColor:oa,borderLeftColor:oa,filter:wb,WebkitFilter:wb},eA=t=>mW[t];function fP(t,e){let n=eA(t);return n!==wb&&(n=gd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gW=new Set(["auto","none","0"]);function vW(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!gW.has(s)&&Cm(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=fP(n,i)}class pP extends Xw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let l=e[u];if(typeof l=="string"&&(l=l.trim(),Yw(l))){const d=rP(l,n.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!$V.has(r)||e.length!==2)return;const[i,s]=e,a=e3(i),o=e3(s);if(a!==o)if(Z5(a)&&Z5(o))for(let u=0;u<e.length;u++){const l=e[u];typeof l=="string"&&(e[u]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)jV(e[i])&&r.push(i);r.length&&vW(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Np[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Np[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,l])=>{n.getValue(u).set(l)}),this.resolveNoneKeyframes()}}function tA(t){return typeof t=="function"}let iv;function _W(){iv=void 0}const tl={now:()=>(iv===void 0&&tl.set(Ns.isProcessing||RV.useManualTiming?Ns.timestamp:performance.now()),iv),set:t=>{iv=t,queueMicrotask(_W)}},r3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gd.test(t)||t==="0")&&!t.startsWith("url("));function yW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xW(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=r3(i,e),o=r3(s,e);return!a||!o?!1:yW(t)||(n==="spring"||tA(n))&&r}const bW=40;class mP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tl.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>bW?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&JV(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=tl.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:u,isGenerator:l}=this.options;if(!l&&!xW(e,r,i,s))if(a)this.options.duration=0;else{u?.(M_(e,this.options,n)),o?.(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Lp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},gP=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Lp(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function vP(t,e){return e?t*(1e3/e):0}const EW=5;function _P(t,e,n){const r=Math.max(e-EW,0);return vP(n-t(r),e-r)}const Ii={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},my=.001;function wW({duration:t=Ii.duration,bounce:e=Ii.bounce,velocity:n=Ii.velocity,mass:r=Ii.mass}){let i,s,a=1-e;a=ac(Ii.minDamping,Ii.maxDamping,a),t=ac(Ii.minDuration,Ii.maxDuration,Jl(t)),a<1?(i=l=>{const d=l*a,f=d*t,m=d-n,p=Ab(l,a),_=Math.exp(-f);return my-m/p*_},s=l=>{const f=l*a*t,m=f*n+n,p=Math.pow(a,2)*Math.pow(l,2)*t,_=Math.exp(-f),E=Ab(Math.pow(l,2),a);return(-i(l)+my>0?-1:1)*((m-p)*_)/E}):(i=l=>{const d=Math.exp(-l*t),f=(l-n)*t+1;return-my+d*f},s=l=>{const d=Math.exp(-l*t),f=(n-l)*(t*t);return d*f});const o=5/t,u=SW(i,s,o);if(t=Zl(t),isNaN(u))return{stiffness:Ii.stiffness,damping:Ii.damping,duration:t};{const l=Math.pow(u,2)*r;return{stiffness:l,damping:a*2*Math.sqrt(r*l),duration:t}}}const AW=12;function SW(t,e,n){let r=n;for(let i=1;i<AW;i++)r=r-t(r)/e(r);return r}function Ab(t,e){return t*Math.sqrt(1-e*e)}const Sb=2e4;function yP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sb;)e+=n,r=t.next(e);return e>=Sb?1/0:e}const TW=["duration","bounce"],DW=["stiffness","damping","mass"];function i3(t,e){return e.some(n=>t[n]!==void 0)}function CW(t){let e={velocity:Ii.velocity,stiffness:Ii.stiffness,damping:Ii.damping,mass:Ii.mass,isResolvedFromDuration:!1,...t};if(!i3(t,DW)&&i3(t,TW))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ac(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:Ii.mass,stiffness:i,damping:s}}else{const n=wW(t);e={...e,...n,mass:Ii.mass},e.isResolvedFromDuration=!0}return e}function xP(t=Ii.visualDuration,e=Ii.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:u,damping:l,mass:d,duration:f,velocity:m,isResolvedFromDuration:p}=CW({...n,velocity:-Jl(n.velocity||0)}),_=m||0,E=l/(2*Math.sqrt(u*d)),y=a-s,v=Jl(Math.sqrt(u/d)),S=Math.abs(y)<5;r||(r=S?Ii.restSpeed.granular:Ii.restSpeed.default),i||(i=S?Ii.restDelta.granular:Ii.restDelta.default);let T;if(E<1){const I=Ab(v,E);T=O=>{const B=Math.exp(-E*v*O);return a-B*((_+E*v*y)/I*Math.sin(I*O)+y*Math.cos(I*O))}}else if(E===1)T=I=>a-Math.exp(-v*I)*(y+(_+v*y)*I);else{const I=v*Math.sqrt(E*E-1);T=O=>{const B=Math.exp(-E*v*O),V=Math.min(I*O,300);return a-B*((_+E*v*y)*Math.sinh(V)+I*y*Math.cosh(V))/I}}const L={calculatedDuration:p&&f||null,next:I=>{const O=T(I);if(p)o.done=I>=f;else{let B=0;E<1&&(B=I===0?Zl(_):_P(T,I,O));const V=Math.abs(B)<=r,M=Math.abs(a-O)<=i;o.done=V&&M}return o.value=o.done?a:O,o},toString:()=>{const I=Math.min(yP(L),Sb),O=gP(B=>L.next(I*B).value,I,30);return I+"ms "+O}};return L}function s3({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:u,restDelta:l=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},p=V=>o!==void 0&&V<o||u!==void 0&&V>u,_=V=>o===void 0?u:u===void 0||Math.abs(o-V)<Math.abs(u-V)?o:u;let E=n*e;const y=f+E,v=a===void 0?y:a(y);v!==y&&(E=v-f);const S=V=>-E*Math.exp(-V/r),T=V=>v+S(V),L=V=>{const M=S(V),R=T(V);m.done=Math.abs(M)<=l,m.value=m.done?v:R};let I,O;const B=V=>{p(m.value)&&(I=V,O=xP({keyframes:[m.value,_(m.value)],velocity:_P(T,V,m.value),damping:i,stiffness:s,restDelta:l,restSpeed:d}))};return B(0),{calculatedDuration:null,next:V=>{let M=!1;return!O&&I===void 0&&(M=!0,L(V),B(V)),I!==void 0&&V>=I?O.next(V-I):(!M&&L(V),m)}}}const NW=Ym(.42,0,1,1),LW=Ym(0,0,.58,1),bP=Ym(.42,0,.58,1),MW=t=>Array.isArray(t)&&typeof t[0]!="number",nA=t=>Array.isArray(t)&&typeof t[0]=="number",PW={linear:go,easeIn:NW,easeInOut:bP,easeOut:LW,circIn:Kw,circInOut:JM,circOut:ZM,backIn:$w,backInOut:YM,backOut:KM,anticipate:XM},a3=t=>{if(nA(t)){VM(t.length===4);const[e,n,r,i]=t;return Ym(e,n,r,i)}else if(typeof t=="string")return PW[t];return t},RW=(t,e)=>n=>e(t(n)),Zm=(...t)=>t.reduce(RW),Ei=(t,e,n)=>t+(e-t)*n;function gy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,u=2*n-o;i=gy(u,o,t+1/3),s=gy(u,o,t),a=gy(u,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Bv(t,e){return n=>n>0?e:t}const vy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},kW=[Eb,Eh,ip],FW=t=>kW.find(e=>e.test(t));function o3(t){const e=FW(t);if(!e)return!1;let n=e.parse(t);return e===ip&&(n=IW(n)),n}const u3=(t,e)=>{const n=o3(t),r=o3(e);if(!n||!r)return Bv(t,e);const i={...n};return s=>(i.red=vy(n.red,r.red,s),i.green=vy(n.green,r.green,s),i.blue=vy(n.blue,r.blue,s),i.alpha=Ei(n.alpha,r.alpha,s),Eh.transform(i))},Tb=new Set(["none","hidden"]);function OW(t,e){return Tb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function BW(t,e){return n=>Ei(t,e,n)}function rA(t){return typeof t=="number"?BW:typeof t=="string"?Yw(t)?Bv:oa.test(t)?u3:zW:Array.isArray(t)?EP:typeof t=="object"?oa.test(t)?u3:UW:Bv}function EP(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>rA(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function UW(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=rA(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function jW(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],u=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=u,i[a]++}return r}const zW=(t,e)=>{const n=gd.createTransformer(e),r=Cm(t),i=Cm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Tb.has(t)&&!i.values.length||Tb.has(e)&&!r.values.length?OW(t,e):Zm(EP(jW(r,i),i.values),n):Bv(t,e)};function wP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ei(t,e,n):rA(t)(t,e)}function HW(t,e,n){const r=[],i=n||wP,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||go:e;o=Zm(u,o)}r.push(o)}return r}function AP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(VM(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=HW(e,r,i),o=a.length,u=l=>{let d=0;if(o>1)for(;d<t.length-2&&!(l<t[d+1]);d++);const f=Lp(t[d],t[d+1],l);return a[d](f)};return n?l=>u(ac(t[0],t[s-1],l)):u}function VW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Lp(0,e,r);t.push(Ei(n,1,i))}}function WW(t){const e=[0];return VW(e,t.length-1),e}function GW(t,e){return t.map(n=>n*e)}function qW(t,e){return t.map(()=>e||bP).splice(0,t.length-1)}function Uv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=MW(r)?r.map(a3):a3(r),s={done:!1,value:e[0]},a=GW(n&&n.length===e.length?n:WW(e),t),o=AP(a,e,{ease:Array.isArray(i)?i:qW(e,i)});return{calculatedDuration:t,next:u=>(s.value=o(u),s.done=u>=t,s)}}const $W=t=>{const e=({timestamp:n})=>t(n);return{start:()=>qr.update(e,!0),stop:()=>sc(e),now:()=>Ns.isProcessing?Ns.timestamp:tl.now()}},KW={decay:s3,inertia:s3,tween:Uv,keyframes:Uv,spring:xP},YW=t=>t/100;class P_ extends mP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=i?.KeyframeResolver||Xw,o=(u,l)=>this.onKeyframesResolved(u,l);this.resolver=new a(s,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=tA(n)?n:KW[n]||Uv;let u,l;o!==Uv&&typeof e[0]!="number"&&(u=Zm(YW,wP(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});s==="mirror"&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=yP(d));const{calculatedDuration:f}=d,m=f+i,p=m*(r+1)-i;return{generator:d,mirroredGenerator:l,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:u,calculatedDuration:l,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:p,repeatType:_,repeatDelay:E,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),S=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let T=this.currentTime,L=s;if(p){const V=Math.min(this.currentTime,d)/f;let M=Math.floor(V),R=V%1;!R&&V>=1&&(R=1),R===1&&M--,M=Math.min(M,p+1),M%2&&(_==="reverse"?(R=1-R,E&&(R-=E/f)):_==="mirror"&&(L=a)),T=ac(0,1,R)*f}const I=S?{done:!1,value:u[0]}:L.next(T);o&&(I.value=o(I.value));let{done:O}=I;!S&&l!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return B&&i!==void 0&&(I.value=M_(u,this.options,i)),y&&y(I.value),B&&this.finish(),I}get duration(){const{resolved:e}=this;return e?Jl(e.calculatedDuration):0}get time(){return Jl(this.currentTime)}set time(e){e=Zl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$W,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function XW(t){return new P_(t)}const ZW=new Set(["opacity","clipPath","filter","transform"]);function iA(t){let e;return()=>(e===void 0&&(e=t()),e)}const JW={linearEasing:void 0};function QW(t,e){const n=iA(t);return()=>{var r;return(r=JW[e])!==null&&r!==void 0?r:n()}}const jv=QW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function SP(t){return!!(typeof t=="function"&&jv()||!t||typeof t=="string"&&(t in Db||jv())||nA(t)||Array.isArray(t)&&t.every(SP))}const G0=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Db={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:G0([0,.65,.55,1]),circOut:G0([.55,0,1,.45]),backIn:G0([.31,.01,.66,-.59]),backOut:G0([.33,1.53,.69,.99])};function TP(t,e){if(t)return typeof t=="function"&&jv()?gP(t,e):nA(t)?G0(t):Array.isArray(t)?t.map(n=>TP(n,e)||Db.easeOut):Db[t]}function eG(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:u}={}){const l={[e]:n};u&&(l.offset=u);const d=TP(o,i);return Array.isArray(d)&&(l.easing=d),t.animate(l,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function l3(t,e){t.timeline=e,t.onfinish=null}const tG=iA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zv=10,nG=2e4;function rG(t){return tA(t.type)||t.type==="spring"||!SP(t.ease)}function iG(t,e){const n=new P_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<nG;)r=n.sample(s),i.push(r.value),s+=zv;return{times:void 0,keyframes:i,duration:s-zv,ease:"linear"}}const DP={anticipate:XM,backInOut:YM,circInOut:JM};function sG(t){return t in DP}class c3 extends mP{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new pP(s,(a,o)=>this.onKeyframesResolved(a,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:a,type:o,motionValue:u,name:l,startTime:d}=this.options;if(!(!((r=u.owner)===null||r===void 0)&&r.current))return!1;if(typeof a=="string"&&jv()&&sG(a)&&(a=DP[a]),rG(this.options)){const{onComplete:m,onUpdate:p,motionValue:_,element:E,...y}=this.options,v=iG(e,y);e=v.keyframes,e.length===1&&(e[1]=e[0]),i=v.duration,s=v.times,a=v.ease,o="keyframes"}const f=eG(u.owner.current,l,e,{...this.options,duration:i,times:s,ease:a});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(l3(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:m}=this.options;u.set(M_(e,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Jl(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Jl(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Zl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return go;const{animation:r}=n;l3(r,e)}return go}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:d,onComplete:f,element:m,...p}=this.options,_=new P_({...p,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),E=Zl(this.time);l.setWithVelocity(_.sample(E-zv).value,_.sample(E).value,zv)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;return tG()&&r&&ZW.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const aG=iA(()=>window.ScrollTimeline!==void 0);class oG{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>aG()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function uG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:u,elapsed:l,...d}){return!!Object.keys(d).length}const sA=(t,e,n,r={},i,s)=>a=>{const o=qw(r,t)||{},u=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Zl(u);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-l,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};uG(o)||(d={...d,...PV(t,d)}),d.duration&&(d.duration=Zl(d.duration)),d.repeatDelay&&(d.repeatDelay=Zl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const m=M_(d.keyframes,o);if(m!==void 0)return qr.update(()=>{d.onUpdate(m),d.onComplete()}),new oG([])}return!s&&c3.supports(d)?new c3(d):new P_(d)},lG=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),cG=t=>yb(t)?t[t.length-1]||0:t;function aA(t,e){t.indexOf(e)===-1&&t.push(e)}function oA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uA{constructor(){this.subscriptions=[]}add(e){return aA(this.subscriptions,e),()=>oA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const d3=30,dG=t=>!isNaN(parseFloat(t)),sm={current:void 0};class hG{constructor(e,n={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=tl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uA);const r=this.events[e].add(n);return e==="change"?()=>{r(),qr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return sm.current&&sm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=tl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>d3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,d3);return vP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mp(t,e){return new hG(t,e)}function fG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mp(n))}function pG(t,e){const n=L_(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=cG(s[a]);fG(t,a,o)}}const lA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mG="framerAppearId",CP="data-"+lA(mG);function NP(t){return t.props[CP]}const Ps=t=>!!(t&&t.getVelocity);function gG(t){return!!(Ps(t)&&t.add)}function Cb(t,e){const n=t.getValue("willChange");if(gG(n))return n.add(e)}function vG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function LP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(a=r);const l=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in u){const m=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),p=u[f];if(p===void 0||d&&vG(d,f))continue;const _={delay:n,...qw(a||{},f)};let E=!1;if(window.MotionHandoffAnimation){const v=NP(t);if(v){const S=window.MotionHandoffAnimation(v,f,qr);S!==null&&(_.startTime=S,E=!0)}}Cb(t,f),m.start(sA(f,m,p,t.shouldReduceMotion&&Vh.has(f)?{type:!1}:_,t,E));const y=m.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{qr.update(()=>{o&&pG(t,o)})}),l}function Nb(t,e,n={}){var r;const i=L_(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(LP(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=s;return _G(t,e,d+l,f,m,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[l,d]=u==="beforeChildren"?[a,o]:[o,a];return l().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function _G(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,u=i===1?(l=0)=>l*r:(l=0)=>o-l*r;return Array.from(t.variantChildren).sort(yG).forEach((l,d)=>{l.notify("AnimationStart",e),a.push(Nb(l,e,{...s,delay:n+u(d)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(a)}function yG(t,e){return t.sortNodePosition(e)}function xG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Nb(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Nb(t,e,n);else{const i=typeof e=="function"?L_(t,e,n.custom):e;r=Promise.all(LP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const bG=Gw.length;function MP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<bG;n++){const r=Gw[n],i=t.props[r];(Tm(i)||i===!1)&&(e[r]=i)}return e}const EG=[...Ww].reverse(),wG=Ww.length;function AG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>xG(t,n,r)))}function SG(t){let e=AG(t),n=h3(),r=!0;const i=u=>(l,d)=>{var f;const m=L_(t,d,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:p,transitionEnd:_,...E}=m;l={...l,...E,..._}}return l};function s(u){e=u(t)}function a(u){const{props:l}=t,d=MP(t.parent)||{},f=[],m=new Set;let p={},_=1/0;for(let y=0;y<wG;y++){const v=EG[y],S=n[v],T=l[v]!==void 0?l[v]:d[v],L=Tm(T),I=v===u?S.isActive:null;I===!1&&(_=y);let O=T===d[v]&&T!==l[v]&&L;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),S.protectedKeys={...p},!S.isActive&&I===null||!T&&!S.prevProp||N_(T)||typeof T=="boolean")continue;const B=TG(S.prevProp,T);let V=B||v===u&&S.isActive&&!O&&L||y>_&&L,M=!1;const R=Array.isArray(T)?T:[T];let k=R.reduce(i(v),{});I===!1&&(k={});const{prevResolvedValues:H={}}=S,q={...H,...k},Y=oe=>{V=!0,m.has(oe)&&(M=!0,m.delete(oe)),S.needsAnimating[oe]=!0;const Q=t.getValue(oe);Q&&(Q.liveStyle=!1)};for(const oe in q){const Q=k[oe],xe=H[oe];if(p.hasOwnProperty(oe))continue;let W=!1;yb(Q)&&yb(xe)?W=!HM(Q,xe):W=Q!==xe,W?Q!=null?Y(oe):m.add(oe):Q!==void 0&&m.has(oe)?Y(oe):S.protectedKeys[oe]=!0}S.prevProp=T,S.prevResolvedValues=k,S.isActive&&(p={...p,...k}),r&&t.blockInitialAnimation&&(V=!1),V&&(!(O&&B)||M)&&f.push(...R.map(oe=>({animation:oe,options:{type:v}})))}if(m.size){const y={};m.forEach(v=>{const S=t.getBaseTarget(v),T=t.getValue(v);T&&(T.liveStyle=!0),y[v]=S??null}),f.push({animation:y})}let E=!!f.length;return r&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(f):Promise.resolve()}function o(u,l){var d;if(n[u].isActive===l)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(u,l)}),n[u].isActive=l;const f=a(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=h3(),r=!0}}}function TG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!HM(e,t):!1}function Jd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h3(){return{animate:Jd(!0),whileInView:Jd(),whileHover:Jd(),whileTap:Jd(),whileDrag:Jd(),whileFocus:Jd(),exit:Jd()}}class Ed{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DG extends Ed{constructor(e){super(e),e.animationState||(e.animationState=SG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();N_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let CG=0;class NG extends Ed{constructor(){super(...arguments),this.id=CG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LG={animation:{Feature:DG},exit:{Feature:NG}},mu={x:!1,y:!1};function PP(){return mu.x||mu.y}function MG(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function RP(t,e){const n=MG(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function f3(t){return e=>{e.pointerType==="touch"||PP()||t(e)}}function PG(t,e,n={}){const[r,i,s]=RP(t,n),a=f3(o=>{const{target:u}=o,l=e(o);if(!l||!u)return;const d=f3(f=>{l(f),u.removeEventListener("pointerleave",d)});u.addEventListener("pointerleave",d,i)});return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const cA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,q0=new WeakSet;function p3(t){return e=>{e.key==="Enter"&&t(e)}}function _y(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const RG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=p3(()=>{if(q0.has(n))return;_y(n,"down");const i=p3(()=>{_y(n,"up")}),s=()=>_y(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)},IG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kG(t){return IG.has(t.tagName)||t.tabIndex!==-1}const IP=(t,e)=>e?t===e?!0:IP(t,e.parentElement):!1;function m3(t){return cA(t)&&!PP()}function FG(t,e,n={}){const[r,i,s]=RP(t,n),a=o=>{const u=o.currentTarget;if(!m3(o)||q0.has(u))return;q0.add(u);const l=e(o),d=(p,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!m3(p)||!q0.has(u))&&(q0.delete(u),l&&l(p,{success:_}))},f=p=>{d(p,n.useGlobalTarget||IP(u,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(o=>{kG(o)||(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",l=>RG(l,i),i)}),s}function OG(t){return t==="x"||t==="y"?mu[t]?null:(mu[t]=!0,()=>{mu[t]=!1}):mu.x||mu.y?null:(mu.x=mu.y=!0,()=>{mu.x=mu.y=!1})}function Jm(t){return{point:{x:t.pageX,y:t.pageY}}}const BG=t=>e=>cA(e)&&t(e,Jm(e));function Nm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function am(t,e,n,r){return Nm(t,e,BG(n),r)}const g3=(t,e)=>Math.abs(t-e);function UG(t,e){const n=g3(t.x,e.x),r=g3(t.y,e.y);return Math.sqrt(n**2+r**2)}class kP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=xy(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=UG(f.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:_}=f,{timestamp:E}=Ns;this.history.push({..._,timestamp:E});const{onStart:y,onMove:v}=this.handlers;m||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=yy(m,this.transformPagePoint),qr.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:_,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=xy(f.type==="pointercancel"?this.lastMoveEventInfo:yy(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),_&&_(f,y)},!cA(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Jm(e),o=yy(a,this.transformPagePoint),{point:u}=o,{timestamp:l}=Ns;this.history=[{...u,timestamp:l}];const{onSessionStart:d}=n;d&&d(e,xy(o,this.history)),this.removeListeners=Zm(am(this.contextWindow,"pointermove",this.handlePointerMove),am(this.contextWindow,"pointerup",this.handlePointerUp),am(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sc(this.updatePoint)}}function yy(t,e){return e?{point:e(t.point)}:t}function v3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xy({point:t},e){return{point:t,delta:v3(t,FP(e)),offset:v3(t,jG(e)),velocity:zG(e,.1)}}function jG(t){return t[0]}function FP(t){return t[t.length-1]}function zG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=FP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Zl(e)));)n--;if(!r)return{x:0,y:0};const s=Jl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function sp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const OP=1e-4,HG=1-OP,VG=1+OP,BP=.01,WG=0-BP,GG=0+BP;function yo(t){return t.max-t.min}function qG(t,e,n){return Math.abs(t-e)<=n}function _3(t,e,n,r=.5){t.origin=r,t.originPoint=Ei(e.min,e.max,t.origin),t.scale=yo(n)/yo(e),t.translate=Ei(n.min,n.max,t.origin)-t.originPoint,(t.scale>=HG&&t.scale<=VG||isNaN(t.scale))&&(t.scale=1),(t.translate>=WG&&t.translate<=GG||isNaN(t.translate))&&(t.translate=0)}function om(t,e,n,r){_3(t.x,e.x,n.x,r?r.originX:void 0),_3(t.y,e.y,n.y,r?r.originY:void 0)}function y3(t,e,n){t.min=n.min+e.min,t.max=t.min+yo(e)}function $G(t,e,n){y3(t.x,e.x,n.x),y3(t.y,e.y,n.y)}function x3(t,e,n){t.min=e.min-n.min,t.max=t.min+yo(e)}function um(t,e,n){x3(t.x,e.x,n.x),x3(t.y,e.y,n.y)}function KG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ei(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ei(n,t,r.max):Math.min(t,n)),t}function b3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YG(t,{top:e,left:n,bottom:r,right:i}){return{x:b3(t.x,n,i),y:b3(t.y,e,r)}}function E3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function XG(t,e){return{x:E3(t.x,e.x),y:E3(t.y,e.y)}}function ZG(t,e){let n=.5;const r=yo(t),i=yo(e);return i>r?n=Lp(e.min,e.max-r,t.min):r>i&&(n=Lp(t.min,t.max-i,e.min)),ac(0,1,n)}function JG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Lb=.35;function QG(t=Lb){return t===!1?t=0:t===!0&&(t=Lb),{x:w3(t,"left","right"),y:w3(t,"top","bottom")}}function w3(t,e,n){return{min:A3(t,e),max:A3(t,n)}}function A3(t,e){return typeof t=="number"?t:t[e]||0}const S3=()=>({translate:0,scale:1,origin:0,originPoint:0}),ap=()=>({x:S3(),y:S3()}),T3=()=>({min:0,max:0}),Vi=()=>({x:T3(),y:T3()});function Oo(t){return[t("x"),t("y")]}function UP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function eq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function by(t){return t===void 0||t===1}function Mb({scale:t,scaleX:e,scaleY:n}){return!by(t)||!by(e)||!by(n)}function uh(t){return Mb(t)||jP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jP(t){return D3(t.x)||D3(t.y)}function D3(t){return t&&t!=="0%"}function Hv(t,e,n){const r=t-n,i=e*r;return n+i}function C3(t,e,n,r,i){return i!==void 0&&(t=Hv(t,i,r)),Hv(t,n,r)+e}function Pb(t,e=0,n=1,r,i){t.min=C3(t.min,e,n,r,i),t.max=C3(t.max,e,n,r,i)}function zP(t,{x:e,y:n}){Pb(t.x,e.translate,e.scale,e.originPoint),Pb(t.y,n.translate,n.scale,n.originPoint)}const N3=.999999999999,L3=1.0000000000001;function nq(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&up(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,zP(t,a)),r&&uh(s.latestValues)&&up(t,s.latestValues))}e.x<L3&&e.x>N3&&(e.x=1),e.y<L3&&e.y>N3&&(e.y=1)}function op(t,e){t.min=t.min+e,t.max=t.max+e}function M3(t,e,n,r,i=.5){const s=Ei(t.min,t.max,i);Pb(t,e,n,s,r)}function up(t,e){M3(t.x,e.x,e.scaleX,e.scale,e.originX),M3(t.y,e.y,e.scaleY,e.scale,e.originY)}function HP(t,e){return UP(tq(t.getBoundingClientRect(),e))}function rq(t,e,n){const r=HP(t,n),{scroll:i}=e;return i&&(op(r.x,i.offset.x),op(r.y,i.offset.y)),r}const VP=({current:t})=>t?t.ownerDocument.defaultView:null,iq=new WeakMap;class sq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jm(d).point)},s=(d,f)=>{const{drag:m,dragPropagation:p,onDragStart:_}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OG(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oo(y=>{let v=this.getAxisMotionValue(y).get()||0;if(el.test(v)){const{projection:S}=this.visualElement;if(S&&S.layout){const T=S.layout.layoutBox[y];T&&(v=yo(T)*(parseFloat(v)/100))}}this.originPoint[y]=v}),_&&qr.postRender(()=>_(d,f)),Cb(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:_,onDrag:E}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=aq(y),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),E&&E(d,f)},o=(d,f)=>this.stop(d,f),u=()=>Oo(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new kP(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:VP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&qr.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!l1(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=KG(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&sp(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=YG(i.layoutBox,n):this.constraints=!1,this.elastic=QG(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Oo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=JG(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=rq(r,i.root,this.visualElement.getTransformPagePoint());let a=XG(i.layout.layoutBox,s);if(n){const o=n(eq(a));this.hasMutatedConstraints=!!o,o&&(a=UP(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},l=Oo(d=>{if(!l1(d,n,this.currentDirection))return;let f=u&&u[d]||{};a&&(f={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,_)});return Promise.all(l).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Cb(this.visualElement,e),r.start(sA(e,r,0,n,this.visualElement,!1))}stopAnimation(){Oo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Oo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Oo(n=>{const{drag:r}=this.getProps();if(!l1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Ei(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Oo(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();i[a]=ZG({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oo(a=>{if(!l1(a,e,null))return;const o=this.getAxisMotionValue(a),{min:u,max:l}=this.constraints[a];o.set(Ei(u,l,i[a]))})}addListeners(){if(!this.visualElement.current)return;iq.set(this.visualElement,this);const e=this.visualElement.current,n=am(e,"pointerdown",u=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();sp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),qr.read(r);const a=Nm(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(Oo(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Lb,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function l1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oq extends Ed{constructor(e){super(e),this.removeGroupControls=go,this.removeListeners=go,this.controls=new sq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||go}unmount(){this.removeGroupControls(),this.removeListeners()}}const P3=t=>(e,n)=>{t&&qr.postRender(()=>t(e,n))};class uq extends Ed{constructor(){super(...arguments),this.removePointerDownListener=go}onPointerDown(e){this.session=new kP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:P3(e),onStart:P3(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&qr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=am(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const R_=ne.createContext(null);function lq(){const t=ne.useContext(R_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=ne.useId();ne.useEffect(()=>r(i),[]);const s=ne.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const dA=ne.createContext({}),WP=ne.createContext({}),sv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function R3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const T0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(kn.test(t))t=parseFloat(t);else return t;const n=R3(t,e.target.x),r=R3(t,e.target.y);return`${n}% ${r}%`}},cq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=gd.parse(t);if(i.length>5)return r;const s=gd.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=u;const l=Ei(o,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=l),typeof i[3+a]=="number"&&(i[3+a]/=l),s(i)}},Vv={};function dq(t){Object.assign(Vv,t)}const{schedule:hA}=WM(queueMicrotask,!1);class hq extends ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;dq(fq),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),sv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||qr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GP(t){const[e,n]=lq(),r=ne.useContext(dA);return b.jsx(hq,{...t,layoutGroup:r,switchLayoutGroup:ne.useContext(WP),isPresent:e,safeToRemove:n})}const fq={borderRadius:{...T0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:T0,borderTopRightRadius:T0,borderBottomLeftRadius:T0,borderBottomRightRadius:T0,boxShadow:cq},qP=["TopLeft","TopRight","BottomLeft","BottomRight"],pq=qP.length,I3=t=>typeof t=="string"?parseFloat(t):t,k3=t=>typeof t=="number"||kn.test(t);function mq(t,e,n,r,i,s){i?(t.opacity=Ei(0,n.opacity!==void 0?n.opacity:1,gq(r)),t.opacityExit=Ei(e.opacity!==void 0?e.opacity:1,0,vq(r))):s&&(t.opacity=Ei(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<pq;a++){const o=`border${qP[a]}Radius`;let u=F3(e,o),l=F3(n,o);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||k3(u)===k3(l)?(t[o]=Math.max(Ei(I3(u),I3(l),r),0),(el.test(l)||el.test(u))&&(t[o]+="%")):t[o]=l}(e.rotate||n.rotate)&&(t.rotate=Ei(e.rotate||0,n.rotate||0,r))}function F3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gq=$P(0,.5,ZM),vq=$P(.5,.95,go);function $P(t,e,n){return r=>r<t?0:r>e?1:n(Lp(t,e,r))}function O3(t,e){t.min=e.min,t.max=e.max}function Io(t,e){O3(t.x,e.x),O3(t.y,e.y)}function B3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function U3(t,e,n,r,i){return t-=e,t=Hv(t,1/n,r),i!==void 0&&(t=Hv(t,1/i,r)),t}function _q(t,e=0,n=1,r=.5,i,s=t,a=t){if(el.test(e)&&(e=parseFloat(e),e=Ei(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Ei(s.min,s.max,r);t===s&&(o-=e),t.min=U3(t.min,e,n,o,i),t.max=U3(t.max,e,n,o,i)}function j3(t,e,[n,r,i],s,a){_q(t,e[n],e[r],e[i],e.scale,s,a)}const yq=["x","scaleX","originX"],xq=["y","scaleY","originY"];function z3(t,e,n,r){j3(t.x,e,yq,n?n.x:void 0,r?r.x:void 0),j3(t.y,e,xq,n?n.y:void 0,r?r.y:void 0)}function H3(t){return t.translate===0&&t.scale===1}function KP(t){return H3(t.x)&&H3(t.y)}function V3(t,e){return t.min===e.min&&t.max===e.max}function bq(t,e){return V3(t.x,e.x)&&V3(t.y,e.y)}function W3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function YP(t,e){return W3(t.x,e.x)&&W3(t.y,e.y)}function G3(t){return yo(t.x)/yo(t.y)}function q3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Eq{constructor(){this.members=[]}add(e){aA(this.members,e),e.scheduleRender()}remove(e){if(oA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wq(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:d,rotateX:f,rotateY:m,skewX:p,skewY:_}=n;l&&(r=`perspective(${l}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),_&&(r+=`skewY(${_}deg) `)}const o=t.x.scale*e.x,u=t.y.scale*e.y;return(o!==1||u!==1)&&(r+=`scale(${o}, ${u})`),r||"none"}const Aq=(t,e)=>t.depth-e.depth;class Sq{constructor(){this.children=[],this.isDirty=!1}add(e){aA(this.children,e),this.isDirty=!0}remove(e){oA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Aq),this.isDirty=!1,this.children.forEach(e)}}function av(t){const e=Ps(t)?t.get():t;return lG(e)?e.toValue():e}function Tq(t,e){const n=tl.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(sc(r),t(s-e))};return qr.read(r,!0),()=>sc(r)}function Dq(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Cq(t,e,n){const r=Ps(t)?t:Mp(t);return r.start(sA("",r,e,n)),r.animation}const lh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},$0=typeof window<"u"&&window.MotionDebug!==void 0,Ey=["","X","Y","Z"],Nq={visibility:"hidden"},$3=1e3;let Lq=0;function wy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function XP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=NP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&XP(r)}function ZP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=Lq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$0&&(lh.totalNodes=lh.resolvedTargetDeltas=lh.recalculatedProjection=0),this.nodes.forEach(Rq),this.nodes.forEach(Bq),this.nodes.forEach(Uq),this.nodes.forEach(Iq),$0&&window.MotionDebug.record(lh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sq)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new uA),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Dq(a),this.instance=a;const{layoutId:u,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||u)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Tq(m,250),sv.hasAnimatedSinceResize&&(sv.hasAnimatedSinceResize=!1,this.nodes.forEach(Y3))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||Wq,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=d.getProps(),S=!this.targetLayout||!YP(this.targetLayout,_)||p,T=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const L={...qw(E,"layout"),onPlay:y,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else m||Y3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jq),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(K3);return}this.isUpdating||this.nodes.forEach(Fq),this.isUpdating=!1,this.nodes.forEach(Oq),this.nodes.forEach(Mq),this.nodes.forEach(Pq),this.clearAllSnapshots();const o=tl.now();Ns.delta=ac(0,1e3/60,o-Ns.timestamp),Ns.timestamp=o,Ns.isProcessing=!0,fy.update.process(Ns),fy.preRender.process(Ns),fy.render.process(Ns),Ns.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kq),this.sharedNodes.forEach(zq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!KP(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;a&&(o||uh(this.latestValues)||d)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),Gq(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Vi();const u=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(qq))){const{scroll:d}=this.root;d&&(op(u.x,d.offset.x),op(u.y,d.offset.y))}return u}removeElementScroll(a){var o;const u=Vi();if(Io(u,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return u;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Io(u,a),op(u.x,f.offset.x),op(u.y,f.offset.y))}return u}applyTransform(a,o=!1){const u=Vi();Io(u,a);for(let l=0;l<this.path.length;l++){const d=this.path[l];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&up(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),uh(d.latestValues)&&up(u,d.latestValues)}return uh(this.latestValues)&&up(u,this.latestValues),u}removeTransform(a){const o=Vi();Io(o,a);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!uh(l.latestValues))continue;Mb(l.latestValues)&&l.updateSnapshot();const d=Vi(),f=l.measurePageBox();Io(d,f),z3(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return uh(this.latestValues)&&z3(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ns.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==u;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Ns.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vi(),this.relativeTargetOrigin=Vi(),um(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vi(),this.targetWithTransforms=Vi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$G(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Io(this.target,this.layout.layoutBox),zP(this.target,this.targetDelta)):Io(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vi(),this.relativeTargetOrigin=Vi(),um(this.relativeTargetOrigin,this.target,p.target),Io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$0&&lh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mb(this.parent.latestValues)||jP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(l=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ns.timestamp&&(l=!1),l)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Io(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;nq(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Vi());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(B3(this.prevProjectionDelta.x,this.projectionDelta.x),B3(this.prevProjectionDelta.y,this.projectionDelta.y)),om(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!q3(this.projectionDelta.x,this.prevProjectionDelta.x)||!q3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),$0&&lh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ap(),this.projectionDelta=ap(),this.projectionDeltaWithTransform=ap()}setAnimationOrigin(a,o=!1){const u=this.snapshot,l=u?u.latestValues:{},d={...this.latestValues},f=ap();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Vi(),p=u?u.source:void 0,_=this.layout?this.layout.source:void 0,E=p!==_,y=this.getStack(),v=!y||y.members.length<=1,S=!!(E&&!v&&this.options.crossfade===!0&&!this.path.some(Vq));this.animationProgress=0;let T;this.mixTargetDelta=L=>{const I=L/1e3;X3(f.x,a.x,I),X3(f.y,a.y,I),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(um(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hq(this.relativeTarget,this.relativeTargetOrigin,m,I),T&&bq(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Vi()),Io(T,this.relativeTarget)),E&&(this.animationValues=d,mq(d,l,this.latestValues,I,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qr.update(()=>{sv.hasAnimatedSinceResize=!0,this.currentAnimation=Cq(0,$3,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:l,latestValues:d}=a;if(!(!o||!u||!l)){if(this!==a&&this.layout&&l&&JP(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||Vi();const f=yo(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+f;const m=yo(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+m}Io(o,u),up(o,d),om(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Eq),this.sharedNodes.get(a).add(o);const l=o.options.initialPromotionConfig;o.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const l={};u.z&&wy("z",a,l,this.animationValues);for(let d=0;d<Ey.length;d++)wy(`rotate${Ey[d]}`,a,l,this.animationValues),wy(`skew${Ey[d]}`,a,l,this.animationValues);a.render();for(const d in l)a.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);a.scheduleRender()}getProjectionStyles(a){var o,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Nq;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=av(a?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=av(a?.pointerEvents)||""),this.hasProjected&&!uh(this.latestValues)&&(E.transform=d?d({},""):"none",this.hasProjected=!1),E}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=wq(this.projectionDeltaWithTransform,this.treeScale,m),d&&(l.transform=d(m,l.transform));const{x:p,y:_}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${_.origin*100}% 0`,f.animationValues?l.opacity=f===this?(u=(o=m.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const E in Vv){if(m[E]===void 0)continue;const{correct:y,applyTo:v}=Vv[E],S=l.transform==="none"?m[E]:y(m[E],f);if(v){const T=v.length;for(let L=0;L<T;L++)l[v[L]]=S}else l[E]=S}return this.options.layoutId&&(l.pointerEvents=f===this?av(a?.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(K3),this.root.sharedNodes.clear()}}}function Mq(t){t.updateLayout()}function Pq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Oo(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],p=yo(m);m.min=r[f].min,m.max=m.min+p}):JP(s,n.layoutBox,r)&&Oo(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],p=yo(r[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=ap();om(o,r,n.layoutBox);const u=ap();a?om(u,t.applyTransform(i,!0),n.measuredBox):om(u,r,n.layoutBox);const l=!KP(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const _=Vi();um(_,n.layoutBox,m.layoutBox);const E=Vi();um(E,r,p.layoutBox),YP(_,E)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Rq(t){$0&&lh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Iq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kq(t){t.clearSnapshot()}function K3(t){t.clearMeasurements()}function Fq(t){t.isLayoutDirty=!1}function Oq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Y3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Bq(t){t.resolveTargetDelta()}function Uq(t){t.calcProjection()}function jq(t){t.resetSkewAndRotation()}function zq(t){t.removeLeadSnapshot()}function X3(t,e,n){t.translate=Ei(e.translate,0,n),t.scale=Ei(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Z3(t,e,n,r){t.min=Ei(e.min,n.min,r),t.max=Ei(e.max,n.max,r)}function Hq(t,e,n,r){Z3(t.x,e.x,n.x,r),Z3(t.y,e.y,n.y,r)}function Vq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Wq={duration:.45,ease:[.4,0,.1,1]},J3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Q3=J3("applewebkit/")&&!J3("chrome/")?Math.round:go;function eD(t){t.min=Q3(t.min),t.max=Q3(t.max)}function Gq(t){eD(t.x),eD(t.y)}function JP(t,e,n){return t==="position"||t==="preserve-aspect"&&!qG(G3(e),G3(n),.2)}function qq(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const $q=ZP({attachResizeListener:(t,e)=>Nm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ay={current:void 0},QP=ZP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ay.current){const t=new $q({});t.mount(window),t.setOptions({layoutScroll:!0}),Ay.current=t}return Ay.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Kq={pan:{Feature:uq},drag:{Feature:oq,ProjectionNode:QP,MeasureLayout:GP}};function tD(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&qr.postRender(()=>s(e,Jm(e)))}class Yq extends Ed{mount(){const{current:e}=this.node;e&&(this.unmount=PG(e,n=>(tD(this.node,n,"Start"),r=>tD(this.node,r,"End"))))}unmount(){}}class Xq extends Ed{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zm(Nm(this.node.current,"focus",()=>this.onFocus()),Nm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nD(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&qr.postRender(()=>s(e,Jm(e)))}class Zq extends Ed{mount(){const{current:e}=this.node;e&&(this.unmount=FG(e,n=>(nD(this.node,n,"Start"),(r,{success:i})=>nD(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rb=new WeakMap,Sy=new WeakMap,Jq=t=>{const e=Rb.get(t.target);e&&e(t)},Qq=t=>{t.forEach(Jq)};function e$({root:t,...e}){const n=t||document;Sy.has(n)||Sy.set(n,{});const r=Sy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Qq,{root:t,...e})),r[i]}function t$(t,e,n){const r=e$(e);return Rb.set(t,n),r.observe(t),()=>{Rb.delete(t),r.unobserve(t)}}const n$={some:0,all:1};class r$ extends Ed{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:n$[i]},o=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=l?d:f;m&&m(u)};return t$(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(i$(e,n))&&this.startObserver()}unmount(){}}function i$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const s$={inView:{Feature:r$},tap:{Feature:Zq},focus:{Feature:Xq},hover:{Feature:Yq}},a$={layout:{ProjectionNode:QP,MeasureLayout:GP}},Qm=ne.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),I_=ne.createContext({}),fA=typeof window<"u",k_=fA?ne.useLayoutEffect:ne.useEffect,eR=ne.createContext({strict:!1});function o$(t,e,n,r,i){var s,a;const{visualElement:o}=ne.useContext(I_),u=ne.useContext(eR),l=ne.useContext(R_),d=ne.useContext(Qm).reducedMotion,f=ne.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,p=ne.useContext(WP);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&u$(f.current,n,i,p);const _=ne.useRef(!1);ne.useInsertionEffect(()=>{m&&_.current&&m.update(n,l)});const E=n[CP],y=ne.useRef(!!E&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,E))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,E)));return k_(()=>{m&&(_.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),hA.render(m.render),y.current&&m.animationState&&m.animationState.animateChanges())}),ne.useEffect(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,E)}),y.current=!1))}),m}function u$(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tR(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&sp(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:l})}function tR(t){if(t)return t.options.allowProjection!==!1?t.projection:tR(t.parent)}function l$(t,e,n){return ne.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sp(n)&&(n.current=r))},[e])}function F_(t){return N_(t.animate)||Gw.some(e=>Tm(t[e]))}function nR(t){return!!(F_(t)||t.variants)}function c$(t,e){if(F_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Tm(n)?n:void 0,animate:Tm(r)?r:void 0}}return t.inherit!==!1?e:{}}function d$(t){const{initial:e,animate:n}=c$(t,ne.useContext(I_));return ne.useMemo(()=>({initial:e,animate:n}),[rD(e),rD(n)])}function rD(t){return Array.isArray(t)?t.join(" "):t}const iD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pp={};for(const t in iD)Pp[t]={isEnabled:e=>iD[t].some(n=>!!e[n])};function h$(t){for(const e in t)Pp[e]={...Pp[e],...t[e]}}const f$=Symbol.for("motionComponentSymbol");function p$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&h$(t);function s(o,u){let l;const d={...ne.useContext(Qm),...o,layoutId:m$(o)},{isStatic:f}=d,m=d$(o),p=r(o,f);if(!f&&fA){g$();const _=v$(d);l=_.MeasureLayout,m.visualElement=o$(i,p,d,e,_.ProjectionNode)}return b.jsxs(I_.Provider,{value:m,children:[l&&m.visualElement?b.jsx(l,{visualElement:m.visualElement,...d}):null,n(i,o,l$(p,m.visualElement,u),p,f,m.visualElement)]})}const a=ne.forwardRef(s);return a[f$]=i,a}function m$({layoutId:t}){const e=ne.useContext(dA).id;return e&&t!==void 0?e+"-"+t:t}function g$(t,e){ne.useContext(eR).strict}function v$(t){const{drag:e,layout:n}=Pp;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const _$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pA(t){return typeof t!="string"||t.includes("-")?!1:!!(_$.indexOf(t)>-1||/[A-Z]/u.test(t))}function rR(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const iR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sR(t,e,n,r){rR(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(iR.has(i)?i:lA(i),e.attrs[i])}function aR(t,{layout:e,layoutId:n}){return Vh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vv[t]||t==="opacity")}function mA(t,e,n){var r;const{style:i}=t,s={};for(const a in i)(Ps(i[a])||e.style&&Ps(e.style[a])||aR(a,t)||((r=n?.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function oR(t,e,n){const r=mA(t,e,n);for(const i in t)if(Ps(t[i])||Ps(e[i])){const s=Km.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function eg(t){const e=ne.useRef(null);return e.current===null&&(e.current=t()),e.current}function y$({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:x$(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const uR=t=>(e,n)=>{const r=ne.useContext(I_),i=ne.useContext(R_),s=()=>y$(t,e,r,i);return n?s():eg(s)};function x$(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=av(s[m]);let{initial:a,animate:o}=t;const u=F_(t),l=nR(t);e&&l&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!N_(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const _=Vw(t,m[p]);if(_){const{transitionEnd:E,transition:y,...v}=_;for(const S in v){let T=v[S];if(Array.isArray(T)){const L=d?T.length-1:0;T=T[L]}T!==null&&(i[S]=T)}for(const S in E)i[S]=E[S]}}}return i}const gA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),lR=()=>({...gA(),attrs:{}}),cR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,b$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},E$=Km.length;function w$(t,e,n){let r="",i=!0;for(let s=0;s<E$;s++){const a=Km[s],o=t[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||n){const l=cR(o,Qw[a]);if(!u){i=!1;const d=b$[a]||a;r+=`${d}(${l}) `}n&&(e[a]=l)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function vA(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const u in e){const l=e[u];if(Vh.has(u)){a=!0;continue}else if(nP(u)){i[u]=l;continue}else{const d=cR(l,Qw[u]);u.startsWith("origin")?(o=!0,s[u]=d):r[u]=d}}if(e.transform||(a||n?r.transform=w$(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:u="50%",originY:l="50%",originZ:d=0}=s;r.transformOrigin=`${u} ${l} ${d}`}}function sD(t,e,n){return typeof t=="string"?t:kn.transform(e+n*t)}function A$(t,e,n){const r=sD(e,t.x,t.width),i=sD(n,t.y,t.height);return`${r} ${i}`}const S$={offset:"stroke-dashoffset",array:"stroke-dasharray"},T$={offset:"strokeDashoffset",array:"strokeDasharray"};function D$(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?S$:T$;t[s.offset]=kn.transform(-r);const a=kn.transform(e),o=kn.transform(n);t[s.array]=`${a} ${o}`}function _A(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...l},d,f){if(vA(t,l,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:_}=t;m.transform&&(_&&(p.transform=m.transform),delete m.transform),_&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=A$(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&D$(m,a,o,u,!1)}const yA=t=>typeof t=="string"&&t.toLowerCase()==="svg",C$={useVisualState:uR({scrapeMotionValuesFromProps:oR,createRenderState:lR,onMount:(t,e,{renderState:n,latestValues:r})=>{qr.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),qr.render(()=>{_A(n,r,yA(e.tagName),t.transformTemplate),sR(e,n)})}})},N$={useVisualState:uR({scrapeMotionValuesFromProps:mA,createRenderState:gA})};function dR(t,e,n){for(const r in e)!Ps(e[r])&&!aR(r,n)&&(t[r]=e[r])}function L$({transformTemplate:t},e){return ne.useMemo(()=>{const n=gA();return vA(n,e,t),Object.assign({},n.vars,n.style)},[e])}function M$(t,e){const n=t.style||{},r={};return dR(r,n,t),Object.assign(r,L$(t,e)),r}function P$(t,e){const n={},r=M$(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const R$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||R$.has(t)}let hR=t=>!Wv(t);function I$(t){t&&(hR=e=>e.startsWith("on")?!Wv(e):t(e))}try{I$(require("@emotion/is-prop-valid").default)}catch{}function k$(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(hR(i)||n===!0&&Wv(i)||!e&&!Wv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function F$(t,e,n,r){const i=ne.useMemo(()=>{const s=lR();return _A(s,e,yA(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};dR(s,t.style,t),i.style={...s,...i.style}}return i}function O$(t=!1){return(n,r,i,{latestValues:s},a)=>{const u=(pA(n)?F$:P$)(r,s,a,n),l=k$(r,typeof n=="string",t),d=n!==ne.Fragment?{...l,...u,ref:i}:{},{children:f}=r,m=ne.useMemo(()=>Ps(f)?f.get():f,[f]);return ne.createElement(n,{...d,children:m})}}function B$(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...pA(r)?C$:N$,preloadedFeatures:t,useRender:O$(i),createVisualElement:e,Component:r};return p$(a)}}const Gv={current:null},xA={current:!1};function fR(){if(xA.current=!0,!!fA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gv.current=t.matches;t.addListener(e),e()}else Gv.current=!1}function U$(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ps(i))t.addValue(r,i);else if(Ps(s))t.addValue(r,Mp(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Mp(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const aD=new WeakMap,j$=[...sP,oa,gd],z$=t=>j$.find(iP(t)),oD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H${scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=tl.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,qr.render(this.render,!1,!0))};const{latestValues:u,renderState:l}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=F_(n),this.isVariantNode=nR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const p=f[m];u[m]!==void 0&&Ps(p)&&p.set(u[m],!1)}}mount(e){this.current=e,aD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xA.current||fR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aD.delete(this.current),this.projection&&this.projection.unmount(),sc(this.notifyUpdate),sc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Vh.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&qr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pp){const n=Pp[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oD.length;r++){const i=oD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=U$(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Mp(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(eP(i)||QM(i))?i=parseFloat(i):!z$(i)&&gd.test(n)&&(i=fP(e,n)),this.setBaseTarget(e,Ps(i)?i.get():i)),Ps(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=Vw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ps(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class pR extends H${constructor(){super(...arguments),this.KeyframeResolver=pP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ps(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function V$(t){return window.getComputedStyle(t)}class W$ extends pR{constructor(){super(...arguments),this.type="html",this.renderInstance=rR}readValueFromInstance(e,n){if(Vh.has(n)){const r=eA(n);return r&&r.default||0}else{const r=V$(e),i=(nP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HP(e,n)}build(e,n,r){vA(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return mA(e,n,r)}}class G$ extends pR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vh.has(n)){const r=eA(n);return r&&r.default||0}return n=iR.has(n)?n:lA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return oR(e,n,r)}build(e,n,r){_A(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){sR(e,n,r,i)}mount(e){this.isSVGTag=yA(e.tagName),super.mount(e)}}const q$=(t,e)=>pA(t)?new G$(e):new W$(e,{allowProjection:t!==ne.Fragment}),$$=B$({...LG,...s$,...Kq,...a$},q$),Xt=DV($$);class K$ extends ne.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y$({children:t,isPresent:e}){const n=ne.useId(),r=ne.useRef(null),i=ne.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=ne.useContext(Qm);return ne.useInsertionEffect(()=>{const{width:a,height:o,top:u,left:l}=i.current;if(e||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${u}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),b.jsx(K$,{isPresent:e,childRef:r,sizeRef:i,children:ne.cloneElement(t,{ref:r})})}const X$=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=eg(Z$),u=ne.useId(),l=ne.useCallback(f=>{o.set(f,!0);for(const m of o.values())if(!m)return;r&&r()},[o,r]),d=ne.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:l,register:f=>(o.set(f,!1),()=>o.delete(f))}),s?[Math.random(),l]:[n,l]);return ne.useMemo(()=>{o.forEach((f,m)=>o.set(m,!1))},[n]),ne.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=b.jsx(Y$,{isPresent:n,children:t})),b.jsx(R_.Provider,{value:d,children:t})};function Z$(){return new Map}const c1=t=>t.key||"";function uD(t){const e=[];return ne.Children.forEach(t,n=>{ne.isValidElement(n)&&e.push(n)}),e}const J$=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=ne.useMemo(()=>uD(t),[t]),u=o.map(c1),l=ne.useRef(!0),d=ne.useRef(o),f=eg(()=>new Map),[m,p]=ne.useState(o),[_,E]=ne.useState(o);k_(()=>{l.current=!1,d.current=o;for(let S=0;S<_.length;S++){const T=c1(_[S]);u.includes(T)?f.delete(T):f.get(T)!==!0&&f.set(T,!1)}},[_,u.length,u.join("-")]);const y=[];if(o!==m){let S=[...o];for(let T=0;T<_.length;T++){const L=_[T],I=c1(L);u.includes(I)||(S.splice(T,0,L),y.push(L))}a==="wait"&&y.length&&(S=y),E(uD(S)),p(o);return}const{forceRender:v}=ne.useContext(dA);return b.jsx(b.Fragment,{children:_.map(S=>{const T=c1(S),L=o===_||u.includes(T),I=()=>{if(f.has(T))f.set(T,!0);else return;let O=!0;f.forEach(B=>{B||(O=!1)}),O&&(v?.(),E(d.current),i&&i())};return b.jsx(X$,{isPresent:L,initial:!l.current||r?void 0:!1,custom:L?void 0:n,presenceAffectsLayout:s,mode:a,onExitComplete:L?void 0:I,children:S},T)})})};function qv(t){const e=eg(()=>Mp(t)),{isStatic:n}=ne.useContext(Qm);if(n){const[,r]=ne.useState(t);ne.useEffect(()=>e.on("change",r),[])}return e}function mR(t,e){const n=qv(e()),r=()=>n.set(e());return r(),k_(()=>{const i=()=>qr.preRender(r,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),sc(r)}}),n}const Q$=t=>t&&typeof t=="object"&&t.mix,eK=t=>Q$(t)?t.mix:void 0;function tK(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],a=t[3+n],o=AP(i,s,{mixer:eK(s[0]),...a});return e?o(r):o}function nK(t){sm.current=[],t();const e=mR(sm.current,t);return sm.current=void 0,e}function lD(t,e,n,r){if(typeof t=="function")return nK(t);const i=typeof e=="function"?e:tK(e,n,r);return Array.isArray(t)?cD(t,i):cD([t],([s])=>i(s))}function cD(t,e){const n=eg(()=>[]);return mR(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function dD(t){return typeof t=="number"?t:parseFloat(t)}function hD(t,e={}){const{isStatic:n}=ne.useContext(Qm),r=ne.useRef(null),i=qv(Ps(t)?dD(t.get()):t),s=ne.useRef(i.get()),a=ne.useRef(()=>{}),o=()=>{const l=r.current;l&&l.time===0&&l.sample(Ns.delta),u(),r.current=XW({keyframes:[i.get(),s.current],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a.current})},u=()=>{r.current&&r.current.stop()};return ne.useInsertionEffect(()=>i.attach((l,d)=>n?d(l):(s.current=l,a.current=d,qr.update(o),i.get()),u),[JSON.stringify(e)]),k_(()=>{if(Ps(t))return t.on("change",l=>i.set(dD(l)))},[i]),i}function Oi(){!xA.current&&fR();const[t]=ne.useState(Gv.current);return t}const fD=["Welcome! Getting everything ready for you...","Just a moment, we're setting things up...","Almost ready! Preparing your experience...","Thanks for your patience..."];function rK(){return b.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-gradient-to-br from-[var(--bg)] via-[var(--bg-elevated)] to-[var(--bg)]",children:[b.jsx(Hw,{}),b.jsxs("div",{className:"relative flex flex-col items-center gap-[var(--space-32)] p-[var(--space-32)] z-10",children:[b.jsxs(Xt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"relative",children:[b.jsx(zM,{progress:void 0}),b.jsx(kh,{})]}),b.jsxs(Xt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:"w-[20rem] text-center",children:[b.jsx(Xt.p,{initial:{opacity:0},animate:{opacity:[.5,1,.5]},transition:{delay:.5,duration:2,repeat:1/0,ease:"easeInOut"},className:"text-[length:var(--font-400)] font-medium text-[var(--text)] mb-[var(--space-8)]",children:fD[Math.floor(Math.random()*fD.length)]}),b.jsx("div",{className:"flex justify-center gap-[var(--space-8)] mt-[var(--space-16)]",children:[0,1,2].map(t=>b.jsx(Xt.div,{className:"w-[var(--space-8)] h-[var(--space-8)] bg-accent rounded-full",animate:{y:[0,-10,0],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:t*.2,ease:"easeInOut"}},t))})]}),b.jsx(Xt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-[length:var(--font-100)] text-[var(--text-muted)] mt-[var(--space-16)]",children:"Please wait while we load your preferred language..."})]}),b.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-accent/10 via-transparent to-transparent pointer-events-none"})]})}function gR({title:t="Oops! Something unexpected happened",message:e,onRetry:n,retryText:r="Try Again"}){const i=t,s=r;return b.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-gradient-to-br from-slate-900 via-red-900/30 to-slate-900",children:[b.jsx(Hw,{}),b.jsxs(Xt.div,{initial:{scale:.9,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"relative flex flex-col items-center gap-6 p-8 max-w-md z-10",children:[b.jsxs(Xt.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"relative w-20 h-20",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500 to-pink-500 rounded-full opacity-20 blur-xl animate-pulse"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx("svg",{className:"w-16 h-16 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx(Xt.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5,delay:.3},strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]}),b.jsxs("div",{className:"text-center space-y-3",children:[b.jsx(Xt.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-2xl font-bold text-white",children:i}),b.jsxs(Xt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-2",children:[b.jsx("p",{className:"text-base text-white/80 leading-relaxed",children:e}),b.jsx("p",{className:"text-sm text-white/50",children:"Don't worry, this happens sometimes. Please check your connection and try again."})]})]}),n&&b.jsxs(Xt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex gap-3 mt-4",children:[b.jsx(Xt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-medium rounded-lg shadow-lg shadow-purple-500/30 transition-all duration-200",children:s}),b.jsx(Xt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href="/",className:"px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-medium rounded-lg backdrop-blur-sm transition-all duration-200",children:"Go Home"})]}),b.jsxs(Xt.details,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-4 w-full",children:[b.jsx("summary",{className:"text-xs text-white/40 cursor-pointer hover:text-white/60 transition-colors",children:"Technical Details"}),b.jsx(Xt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"mt-2 p-3 bg-black/30 rounded-lg border border-white/10",children:b.jsx("code",{className:"text-xs text-red-300 font-mono break-all",children:e})})]})]}),b.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-red-500/5 via-transparent to-transparent pointer-events-none"})]})}const vR=ne.createContext(void 0);function iK({children:t}){const[e,n]=ne.useState(()=>{const a=localStorage.getItem("preferred-language");return a==="en"||a==="ru"||a==="am"?a:"en"}),r=a=>{n(a),localStorage.setItem("preferred-language",a)},i=TV(),s=a=>{const o=i.translations[e],u=o?o[a]:void 0;return u&&u.length>0?u:`[missing:${a}]`};if(i.isLoading)return b.jsx(rK,{});if(i.error){const a=e==="ru"?"   ":e==="am"?"  ":"Unable to Load Your Language",o=e==="ru"?"      .     .":e==="am"?"     :      :":"We couldn't load your preferred language settings. This might be a temporary issue.",u=e==="ru"?" ":e==="am"?" ":"Try Again";return b.jsx(gR,{title:a,message:o,onRetry:()=>window.location.reload(),retryText:u})}return b.jsx(vR.Provider,{value:{language:e,setLanguage:r,t:s,isLoading:i.isLoading,error:i.error},children:t})}const Hr=()=>{const t=ne.useContext(vR);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t};function sK(){const[t,e]=ne.useState(!1);return ne.useEffect(()=>{const n=()=>{e(window.scrollY>0)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]),t}function wd(){const[t,e]=ne.useState({}),[n,r]=ne.useState(!0),[i,s]=ne.useState(null),a=ne.useCallback(async()=>{try{r(!0),s(null);const{data:u,error:l}=await Hn.from("feature_flags").select("flag_key, enabled");if(l)throw l;const d=(u||[]).reduce((f,m)=>(f[m.flag_key]=m.enabled,f),{});e(d)}catch(u){console.error("Error loading feature flags:",u),s(u instanceof Error?u.message:"Failed to load feature flags"),e({blog_section:!0,work_section:!0,featured_projects_section:!0,latest_articles_section:!0,language_selector:!0})}finally{r(!1)}},[]),o=ne.useCallback(u=>t[u]??!1,[t]);return ne.useEffect(()=>{a()},[a]),{isFeatureEnabled:o,isLoading:n,error:i}}function aK(){const[t,e]=ne.useState(null),[n,r]=ne.useState(!0),[i,s]=ne.useState(null),a=t?.email==="gorpapyan2@gmail.com",o=async(d,f)=>{try{s(null),r(!0);const{data:m,error:p}=await Hn.auth.signInWithPassword({email:d,password:f});if(p)throw p;return e(m.user),m.user}catch(m){console.error("Error signing in:",m);const p=m instanceof Error?m.message:"Failed to sign in";throw s(p),new Error(p)}finally{r(!1)}},u=async()=>{try{s(null);const{error:d}=await Hn.auth.signOut();if(d)throw d;e(null)}catch(d){console.error("Error signing out:",d);const f=d instanceof Error?d.message:"Failed to sign out";throw s(f),new Error(f)}},l=async()=>{try{r(!0);const{data:{session:d},error:f}=await Hn.auth.getSession();if(f)throw f;e(d?.user??null)}catch(d){console.error("Error checking session:",d),e(null)}finally{r(!1)}};return ne.useEffect(()=>{l();const{data:{subscription:d}}=Hn.auth.onAuthStateChange(async(f,m)=>{e(m?.user??null),r(!1)});return()=>d.unsubscribe()},[]),{user:t,isLoading:n,error:i,isAdmin:a,signIn:o,signOut:u,checkSession:l}}const _R=ne.createContext(void 0);function oK({children:t}){const e=aK(),[n,r]=ne.useState(!1);return b.jsx(_R.Provider,{value:{...e,isTranslationEditMode:n,setIsTranslationEditMode:r},children:t})}function tg(){const t=ne.useContext(_R);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function Rp(...t){return t.filter(Boolean).join(" ")}function At({translationKey:t,className:e="",as:n="span",shimmerWidth:r,shimmerHeight:i="1em",children:s}){const{t:a,isLoading:o}=Hr(),u=a(t);if(u.startsWith("[missing:")||o){const d=r||uK(t);return b.jsx(n,{className:Rp("inline-block shimmer rounded","bg-white/5",e),style:{width:typeof d=="number"?`${d}px`:d,height:i,minWidth:"60px",verticalAlign:"baseline"},"aria-label":`Loading translation for ${t}`,"aria-busy":"true",children:s})}return b.jsxs(n,{className:e,children:[u,s]})}function uK(t){const e={"nav.":"80px","hero.title":"300px","hero.subtitle":"500px","pages.":"120px","blog.":"150px","settings.":"100px","footer.":"120px"};for(const[r,i]of Object.entries(e))if(t.startsWith(r))return i;const n=t.length;return n<10?"60px":n<20?"100px":n<30?"150px":"200px"}function D0({to:t,children:e,className:n=""}){return b.jsx(kL,{to:t,className:({isActive:r})=>`
        relative px-[var(--space-10)] py-[var(--space-6)] md:px-[var(--space-12)] text-[length:var(--font-100)] md:text-[length:var(--font-200)] font-medium transition-[color,background-color,box-shadow] duration-300 group rounded-[var(--radius-md)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]
        ${r?"text-[var(--text)] bg-[var(--surface-strong)] shadow-[0_12px_24px_rgba(7,10,18,0.3)]":"text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface)]"}
        ${n}
      `,children:({isActive:r})=>b.jsxs(b.Fragment,{children:[e,b.jsx("span",{className:`absolute left-1/2 -bottom-[var(--space-4)] h-[var(--space-4)] w-[var(--space-4)] -translate-x-1/2 rounded-full bg-accent transition-opacity duration-300 ${r?"opacity-100":"opacity-0 group-hover:opacity-60"}`})]})})}function lK(){const{isAdmin:t}=tg(),{isFeatureEnabled:e}=wd(),n=e("work_section"),r=e("blog_section");return b.jsxs("nav",{className:"hidden md:flex items-center gap-[var(--space-12)] lg:gap-[var(--space-16)]",children:[b.jsx(D0,{to:"/about",children:b.jsx(At,{translationKey:"nav.about",shimmerWidth:"60px"})}),n&&b.jsx(D0,{to:"/work",children:b.jsx(At,{translationKey:"nav.work",shimmerWidth:"50px"})}),r&&b.jsx(D0,{to:"/blog",children:b.jsx(At,{translationKey:"nav.blog",shimmerWidth:"50px"})}),b.jsx(D0,{to:"/contact",children:b.jsx(At,{translationKey:"nav.contact",shimmerWidth:"70px"})}),t&&b.jsxs(D0,{to:"/admin/dashboard",className:"inline-flex items-center gap-[var(--space-4)] bg-[var(--surface-strong)] text-accent hover:bg-[var(--surface)]",children:[b.jsx(qL,{className:"h-4 w-4"}),b.jsx(At,{translationKey:"nav.admin",shimmerWidth:"60px"})]})]})}const cK=[{code:"en",labelKey:"language.en"},{code:"ru",labelKey:"language.ru"},{code:"am",labelKey:"language.am"}];function dK(){const[t,e]=ne.useState(!1),n=dc(),{t:r,language:i,setLanguage:s}=Hr(),{isFeatureEnabled:a}=wd(),o=a("work_section"),u=a("blog_section"),l=a("language_selector"),d=[{to:"/about",labelKey:"nav.about"},...o?[{to:"/work",labelKey:"nav.work"}]:[],...u?[{to:"/blog",labelKey:"nav.blog"}]:[],{to:"/contact",labelKey:"nav.contact"}];ne.useEffect(()=>{e(!1)},[n.pathname]),ne.useEffect(()=>(t?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[t]),ne.useEffect(()=>{const m=p=>{p.key==="Escape"&&t&&e(!1)};return t&&document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[t]);const f=async()=>{const{downloadCV:m}=await fe(async()=>{const{downloadCV:p}=await import("./downloadCV-ko-9eDiT.js");return{downloadCV:p}},[]);await m(),e(!1)};return b.jsxs("div",{className:"md:hidden relative",children:[b.jsx("button",{onClick:()=>e(!0),className:`p-[var(--space-8)] rounded-full border border-transparent text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface)] hover:border-[var(--border)] transition-[color,background-color,border-color] duration-300 group ${t?"bg-[var(--surface-strong)] text-[var(--text)] border-[var(--border)]":""}`,"aria-label":r("aria.openMenu"),"aria-expanded":t,"aria-controls":"mobile-dropdown",children:b.jsx(UB,{className:"h-[var(--space-24)] w-[var(--space-24)] transition-transform duration-300 group-hover:scale-105"})}),t&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/50 backdrop-blur-sm animate-in fade-in duration-300",onClick:()=>e(!1),"aria-hidden":"true"}),b.jsxs("div",{id:"mobile-dropdown",role:"dialog","aria-modal":"true","aria-labelledby":"mobile-dropdown-title",className:"absolute top-full right-0 z-[1001] mt-[var(--space-8)] w-64 bg-[var(--bg-elevated)] backdrop-blur-md rounded-[var(--radius-md)] shadow-[0_24px_70px_rgba(7,10,18,0.55)] border border-[var(--border)] overflow-hidden animate-in slide-in-from-top-2 fade-in duration-300",children:[b.jsxs("div",{className:"flex items-center justify-between px-[var(--space-16)] py-[var(--space-12)] border-b border-[var(--border)]",children:[b.jsx("h2",{id:"mobile-dropdown-title",className:"text-[length:var(--font-100)] font-medium text-[var(--text)]",children:b.jsx(At,{translationKey:"mobile.menu",shimmerWidth:"50px"})}),b.jsx("button",{onClick:()=>e(!1),className:"p-[var(--space-4)] rounded-[var(--radius-sm)] text-[var(--text-muted)] hover:text-[var(--text)] transition-colors duration-300 group","aria-label":r("aria.closeMenu"),children:b.jsx(Cw,{className:"h-[var(--space-20)] w-[var(--space-20)] transition-transform duration-300 group-hover:scale-105"})})]}),b.jsx("nav",{className:"px-[var(--space-8)] py-[var(--space-8)]",children:b.jsx("ul",{className:"stack [--stack-space:var(--space-4)]",children:d.map(({to:m,labelKey:p})=>b.jsx("li",{children:b.jsx(hK,{to:m,onClick:()=>e(!1),children:b.jsx(At,{translationKey:p,shimmerWidth:"60px"})})},m))})}),l&&b.jsx("div",{className:"px-[var(--space-16)] py-[var(--space-12)] border-t border-[var(--border)]",children:b.jsxs("div",{className:"stack [--stack-space:var(--space-8)]",children:[b.jsxs("div",{className:"flex items-center gap-[var(--space-8)] text-[length:var(--font-100)] text-[var(--text-muted)]",children:[b.jsx(Sw,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx("span",{children:"Language"})]}),b.jsx("div",{className:"grid grid-cols-1 gap-[var(--space-4)]",children:cK.map(m=>b.jsxs("button",{onClick:()=>s(m.code),className:`flex items-center gap-[var(--space-12)] px-[var(--space-12)] py-[var(--space-8)] rounded-[var(--radius-md)] text-[length:var(--font-100)] transition-colors duration-200 ${i===m.code?"text-accent bg-[var(--surface-strong)] border border-[var(--border)]":"text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface)]"}`,children:[b.jsx("div",{className:`w-[var(--space-8)] h-[var(--space-8)] rounded-full transition-colors duration-200 ${i===m.code?"bg-accent":"bg-[var(--text-muted)]"}`}),b.jsx("span",{children:b.jsx(At,{translationKey:m.labelKey,shimmerWidth:"80px"})})]},m.code))})]})}),b.jsx("div",{className:"px-[var(--space-16)] py-[var(--space-12)] border-t border-[var(--border)]",children:b.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-[var(--space-8)] px-[var(--space-16)] py-[var(--space-8)] rounded-[var(--radius-md)] bg-accent text-accent-ink font-medium hover:bg-accent-strong transition-colors duration-200 group",children:[b.jsx(jL,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx("span",{children:b.jsx(At,{translationKey:"hero.downloadCV",shimmerWidth:"100px"})})]})})]})]})]})}function hK({to:t,children:e,onClick:n}){return b.jsx(kL,{to:t,onClick:n,className:({isActive:r})=>`block rounded-[var(--radius-md)] px-[var(--space-12)] py-[var(--space-8)] text-[length:var(--font-100)] transition-colors duration-300 relative group ${r?"text-accent bg-[var(--surface-strong)] border border-[var(--border)]":"text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface)]"}`,children:({isActive:r})=>b.jsxs(b.Fragment,{children:[e,r&&b.jsx("span",{className:"absolute left-0 top-0 bottom-0 w-1 bg-accent rounded-r-md"})]})})}const Ty=[{code:"en",labelKey:"language.en"},{code:"ru",labelKey:"language.ru"},{code:"am",labelKey:"language.am"}];function fK(){const{t,language:e,setLanguage:n}=Hr(),{isFeatureEnabled:r}=wd(),{isAdmin:i,isTranslationEditMode:s,setIsTranslationEditMode:a}=tg(),o=sK(),u=dc(),[l,d]=ne.useState(!1),[f,m]=ne.useState(!0),[p,_]=ne.useState(!1),E=r("language_selector");ne.useEffect(()=>{const I=setTimeout(()=>{d(!0),m(!1)},100);return()=>clearTimeout(I)},[]),ne.useEffect(()=>{const I=O=>{const B=O.target;p&&!B.closest(".language-dropdown")&&_(!1)};return p&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[p]);const y=()=>{const I=u.pathname;if(I==="/")return t("pages.home");const O=I.split("/").filter(Boolean)[0]||"home";return t(`pages.${O}`)},v=async()=>{const{downloadCV:I}=await fe(async()=>{const{downloadCV:O}=await import("./downloadCV-ko-9eDiT.js");return{downloadCV:O}},[]);await I()},S=I=>{n(I),_(!1)},T=()=>Ty.find(I=>I.code===e)||Ty[0],L=y();return b.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 px-[var(--space-8)] py-[var(--space-8)] md:px-[var(--space-12)] md:py-[var(--space-12)] transition-[transform,opacity] duration-700 ease-out ${l?"translate-y-0 opacity-100":"translate-y-[-100%] opacity-0"}`,children:b.jsxs("nav",{"aria-label":"Primary",className:`relative max-w-6xl mx-auto rounded-[var(--radius-xl)] px-[var(--space-12)] py-[var(--space-8)] md:px-[var(--space-16)] md:py-[var(--space-12)] border border-[var(--border)] transition-[background-color,box-shadow,transform] duration-500 ease-out ${o?"bg-[var(--surface-strong)] shadow-[0_18px_50px_rgba(7,10,18,0.5)] backdrop-blur-md":"bg-[var(--surface)] backdrop-blur-sm"} ${l?"scale-100":"scale-95"}`,children:[b.jsx("div",{className:"absolute inset-0 rounded-[inherit] bg-[linear-gradient(120deg,rgba(255,255,255,0.06),transparent_35%,rgba(255,255,255,0.02))] opacity-70 pointer-events-none"}),b.jsxs("div",{className:"relative flex items-center justify-between",children:[b.jsxs(hs,{to:"/",className:`flex items-center gap-2 md:gap-3 group transition-all duration-500 ease-out ${l?"translate-x-0 opacity-100":"translate-x-[-50px] opacity-0"}`,style:{transitionDelay:f?"200ms":"0ms"},children:[b.jsx(Ew,{className:"h-[var(--space-20)] w-[var(--space-20)] md:h-[var(--space-24)] md:w-[var(--space-24)] text-accent transition-transform duration-300 group-hover:rotate-6","aria-hidden":"true"}),b.jsxs("div",{className:"flex flex-col gap-[var(--space-2)] leading-[var(--leading-tight)]",children:[b.jsx("span",{className:"text-[length:var(--font-400)] md:text-[length:var(--font-500)] font-semibold text-[var(--text)] font-display group-hover:text-accent transition-colors duration-300",children:"Gor Papyan"}),b.jsx("span",{className:"hidden md:block text-[length:var(--font-100)] text-[var(--text-muted)] transition-colors duration-300",children:L})]})]}),b.jsx("div",{className:`transition-all duration-500 ease-out ${l?"translate-y-0 opacity-100":"translate-y-[-30px] opacity-0"}`,style:{transitionDelay:f?"400ms":"0ms"},children:b.jsx(lK,{})}),b.jsxs("div",{className:`flex items-center gap-[var(--space-8)] md:gap-[var(--space-12)] transition-all duration-500 ease-out ${l?"translate-x-0 opacity-100":"translate-x-[50px] opacity-0"}`,style:{transitionDelay:f?"300ms":"0ms"},children:[E&&b.jsxs("div",{className:"hidden md:block relative language-dropdown",children:[b.jsxs("button",{onClick:()=>_(!p),className:"flex items-center gap-[var(--space-8)] px-[var(--space-10)] py-[var(--space-6)] rounded-[var(--radius-md)] bg-[var(--surface)] hover:bg-[var(--surface-strong)] border border-[var(--border)] transition-[color,background-color,box-shadow] duration-300 group","aria-expanded":p,"aria-haspopup":"listbox",children:[b.jsx(HL,{className:"h-4 w-4 text-[var(--text-muted)] group-hover:text-[var(--text)] transition-colors duration-300"}),b.jsx("span",{className:"text-[length:var(--font-100)] text-[var(--text)] transition-colors duration-300",children:b.jsx(At,{translationKey:T().labelKey,shimmerWidth:"80px"})}),b.jsx(ww,{className:`h-[var(--space-12)] w-[var(--space-12)] text-[var(--text-muted)] transition-all duration-300 ${p?"rotate-180 text-accent":"group-hover:text-[var(--text)]"}`})]}),p&&b.jsx("div",{className:"absolute top-full right-0 mt-[var(--space-8)] w-48 bg-[var(--bg-elevated)] backdrop-blur-md rounded-[var(--radius-md)] shadow-2xl border border-[var(--border)] overflow-hidden animate-in slide-in-from-top-2 fade-in duration-200",children:b.jsx("div",{className:"py-2",children:Ty.map((I,O)=>b.jsx("button",{onClick:()=>S(I.code),className:`w-full px-[var(--space-16)] py-[var(--space-12)] text-left text-[length:var(--font-100)] transition-all duration-200 hover:bg-[var(--surface-strong)] group ${e===I.code?"text-accent bg-[var(--surface-strong)]":"text-[var(--text-muted)] hover:text-[var(--text)]"}`,style:{animationDelay:`${O*50}ms`},children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-200 ${e===I.code?"bg-accent":"bg-[var(--text-muted)] group-hover:bg-accent"}`}),b.jsx("span",{className:"transition-transform duration-200 group-hover:translate-x-1",children:b.jsx(At,{translationKey:I.labelKey,shimmerWidth:"80px"})}),e===I.code&&b.jsx("div",{className:"ml-auto w-1 h-1 bg-accent rounded-full animate-pulse"})]})},I.code))})})]}),i&&b.jsxs("button",{onClick:()=>a(!s),title:s?"Disable translation edit mode":"Enable translation edit mode",className:`hidden md:inline-flex items-center gap-[var(--space-8)] px-[var(--space-10)] py-[var(--space-6)] rounded-[var(--radius-md)] transition-[color,background-color,box-shadow] duration-300 group focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)] ${s?"bg-[var(--surface-strong)] border border-accent text-accent shadow-[0_12px_24px_rgba(7,10,18,0.35)]":"bg-[var(--surface)] border border-[var(--border)] text-[var(--text-muted)] hover:text-[var(--text)]"}`,children:[b.jsx(jB,{className:"h-4 w-4"}),b.jsx("span",{className:"text-[length:var(--font-100)] font-medium",children:s?b.jsx(At,{translationKey:"nav.editOn",shimmerWidth:"60px"}):b.jsx(At,{translationKey:"nav.edit",shimmerWidth:"40px"})})]}),b.jsxs("button",{onClick:v,className:"hidden md:inline-flex items-center gap-[var(--space-8)] px-[var(--space-12)] py-[var(--space-6)] md:px-[var(--space-16)] md:py-[var(--space-6)] rounded-full bg-accent text-accent-ink font-medium hover:bg-accent-strong transition-[color,background-color,box-shadow,transform] duration-300 text-[length:var(--font-100)] md:text-[length:var(--font-200)] group shadow-[0_12px_28px_rgba(var(--accent),0.25)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/70 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]",children:[b.jsx(jL,{className:"h-[var(--space-16)] w-[var(--space-16)] md:h-[var(--space-20)] md:w-[var(--space-20)] transition-transform duration-300 group-hover:translate-y-[-2px]"}),b.jsx("span",{className:"transition-transform duration-300 group-hover:translate-y-[-1px]",children:b.jsx(At,{translationKey:"hero.downloadCV",shimmerWidth:"100px"})})]}),b.jsx(dK,{})]})]})]})})}function lm({className:t=""}){return b.jsx("div",{className:`relative overflow-hidden ${t}`,children:b.jsx("div",{className:"absolute inset-0 shimmer opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})}function d1({title:t,children:e}){return b.jsxs("div",{className:"relative group",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-[length:var(--font-400)] font-semibold text-[var(--text)] mb-[var(--space-16)]",children:t}),e]}),b.jsx(lm,{className:"absolute inset-0"})]})}function pK(){const t=[{icon:zL,href:"https://github.com/gorpapyan2/",label:"GitHub"},{icon:WL,href:"https://www.linkedin.com/in/gorpapyan2/",label:"LinkedIn"},{icon:Cw,href:"https://x.com/gorpapyan22",label:"X"}];return b.jsx("div",{className:"flex gap-[var(--space-16)]",children:t.map((e,n)=>{const r=e.icon;return b.jsxs("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",className:"relative group p-[var(--space-8)] bg-[var(--surface)] rounded-full hover:bg-[var(--surface-strong)] transition-colors","aria-label":e.label,children:[b.jsx(r,{className:"h-[var(--space-20)] w-[var(--space-20)] text-[var(--text-muted)] group-hover:text-[var(--text)] transition-colors"}),b.jsx(lm,{className:"absolute inset-0"})]},n)})})}function mK(){return b.jsx("footer",{className:"relative bg-[var(--bg-elevated)] transition-colors duration-200",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-[var(--space-48)]",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-[var(--space-48)]",children:[b.jsx(d1,{title:b.jsx(At,{translationKey:"footer.about",shimmerWidth:"80px"}),children:b.jsx("p",{className:"text-[var(--text-muted)]",children:b.jsx(At,{translationKey:"footer.aboutDescription",as:"span",shimmerWidth:"200px"})})}),b.jsx(d1,{title:b.jsx(At,{translationKey:"footer.contact",shimmerWidth:"100px"}),children:b.jsxs("div",{className:"stack [--stack-space:var(--space-12)]",children:[b.jsxs("a",{href:"mailto:gorpapyan2@gmail.com",className:"relative group flex items-center gap-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)] transition-colors text-[length:var(--font-100)]",children:[b.jsx(w_,{className:"h-[var(--space-20)] w-[var(--space-20)]"}),"gorpapyan2@gmail.com",b.jsx(lm,{className:"absolute inset-0"})]}),b.jsxs("a",{href:"tel:+37498500501",className:"relative group flex items-center gap-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)] transition-colors text-[length:var(--font-100)]",children:[b.jsx(GL,{className:"h-[var(--space-20)] w-[var(--space-20)]"}),"+374 (98) 500-501",b.jsx(lm,{className:"absolute inset-0"})]}),b.jsxs("div",{className:"flex items-center gap-[var(--space-8)] text-[var(--text-muted)] text-[length:var(--font-100)]",children:[b.jsx(Dw,{className:"h-[var(--space-20)] w-[var(--space-20)]"}),b.jsx(At,{translationKey:"footer.location",shimmerWidth:"150px"})]})]})}),b.jsx(d1,{title:b.jsx(At,{translationKey:"footer.quickLinks",shimmerWidth:"120px"}),children:b.jsx("nav",{className:"stack [--stack-space:var(--space-8)]",children:[{key:"nav.about",path:"/about"},{key:"nav.work",path:"/work"},{key:"nav.blog",path:"/blog"},{key:"nav.contact",path:"/contact"}].map(t=>b.jsxs(hs,{to:t.path,className:"relative group block text-[var(--text-muted)] hover:text-[var(--text)] transition-colors text-[length:var(--font-100)]",children:[b.jsx(At,{translationKey:t.key,shimmerWidth:"60px"}),b.jsx(lm,{className:"absolute inset-0"})]},t.key))})}),b.jsx(d1,{title:b.jsx(At,{translationKey:"footer.connect",shimmerWidth:"100px"}),children:b.jsx(pK,{})})]}),b.jsx("div",{className:"mt-[var(--space-48)] pt-[var(--space-32)] border-t border-[var(--border)]",children:b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-[var(--space-16)]",children:[b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-100)]",children:b.jsx(At,{translationKey:"footer.copyright",shimmerWidth:"200px"})}),b.jsxs("div",{className:"flex gap-[var(--space-24)] text-[length:var(--font-100)] text-[var(--text-muted)]",children:[b.jsx("a",{href:"#",className:"hover:text-[var(--text)] transition-colors",children:b.jsx(At,{translationKey:"footer.privacy",shimmerWidth:"80px"})}),b.jsx("a",{href:"#",className:"hover:text-[var(--text)] transition-colors",children:b.jsx(At,{translationKey:"footer.terms",shimmerWidth:"80px"})})]})]})})]})})}function gK(){const{t}=Hr();return b.jsx("a",{href:"#main-content",className:"skip-link",children:t("accessibility.skipToContent")})}const yR=ne.createContext(void 0);function xR({children:t}){const[e,n]=ne.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i==="dark"||i==="light"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});ne.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("dark","light"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(i=>i==="dark"?"light":"dark")};return b.jsx(yR.Provider,{value:{theme:e,toggleTheme:r},children:t})}const vK=()=>{const t=ne.useContext(yR);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},pD=["Just a moment, please...","Almost ready!","Getting things ready for you..."];function _K({progress:t,message:e}){const n=e||pD[Math.floor(Math.random()*pD.length)];return b.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center overflow-hidden bg-gradient-to-br from-[var(--bg)] via-[var(--bg-elevated)] to-[var(--bg)]",children:[b.jsx(Hw,{}),b.jsxs("div",{className:"relative flex flex-col items-center gap-[var(--space-32)] p-[var(--space-32)] z-10",children:[b.jsxs(Xt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"relative",children:[b.jsx(zM,{progress:t}),b.jsx(kh,{})]}),b.jsxs(Xt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:"w-[20rem] text-center",children:[b.jsx(Xt.p,{initial:{opacity:0},animate:{opacity:[.5,1,.5]},transition:{delay:.5,duration:2,repeat:1/0,ease:"easeInOut"},className:"text-[length:var(--font-400)] font-medium text-[var(--text)] mb-[var(--space-8)]",children:n}),b.jsx("div",{className:"flex justify-center gap-[var(--space-8)] mt-[var(--space-16)]",children:[0,1,2].map(r=>b.jsx(Xt.div,{className:"w-[var(--space-8)] h-[var(--space-8)] bg-accent rounded-full",animate:{y:[0,-10,0],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:r*.2,ease:"easeInOut"}},r))})]})]}),b.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-accent/10 via-transparent to-transparent pointer-events-none"})]})}const bR=ne.createContext(void 0);function yK({children:t}){const[e,n]=ne.useState(!1),[r,i]=ne.useState(0),[s,a]=ne.useState(""),o=ne.useCallback((d="")=>{n(!0),i(0),a(d)},[]),u=ne.useCallback(d=>{i(d)},[]),l=ne.useCallback(()=>{i(100),setTimeout(()=>{n(!1),i(0),a("")},500)},[]);return b.jsxs(bR.Provider,{value:{isLoading:e,progress:r,message:s,startLoading:o,updateProgress:u,stopLoading:l},children:[t,e&&b.jsx(_K,{progress:r,message:s})]})}function xK(){const t=ne.useContext(bR);if(!t)throw new Error("useLoading must be used within LoadingProvider");return t}function bK(){const t=WO(),{startLoading:e,stopLoading:n}=xK();ne.useEffect(()=>{t.state==="loading"?e("Navigating to your destination..."):n()},[t.state,e,n])}function EK({children:t}){return bK(),b.jsx(b.Fragment,{children:t})}function wK(){return b.jsx(xR,{children:b.jsx(yK,{children:b.jsxs("div",{className:"min-h-screen bg-[var(--bg)] text-[var(--text)] transition-colors duration-200",children:[b.jsx(gK,{}),b.jsx(fK,{}),b.jsx(EK,{children:b.jsx("main",{id:"main-content",className:"min-h-screen",children:b.jsx(PL,{})})}),b.jsx(mK,{})]})})})}function AK(){const{pathname:t,search:e}=dc();return ne.useEffect(()=>{const n=window.history.scrollRestoration;return window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration=n}},[]),ne.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[t,e]),null}function SK(){return b.jsxs(b.Fragment,{children:[b.jsx(AK,{}),b.jsx(PL,{})]})}const bA="182",TK=0,mD=1,DK=2,ov=1,CK=2,K0=3,vd=0,Ga=1,ql=2,Ql=0,pp=1,gD=2,vD=3,_D=4,NK=5,vh=100,LK=101,MK=102,PK=103,RK=104,IK=200,kK=201,FK=202,OK=203,Ib=204,kb=205,BK=206,UK=207,jK=208,zK=209,HK=210,VK=211,WK=212,GK=213,qK=214,Fb=0,Ob=1,Bb=2,Ip=3,Ub=4,jb=5,zb=6,Hb=7,ER=0,$K=1,KK=2,nl=0,wR=1,AR=2,SR=3,TR=4,DR=5,CR=6,NR=7,LR=300,Fh=301,kp=302,Vb=303,Wb=304,O_=306,Gb=1e3,Kl=1001,qb=1002,js=1003,YK=1004,h1=1005,ua=1006,Dy=1007,wh=1008,Ho=1009,MR=1010,PR=1011,Lm=1012,EA=1013,sl=1014,Zu=1015,oc=1016,wA=1017,AA=1018,Mm=1020,RR=35902,IR=35899,kR=1021,FR=1022,yu=1023,uc=1026,Ah=1027,OR=1028,SA=1029,Fp=1030,TA=1031,DA=1033,uv=33776,lv=33777,cv=33778,dv=33779,$b=35840,Kb=35841,Yb=35842,Xb=35843,Zb=36196,Jb=37492,Qb=37496,eE=37488,tE=37489,nE=37490,rE=37491,iE=37808,sE=37809,aE=37810,oE=37811,uE=37812,lE=37813,cE=37814,dE=37815,hE=37816,fE=37817,pE=37818,mE=37819,gE=37820,vE=37821,_E=36492,yE=36494,xE=36495,bE=36283,EE=36284,wE=36285,AE=36286,XK=3200,ZK=0,JK=1,ld="",Bo="srgb",Op="srgb-linear",$v="linear",kr="srgb",Mf=7680,yD=519,QK=512,eY=513,tY=514,CA=515,nY=516,rY=517,NA=518,iY=519,xD=35044,bD="300 es",Ju=2e3,Kv=2001;function BR(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Yv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function sY(){const t=Yv("canvas");return t.style.display="block",t}const ED={};function wD(...t){const e="THREE."+t.shift();console.log(e,...t)}function Zn(...t){const e="THREE."+t.shift();console.warn(e,...t)}function Sr(...t){const e="THREE."+t.shift();console.error(e,...t)}function Pm(...t){const e=t.join(" ");e in ED||(ED[e]=!0,Zn(...t))}function aY(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}class Gp{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const ea=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Cy=Math.PI/180,SE=180/Math.PI;function ng(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ea[t&255]+ea[t>>8&255]+ea[t>>16&255]+ea[t>>24&255]+"-"+ea[e&255]+ea[e>>8&255]+"-"+ea[e>>16&15|64]+ea[e>>24&255]+"-"+ea[n&63|128]+ea[n>>8&255]+"-"+ea[n>>16&255]+ea[n>>24&255]+ea[r&255]+ea[r>>8&255]+ea[r>>16&255]+ea[r>>24&255]).toLowerCase()}function mr(t,e,n){return Math.max(e,Math.min(n,t))}function oY(t,e){return(t%e+e)%e}function Ny(t,e,n){return(1-n)*t+n*e}function C0(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ja(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class zr{constructor(e=0,n=0){zr.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=mr(this.x,e.x,n.x),this.y=mr(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=mr(this.x,e,n),this.y=mr(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(mr(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(mr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class rg{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let u=r[i+0],l=r[i+1],d=r[i+2],f=r[i+3],m=s[a+0],p=s[a+1],_=s[a+2],E=s[a+3];if(o<=0){e[n+0]=u,e[n+1]=l,e[n+2]=d,e[n+3]=f;return}if(o>=1){e[n+0]=m,e[n+1]=p,e[n+2]=_,e[n+3]=E;return}if(f!==E||u!==m||l!==p||d!==_){let y=u*m+l*p+d*_+f*E;y<0&&(m=-m,p=-p,_=-_,E=-E,y=-y);let v=1-o;if(y<.9995){const S=Math.acos(y),T=Math.sin(S);v=Math.sin(v*S)/T,o=Math.sin(o*S)/T,u=u*v+m*o,l=l*v+p*o,d=d*v+_*o,f=f*v+E*o}else{u=u*v+m*o,l=l*v+p*o,d=d*v+_*o,f=f*v+E*o;const S=1/Math.sqrt(u*u+l*l+d*d+f*f);u*=S,l*=S,d*=S,f*=S}}e[n]=u,e[n+1]=l,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],u=r[i+1],l=r[i+2],d=r[i+3],f=s[a],m=s[a+1],p=s[a+2],_=s[a+3];return e[n]=o*_+d*f+u*p-l*m,e[n+1]=u*_+d*m+l*f-o*p,e[n+2]=l*_+d*p+o*m-u*f,e[n+3]=d*_-o*f-u*m-l*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,u=Math.sin,l=o(r/2),d=o(i/2),f=o(s/2),m=u(r/2),p=u(i/2),_=u(s/2);switch(a){case"XYZ":this._x=m*d*f+l*p*_,this._y=l*p*f-m*d*_,this._z=l*d*_+m*p*f,this._w=l*d*f-m*p*_;break;case"YXZ":this._x=m*d*f+l*p*_,this._y=l*p*f-m*d*_,this._z=l*d*_-m*p*f,this._w=l*d*f+m*p*_;break;case"ZXY":this._x=m*d*f-l*p*_,this._y=l*p*f+m*d*_,this._z=l*d*_+m*p*f,this._w=l*d*f-m*p*_;break;case"ZYX":this._x=m*d*f-l*p*_,this._y=l*p*f+m*d*_,this._z=l*d*_-m*p*f,this._w=l*d*f+m*p*_;break;case"YZX":this._x=m*d*f+l*p*_,this._y=l*p*f+m*d*_,this._z=l*d*_-m*p*f,this._w=l*d*f-m*p*_;break;case"XZY":this._x=m*d*f-l*p*_,this._y=l*p*f-m*d*_,this._z=l*d*_+m*p*f,this._w=l*d*f+m*p*_;break;default:Zn("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],u=n[9],l=n[2],d=n[6],f=n[10],m=r+o+f;if(m>0){const p=.5/Math.sqrt(m+1);this._w=.25/p,this._x=(d-u)*p,this._y=(s-l)*p,this._z=(a-i)*p}else if(r>o&&r>f){const p=2*Math.sqrt(1+r-o-f);this._w=(d-u)/p,this._x=.25*p,this._y=(i+a)/p,this._z=(s+l)/p}else if(o>f){const p=2*Math.sqrt(1+o-r-f);this._w=(s-l)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(u+d)/p}else{const p=2*Math.sqrt(1+f-r-o);this._w=(a-i)/p,this._x=(s+l)/p,this._y=(u+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(mr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,u=n._y,l=n._z,d=n._w;return this._x=r*d+a*o+i*l-s*u,this._y=i*d+a*u+s*o-r*l,this._z=s*d+a*l+r*u-i*o,this._w=a*d-r*o-i*u-s*l,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,s=e._z,a=e._w,o=this.dot(e);o<0&&(r=-r,i=-i,s=-s,a=-a,o=-o);let u=1-n;if(o<.9995){const l=Math.acos(o),d=Math.sin(l);u=Math.sin(u*l)/d,n=Math.sin(n*l)/d,this._x=this._x*u+r*n,this._y=this._y*u+i*n,this._z=this._z*u+s*n,this._w=this._w*u+a*n,this._onChangeCallback()}else this._x=this._x*u+r*n,this._y=this._y*u+i*n,this._z=this._z*u+s*n,this._w=this._w*u+a*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class it{constructor(e=0,n=0,r=0){it.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(AD.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(AD.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,u=e.w,l=2*(a*i-o*r),d=2*(o*n-s*i),f=2*(s*r-a*n);return this.x=n+u*l+a*f-o*d,this.y=r+u*d+o*l-s*f,this.z=i+u*f+s*d-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=mr(this.x,e.x,n.x),this.y=mr(this.y,e.y,n.y),this.z=mr(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=mr(this.x,e,n),this.y=mr(this.y,e,n),this.z=mr(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(mr(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,u=n.z;return this.x=i*u-s*o,this.y=s*a-r*u,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Ly.copy(this).projectOnVector(e),this.sub(Ly)}reflect(e){return this.sub(Ly.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(mr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ly=new it,AD=new rg;class er{constructor(e,n,r,i,s,a,o,u,l){er.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,u,l)}set(e,n,r,i,s,a,o,u,l){const d=this.elements;return d[0]=e,d[1]=i,d[2]=o,d[3]=n,d[4]=s,d[5]=u,d[6]=r,d[7]=a,d[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],u=r[6],l=r[1],d=r[4],f=r[7],m=r[2],p=r[5],_=r[8],E=i[0],y=i[3],v=i[6],S=i[1],T=i[4],L=i[7],I=i[2],O=i[5],B=i[8];return s[0]=a*E+o*S+u*I,s[3]=a*y+o*T+u*O,s[6]=a*v+o*L+u*B,s[1]=l*E+d*S+f*I,s[4]=l*y+d*T+f*O,s[7]=l*v+d*L+f*B,s[2]=m*E+p*S+_*I,s[5]=m*y+p*T+_*O,s[8]=m*v+p*L+_*B,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],l=e[7],d=e[8];return n*a*d-n*o*l-r*s*d+r*o*u+i*s*l-i*a*u}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],l=e[7],d=e[8],f=d*a-o*l,m=o*u-d*s,p=l*s-a*u,_=n*f+r*m+i*p;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/_;return e[0]=f*E,e[1]=(i*l-d*r)*E,e[2]=(o*r-i*a)*E,e[3]=m*E,e[4]=(d*n-i*u)*E,e[5]=(i*s-o*n)*E,e[6]=p*E,e[7]=(r*u-l*n)*E,e[8]=(a*n-r*s)*E,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const u=Math.cos(s),l=Math.sin(s);return this.set(r*u,r*l,-r*(u*a+l*o)+a+e,-i*l,i*u,-i*(-l*a+u*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(My.makeScale(e,n)),this}rotate(e){return this.premultiply(My.makeRotation(-e)),this}translate(e,n){return this.premultiply(My.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const My=new er,SD=new er().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),TD=new er().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function uY(){const t={enabled:!0,workingColorSpace:Op,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===kr&&(i.r=ec(i.r),i.g=ec(i.g),i.b=ec(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===kr&&(i.r=mp(i.r),i.g=mp(i.g),i.b=mp(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===ld?$v:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return Pm("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return Pm("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Op]:{primaries:e,whitePoint:r,transfer:$v,toXYZ:SD,fromXYZ:TD,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Bo},outputColorSpaceConfig:{drawingBufferColorSpace:Bo}},[Bo]:{primaries:e,whitePoint:r,transfer:kr,toXYZ:SD,fromXYZ:TD,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Bo}}}),t}const wr=uY();function ec(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function mp(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Pf;class lY{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Pf===void 0&&(Pf=Yv("canvas")),Pf.width=e.width,Pf.height=e.height;const i=Pf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Pf}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Yv("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=ec(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ec(n[r]/255)*255):n[r]=ec(n[r]);return{data:n,width:e.width,height:e.height}}else return Zn("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let cY=0;class LA{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:cY++}),this.uuid=ng(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(Py(i[a].image)):s.push(Py(i[a]))}else s=Py(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function Py(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?lY.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Zn("Texture: Unable to serialize Texture."),{})}let dY=0;const Ry=new it;class Ea extends Gp{constructor(e=Ea.DEFAULT_IMAGE,n=Ea.DEFAULT_MAPPING,r=Kl,i=Kl,s=ua,a=wh,o=yu,u=Ho,l=Ea.DEFAULT_ANISOTROPY,d=ld){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:dY++}),this.uuid=ng(),this.name="",this.source=new LA(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=u,this.offset=new zr(0,0),this.repeat=new zr(1,1),this.center=new zr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new er,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Ry).x}get height(){return this.source.getSize(Ry).y}get depth(){return this.source.getSize(Ry).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Zn(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Zn(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==LR)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Gb:e.x=e.x-Math.floor(e.x);break;case Kl:e.x=e.x<0?0:1;break;case qb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Gb:e.y=e.y-Math.floor(e.y);break;case Kl:e.y=e.y<0?0:1;break;case qb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ea.DEFAULT_IMAGE=null;Ea.DEFAULT_MAPPING=LR;Ea.DEFAULT_ANISOTROPY=1;class Ki{constructor(e=0,n=0,r=0,i=1){Ki.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const u=e.elements,l=u[0],d=u[4],f=u[8],m=u[1],p=u[5],_=u[9],E=u[2],y=u[6],v=u[10];if(Math.abs(d-m)<.01&&Math.abs(f-E)<.01&&Math.abs(_-y)<.01){if(Math.abs(d+m)<.1&&Math.abs(f+E)<.1&&Math.abs(_+y)<.1&&Math.abs(l+p+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(l+1)/2,L=(p+1)/2,I=(v+1)/2,O=(d+m)/4,B=(f+E)/4,V=(_+y)/4;return T>L&&T>I?T<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(T),i=O/r,s=B/r):L>I?L<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(L),r=O/i,s=V/i):I<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(I),r=B/s,i=V/s),this.set(r,i,s,n),this}let S=Math.sqrt((y-_)*(y-_)+(f-E)*(f-E)+(m-d)*(m-d));return Math.abs(S)<.001&&(S=1),this.x=(y-_)/S,this.y=(f-E)/S,this.z=(m-d)/S,this.w=Math.acos((l+p+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=mr(this.x,e.x,n.x),this.y=mr(this.y,e.y,n.y),this.z=mr(this.z,e.z,n.z),this.w=mr(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=mr(this.x,e,n),this.y=mr(this.y,e,n),this.z=mr(this.z,e,n),this.w=mr(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(mr(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class hY extends Gp{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ua,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new Ki(0,0,e,n),this.scissorTest=!1,this.viewport=new Ki(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new Ea(i);this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:ua,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new LA(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class rl extends hY{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class UR extends Ea{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=js,this.minFilter=js,this.wrapR=Kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class fY extends Ea{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=js,this.minFilter=js,this.wrapR=Kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ig{constructor(e=new it(1/0,1/0,1/0),n=new it(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(cu.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(cu.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=cu.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,cu):cu.fromBufferAttribute(s,a),cu.applyMatrix4(e.matrixWorld),this.expandByPoint(cu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),f1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),f1.copy(r.boundingBox)),f1.applyMatrix4(e.matrixWorld),this.union(f1)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,cu),cu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(N0),p1.subVectors(this.max,N0),Rf.subVectors(e.a,N0),If.subVectors(e.b,N0),kf.subVectors(e.c,N0),Gc.subVectors(If,Rf),qc.subVectors(kf,If),Qd.subVectors(Rf,kf);let n=[0,-Gc.z,Gc.y,0,-qc.z,qc.y,0,-Qd.z,Qd.y,Gc.z,0,-Gc.x,qc.z,0,-qc.x,Qd.z,0,-Qd.x,-Gc.y,Gc.x,0,-qc.y,qc.x,0,-Qd.y,Qd.x,0];return!Iy(n,Rf,If,kf,p1)||(n=[1,0,0,0,1,0,0,0,1],!Iy(n,Rf,If,kf,p1))?!1:(m1.crossVectors(Gc,qc),n=[m1.x,m1.y,m1.z],Iy(n,Rf,If,kf,p1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(cu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ol[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ol[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ol[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ol[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ol[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ol[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ol[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ol[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ol),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Ol=[new it,new it,new it,new it,new it,new it,new it,new it],cu=new it,f1=new ig,Rf=new it,If=new it,kf=new it,Gc=new it,qc=new it,Qd=new it,N0=new it,p1=new it,m1=new it,eh=new it;function Iy(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){eh.fromArray(t,s);const o=i.x*Math.abs(eh.x)+i.y*Math.abs(eh.y)+i.z*Math.abs(eh.z),u=e.dot(eh),l=n.dot(eh),d=r.dot(eh);if(Math.max(-Math.max(u,l,d),Math.min(u,l,d))>o)return!1}return!0}const pY=new ig,L0=new it,ky=new it;class MA{constructor(e=new it,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):pY.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;L0.subVectors(e,this.center);const n=L0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(L0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(ky.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(L0.copy(e.center).add(ky)),this.expandByPoint(L0.copy(e.center).sub(ky))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Bl=new it,Fy=new it,g1=new it,$c=new it,Oy=new it,v1=new it,By=new it;class mY{constructor(e=new it,n=new it(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Bl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Bl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Bl.copy(this.origin).addScaledVector(this.direction,n),Bl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Fy.copy(e).add(n).multiplyScalar(.5),g1.copy(n).sub(e).normalize(),$c.copy(this.origin).sub(Fy);const s=e.distanceTo(n)*.5,a=-this.direction.dot(g1),o=$c.dot(this.direction),u=-$c.dot(g1),l=$c.lengthSq(),d=Math.abs(1-a*a);let f,m,p,_;if(d>0)if(f=a*u-o,m=a*o-u,_=s*d,f>=0)if(m>=-_)if(m<=_){const E=1/d;f*=E,m*=E,p=f*(f+a*m+2*o)+m*(a*f+m+2*u)+l}else m=s,f=Math.max(0,-(a*m+o)),p=-f*f+m*(m+2*u)+l;else m=-s,f=Math.max(0,-(a*m+o)),p=-f*f+m*(m+2*u)+l;else m<=-_?(f=Math.max(0,-(-a*s+o)),m=f>0?-s:Math.min(Math.max(-s,-u),s),p=-f*f+m*(m+2*u)+l):m<=_?(f=0,m=Math.min(Math.max(-s,-u),s),p=m*(m+2*u)+l):(f=Math.max(0,-(a*s+o)),m=f>0?s:Math.min(Math.max(-s,-u),s),p=-f*f+m*(m+2*u)+l);else m=a>0?-s:s,f=Math.max(0,-(a*m+o)),p=-f*f+m*(m+2*u)+l;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(Fy).addScaledVector(g1,m),p}intersectSphere(e,n){Bl.subVectors(e.center,this.origin);const r=Bl.dot(this.direction),i=Bl.dot(Bl)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,u=r+a;return u<0?null:o<0?this.at(u,n):this.at(o,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,u;const l=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,m=this.origin;return l>=0?(r=(e.min.x-m.x)*l,i=(e.max.x-m.x)*l):(r=(e.max.x-m.x)*l,i=(e.min.x-m.x)*l),d>=0?(s=(e.min.y-m.y)*d,a=(e.max.y-m.y)*d):(s=(e.max.y-m.y)*d,a=(e.min.y-m.y)*d),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),f>=0?(o=(e.min.z-m.z)*f,u=(e.max.z-m.z)*f):(o=(e.max.z-m.z)*f,u=(e.min.z-m.z)*f),r>u||o>i)||((o>r||r!==r)&&(r=o),(u<i||i!==i)&&(i=u),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Bl)!==null}intersectTriangle(e,n,r,i,s){Oy.subVectors(n,e),v1.subVectors(r,e),By.crossVectors(Oy,v1);let a=this.direction.dot(By),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;$c.subVectors(this.origin,e);const u=o*this.direction.dot(v1.crossVectors($c,v1));if(u<0)return null;const l=o*this.direction.dot(Oy.cross($c));if(l<0||u+l>a)return null;const d=-o*$c.dot(By);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class is{constructor(e,n,r,i,s,a,o,u,l,d,f,m,p,_,E,y){is.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,u,l,d,f,m,p,_,E,y)}set(e,n,r,i,s,a,o,u,l,d,f,m,p,_,E,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=s,v[5]=a,v[9]=o,v[13]=u,v[2]=l,v[6]=d,v[10]=f,v[14]=m,v[3]=p,v[7]=_,v[11]=E,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new is().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/Ff.setFromMatrixColumn(e,0).length(),s=1/Ff.setFromMatrixColumn(e,1).length(),a=1/Ff.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),u=Math.cos(i),l=Math.sin(i),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const m=a*d,p=a*f,_=o*d,E=o*f;n[0]=u*d,n[4]=-u*f,n[8]=l,n[1]=p+_*l,n[5]=m-E*l,n[9]=-o*u,n[2]=E-m*l,n[6]=_+p*l,n[10]=a*u}else if(e.order==="YXZ"){const m=u*d,p=u*f,_=l*d,E=l*f;n[0]=m+E*o,n[4]=_*o-p,n[8]=a*l,n[1]=a*f,n[5]=a*d,n[9]=-o,n[2]=p*o-_,n[6]=E+m*o,n[10]=a*u}else if(e.order==="ZXY"){const m=u*d,p=u*f,_=l*d,E=l*f;n[0]=m-E*o,n[4]=-a*f,n[8]=_+p*o,n[1]=p+_*o,n[5]=a*d,n[9]=E-m*o,n[2]=-a*l,n[6]=o,n[10]=a*u}else if(e.order==="ZYX"){const m=a*d,p=a*f,_=o*d,E=o*f;n[0]=u*d,n[4]=_*l-p,n[8]=m*l+E,n[1]=u*f,n[5]=E*l+m,n[9]=p*l-_,n[2]=-l,n[6]=o*u,n[10]=a*u}else if(e.order==="YZX"){const m=a*u,p=a*l,_=o*u,E=o*l;n[0]=u*d,n[4]=E-m*f,n[8]=_*f+p,n[1]=f,n[5]=a*d,n[9]=-o*d,n[2]=-l*d,n[6]=p*f+_,n[10]=m-E*f}else if(e.order==="XZY"){const m=a*u,p=a*l,_=o*u,E=o*l;n[0]=u*d,n[4]=-f,n[8]=l*d,n[1]=m*f+E,n[5]=a*d,n[9]=p*f-_,n[2]=_*f-p,n[6]=o*d,n[10]=E*f+m}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(gY,e,vY)}lookAt(e,n,r){const i=this.elements;return oo.subVectors(e,n),oo.lengthSq()===0&&(oo.z=1),oo.normalize(),Kc.crossVectors(r,oo),Kc.lengthSq()===0&&(Math.abs(r.z)===1?oo.x+=1e-4:oo.z+=1e-4,oo.normalize(),Kc.crossVectors(r,oo)),Kc.normalize(),_1.crossVectors(oo,Kc),i[0]=Kc.x,i[4]=_1.x,i[8]=oo.x,i[1]=Kc.y,i[5]=_1.y,i[9]=oo.y,i[2]=Kc.z,i[6]=_1.z,i[10]=oo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],u=r[8],l=r[12],d=r[1],f=r[5],m=r[9],p=r[13],_=r[2],E=r[6],y=r[10],v=r[14],S=r[3],T=r[7],L=r[11],I=r[15],O=i[0],B=i[4],V=i[8],M=i[12],R=i[1],k=i[5],H=i[9],q=i[13],Y=i[2],ae=i[6],he=i[10],oe=i[14],Q=i[3],xe=i[7],W=i[11],ee=i[15];return s[0]=a*O+o*R+u*Y+l*Q,s[4]=a*B+o*k+u*ae+l*xe,s[8]=a*V+o*H+u*he+l*W,s[12]=a*M+o*q+u*oe+l*ee,s[1]=d*O+f*R+m*Y+p*Q,s[5]=d*B+f*k+m*ae+p*xe,s[9]=d*V+f*H+m*he+p*W,s[13]=d*M+f*q+m*oe+p*ee,s[2]=_*O+E*R+y*Y+v*Q,s[6]=_*B+E*k+y*ae+v*xe,s[10]=_*V+E*H+y*he+v*W,s[14]=_*M+E*q+y*oe+v*ee,s[3]=S*O+T*R+L*Y+I*Q,s[7]=S*B+T*k+L*ae+I*xe,s[11]=S*V+T*H+L*he+I*W,s[15]=S*M+T*q+L*oe+I*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],u=e[9],l=e[13],d=e[2],f=e[6],m=e[10],p=e[14],_=e[3],E=e[7],y=e[11],v=e[15],S=u*p-l*m,T=o*p-l*f,L=o*m-u*f,I=a*p-l*d,O=a*m-u*d,B=a*f-o*d;return n*(E*S-y*T+v*L)-r*(_*S-y*I+v*O)+i*(_*T-E*I+v*B)-s*(_*L-E*O+y*B)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],u=e[6],l=e[7],d=e[8],f=e[9],m=e[10],p=e[11],_=e[12],E=e[13],y=e[14],v=e[15],S=f*y*l-E*m*l+E*u*p-o*y*p-f*u*v+o*m*v,T=_*m*l-d*y*l-_*u*p+a*y*p+d*u*v-a*m*v,L=d*E*l-_*f*l+_*o*p-a*E*p-d*o*v+a*f*v,I=_*f*u-d*E*u-_*o*m+a*E*m+d*o*y-a*f*y,O=n*S+r*T+i*L+s*I;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/O;return e[0]=S*B,e[1]=(E*m*s-f*y*s-E*i*p+r*y*p+f*i*v-r*m*v)*B,e[2]=(o*y*s-E*u*s+E*i*l-r*y*l-o*i*v+r*u*v)*B,e[3]=(f*u*s-o*m*s-f*i*l+r*m*l+o*i*p-r*u*p)*B,e[4]=T*B,e[5]=(d*y*s-_*m*s+_*i*p-n*y*p-d*i*v+n*m*v)*B,e[6]=(_*u*s-a*y*s-_*i*l+n*y*l+a*i*v-n*u*v)*B,e[7]=(a*m*s-d*u*s+d*i*l-n*m*l-a*i*p+n*u*p)*B,e[8]=L*B,e[9]=(_*f*s-d*E*s-_*r*p+n*E*p+d*r*v-n*f*v)*B,e[10]=(a*E*s-_*o*s+_*r*l-n*E*l-a*r*v+n*o*v)*B,e[11]=(d*o*s-a*f*s-d*r*l+n*f*l+a*r*p-n*o*p)*B,e[12]=I*B,e[13]=(d*E*i-_*f*i+_*r*m-n*E*m-d*r*y+n*f*y)*B,e[14]=(_*o*i-a*E*i-_*r*u+n*E*u+a*r*y-n*o*y)*B,e[15]=(a*f*i-d*o*i+d*r*u-n*f*u-a*r*m+n*o*m)*B,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,u=e.z,l=s*a,d=s*o;return this.set(l*a+r,l*o-i*u,l*u+i*o,0,l*o+i*u,d*o+r,d*u-i*a,0,l*u-i*o,d*u+i*a,s*u*u+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,u=n._w,l=s+s,d=a+a,f=o+o,m=s*l,p=s*d,_=s*f,E=a*d,y=a*f,v=o*f,S=u*l,T=u*d,L=u*f,I=r.x,O=r.y,B=r.z;return i[0]=(1-(E+v))*I,i[1]=(p+L)*I,i[2]=(_-T)*I,i[3]=0,i[4]=(p-L)*O,i[5]=(1-(m+v))*O,i[6]=(y+S)*O,i[7]=0,i[8]=(_+T)*B,i[9]=(y-S)*B,i[10]=(1-(m+E))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),n.identity(),this;let s=Ff.set(i[0],i[1],i[2]).length();const a=Ff.set(i[4],i[5],i[6]).length(),o=Ff.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),du.copy(this);const l=1/s,d=1/a,f=1/o;return du.elements[0]*=l,du.elements[1]*=l,du.elements[2]*=l,du.elements[4]*=d,du.elements[5]*=d,du.elements[6]*=d,du.elements[8]*=f,du.elements[9]*=f,du.elements[10]*=f,n.setFromRotationMatrix(du),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=Ju,u=!1){const l=this.elements,d=2*s/(n-e),f=2*s/(r-i),m=(n+e)/(n-e),p=(r+i)/(r-i);let _,E;if(u)_=s/(a-s),E=a*s/(a-s);else if(o===Ju)_=-(a+s)/(a-s),E=-2*a*s/(a-s);else if(o===Kv)_=-a/(a-s),E=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=d,l[4]=0,l[8]=m,l[12]=0,l[1]=0,l[5]=f,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=_,l[14]=E,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=Ju,u=!1){const l=this.elements,d=2/(n-e),f=2/(r-i),m=-(n+e)/(n-e),p=-(r+i)/(r-i);let _,E;if(u)_=1/(a-s),E=a/(a-s);else if(o===Ju)_=-2/(a-s),E=-(a+s)/(a-s);else if(o===Kv)_=-1/(a-s),E=-s/(a-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=d,l[4]=0,l[8]=0,l[12]=m,l[1]=0,l[5]=f,l[9]=0,l[13]=p,l[2]=0,l[6]=0,l[10]=_,l[14]=E,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ff=new it,du=new is,gY=new it(0,0,0),vY=new it(1,1,1),Kc=new it,_1=new it,oo=new it,DD=new is,CD=new rg;class lc{constructor(e=0,n=0,r=0,i=lc.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],u=i[1],l=i[5],d=i[9],f=i[2],m=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(mr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(m,l),this._z=0);break;case"YXZ":this._x=Math.asin(-mr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(mr(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(u,s));break;case"ZYX":this._y=Math.asin(-mr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(m,p),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(mr(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,l),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(o,p));break;case"XZY":this._z=Math.asin(-mr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,l),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,p),this._y=0);break;default:Zn("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return DD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(DD,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return CD.setFromEuler(this),this.setFromQuaternion(CD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}lc.DEFAULT_ORDER="XYZ";class jR{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _Y=0;const ND=new it,Of=new rg,Ul=new is,y1=new it,M0=new it,yY=new it,xY=new rg,LD=new it(1,0,0),MD=new it(0,1,0),PD=new it(0,0,1),RD={type:"added"},bY={type:"removed"},Bf={type:"childadded",child:null},Uy={type:"childremoved",child:null};class vo extends Gp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_Y++}),this.uuid=ng(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=vo.DEFAULT_UP.clone();const e=new it,n=new lc,r=new rg,i=new it(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new is},normalMatrix:{value:new er}}),this.matrix=new is,this.matrixWorld=new is,this.matrixAutoUpdate=vo.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=vo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new jR,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Of.setFromAxisAngle(e,n),this.quaternion.multiply(Of),this}rotateOnWorldAxis(e,n){return Of.setFromAxisAngle(e,n),this.quaternion.premultiply(Of),this}rotateX(e){return this.rotateOnAxis(LD,e)}rotateY(e){return this.rotateOnAxis(MD,e)}rotateZ(e){return this.rotateOnAxis(PD,e)}translateOnAxis(e,n){return ND.copy(e).applyQuaternion(this.quaternion),this.position.add(ND.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(LD,e)}translateY(e){return this.translateOnAxis(MD,e)}translateZ(e){return this.translateOnAxis(PD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ul.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?y1.copy(e):y1.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),M0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ul.lookAt(M0,y1,this.up):Ul.lookAt(y1,M0,this.up),this.quaternion.setFromRotationMatrix(Ul),i&&(Ul.extractRotation(i.matrixWorld),Of.setFromRotationMatrix(Ul),this.quaternion.premultiply(Of.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Sr("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(RD),Bf.child=e,this.dispatchEvent(Bf),Bf.child=null):Sr("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(bY),Uy.child=e,this.dispatchEvent(Uy),Uy.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ul.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ul.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ul),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(RD),Bf.child=e,this.dispatchEvent(Bf),Bf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(M0,e,yY),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(M0,xY,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(o,u){return o[u.uuid]===void 0&&(o[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const u=o.shapes;if(Array.isArray(u))for(let l=0,d=u.length;l<d;l++){const f=u[l];s(e.shapes,f)}else s(e.shapes,u)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let u=0,l=this.material.length;u<l;u++)o.push(s(e.materials,this.material[u]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const u=this.animations[o];i.animations.push(s(e.animations,u))}}if(n){const o=a(e.geometries),u=a(e.materials),l=a(e.textures),d=a(e.images),f=a(e.shapes),m=a(e.skeletons),p=a(e.animations),_=a(e.nodes);o.length>0&&(r.geometries=o),u.length>0&&(r.materials=u),l.length>0&&(r.textures=l),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),m.length>0&&(r.skeletons=m),p.length>0&&(r.animations=p),_.length>0&&(r.nodes=_)}return r.object=i,r;function a(o){const u=[];for(const l in o){const d=o[l];delete d.metadata,u.push(d)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}vo.DEFAULT_UP=new it(0,1,0);vo.DEFAULT_MATRIX_AUTO_UPDATE=!0;vo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const hu=new it,jl=new it,jy=new it,zl=new it,Uf=new it,jf=new it,ID=new it,zy=new it,Hy=new it,Vy=new it,Wy=new Ki,Gy=new Ki,qy=new Ki;class _u{constructor(e=new it,n=new it,r=new it){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),hu.subVectors(e,n),i.cross(hu);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){hu.subVectors(i,n),jl.subVectors(r,n),jy.subVectors(e,n);const a=hu.dot(hu),o=hu.dot(jl),u=hu.dot(jy),l=jl.dot(jl),d=jl.dot(jy),f=a*l-o*o;if(f===0)return s.set(0,0,0),null;const m=1/f,p=(l*u-o*d)*m,_=(a*d-o*u)*m;return s.set(1-p-_,_,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,zl)===null?!1:zl.x>=0&&zl.y>=0&&zl.x+zl.y<=1}static getInterpolation(e,n,r,i,s,a,o,u){return this.getBarycoord(e,n,r,i,zl)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(s,zl.x),u.addScaledVector(a,zl.y),u.addScaledVector(o,zl.z),u)}static getInterpolatedAttribute(e,n,r,i,s,a){return Wy.setScalar(0),Gy.setScalar(0),qy.setScalar(0),Wy.fromBufferAttribute(e,n),Gy.fromBufferAttribute(e,r),qy.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(Wy,s.x),a.addScaledVector(Gy,s.y),a.addScaledVector(qy,s.z),a}static isFrontFacing(e,n,r,i){return hu.subVectors(r,n),jl.subVectors(e,n),hu.cross(jl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hu.subVectors(this.c,this.b),jl.subVectors(this.a,this.b),hu.cross(jl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return _u.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return _u.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return _u.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return _u.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return _u.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;Uf.subVectors(i,r),jf.subVectors(s,r),zy.subVectors(e,r);const u=Uf.dot(zy),l=jf.dot(zy);if(u<=0&&l<=0)return n.copy(r);Hy.subVectors(e,i);const d=Uf.dot(Hy),f=jf.dot(Hy);if(d>=0&&f<=d)return n.copy(i);const m=u*f-d*l;if(m<=0&&u>=0&&d<=0)return a=u/(u-d),n.copy(r).addScaledVector(Uf,a);Vy.subVectors(e,s);const p=Uf.dot(Vy),_=jf.dot(Vy);if(_>=0&&p<=_)return n.copy(s);const E=p*l-u*_;if(E<=0&&l>=0&&_<=0)return o=l/(l-_),n.copy(r).addScaledVector(jf,o);const y=d*_-p*f;if(y<=0&&f-d>=0&&p-_>=0)return ID.subVectors(s,i),o=(f-d)/(f-d+(p-_)),n.copy(i).addScaledVector(ID,o);const v=1/(y+E+m);return a=E*v,o=m*v,n.copy(r).addScaledVector(Uf,a).addScaledVector(jf,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const zR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yc={h:0,s:0,l:0},x1={h:0,s:0,l:0};function $y(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class jr{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Bo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wr.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=wr.workingColorSpace){return this.r=e,this.g=n,this.b=r,wr.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=wr.workingColorSpace){if(e=oY(e,1),n=mr(n,0,1),r=mr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=$y(a,s,e+1/3),this.g=$y(a,s,e),this.b=$y(a,s,e-1/3)}return wr.colorSpaceToWorking(this,i),this}setStyle(e,n=Bo){function r(s){s!==void 0&&parseFloat(s)<1&&Zn("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:Zn("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);Zn("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Bo){const r=zR[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Zn("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ec(e.r),this.g=ec(e.g),this.b=ec(e.b),this}copyLinearToSRGB(e){return this.r=mp(e.r),this.g=mp(e.g),this.b=mp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Bo){return wr.workingToColorSpace(ta.copy(this),e),Math.round(mr(ta.r*255,0,255))*65536+Math.round(mr(ta.g*255,0,255))*256+Math.round(mr(ta.b*255,0,255))}getHexString(e=Bo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=wr.workingColorSpace){wr.workingToColorSpace(ta.copy(this),n);const r=ta.r,i=ta.g,s=ta.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let u,l;const d=(o+a)/2;if(o===a)u=0,l=0;else{const f=a-o;switch(l=d<=.5?f/(a+o):f/(2-a-o),a){case r:u=(i-s)/f+(i<s?6:0);break;case i:u=(s-r)/f+2;break;case s:u=(r-i)/f+4;break}u/=6}return e.h=u,e.s=l,e.l=d,e}getRGB(e,n=wr.workingColorSpace){return wr.workingToColorSpace(ta.copy(this),n),e.r=ta.r,e.g=ta.g,e.b=ta.b,e}getStyle(e=Bo){wr.workingToColorSpace(ta.copy(this),e);const n=ta.r,r=ta.g,i=ta.b;return e!==Bo?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Yc),this.setHSL(Yc.h+e,Yc.s+n,Yc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Yc),e.getHSL(x1);const r=Ny(Yc.h,x1.h,n),i=Ny(Yc.s,x1.s,n),s=Ny(Yc.l,x1.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ta=new jr;jr.NAMES=zR;let EY=0;class B_ extends Gp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:EY++}),this.uuid=ng(),this.name="",this.type="Material",this.blending=pp,this.side=vd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ib,this.blendDst=kb,this.blendEquation=vh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new jr(0,0,0),this.blendAlpha=0,this.depthFunc=Ip,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=yD,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Mf,this.stencilZFail=Mf,this.stencilZPass=Mf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Zn(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Zn(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==pp&&(r.blending=this.blending),this.side!==vd&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Ib&&(r.blendSrc=this.blendSrc),this.blendDst!==kb&&(r.blendDst=this.blendDst),this.blendEquation!==vh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ip&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==yD&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Mf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Mf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Mf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const u=s[o];delete u.metadata,a.push(u)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class HR extends B_{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new jr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new lc,this.combine=ER,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Qi=new it,b1=new zr;let wY=0;class il{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:wY++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=xD,this.updateRanges=[],this.gpuType=Zu,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)b1.fromBufferAttribute(this,n),b1.applyMatrix3(e),this.setXY(n,b1.x,b1.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Qi.fromBufferAttribute(this,n),Qi.applyMatrix3(e),this.setXYZ(n,Qi.x,Qi.y,Qi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Qi.fromBufferAttribute(this,n),Qi.applyMatrix4(e),this.setXYZ(n,Qi.x,Qi.y,Qi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Qi.fromBufferAttribute(this,n),Qi.applyNormalMatrix(e),this.setXYZ(n,Qi.x,Qi.y,Qi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Qi.fromBufferAttribute(this,n),Qi.transformDirection(e),this.setXYZ(n,Qi.x,Qi.y,Qi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=C0(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ja(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=C0(n,this.array)),n}setX(e,n){return this.normalized&&(n=ja(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=C0(n,this.array)),n}setY(e,n){return this.normalized&&(n=ja(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=C0(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ja(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=C0(n,this.array)),n}setW(e,n){return this.normalized&&(n=ja(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ja(n,this.array),r=ja(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ja(n,this.array),r=ja(r,this.array),i=ja(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=ja(n,this.array),r=ja(r,this.array),i=ja(i,this.array),s=ja(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==xD&&(e.usage=this.usage),e}}class VR extends il{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class WR extends il{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class tc extends il{constructor(e,n,r){super(new Float32Array(e),n,r)}}let AY=0;const ko=new is,Ky=new vo,zf=new it,uo=new ig,P0=new ig,Ts=new it;class hc extends Gp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:AY++}),this.uuid=ng(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(BR(e)?WR:VR)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new er().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ko.makeRotationFromQuaternion(e),this.applyMatrix4(ko),this}rotateX(e){return ko.makeRotationX(e),this.applyMatrix4(ko),this}rotateY(e){return ko.makeRotationY(e),this.applyMatrix4(ko),this}rotateZ(e){return ko.makeRotationZ(e),this.applyMatrix4(ko),this}translate(e,n,r){return ko.makeTranslation(e,n,r),this.applyMatrix4(ko),this}scale(e,n,r){return ko.makeScale(e,n,r),this.applyMatrix4(ko),this}lookAt(e){return Ky.lookAt(e),Ky.updateMatrix(),this.applyMatrix4(Ky.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zf).negate(),this.translate(zf.x,zf.y,zf.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new tc(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&Zn("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ig);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Sr("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new it(-1/0,-1/0,-1/0),new it(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];uo.setFromBufferAttribute(s),this.morphTargetsRelative?(Ts.addVectors(this.boundingBox.min,uo.min),this.boundingBox.expandByPoint(Ts),Ts.addVectors(this.boundingBox.max,uo.max),this.boundingBox.expandByPoint(Ts)):(this.boundingBox.expandByPoint(uo.min),this.boundingBox.expandByPoint(uo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Sr('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new MA);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Sr("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new it,1/0);return}if(e){const r=this.boundingSphere.center;if(uo.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];P0.setFromBufferAttribute(o),this.morphTargetsRelative?(Ts.addVectors(uo.min,P0.min),uo.expandByPoint(Ts),Ts.addVectors(uo.max,P0.max),uo.expandByPoint(Ts)):(uo.expandByPoint(P0.min),uo.expandByPoint(P0.max))}uo.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Ts.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ts));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],u=this.morphTargetsRelative;for(let l=0,d=o.count;l<d;l++)Ts.fromBufferAttribute(o,l),u&&(zf.fromBufferAttribute(e,l),Ts.add(zf)),i=Math.max(i,r.distanceToSquared(Ts))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Sr('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Sr("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new il(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],u=[];for(let V=0;V<r.count;V++)o[V]=new it,u[V]=new it;const l=new it,d=new it,f=new it,m=new zr,p=new zr,_=new zr,E=new it,y=new it;function v(V,M,R){l.fromBufferAttribute(r,V),d.fromBufferAttribute(r,M),f.fromBufferAttribute(r,R),m.fromBufferAttribute(s,V),p.fromBufferAttribute(s,M),_.fromBufferAttribute(s,R),d.sub(l),f.sub(l),p.sub(m),_.sub(m);const k=1/(p.x*_.y-_.x*p.y);isFinite(k)&&(E.copy(d).multiplyScalar(_.y).addScaledVector(f,-p.y).multiplyScalar(k),y.copy(f).multiplyScalar(p.x).addScaledVector(d,-_.x).multiplyScalar(k),o[V].add(E),o[M].add(E),o[R].add(E),u[V].add(y),u[M].add(y),u[R].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let V=0,M=S.length;V<M;++V){const R=S[V],k=R.start,H=R.count;for(let q=k,Y=k+H;q<Y;q+=3)v(e.getX(q+0),e.getX(q+1),e.getX(q+2))}const T=new it,L=new it,I=new it,O=new it;function B(V){I.fromBufferAttribute(i,V),O.copy(I);const M=o[V];T.copy(M),T.sub(I.multiplyScalar(I.dot(M))).normalize(),L.crossVectors(O,M);const k=L.dot(u[V])<0?-1:1;a.setXYZW(V,T.x,T.y,T.z,k)}for(let V=0,M=S.length;V<M;++V){const R=S[V],k=R.start,H=R.count;for(let q=k,Y=k+H;q<Y;q+=3)B(e.getX(q+0)),B(e.getX(q+1)),B(e.getX(q+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new il(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let m=0,p=r.count;m<p;m++)r.setXYZ(m,0,0,0);const i=new it,s=new it,a=new it,o=new it,u=new it,l=new it,d=new it,f=new it;if(e)for(let m=0,p=e.count;m<p;m+=3){const _=e.getX(m+0),E=e.getX(m+1),y=e.getX(m+2);i.fromBufferAttribute(n,_),s.fromBufferAttribute(n,E),a.fromBufferAttribute(n,y),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),o.fromBufferAttribute(r,_),u.fromBufferAttribute(r,E),l.fromBufferAttribute(r,y),o.add(d),u.add(d),l.add(d),r.setXYZ(_,o.x,o.y,o.z),r.setXYZ(E,u.x,u.y,u.z),r.setXYZ(y,l.x,l.y,l.z)}else for(let m=0,p=n.count;m<p;m+=3)i.fromBufferAttribute(n,m+0),s.fromBufferAttribute(n,m+1),a.fromBufferAttribute(n,m+2),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),r.setXYZ(m+0,d.x,d.y,d.z),r.setXYZ(m+1,d.x,d.y,d.z),r.setXYZ(m+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ts.fromBufferAttribute(e,n),Ts.normalize(),e.setXYZ(n,Ts.x,Ts.y,Ts.z)}toNonIndexed(){function e(o,u){const l=o.array,d=o.itemSize,f=o.normalized,m=new l.constructor(u.length*d);let p=0,_=0;for(let E=0,y=u.length;E<y;E++){o.isInterleavedBufferAttribute?p=u[E]*o.data.stride+o.offset:p=u[E]*d;for(let v=0;v<d;v++)m[_++]=l[p++]}return new il(m,d,f)}if(this.index===null)return Zn("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new hc,r=this.index.array,i=this.attributes;for(const o in i){const u=i[o],l=e(u,r);n.setAttribute(o,l)}const s=this.morphAttributes;for(const o in s){const u=[],l=s[o];for(let d=0,f=l.length;d<f;d++){const m=l[d],p=e(m,r);u.push(p)}n.morphAttributes[o]=u}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,u=a.length;o<u;o++){const l=a[o];n.addGroup(l.start,l.count,l.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const l in u)u[l]!==void 0&&(e[l]=u[l]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const u in r){const l=r[u];e.data.attributes[u]=l.toJSON(e.data)}const i={};let s=!1;for(const u in this.morphAttributes){const l=this.morphAttributes[u],d=[];for(let f=0,m=l.length;f<m;f++){const p=l[f];d.push(p.toJSON(e.data))}d.length>0&&(i[u]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const l in i){const d=i[l];this.setAttribute(l,d.clone(n))}const s=e.morphAttributes;for(const l in s){const d=[],f=s[l];for(let m=0,p=f.length;m<p;m++)d.push(f[m].clone(n));this.morphAttributes[l]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,d=a.length;l<d;l++){const f=a[l];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const kD=new is,th=new mY,E1=new MA,FD=new it,w1=new it,A1=new it,S1=new it,Yy=new it,T1=new it,OD=new it,D1=new it;class al extends vo{constructor(e=new hc,n=new HR){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){T1.set(0,0,0);for(let u=0,l=s.length;u<l;u++){const d=o[u],f=s[u];d!==0&&(Yy.fromBufferAttribute(f,e),a?T1.addScaledVector(Yy,d):T1.addScaledVector(Yy.sub(n),d))}n.add(T1)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),E1.copy(r.boundingSphere),E1.applyMatrix4(s),th.copy(e.ray).recast(e.near),!(E1.containsPoint(th.origin)===!1&&(th.intersectSphere(E1,FD)===null||th.origin.distanceToSquared(FD)>(e.far-e.near)**2))&&(kD.copy(s).invert(),th.copy(e.ray).applyMatrix4(kD),!(r.boundingBox!==null&&th.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,th)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,u=s.attributes.position,l=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,m=s.groups,p=s.drawRange;if(o!==null)if(Array.isArray(a))for(let _=0,E=m.length;_<E;_++){const y=m[_],v=a[y.materialIndex],S=Math.max(y.start,p.start),T=Math.min(o.count,Math.min(y.start+y.count,p.start+p.count));for(let L=S,I=T;L<I;L+=3){const O=o.getX(L),B=o.getX(L+1),V=o.getX(L+2);i=C1(this,v,e,r,l,d,f,O,B,V),i&&(i.faceIndex=Math.floor(L/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const _=Math.max(0,p.start),E=Math.min(o.count,p.start+p.count);for(let y=_,v=E;y<v;y+=3){const S=o.getX(y),T=o.getX(y+1),L=o.getX(y+2);i=C1(this,a,e,r,l,d,f,S,T,L),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(u!==void 0)if(Array.isArray(a))for(let _=0,E=m.length;_<E;_++){const y=m[_],v=a[y.materialIndex],S=Math.max(y.start,p.start),T=Math.min(u.count,Math.min(y.start+y.count,p.start+p.count));for(let L=S,I=T;L<I;L+=3){const O=L,B=L+1,V=L+2;i=C1(this,v,e,r,l,d,f,O,B,V),i&&(i.faceIndex=Math.floor(L/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const _=Math.max(0,p.start),E=Math.min(u.count,p.start+p.count);for(let y=_,v=E;y<v;y+=3){const S=y,T=y+1,L=y+2;i=C1(this,a,e,r,l,d,f,S,T,L),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function SY(t,e,n,r,i,s,a,o){let u;if(e.side===Ga?u=r.intersectTriangle(a,s,i,!0,o):u=r.intersectTriangle(i,s,a,e.side===vd,o),u===null)return null;D1.copy(o),D1.applyMatrix4(t.matrixWorld);const l=n.ray.origin.distanceTo(D1);return l<n.near||l>n.far?null:{distance:l,point:D1.clone(),object:t}}function C1(t,e,n,r,i,s,a,o,u,l){t.getVertexPosition(o,w1),t.getVertexPosition(u,A1),t.getVertexPosition(l,S1);const d=SY(t,e,n,r,w1,A1,S1,OD);if(d){const f=new it;_u.getBarycoord(OD,w1,A1,S1,f),i&&(d.uv=_u.getInterpolatedAttribute(i,o,u,l,f,new zr)),s&&(d.uv1=_u.getInterpolatedAttribute(s,o,u,l,f,new zr)),a&&(d.normal=_u.getInterpolatedAttribute(a,o,u,l,f,new it),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const m={a:o,b:u,c:l,normal:new it,materialIndex:0};_u.getNormal(w1,A1,S1,m.normal),d.face=m,d.barycoord=f}return d}class sg extends hc{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const u=[],l=[],d=[],f=[];let m=0,p=0;_("z","y","x",-1,-1,r,n,e,a,s,0),_("z","y","x",1,-1,r,n,-e,a,s,1),_("x","z","y",1,1,e,r,n,i,a,2),_("x","z","y",1,-1,e,r,-n,i,a,3),_("x","y","z",1,-1,e,n,r,i,s,4),_("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(u),this.setAttribute("position",new tc(l,3)),this.setAttribute("normal",new tc(d,3)),this.setAttribute("uv",new tc(f,2));function _(E,y,v,S,T,L,I,O,B,V,M){const R=L/B,k=I/V,H=L/2,q=I/2,Y=O/2,ae=B+1,he=V+1;let oe=0,Q=0;const xe=new it;for(let W=0;W<he;W++){const ee=W*k-q;for(let z=0;z<ae;z++){const U=z*R-H;xe[E]=U*S,xe[y]=ee*T,xe[v]=Y,l.push(xe.x,xe.y,xe.z),xe[E]=0,xe[y]=0,xe[v]=O>0?1:-1,d.push(xe.x,xe.y,xe.z),f.push(z/B),f.push(1-W/V),oe+=1}}for(let W=0;W<V;W++)for(let ee=0;ee<B;ee++){const z=m+ee+ae*W,U=m+ee+ae*(W+1),ce=m+(ee+1)+ae*(W+1),_e=m+(ee+1)+ae*W;u.push(z,U,_e),u.push(U,ce,_e),Q+=6}o.addGroup(p,Q,M),p+=Q,m+=oe}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Bp(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Zn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ya(t){const e={};for(let n=0;n<t.length;n++){const r=Bp(t[n]);for(const i in r)e[i]=r[i]}return e}function TY(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function GR(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:wr.workingColorSpace}const DY={clone:Bp,merge:ya};var CY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,NY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ol extends B_{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=CY,this.fragmentShader=NY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Bp(e.uniforms),this.uniformsGroups=TY(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class qR extends vo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new is,this.projectionMatrix=new is,this.projectionMatrixInverse=new is,this.coordinateSystem=Ju,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Xc=new it,BD=new zr,UD=new zr;class Uo extends qR{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=SE*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Cy*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return SE*2*Math.atan(Math.tan(Cy*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Xc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Xc.x,Xc.y).multiplyScalar(-e/Xc.z),Xc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Xc.x,Xc.y).multiplyScalar(-e/Xc.z)}getViewSize(e,n){return this.getViewBounds(e,BD,UD),n.subVectors(UD,BD)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Cy*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const u=a.fullWidth,l=a.fullHeight;s+=a.offsetX*i/u,n-=a.offsetY*r/l,i*=a.width/u,r*=a.height/l}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Hf=-90,Vf=1;class LY extends vo{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Uo(Hf,Vf,e,n);i.layers=this.layers,this.add(i);const s=new Uo(Hf,Vf,e,n);s.layers=this.layers,this.add(s);const a=new Uo(Hf,Vf,e,n);a.layers=this.layers,this.add(a);const o=new Uo(Hf,Vf,e,n);o.layers=this.layers,this.add(o);const u=new Uo(Hf,Vf,e,n);u.layers=this.layers,this.add(u);const l=new Uo(Hf,Vf,e,n);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,u]=n;for(const l of n)this.remove(l);if(e===Ju)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===Kv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const l of n)this.add(l),l.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,u,l,d]=this.children,f=e.getRenderTarget(),m=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const E=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,u),e.setRenderTarget(r,4,i),e.render(n,l),r.texture.generateMipmaps=E,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(f,m,p),e.xr.enabled=_,r.texture.needsPMREMUpdate=!0}}class $R extends Ea{constructor(e=[],n=Fh,r,i,s,a,o,u,l,d){super(e,n,r,i,s,a,o,u,l,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class KR extends rl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new $R(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new sg(5,5,5),s=new ol({name:"CubemapFromEquirect",uniforms:Bp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ga,blending:Ql});s.uniforms.tEquirect.value=n;const a=new al(i,s),o=n.minFilter;return n.minFilter===wh&&(n.minFilter=ua),new LY(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}class N1 extends vo{constructor(){super(),this.isGroup=!0,this.type="Group"}}const MY={type:"move"};class Xy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new N1,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new N1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new it,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new it),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new N1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new it,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new it),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,u=this._grip,l=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(l&&e.hand){a=!0;for(const E of e.hand.values()){const y=n.getJointPose(E,r),v=this._getHandJoint(l,E);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const d=l.joints["index-finger-tip"],f=l.joints["thumb-tip"],m=d.position.distanceTo(f.position),p=.02,_=.005;l.inputState.pinching&&m>p+_?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&m<=p-_&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(MY)))}return o!==null&&(o.visible=i!==null),u!==null&&(u.visible=s!==null),l!==null&&(l.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new N1;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class PY extends vo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new lc,this.environmentIntensity=1,this.environmentRotation=new lc,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class RY extends Ea{constructor(e=null,n=1,r=1,i,s,a,o,u,l=js,d=js,f,m){super(null,a,o,u,l,d,i,s,f,m),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Zy=new it,IY=new it,kY=new er;class ch{constructor(e=new it(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Zy.subVectors(r,n).cross(IY.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Zy),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||kY.getNormalMatrix(e),i=this.coplanarPoint(Zy).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const nh=new MA,FY=new zr(.5,.5),L1=new it;class YR{constructor(e=new ch,n=new ch,r=new ch,i=new ch,s=new ch,a=new ch){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ju,r=!1){const i=this.planes,s=e.elements,a=s[0],o=s[1],u=s[2],l=s[3],d=s[4],f=s[5],m=s[6],p=s[7],_=s[8],E=s[9],y=s[10],v=s[11],S=s[12],T=s[13],L=s[14],I=s[15];if(i[0].setComponents(l-a,p-d,v-_,I-S).normalize(),i[1].setComponents(l+a,p+d,v+_,I+S).normalize(),i[2].setComponents(l+o,p+f,v+E,I+T).normalize(),i[3].setComponents(l-o,p-f,v-E,I-T).normalize(),r)i[4].setComponents(u,m,y,L).normalize(),i[5].setComponents(l-u,p-m,v-y,I-L).normalize();else if(i[4].setComponents(l-u,p-m,v-y,I-L).normalize(),n===Ju)i[5].setComponents(l+u,p+m,v+y,I+L).normalize();else if(n===Kv)i[5].setComponents(u,m,y,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),nh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),nh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(nh)}intersectsSprite(e){nh.center.set(0,0,0);const n=FY.distanceTo(e.center);return nh.radius=.7071067811865476+n,nh.applyMatrix4(e.matrixWorld),this.intersectsSphere(nh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(L1.x=i.normal.x>0?e.max.x:e.min.x,L1.y=i.normal.y>0?e.max.y:e.min.y,L1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(L1)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class Rm extends Ea{constructor(e,n,r=sl,i,s,a,o=js,u=js,l,d=uc,f=1){if(d!==uc&&d!==Ah)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const m={width:e,height:n,depth:f};super(m,i,s,a,o,u,d,r,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new LA(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class OY extends Rm{constructor(e,n=sl,r=Fh,i,s,a=js,o=js,u,l=uc){const d={width:e,height:e,depth:1},f=[d,d,d,d,d,d];super(e,e,n,r,i,s,a,o,u,l),this.image=f,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class XR extends Ea{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class ag extends hc{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),u=Math.floor(i),l=o+1,d=u+1,f=e/o,m=n/u,p=[],_=[],E=[],y=[];for(let v=0;v<d;v++){const S=v*m-a;for(let T=0;T<l;T++){const L=T*f-s;_.push(L,-S,0),E.push(0,0,1),y.push(T/o),y.push(1-v/u)}}for(let v=0;v<u;v++)for(let S=0;S<o;S++){const T=S+l*v,L=S+l*(v+1),I=S+1+l*(v+1),O=S+1+l*v;p.push(T,L,O),p.push(L,I,O)}this.setIndex(p),this.setAttribute("position",new tc(_,3)),this.setAttribute("normal",new tc(E,3)),this.setAttribute("uv",new tc(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ag(e.width,e.height,e.widthSegments,e.heightSegments)}}class ZR extends ol{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class BY extends B_{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=XK,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class UY extends B_{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class JR extends qR{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,u=i-n;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=l*this.view.offsetX,a=s+l*this.view.width,o-=d*this.view.offsetY,u=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,u,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class jY extends Uo{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class zY{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function jD(t,e,n,r){const i=HY(r);switch(n){case kR:return t*e;case OR:return t*e/i.components*i.byteLength;case SA:return t*e/i.components*i.byteLength;case Fp:return t*e*2/i.components*i.byteLength;case TA:return t*e*2/i.components*i.byteLength;case FR:return t*e*3/i.components*i.byteLength;case yu:return t*e*4/i.components*i.byteLength;case DA:return t*e*4/i.components*i.byteLength;case uv:case lv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case cv:case dv:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Kb:case Xb:return Math.max(t,16)*Math.max(e,8)/4;case $b:case Yb:return Math.max(t,8)*Math.max(e,8)/2;case Zb:case Jb:case eE:case tE:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Qb:case nE:case rE:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case iE:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case sE:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case aE:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case oE:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case uE:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case lE:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case cE:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case dE:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case hE:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case fE:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case pE:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case mE:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case gE:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case vE:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case _E:case yE:case xE:return Math.ceil(t/4)*Math.ceil(e/4)*16;case bE:case EE:return Math.ceil(t/4)*Math.ceil(e/4)*8;case wE:case AE:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function HY(t){switch(t){case Ho:case MR:return{byteLength:1,components:1};case Lm:case PR:case oc:return{byteLength:2,components:1};case wA:case AA:return{byteLength:2,components:4};case sl:case EA:case Zu:return{byteLength:4,components:1};case RR:case IR:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bA}}));typeof window<"u"&&(window.__THREE__?Zn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bA);function QR(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function VY(t){const e=new WeakMap;function n(o,u){const l=o.array,d=o.usage,f=l.byteLength,m=t.createBuffer();t.bindBuffer(u,m),t.bufferData(u,l,d),o.onUploadCallback();let p;if(l instanceof Float32Array)p=t.FLOAT;else if(typeof Float16Array<"u"&&l instanceof Float16Array)p=t.HALF_FLOAT;else if(l instanceof Uint16Array)o.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(l instanceof Int16Array)p=t.SHORT;else if(l instanceof Uint32Array)p=t.UNSIGNED_INT;else if(l instanceof Int32Array)p=t.INT;else if(l instanceof Int8Array)p=t.BYTE;else if(l instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(l instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+l);return{buffer:m,type:p,bytesPerElement:l.BYTES_PER_ELEMENT,version:o.version,size:f}}function r(o,u,l){const d=u.array,f=u.updateRanges;if(t.bindBuffer(l,o),f.length===0)t.bufferSubData(l,0,d);else{f.sort((p,_)=>p.start-_.start);let m=0;for(let p=1;p<f.length;p++){const _=f[m],E=f[p];E.start<=_.start+_.count+1?_.count=Math.max(_.count,E.start+E.count-_.start):(++m,f[m]=E)}f.length=m+1;for(let p=0,_=f.length;p<_;p++){const E=f[p];t.bufferSubData(l,E.start*d.BYTES_PER_ELEMENT,d,E.start,E.count)}u.clearUpdateRanges()}u.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const u=e.get(o);u&&(t.deleteBuffer(u.buffer),e.delete(o))}function a(o,u){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const l=e.get(o);if(l===void 0)e.set(o,n(o,u));else if(l.version<o.version){if(l.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(l.buffer,o,u),l.version=o.version}}return{get:i,remove:s,update:a}}var WY=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,GY=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,qY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,$Y=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,KY=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,YY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,XY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ZY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,JY=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,QY=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,eX=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,tX=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,nX=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,rX=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,iX=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,sX=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,aX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,oX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,uX=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lX=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,dX=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,hX=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,fX=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,pX=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,mX=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,gX=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,vX=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,_X=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,yX=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xX="gl_FragColor = linearToOutputTexel( gl_FragColor );",bX=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,EX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wX=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,AX=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,SX=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,TX=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,DX=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,CX=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,NX=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,LX=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,MX=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,PX=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,RX=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,IX=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,kX=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,FX=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,OX=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,BX=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,UX=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,jX=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,zX=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,HX=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,VX=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,WX=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,GX=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,qX=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$X=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,KX=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YX=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,XX=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ZX=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,JX=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,QX=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eZ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,tZ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nZ=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,rZ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,iZ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,sZ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,aZ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,oZ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,uZ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,dZ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hZ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,fZ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,pZ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,mZ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,gZ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,vZ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_Z=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,yZ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xZ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,bZ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,EZ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,wZ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,AZ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,SZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,TZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,DZ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,CZ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,NZ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,LZ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,MZ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,PZ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,RZ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,IZ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,kZ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,FZ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,OZ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,BZ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,UZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,jZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,HZ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const VZ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,WZ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,GZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qZ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$Z=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,KZ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,YZ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,XZ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ZZ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,JZ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,QZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,eJ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tJ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nJ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rJ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,iJ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sJ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aJ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oJ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,uJ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lJ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cJ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,dJ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hJ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fJ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,pJ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mJ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gJ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vJ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,_J=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yJ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xJ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,bJ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,nr={alphahash_fragment:WY,alphahash_pars_fragment:GY,alphamap_fragment:qY,alphamap_pars_fragment:$Y,alphatest_fragment:KY,alphatest_pars_fragment:YY,aomap_fragment:XY,aomap_pars_fragment:ZY,batching_pars_vertex:JY,batching_vertex:QY,begin_vertex:eX,beginnormal_vertex:tX,bsdfs:nX,iridescence_fragment:rX,bumpmap_pars_fragment:iX,clipping_planes_fragment:sX,clipping_planes_pars_fragment:aX,clipping_planes_pars_vertex:oX,clipping_planes_vertex:uX,color_fragment:lX,color_pars_fragment:cX,color_pars_vertex:dX,color_vertex:hX,common:fX,cube_uv_reflection_fragment:pX,defaultnormal_vertex:mX,displacementmap_pars_vertex:gX,displacementmap_vertex:vX,emissivemap_fragment:_X,emissivemap_pars_fragment:yX,colorspace_fragment:xX,colorspace_pars_fragment:bX,envmap_fragment:EX,envmap_common_pars_fragment:wX,envmap_pars_fragment:AX,envmap_pars_vertex:SX,envmap_physical_pars_fragment:FX,envmap_vertex:TX,fog_vertex:DX,fog_pars_vertex:CX,fog_fragment:NX,fog_pars_fragment:LX,gradientmap_pars_fragment:MX,lightmap_pars_fragment:PX,lights_lambert_fragment:RX,lights_lambert_pars_fragment:IX,lights_pars_begin:kX,lights_toon_fragment:OX,lights_toon_pars_fragment:BX,lights_phong_fragment:UX,lights_phong_pars_fragment:jX,lights_physical_fragment:zX,lights_physical_pars_fragment:HX,lights_fragment_begin:VX,lights_fragment_maps:WX,lights_fragment_end:GX,logdepthbuf_fragment:qX,logdepthbuf_pars_fragment:$X,logdepthbuf_pars_vertex:KX,logdepthbuf_vertex:YX,map_fragment:XX,map_pars_fragment:ZX,map_particle_fragment:JX,map_particle_pars_fragment:QX,metalnessmap_fragment:eZ,metalnessmap_pars_fragment:tZ,morphinstance_vertex:nZ,morphcolor_vertex:rZ,morphnormal_vertex:iZ,morphtarget_pars_vertex:sZ,morphtarget_vertex:aZ,normal_fragment_begin:oZ,normal_fragment_maps:uZ,normal_pars_fragment:lZ,normal_pars_vertex:cZ,normal_vertex:dZ,normalmap_pars_fragment:hZ,clearcoat_normal_fragment_begin:fZ,clearcoat_normal_fragment_maps:pZ,clearcoat_pars_fragment:mZ,iridescence_pars_fragment:gZ,opaque_fragment:vZ,packing:_Z,premultiplied_alpha_fragment:yZ,project_vertex:xZ,dithering_fragment:bZ,dithering_pars_fragment:EZ,roughnessmap_fragment:wZ,roughnessmap_pars_fragment:AZ,shadowmap_pars_fragment:SZ,shadowmap_pars_vertex:TZ,shadowmap_vertex:DZ,shadowmask_pars_fragment:CZ,skinbase_vertex:NZ,skinning_pars_vertex:LZ,skinning_vertex:MZ,skinnormal_vertex:PZ,specularmap_fragment:RZ,specularmap_pars_fragment:IZ,tonemapping_fragment:kZ,tonemapping_pars_fragment:FZ,transmission_fragment:OZ,transmission_pars_fragment:BZ,uv_pars_fragment:UZ,uv_pars_vertex:jZ,uv_vertex:zZ,worldpos_vertex:HZ,background_vert:VZ,background_frag:WZ,backgroundCube_vert:GZ,backgroundCube_frag:qZ,cube_vert:$Z,cube_frag:KZ,depth_vert:YZ,depth_frag:XZ,distance_vert:ZZ,distance_frag:JZ,equirect_vert:QZ,equirect_frag:eJ,linedashed_vert:tJ,linedashed_frag:nJ,meshbasic_vert:rJ,meshbasic_frag:iJ,meshlambert_vert:sJ,meshlambert_frag:aJ,meshmatcap_vert:oJ,meshmatcap_frag:uJ,meshnormal_vert:lJ,meshnormal_frag:cJ,meshphong_vert:dJ,meshphong_frag:hJ,meshphysical_vert:fJ,meshphysical_frag:pJ,meshtoon_vert:mJ,meshtoon_frag:gJ,points_vert:vJ,points_frag:_J,shadow_vert:yJ,shadow_frag:xJ,sprite_vert:bJ,sprite_frag:EJ},nn={common:{diffuse:{value:new jr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new er},alphaMap:{value:null},alphaMapTransform:{value:new er},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new er}},envmap:{envMap:{value:null},envMapRotation:{value:new er},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new er}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new er}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new er},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new er},normalScale:{value:new zr(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new er},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new er}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new er}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new er}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new jr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new er},alphaTest:{value:0},uvTransform:{value:new er}},sprite:{diffuse:{value:new jr(16777215)},opacity:{value:1},center:{value:new zr(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new er},alphaMap:{value:null},alphaMapTransform:{value:new er},alphaTest:{value:0}}},Yu={basic:{uniforms:ya([nn.common,nn.specularmap,nn.envmap,nn.aomap,nn.lightmap,nn.fog]),vertexShader:nr.meshbasic_vert,fragmentShader:nr.meshbasic_frag},lambert:{uniforms:ya([nn.common,nn.specularmap,nn.envmap,nn.aomap,nn.lightmap,nn.emissivemap,nn.bumpmap,nn.normalmap,nn.displacementmap,nn.fog,nn.lights,{emissive:{value:new jr(0)}}]),vertexShader:nr.meshlambert_vert,fragmentShader:nr.meshlambert_frag},phong:{uniforms:ya([nn.common,nn.specularmap,nn.envmap,nn.aomap,nn.lightmap,nn.emissivemap,nn.bumpmap,nn.normalmap,nn.displacementmap,nn.fog,nn.lights,{emissive:{value:new jr(0)},specular:{value:new jr(1118481)},shininess:{value:30}}]),vertexShader:nr.meshphong_vert,fragmentShader:nr.meshphong_frag},standard:{uniforms:ya([nn.common,nn.envmap,nn.aomap,nn.lightmap,nn.emissivemap,nn.bumpmap,nn.normalmap,nn.displacementmap,nn.roughnessmap,nn.metalnessmap,nn.fog,nn.lights,{emissive:{value:new jr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nr.meshphysical_vert,fragmentShader:nr.meshphysical_frag},toon:{uniforms:ya([nn.common,nn.aomap,nn.lightmap,nn.emissivemap,nn.bumpmap,nn.normalmap,nn.displacementmap,nn.gradientmap,nn.fog,nn.lights,{emissive:{value:new jr(0)}}]),vertexShader:nr.meshtoon_vert,fragmentShader:nr.meshtoon_frag},matcap:{uniforms:ya([nn.common,nn.bumpmap,nn.normalmap,nn.displacementmap,nn.fog,{matcap:{value:null}}]),vertexShader:nr.meshmatcap_vert,fragmentShader:nr.meshmatcap_frag},points:{uniforms:ya([nn.points,nn.fog]),vertexShader:nr.points_vert,fragmentShader:nr.points_frag},dashed:{uniforms:ya([nn.common,nn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nr.linedashed_vert,fragmentShader:nr.linedashed_frag},depth:{uniforms:ya([nn.common,nn.displacementmap]),vertexShader:nr.depth_vert,fragmentShader:nr.depth_frag},normal:{uniforms:ya([nn.common,nn.bumpmap,nn.normalmap,nn.displacementmap,{opacity:{value:1}}]),vertexShader:nr.meshnormal_vert,fragmentShader:nr.meshnormal_frag},sprite:{uniforms:ya([nn.sprite,nn.fog]),vertexShader:nr.sprite_vert,fragmentShader:nr.sprite_frag},background:{uniforms:{uvTransform:{value:new er},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:nr.background_vert,fragmentShader:nr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new er}},vertexShader:nr.backgroundCube_vert,fragmentShader:nr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nr.cube_vert,fragmentShader:nr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nr.equirect_vert,fragmentShader:nr.equirect_frag},distance:{uniforms:ya([nn.common,nn.displacementmap,{referencePosition:{value:new it},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nr.distance_vert,fragmentShader:nr.distance_frag},shadow:{uniforms:ya([nn.lights,nn.fog,{color:{value:new jr(0)},opacity:{value:1}}]),vertexShader:nr.shadow_vert,fragmentShader:nr.shadow_frag}};Yu.physical={uniforms:ya([Yu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new er},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new er},clearcoatNormalScale:{value:new zr(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new er},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new er},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new er},sheen:{value:0},sheenColor:{value:new jr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new er},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new er},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new er},transmissionSamplerSize:{value:new zr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new er},attenuationDistance:{value:0},attenuationColor:{value:new jr(0)},specularColor:{value:new jr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new er},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new er},anisotropyVector:{value:new zr},anisotropyMap:{value:null},anisotropyMapTransform:{value:new er}}]),vertexShader:nr.meshphysical_vert,fragmentShader:nr.meshphysical_frag};const M1={r:0,b:0,g:0},rh=new lc,wJ=new is;function AJ(t,e,n,r,i,s,a){const o=new jr(0);let u=s===!0?0:1,l,d,f=null,m=0,p=null;function _(T){let L=T.isScene===!0?T.background:null;return L&&L.isTexture&&(L=(T.backgroundBlurriness>0?n:e).get(L)),L}function E(T){let L=!1;const I=_(T);I===null?v(o,u):I&&I.isColor&&(v(I,1),L=!0);const O=t.xr.getEnvironmentBlendMode();O==="additive"?r.buffers.color.setClear(0,0,0,1,a):O==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||L)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(T,L){const I=_(L);I&&(I.isCubeTexture||I.mapping===O_)?(d===void 0&&(d=new al(new sg(1,1,1),new ol({name:"BackgroundCubeMaterial",uniforms:Bp(Yu.backgroundCube.uniforms),vertexShader:Yu.backgroundCube.vertexShader,fragmentShader:Yu.backgroundCube.fragmentShader,side:Ga,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(O,B,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),rh.copy(L.backgroundRotation),rh.x*=-1,rh.y*=-1,rh.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(rh.y*=-1,rh.z*=-1),d.material.uniforms.envMap.value=I,d.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(wJ.makeRotationFromEuler(rh)),d.material.toneMapped=wr.getTransfer(I.colorSpace)!==kr,(f!==I||m!==I.version||p!==t.toneMapping)&&(d.material.needsUpdate=!0,f=I,m=I.version,p=t.toneMapping),d.layers.enableAll(),T.unshift(d,d.geometry,d.material,0,0,null)):I&&I.isTexture&&(l===void 0&&(l=new al(new ag(2,2),new ol({name:"BackgroundMaterial",uniforms:Bp(Yu.background.uniforms),vertexShader:Yu.background.vertexShader,fragmentShader:Yu.background.fragmentShader,side:vd,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=I,l.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,l.material.toneMapped=wr.getTransfer(I.colorSpace)!==kr,I.matrixAutoUpdate===!0&&I.updateMatrix(),l.material.uniforms.uvTransform.value.copy(I.matrix),(f!==I||m!==I.version||p!==t.toneMapping)&&(l.material.needsUpdate=!0,f=I,m=I.version,p=t.toneMapping),l.layers.enableAll(),T.unshift(l,l.geometry,l.material,0,0,null))}function v(T,L){T.getRGB(M1,GR(t)),r.buffers.color.setClear(M1.r,M1.g,M1.b,L,a)}function S(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),l!==void 0&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}return{getClearColor:function(){return o},setClearColor:function(T,L=1){o.set(T),u=L,v(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(T){u=T,v(o,u)},render:E,addToRenderList:y,dispose:S}}function SJ(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=m(null);let s=i,a=!1;function o(R,k,H,q,Y){let ae=!1;const he=f(q,H,k);s!==he&&(s=he,l(s.object)),ae=p(R,q,H,Y),ae&&_(R,q,H,Y),Y!==null&&e.update(Y,t.ELEMENT_ARRAY_BUFFER),(ae||a)&&(a=!1,L(R,k,H,q),Y!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(Y).buffer))}function u(){return t.createVertexArray()}function l(R){return t.bindVertexArray(R)}function d(R){return t.deleteVertexArray(R)}function f(R,k,H){const q=H.wireframe===!0;let Y=r[R.id];Y===void 0&&(Y={},r[R.id]=Y);let ae=Y[k.id];ae===void 0&&(ae={},Y[k.id]=ae);let he=ae[q];return he===void 0&&(he=m(u()),ae[q]=he),he}function m(R){const k=[],H=[],q=[];for(let Y=0;Y<n;Y++)k[Y]=0,H[Y]=0,q[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:H,attributeDivisors:q,object:R,attributes:{},index:null}}function p(R,k,H,q){const Y=s.attributes,ae=k.attributes;let he=0;const oe=H.getAttributes();for(const Q in oe)if(oe[Q].location>=0){const W=Y[Q];let ee=ae[Q];if(ee===void 0&&(Q==="instanceMatrix"&&R.instanceMatrix&&(ee=R.instanceMatrix),Q==="instanceColor"&&R.instanceColor&&(ee=R.instanceColor)),W===void 0||W.attribute!==ee||ee&&W.data!==ee.data)return!0;he++}return s.attributesNum!==he||s.index!==q}function _(R,k,H,q){const Y={},ae=k.attributes;let he=0;const oe=H.getAttributes();for(const Q in oe)if(oe[Q].location>=0){let W=ae[Q];W===void 0&&(Q==="instanceMatrix"&&R.instanceMatrix&&(W=R.instanceMatrix),Q==="instanceColor"&&R.instanceColor&&(W=R.instanceColor));const ee={};ee.attribute=W,W&&W.data&&(ee.data=W.data),Y[Q]=ee,he++}s.attributes=Y,s.attributesNum=he,s.index=q}function E(){const R=s.newAttributes;for(let k=0,H=R.length;k<H;k++)R[k]=0}function y(R){v(R,0)}function v(R,k){const H=s.newAttributes,q=s.enabledAttributes,Y=s.attributeDivisors;H[R]=1,q[R]===0&&(t.enableVertexAttribArray(R),q[R]=1),Y[R]!==k&&(t.vertexAttribDivisor(R,k),Y[R]=k)}function S(){const R=s.newAttributes,k=s.enabledAttributes;for(let H=0,q=k.length;H<q;H++)k[H]!==R[H]&&(t.disableVertexAttribArray(H),k[H]=0)}function T(R,k,H,q,Y,ae,he){he===!0?t.vertexAttribIPointer(R,k,H,Y,ae):t.vertexAttribPointer(R,k,H,q,Y,ae)}function L(R,k,H,q){E();const Y=q.attributes,ae=H.getAttributes(),he=k.defaultAttributeValues;for(const oe in ae){const Q=ae[oe];if(Q.location>=0){let xe=Y[oe];if(xe===void 0&&(oe==="instanceMatrix"&&R.instanceMatrix&&(xe=R.instanceMatrix),oe==="instanceColor"&&R.instanceColor&&(xe=R.instanceColor)),xe!==void 0){const W=xe.normalized,ee=xe.itemSize,z=e.get(xe);if(z===void 0)continue;const U=z.buffer,ce=z.type,_e=z.bytesPerElement,Z=ce===t.INT||ce===t.UNSIGNED_INT||xe.gpuType===EA;if(xe.isInterleavedBufferAttribute){const de=xe.data,Ae=de.stride,Pe=xe.offset;if(de.isInstancedInterleavedBuffer){for(let ke=0;ke<Q.locationSize;ke++)v(Q.location+ke,de.meshPerAttribute);R.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let ke=0;ke<Q.locationSize;ke++)y(Q.location+ke);t.bindBuffer(t.ARRAY_BUFFER,U);for(let ke=0;ke<Q.locationSize;ke++)T(Q.location+ke,ee/Q.locationSize,ce,W,Ae*_e,(Pe+ee/Q.locationSize*ke)*_e,Z)}else{if(xe.isInstancedBufferAttribute){for(let de=0;de<Q.locationSize;de++)v(Q.location+de,xe.meshPerAttribute);R.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let de=0;de<Q.locationSize;de++)y(Q.location+de);t.bindBuffer(t.ARRAY_BUFFER,U);for(let de=0;de<Q.locationSize;de++)T(Q.location+de,ee/Q.locationSize,ce,W,ee*_e,ee/Q.locationSize*de*_e,Z)}}else if(he!==void 0){const W=he[oe];if(W!==void 0)switch(W.length){case 2:t.vertexAttrib2fv(Q.location,W);break;case 3:t.vertexAttrib3fv(Q.location,W);break;case 4:t.vertexAttrib4fv(Q.location,W);break;default:t.vertexAttrib1fv(Q.location,W)}}}}S()}function I(){V();for(const R in r){const k=r[R];for(const H in k){const q=k[H];for(const Y in q)d(q[Y].object),delete q[Y];delete k[H]}delete r[R]}}function O(R){if(r[R.id]===void 0)return;const k=r[R.id];for(const H in k){const q=k[H];for(const Y in q)d(q[Y].object),delete q[Y];delete k[H]}delete r[R.id]}function B(R){for(const k in r){const H=r[k];if(H[R.id]===void 0)continue;const q=H[R.id];for(const Y in q)d(q[Y].object),delete q[Y];delete H[R.id]}}function V(){M(),a=!0,s!==i&&(s=i,l(s.object))}function M(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:V,resetDefaultState:M,dispose:I,releaseStatesOfGeometry:O,releaseStatesOfProgram:B,initAttributes:E,enableAttribute:y,disableUnusedAttributes:S}}function TJ(t,e,n){let r;function i(l){r=l}function s(l,d){t.drawArrays(r,l,d),n.update(d,r,1)}function a(l,d,f){f!==0&&(t.drawArraysInstanced(r,l,d,f),n.update(d,r,f))}function o(l,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,l,0,d,0,f);let p=0;for(let _=0;_<f;_++)p+=d[_];n.update(p,r,1)}function u(l,d,f,m){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let _=0;_<l.length;_++)a(l[_],d[_],m[_]);else{p.multiDrawArraysInstancedWEBGL(r,l,0,d,0,m,0,f);let _=0;for(let E=0;E<f;E++)_+=d[E]*m[E];n.update(_,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=u}function DJ(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(B){return!(B!==yu&&r.convert(B)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(B){const V=B===oc&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==Ho&&r.convert(B)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==Zu&&!V)}function u(B){if(B==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let l=n.precision!==void 0?n.precision:"highp";const d=u(l);d!==l&&(Zn("WebGLRenderer:",l,"not supported, using",d,"instead."),l=d);const f=n.logarithmicDepthBuffer===!0,m=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),S=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),T=t.getParameter(t.MAX_VARYING_VECTORS),L=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),I=t.getParameter(t.MAX_SAMPLES),O=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:u,textureFormatReadable:a,textureTypeReadable:o,precision:l,logarithmicDepthBuffer:f,reversedDepthBuffer:m,maxTextures:p,maxVertexTextures:_,maxTextureSize:E,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:S,maxVaryings:T,maxFragmentUniforms:L,maxSamples:I,samples:O}}function CJ(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new ch,o=new er,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(f,m){const p=f.length!==0||m||r!==0||i;return i=m,r=f.length,p},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,m){n=d(f,m,0)},this.setState=function(f,m,p){const _=f.clippingPlanes,E=f.clipIntersection,y=f.clipShadows,v=t.get(f);if(!i||_===null||_.length===0||s&&!y)s?d(null):l();else{const S=s?0:r,T=S*4;let L=v.clippingState||null;u.value=L,L=d(_,m,T,p);for(let I=0;I!==T;++I)L[I]=n[I];v.clippingState=L,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=S}};function l(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,m,p,_){const E=f!==null?f.length:0;let y=null;if(E!==0){if(y=u.value,_!==!0||y===null){const v=p+E*4,S=m.matrixWorldInverse;o.getNormalMatrix(S),(y===null||y.length<v)&&(y=new Float32Array(v));for(let T=0,L=p;T!==E;++T,L+=4)a.copy(f[T]).applyMatrix4(S,o),a.normal.toArray(y,L),y[L+3]=a.constant}u.value=y,u.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,y}}function NJ(t){let e=new WeakMap;function n(a,o){return o===Vb?a.mapping=Fh:o===Wb&&(a.mapping=kp),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===Vb||o===Wb)if(e.has(a)){const u=e.get(a).texture;return n(u,a.mapping)}else{const u=a.image;if(u&&u.height>0){const l=new KR(u.height);return l.fromEquirectangularTexture(t,a),e.set(a,l),a.addEventListener("dispose",i),n(l.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const u=e.get(o);u!==void 0&&(e.delete(o),u.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const dd=4,zD=[.125,.215,.35,.446,.526,.582],_h=20,LJ=256,R0=new JR,HD=new jr;let Jy=null,Qy=0,ex=0,tx=!1;const MJ=new it;class VD{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,s={}){const{size:a=256,position:o=MJ}=s;Jy=this._renderer.getRenderTarget(),Qy=this._renderer.getActiveCubeFace(),ex=this._renderer.getActiveMipmapLevel(),tx=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,r,i,u,o),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=qD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=GD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Jy,Qy,ex),this._renderer.xr.enabled=tx,e.scissorTest=!1,Wf(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Fh||e.mapping===kp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Jy=this._renderer.getRenderTarget(),Qy=this._renderer.getActiveCubeFace(),ex=this._renderer.getActiveMipmapLevel(),tx=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ua,minFilter:ua,generateMipmaps:!1,type:oc,format:yu,colorSpace:Op,depthBuffer:!1},i=WD(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=WD(e,n,r);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=PJ(s)),this._blurMaterial=IJ(s,e,n),this._ggxMaterial=RJ(s,e,n)}return i}_compileMaterial(e){const n=new al(new hc,e);this._renderer.compile(n,R0)}_sceneToCubeUV(e,n,r,i,s){const u=new Uo(90,1,n,r),l=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],f=this._renderer,m=f.autoClear,p=f.toneMapping;f.getClearColor(HD),f.toneMapping=nl,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new al(new sg,new HR({name:"PMREM.Background",side:Ga,depthWrite:!1,depthTest:!1})));const E=this._backgroundBox,y=E.material;let v=!1;const S=e.background;S?S.isColor&&(y.color.copy(S),e.background=null,v=!0):(y.color.copy(HD),v=!0);for(let T=0;T<6;T++){const L=T%3;L===0?(u.up.set(0,l[T],0),u.position.set(s.x,s.y,s.z),u.lookAt(s.x+d[T],s.y,s.z)):L===1?(u.up.set(0,0,l[T]),u.position.set(s.x,s.y,s.z),u.lookAt(s.x,s.y+d[T],s.z)):(u.up.set(0,l[T],0),u.position.set(s.x,s.y,s.z),u.lookAt(s.x,s.y,s.z+d[T]));const I=this._cubeSize;Wf(i,L*I,T>2?I:0,I,I),f.setRenderTarget(i),v&&f.render(E,u),f.render(e,u)}f.toneMapping=p,f.autoClear=m,e.background=S}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Fh||e.mapping===kp;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=qD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=GD());const s=i?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=s;const o=s.uniforms;o.envMap.value=e;const u=this._cubeSize;Wf(n,0,0,3*u,2*u),r.setRenderTarget(n),r.render(a,R0)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let s=1;s<i;s++)this._applyGGXFilter(e,s-1,s);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,s=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[r];o.material=a;const u=a.uniforms,l=r/(this._lodMeshes.length-1),d=n/(this._lodMeshes.length-1),f=Math.sqrt(l*l-d*d),m=0+l*1.25,p=f*m,{_lodMax:_}=this,E=this._sizeLods[r],y=3*E*(r>_-dd?r-_+dd:0),v=4*(this._cubeSize-E);u.envMap.value=e.texture,u.roughness.value=p,u.mipInt.value=_-n,Wf(s,y,v,3*E,2*E),i.setRenderTarget(s),i.render(o,R0),u.envMap.value=s.texture,u.roughness.value=0,u.mipInt.value=_-r,Wf(e,y,v,3*E,2*E),i.setRenderTarget(e),i.render(o,R0)}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const u=this._renderer,l=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&Sr("blur direction must be either latitudinal or longitudinal!");const d=3,f=this._lodMeshes[i];f.material=l;const m=l.uniforms,p=this._sizeLods[r]-1,_=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*_h-1),E=s/_,y=isFinite(s)?1+Math.floor(d*E):_h;y>_h&&Zn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${_h}`);const v=[];let S=0;for(let B=0;B<_h;++B){const V=B/E,M=Math.exp(-V*V/2);v.push(M),B===0?S+=M:B<y&&(S+=2*M)}for(let B=0;B<v.length;B++)v[B]=v[B]/S;m.envMap.value=e.texture,m.samples.value=y,m.weights.value=v,m.latitudinal.value=a==="latitudinal",o&&(m.poleAxis.value=o);const{_lodMax:T}=this;m.dTheta.value=_,m.mipInt.value=T-r;const L=this._sizeLods[i],I=3*L*(i>T-dd?i-T+dd:0),O=4*(this._cubeSize-L);Wf(n,I,O,3*L,2*L),u.setRenderTarget(n),u.render(f,R0)}}function PJ(t){const e=[],n=[],r=[];let i=t;const s=t-dd+1+zD.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);e.push(o);let u=1/o;a>t-dd?u=zD[a-t+dd-1]:a===0&&(u=0),n.push(u);const l=1/(o-2),d=-l,f=1+l,m=[d,d,f,d,f,f,d,d,f,f,d,f],p=6,_=6,E=3,y=2,v=1,S=new Float32Array(E*_*p),T=new Float32Array(y*_*p),L=new Float32Array(v*_*p);for(let O=0;O<p;O++){const B=O%3*2/3-1,V=O>2?0:-1,M=[B,V,0,B+2/3,V,0,B+2/3,V+1,0,B,V,0,B+2/3,V+1,0,B,V+1,0];S.set(M,E*_*O),T.set(m,y*_*O);const R=[O,O,O,O,O,O];L.set(R,v*_*O)}const I=new hc;I.setAttribute("position",new il(S,E)),I.setAttribute("uv",new il(T,y)),I.setAttribute("faceIndex",new il(L,v)),r.push(new al(I,null)),i>dd&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function WD(t,e,n){const r=new rl(t,e,n);return r.texture.mapping=O_,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Wf(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function RJ(t,e,n){return new ol({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:LJ,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:U_(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function IJ(t,e,n){const r=new Float32Array(_h),i=new it(0,1,0);return new ol({name:"SphericalGaussianBlur",defines:{n:_h,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:U_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function GD(){return new ol({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:U_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function qD(){return new ol({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:U_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ql,depthTest:!1,depthWrite:!1})}function U_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kJ(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const u=o.mapping,l=u===Vb||u===Wb,d=u===Fh||u===kp;if(l||d){let f=e.get(o);const m=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==m)return n===null&&(n=new VD(t)),f=l?n.fromEquirectangular(o,f):n.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const p=o.image;return l&&p&&p.height>0||d&&p&&i(p)?(n===null&&(n=new VD(t)),f=l?n.fromEquirectangular(o):n.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",s),f.texture):null}}}return o}function i(o){let u=0;const l=6;for(let d=0;d<l;d++)o[d]!==void 0&&u++;return u===l}function s(o){const u=o.target;u.removeEventListener("dispose",s);const l=e.get(u);l!==void 0&&(e.delete(u),l.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function FJ(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Pm("WebGLRenderer: "+r+" extension not supported."),i}}}function OJ(t,e,n,r){const i={},s=new WeakMap;function a(f){const m=f.target;m.index!==null&&e.remove(m.index);for(const _ in m.attributes)e.remove(m.attributes[_]);m.removeEventListener("dispose",a),delete i[m.id];const p=s.get(m);p&&(e.remove(p),s.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,n.memory.geometries--}function o(f,m){return i[m.id]===!0||(m.addEventListener("dispose",a),i[m.id]=!0,n.memory.geometries++),m}function u(f){const m=f.attributes;for(const p in m)e.update(m[p],t.ARRAY_BUFFER)}function l(f){const m=[],p=f.index,_=f.attributes.position;let E=0;if(p!==null){const S=p.array;E=p.version;for(let T=0,L=S.length;T<L;T+=3){const I=S[T+0],O=S[T+1],B=S[T+2];m.push(I,O,O,B,B,I)}}else if(_!==void 0){const S=_.array;E=_.version;for(let T=0,L=S.length/3-1;T<L;T+=3){const I=T+0,O=T+1,B=T+2;m.push(I,O,O,B,B,I)}}else return;const y=new(BR(m)?WR:VR)(m,1);y.version=E;const v=s.get(f);v&&e.remove(v),s.set(f,y)}function d(f){const m=s.get(f);if(m){const p=f.index;p!==null&&m.version<p.version&&l(f)}else l(f);return s.get(f)}return{get:o,update:u,getWireframeAttribute:d}}function BJ(t,e,n){let r;function i(m){r=m}let s,a;function o(m){s=m.type,a=m.bytesPerElement}function u(m,p){t.drawElements(r,p,s,m*a),n.update(p,r,1)}function l(m,p,_){_!==0&&(t.drawElementsInstanced(r,p,s,m*a,_),n.update(p,r,_))}function d(m,p,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,s,m,0,_);let y=0;for(let v=0;v<_;v++)y+=p[v];n.update(y,r,1)}function f(m,p,_,E){if(_===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let v=0;v<m.length;v++)l(m[v]/a,p[v],E[v]);else{y.multiDrawElementsInstancedWEBGL(r,p,0,s,m,0,E,0,_);let v=0;for(let S=0;S<_;S++)v+=p[S]*E[S];n.update(v,r,1)}}this.setMode=i,this.setIndex=o,this.render=u,this.renderInstances=l,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function UJ(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:Sr("WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function jJ(t,e,n){const r=new WeakMap,i=new Ki;function s(a,o,u){const l=a.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=d!==void 0?d.length:0;let m=r.get(o);if(m===void 0||m.count!==f){let M=function(){B.dispose(),r.delete(o),o.removeEventListener("dispose",M)};m!==void 0&&m.texture.dispose();const p=o.morphAttributes.position!==void 0,_=o.morphAttributes.normal!==void 0,E=o.morphAttributes.color!==void 0,y=o.morphAttributes.position||[],v=o.morphAttributes.normal||[],S=o.morphAttributes.color||[];let T=0;p===!0&&(T=1),_===!0&&(T=2),E===!0&&(T=3);let L=o.attributes.position.count*T,I=1;L>e.maxTextureSize&&(I=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const O=new Float32Array(L*I*4*f),B=new UR(O,L,I,f);B.type=Zu,B.needsUpdate=!0;const V=T*4;for(let R=0;R<f;R++){const k=y[R],H=v[R],q=S[R],Y=L*I*4*R;for(let ae=0;ae<k.count;ae++){const he=ae*V;p===!0&&(i.fromBufferAttribute(k,ae),O[Y+he+0]=i.x,O[Y+he+1]=i.y,O[Y+he+2]=i.z,O[Y+he+3]=0),_===!0&&(i.fromBufferAttribute(H,ae),O[Y+he+4]=i.x,O[Y+he+5]=i.y,O[Y+he+6]=i.z,O[Y+he+7]=0),E===!0&&(i.fromBufferAttribute(q,ae),O[Y+he+8]=i.x,O[Y+he+9]=i.y,O[Y+he+10]=i.z,O[Y+he+11]=q.itemSize===4?i.w:1)}}m={count:f,texture:B,size:new zr(L,I)},r.set(o,m),o.addEventListener("dispose",M)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)u.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let p=0;for(let E=0;E<l.length;E++)p+=l[E];const _=o.morphTargetsRelative?1:1-p;u.getUniforms().setValue(t,"morphTargetBaseInfluence",_),u.getUniforms().setValue(t,"morphTargetInfluences",l)}u.getUniforms().setValue(t,"morphTargetsTexture",m.texture,n),u.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}return{update:s}}function zJ(t,e,n,r){let i=new WeakMap;function s(u){const l=r.render.frame,d=u.geometry,f=e.get(u,d);if(i.get(f)!==l&&(e.update(f),i.set(f,l)),u.isInstancedMesh&&(u.hasEventListener("dispose",o)===!1&&u.addEventListener("dispose",o),i.get(u)!==l&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),i.set(u,l))),u.isSkinnedMesh){const m=u.skeleton;i.get(m)!==l&&(m.update(),i.set(m,l))}return f}function a(){i=new WeakMap}function o(u){const l=u.target;l.removeEventListener("dispose",o),n.remove(l.instanceMatrix),l.instanceColor!==null&&n.remove(l.instanceColor)}return{update:s,dispose:a}}const HJ={[wR]:"LINEAR_TONE_MAPPING",[AR]:"REINHARD_TONE_MAPPING",[SR]:"CINEON_TONE_MAPPING",[TR]:"ACES_FILMIC_TONE_MAPPING",[CR]:"AGX_TONE_MAPPING",[NR]:"NEUTRAL_TONE_MAPPING",[DR]:"CUSTOM_TONE_MAPPING"};function VJ(t,e,n,r,i){const s=new rl(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),a=new rl(e,n,{type:oc,depthBuffer:!1,stencilBuffer:!1}),o=new hc;o.setAttribute("position",new tc([-1,3,0,-1,-1,0,3,-1,0],3)),o.setAttribute("uv",new tc([0,2,0,0,2,0],2));const u=new ZR({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),l=new al(o,u),d=new JR(-1,1,1,-1,0,1);let f=null,m=null,p=!1,_,E=null,y=[],v=!1;this.setSize=function(S,T){s.setSize(S,T),a.setSize(S,T);for(let L=0;L<y.length;L++){const I=y[L];I.setSize&&I.setSize(S,T)}},this.setEffects=function(S){y=S,v=y.length>0&&y[0].isRenderPass===!0;const T=s.width,L=s.height;for(let I=0;I<y.length;I++){const O=y[I];O.setSize&&O.setSize(T,L)}},this.begin=function(S,T){if(p||S.toneMapping===nl&&y.length===0)return!1;if(E=T,T!==null){const L=T.width,I=T.height;(s.width!==L||s.height!==I)&&this.setSize(L,I)}return v===!1&&S.setRenderTarget(s),_=S.toneMapping,S.toneMapping=nl,!0},this.hasRenderPass=function(){return v},this.end=function(S,T){S.toneMapping=_,p=!0;let L=s,I=a;for(let O=0;O<y.length;O++){const B=y[O];if(B.enabled!==!1&&(B.render(S,I,L,T),B.needsSwap!==!1)){const V=L;L=I,I=V}}if(f!==S.outputColorSpace||m!==S.toneMapping){f=S.outputColorSpace,m=S.toneMapping,u.defines={},wr.getTransfer(f)===kr&&(u.defines.SRGB_TRANSFER="");const O=HJ[m];O&&(u.defines[O]=""),u.needsUpdate=!0}u.uniforms.tDiffuse.value=L.texture,S.setRenderTarget(E),S.render(l,d),E=null,p=!1},this.isCompositing=function(){return p},this.dispose=function(){s.dispose(),a.dispose(),o.dispose(),u.dispose()}}const eI=new Ea,TE=new Rm(1,1),tI=new UR,nI=new fY,rI=new $R,$D=[],KD=[],YD=new Float32Array(16),XD=new Float32Array(9),ZD=new Float32Array(4);function qp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=$D[i];if(s===void 0&&(s=new Float32Array(i),$D[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function fs(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ps(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function j_(t,e){let n=KD[e];n===void 0&&(n=new Int32Array(e),KD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function WJ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function GJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fs(n,e))return;t.uniform2fv(this.addr,e),ps(n,e)}}function qJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(fs(n,e))return;t.uniform3fv(this.addr,e),ps(n,e)}}function $J(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fs(n,e))return;t.uniform4fv(this.addr,e),ps(n,e)}}function KJ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(fs(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ps(n,e)}else{if(fs(n,r))return;ZD.set(r),t.uniformMatrix2fv(this.addr,!1,ZD),ps(n,r)}}function YJ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(fs(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ps(n,e)}else{if(fs(n,r))return;XD.set(r),t.uniformMatrix3fv(this.addr,!1,XD),ps(n,r)}}function XJ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(fs(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ps(n,e)}else{if(fs(n,r))return;YD.set(r),t.uniformMatrix4fv(this.addr,!1,YD),ps(n,r)}}function ZJ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function JJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fs(n,e))return;t.uniform2iv(this.addr,e),ps(n,e)}}function QJ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(fs(n,e))return;t.uniform3iv(this.addr,e),ps(n,e)}}function eQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fs(n,e))return;t.uniform4iv(this.addr,e),ps(n,e)}}function tQ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function nQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fs(n,e))return;t.uniform2uiv(this.addr,e),ps(n,e)}}function rQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(fs(n,e))return;t.uniform3uiv(this.addr,e),ps(n,e)}}function iQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fs(n,e))return;t.uniform4uiv(this.addr,e),ps(n,e)}}function sQ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(TE.compareFunction=n.isReversedDepthBuffer()?NA:CA,s=TE):s=eI,n.setTexture2D(e||s,i)}function aQ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||nI,i)}function oQ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||rI,i)}function uQ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||tI,i)}function lQ(t){switch(t){case 5126:return WJ;case 35664:return GJ;case 35665:return qJ;case 35666:return $J;case 35674:return KJ;case 35675:return YJ;case 35676:return XJ;case 5124:case 35670:return ZJ;case 35667:case 35671:return JJ;case 35668:case 35672:return QJ;case 35669:case 35673:return eQ;case 5125:return tQ;case 36294:return nQ;case 36295:return rQ;case 36296:return iQ;case 35678:case 36198:case 36298:case 36306:case 35682:return sQ;case 35679:case 36299:case 36307:return aQ;case 35680:case 36300:case 36308:case 36293:return oQ;case 36289:case 36303:case 36311:case 36292:return uQ}}function cQ(t,e){t.uniform1fv(this.addr,e)}function dQ(t,e){const n=qp(e,this.size,2);t.uniform2fv(this.addr,n)}function hQ(t,e){const n=qp(e,this.size,3);t.uniform3fv(this.addr,n)}function fQ(t,e){const n=qp(e,this.size,4);t.uniform4fv(this.addr,n)}function pQ(t,e){const n=qp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function mQ(t,e){const n=qp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function gQ(t,e){const n=qp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function vQ(t,e){t.uniform1iv(this.addr,e)}function _Q(t,e){t.uniform2iv(this.addr,e)}function yQ(t,e){t.uniform3iv(this.addr,e)}function xQ(t,e){t.uniform4iv(this.addr,e)}function bQ(t,e){t.uniform1uiv(this.addr,e)}function EQ(t,e){t.uniform2uiv(this.addr,e)}function wQ(t,e){t.uniform3uiv(this.addr,e)}function AQ(t,e){t.uniform4uiv(this.addr,e)}function SQ(t,e,n){const r=this.cache,i=e.length,s=j_(n,i);fs(r,s)||(t.uniform1iv(this.addr,s),ps(r,s));let a;this.type===t.SAMPLER_2D_SHADOW?a=TE:a=eI;for(let o=0;o!==i;++o)n.setTexture2D(e[o]||a,s[o])}function TQ(t,e,n){const r=this.cache,i=e.length,s=j_(n,i);fs(r,s)||(t.uniform1iv(this.addr,s),ps(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||nI,s[a])}function DQ(t,e,n){const r=this.cache,i=e.length,s=j_(n,i);fs(r,s)||(t.uniform1iv(this.addr,s),ps(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||rI,s[a])}function CQ(t,e,n){const r=this.cache,i=e.length,s=j_(n,i);fs(r,s)||(t.uniform1iv(this.addr,s),ps(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||tI,s[a])}function NQ(t){switch(t){case 5126:return cQ;case 35664:return dQ;case 35665:return hQ;case 35666:return fQ;case 35674:return pQ;case 35675:return mQ;case 35676:return gQ;case 5124:case 35670:return vQ;case 35667:case 35671:return _Q;case 35668:case 35672:return yQ;case 35669:case 35673:return xQ;case 5125:return bQ;case 36294:return EQ;case 36295:return wQ;case 36296:return AQ;case 35678:case 36198:case 36298:case 36306:case 35682:return SQ;case 35679:case 36299:case 36307:return TQ;case 35680:case 36300:case 36308:case 36293:return DQ;case 36289:case 36303:case 36311:case 36292:return CQ}}class LQ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=lQ(n.type)}}class MQ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=NQ(n.type)}}class PQ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const nx=/(\w+)(\])?(\[|\.)?/g;function JD(t,e){t.seq.push(e),t.map[e.id]=e}function RQ(t,e,n){const r=t.name,i=r.length;for(nx.lastIndex=0;;){const s=nx.exec(r),a=nx.lastIndex;let o=s[1];const u=s[2]==="]",l=s[3];if(u&&(o=o|0),l===void 0||l==="["&&a+2===i){JD(n,l===void 0?new LQ(o,t,e):new MQ(o,t,e));break}else{let f=n.map[o];f===void 0&&(f=new PQ(o),JD(n,f)),n=f}}}class hv{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const o=e.getActiveUniform(n,a),u=e.getUniformLocation(n,o.name);RQ(o,u,this)}const i=[],s=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(a):s.push(a);i.length>0&&(this.seq=i.concat(s))}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],u=r[o.id];u.needsUpdate!==!1&&o.setValue(e,u.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function QD(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const IQ=37297;let kQ=0;function FQ(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}const eC=new er;function OQ(t){wr._getMatrix(eC,wr.workingColorSpace,t);const e=`mat3( ${eC.elements.map(n=>n.toFixed(4))} )`;switch(wr.getTransfer(t)){case $v:return[e,"LinearTransferOETF"];case kr:return[e,"sRGBTransferOETF"];default:return Zn("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function tC(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+s+`

`+FQ(t.getShaderSource(e),o)}else return s}function BQ(t,e){const n=OQ(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const UQ={[wR]:"Linear",[AR]:"Reinhard",[SR]:"Cineon",[TR]:"ACESFilmic",[CR]:"AgX",[NR]:"Neutral",[DR]:"Custom"};function jQ(t,e){const n=UQ[e];return n===void 0?(Zn("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const P1=new it;function zQ(){wr.getLuminanceCoefficients(P1);const t=P1.x.toFixed(4),e=P1.y.toFixed(4),n=P1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function HQ(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Y0).join(`
`)}function VQ(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function WQ(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function Y0(t){return t!==""}function nC(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function rC(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const GQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function DE(t){return t.replace(GQ,$Q)}const qQ=new Map;function $Q(t,e){let n=nr[e];if(n===void 0){const r=qQ.get(e);if(r!==void 0)n=nr[r],Zn('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return DE(n)}const KQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function iC(t){return t.replace(KQ,YQ)}function YQ(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function sC(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const XQ={[ov]:"SHADOWMAP_TYPE_PCF",[K0]:"SHADOWMAP_TYPE_VSM"};function ZQ(t){return XQ[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const JQ={[Fh]:"ENVMAP_TYPE_CUBE",[kp]:"ENVMAP_TYPE_CUBE",[O_]:"ENVMAP_TYPE_CUBE_UV"};function QQ(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":JQ[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const eee={[kp]:"ENVMAP_MODE_REFRACTION"};function tee(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":eee[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const nee={[ER]:"ENVMAP_BLENDING_MULTIPLY",[$K]:"ENVMAP_BLENDING_MIX",[KK]:"ENVMAP_BLENDING_ADD"};function ree(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":nee[t.combine]||"ENVMAP_BLENDING_NONE"}function iee(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function see(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const u=ZQ(n),l=QQ(n),d=tee(n),f=ree(n),m=iee(n),p=HQ(n),_=VQ(s),E=i.createProgram();let y,v,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Y0).join(`
`),y.length>0&&(y+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(Y0).join(`
`),v.length>0&&(v+=`
`)):(y=[sC(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Y0).join(`
`),v=[sC(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==nl?"#define TONE_MAPPING":"",n.toneMapping!==nl?nr.tonemapping_pars_fragment:"",n.toneMapping!==nl?jQ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",nr.colorspace_pars_fragment,BQ("linearToOutputTexel",n.outputColorSpace),zQ(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Y0).join(`
`)),a=DE(a),a=nC(a,n),a=rC(a,n),o=DE(o),o=nC(o,n),o=rC(o,n),a=iC(a),o=iC(o),n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,y=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",n.glslVersion===bD?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===bD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const T=S+y+a,L=S+v+o,I=QD(i,i.VERTEX_SHADER,T),O=QD(i,i.FRAGMENT_SHADER,L);i.attachShader(E,I),i.attachShader(E,O),n.index0AttributeName!==void 0?i.bindAttribLocation(E,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(E,0,"position"),i.linkProgram(E);function B(k){if(t.debug.checkShaderErrors){const H=i.getProgramInfoLog(E)||"",q=i.getShaderInfoLog(I)||"",Y=i.getShaderInfoLog(O)||"",ae=H.trim(),he=q.trim(),oe=Y.trim();let Q=!0,xe=!0;if(i.getProgramParameter(E,i.LINK_STATUS)===!1)if(Q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,E,I,O);else{const W=tC(i,I,"vertex"),ee=tC(i,O,"fragment");Sr("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(E,i.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+ae+`
`+W+`
`+ee)}else ae!==""?Zn("WebGLProgram: Program Info Log:",ae):(he===""||oe==="")&&(xe=!1);xe&&(k.diagnostics={runnable:Q,programLog:ae,vertexShader:{log:he,prefix:y},fragmentShader:{log:oe,prefix:v}})}i.deleteShader(I),i.deleteShader(O),V=new hv(i,E),M=WQ(i,E)}let V;this.getUniforms=function(){return V===void 0&&B(this),V};let M;this.getAttributes=function(){return M===void 0&&B(this),M};let R=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=i.getProgramParameter(E,IQ)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(E),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=kQ++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=I,this.fragmentShader=O,this}let aee=0;class oee{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new uee(e),n.set(e,r)),r}}class uee{constructor(e){this.id=aee++,this.code=e,this.usedTimes=0}}function lee(t,e,n,r,i,s,a){const o=new jR,u=new oee,l=new Set,d=[],f=new Map,m=i.logarithmicDepthBuffer;let p=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(M){return l.add(M),M===0?"uv":`uv${M}`}function y(M,R,k,H,q){const Y=H.fog,ae=q.geometry,he=M.isMeshStandardMaterial?H.environment:null,oe=(M.isMeshStandardMaterial?n:e).get(M.envMap||he),Q=oe&&oe.mapping===O_?oe.image.height:null,xe=_[M.type];M.precision!==null&&(p=i.getMaxPrecision(M.precision),p!==M.precision&&Zn("WebGLProgram.getParameters:",M.precision,"not supported, using",p,"instead."));const W=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,ee=W!==void 0?W.length:0;let z=0;ae.morphAttributes.position!==void 0&&(z=1),ae.morphAttributes.normal!==void 0&&(z=2),ae.morphAttributes.color!==void 0&&(z=3);let U,ce,_e,Z;if(xe){const Fn=Yu[xe];U=Fn.vertexShader,ce=Fn.fragmentShader}else U=M.vertexShader,ce=M.fragmentShader,u.update(M),_e=u.getVertexShaderID(M),Z=u.getFragmentShaderID(M);const de=t.getRenderTarget(),Ae=t.state.buffers.depth.getReversed(),Pe=q.isInstancedMesh===!0,ke=q.isBatchedMesh===!0,ot=!!M.map,Dt=!!M.matcap,yt=!!oe,jt=!!M.aoMap,le=!!M.lightMap,pt=!!M.bumpMap,rn=!!M.normalMap,Ee=!!M.displacementMap,ct=!!M.emissiveMap,zt=!!M.metalnessMap,Mt=!!M.roughnessMap,xt=M.anisotropy>0,se=M.clearcoat>0,G=M.dispersion>0,De=M.iridescence>0,ge=M.sheen>0,Ce=M.transmission>0,Le=xt&&!!M.anisotropyMap,Ve=se&&!!M.clearcoatMap,Ze=se&&!!M.clearcoatNormalMap,st=se&&!!M.clearcoatRoughnessMap,Yt=De&&!!M.iridescenceMap,et=De&&!!M.iridescenceThicknessMap,ft=ge&&!!M.sheenColorMap,Tt=ge&&!!M.sheenRoughnessMap,Nt=!!M.specularMap,nt=!!M.specularColorMap,qt=!!M.specularIntensityMap,we=Ce&&!!M.transmissionMap,gt=Ce&&!!M.thicknessMap,vt=!!M.gradientMap,bt=!!M.alphaMap,Qe=M.alphaTest>0,rt=!!M.alphaHash,Ht=!!M.extensions;let un=nl;M.toneMapped&&(de===null||de.isXRRenderTarget===!0)&&(un=t.toneMapping);const qn={shaderID:xe,shaderType:M.type,shaderName:M.name,vertexShader:U,fragmentShader:ce,defines:M.defines,customVertexShaderID:_e,customFragmentShaderID:Z,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:p,batching:ke,batchingColor:ke&&q._colorsTexture!==null,instancing:Pe,instancingColor:Pe&&q.instanceColor!==null,instancingMorph:Pe&&q.morphTexture!==null,outputColorSpace:de===null?t.outputColorSpace:de.isXRRenderTarget===!0?de.texture.colorSpace:Op,alphaToCoverage:!!M.alphaToCoverage,map:ot,matcap:Dt,envMap:yt,envMapMode:yt&&oe.mapping,envMapCubeUVHeight:Q,aoMap:jt,lightMap:le,bumpMap:pt,normalMap:rn,displacementMap:Ee,emissiveMap:ct,normalMapObjectSpace:rn&&M.normalMapType===JK,normalMapTangentSpace:rn&&M.normalMapType===ZK,metalnessMap:zt,roughnessMap:Mt,anisotropy:xt,anisotropyMap:Le,clearcoat:se,clearcoatMap:Ve,clearcoatNormalMap:Ze,clearcoatRoughnessMap:st,dispersion:G,iridescence:De,iridescenceMap:Yt,iridescenceThicknessMap:et,sheen:ge,sheenColorMap:ft,sheenRoughnessMap:Tt,specularMap:Nt,specularColorMap:nt,specularIntensityMap:qt,transmission:Ce,transmissionMap:we,thicknessMap:gt,gradientMap:vt,opaque:M.transparent===!1&&M.blending===pp&&M.alphaToCoverage===!1,alphaMap:bt,alphaTest:Qe,alphaHash:rt,combine:M.combine,mapUv:ot&&E(M.map.channel),aoMapUv:jt&&E(M.aoMap.channel),lightMapUv:le&&E(M.lightMap.channel),bumpMapUv:pt&&E(M.bumpMap.channel),normalMapUv:rn&&E(M.normalMap.channel),displacementMapUv:Ee&&E(M.displacementMap.channel),emissiveMapUv:ct&&E(M.emissiveMap.channel),metalnessMapUv:zt&&E(M.metalnessMap.channel),roughnessMapUv:Mt&&E(M.roughnessMap.channel),anisotropyMapUv:Le&&E(M.anisotropyMap.channel),clearcoatMapUv:Ve&&E(M.clearcoatMap.channel),clearcoatNormalMapUv:Ze&&E(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&E(M.clearcoatRoughnessMap.channel),iridescenceMapUv:Yt&&E(M.iridescenceMap.channel),iridescenceThicknessMapUv:et&&E(M.iridescenceThicknessMap.channel),sheenColorMapUv:ft&&E(M.sheenColorMap.channel),sheenRoughnessMapUv:Tt&&E(M.sheenRoughnessMap.channel),specularMapUv:Nt&&E(M.specularMap.channel),specularColorMapUv:nt&&E(M.specularColorMap.channel),specularIntensityMapUv:qt&&E(M.specularIntensityMap.channel),transmissionMapUv:we&&E(M.transmissionMap.channel),thicknessMapUv:gt&&E(M.thicknessMap.channel),alphaMapUv:bt&&E(M.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(rn||xt),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:q.isPoints===!0&&!!ae.attributes.uv&&(ot||bt),fog:!!Y,useFog:M.fog===!0,fogExp2:!!Y&&Y.isFogExp2,flatShading:M.flatShading===!0&&M.wireframe===!1,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:m,reversedDepthBuffer:Ae,skinning:q.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:z,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:un,decodeVideoTexture:ot&&M.map.isVideoTexture===!0&&wr.getTransfer(M.map.colorSpace)===kr,decodeVideoTextureEmissive:ct&&M.emissiveMap.isVideoTexture===!0&&wr.getTransfer(M.emissiveMap.colorSpace)===kr,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===ql,flipSided:M.side===Ga,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionClipCullDistance:Ht&&M.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ht&&M.extensions.multiDraw===!0||ke)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:M.customProgramCacheKey()};return qn.vertexUv1s=l.has(1),qn.vertexUv2s=l.has(2),qn.vertexUv3s=l.has(3),l.clear(),qn}function v(M){const R=[];if(M.shaderID?R.push(M.shaderID):(R.push(M.customVertexShaderID),R.push(M.customFragmentShaderID)),M.defines!==void 0)for(const k in M.defines)R.push(k),R.push(M.defines[k]);return M.isRawShaderMaterial===!1&&(S(R,M),T(R,M),R.push(t.outputColorSpace)),R.push(M.customProgramCacheKey),R.join()}function S(M,R){M.push(R.precision),M.push(R.outputColorSpace),M.push(R.envMapMode),M.push(R.envMapCubeUVHeight),M.push(R.mapUv),M.push(R.alphaMapUv),M.push(R.lightMapUv),M.push(R.aoMapUv),M.push(R.bumpMapUv),M.push(R.normalMapUv),M.push(R.displacementMapUv),M.push(R.emissiveMapUv),M.push(R.metalnessMapUv),M.push(R.roughnessMapUv),M.push(R.anisotropyMapUv),M.push(R.clearcoatMapUv),M.push(R.clearcoatNormalMapUv),M.push(R.clearcoatRoughnessMapUv),M.push(R.iridescenceMapUv),M.push(R.iridescenceThicknessMapUv),M.push(R.sheenColorMapUv),M.push(R.sheenRoughnessMapUv),M.push(R.specularMapUv),M.push(R.specularColorMapUv),M.push(R.specularIntensityMapUv),M.push(R.transmissionMapUv),M.push(R.thicknessMapUv),M.push(R.combine),M.push(R.fogExp2),M.push(R.sizeAttenuation),M.push(R.morphTargetsCount),M.push(R.morphAttributeCount),M.push(R.numDirLights),M.push(R.numPointLights),M.push(R.numSpotLights),M.push(R.numSpotLightMaps),M.push(R.numHemiLights),M.push(R.numRectAreaLights),M.push(R.numDirLightShadows),M.push(R.numPointLightShadows),M.push(R.numSpotLightShadows),M.push(R.numSpotLightShadowsWithMaps),M.push(R.numLightProbes),M.push(R.shadowMapType),M.push(R.toneMapping),M.push(R.numClippingPlanes),M.push(R.numClipIntersection),M.push(R.depthPacking)}function T(M,R){o.disableAll(),R.instancing&&o.enable(0),R.instancingColor&&o.enable(1),R.instancingMorph&&o.enable(2),R.matcap&&o.enable(3),R.envMap&&o.enable(4),R.normalMapObjectSpace&&o.enable(5),R.normalMapTangentSpace&&o.enable(6),R.clearcoat&&o.enable(7),R.iridescence&&o.enable(8),R.alphaTest&&o.enable(9),R.vertexColors&&o.enable(10),R.vertexAlphas&&o.enable(11),R.vertexUv1s&&o.enable(12),R.vertexUv2s&&o.enable(13),R.vertexUv3s&&o.enable(14),R.vertexTangents&&o.enable(15),R.anisotropy&&o.enable(16),R.alphaHash&&o.enable(17),R.batching&&o.enable(18),R.dispersion&&o.enable(19),R.batchingColor&&o.enable(20),R.gradientMap&&o.enable(21),M.push(o.mask),o.disableAll(),R.fog&&o.enable(0),R.useFog&&o.enable(1),R.flatShading&&o.enable(2),R.logarithmicDepthBuffer&&o.enable(3),R.reversedDepthBuffer&&o.enable(4),R.skinning&&o.enable(5),R.morphTargets&&o.enable(6),R.morphNormals&&o.enable(7),R.morphColors&&o.enable(8),R.premultipliedAlpha&&o.enable(9),R.shadowMapEnabled&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.useDepthPacking&&o.enable(13),R.dithering&&o.enable(14),R.transmission&&o.enable(15),R.sheen&&o.enable(16),R.opaque&&o.enable(17),R.pointsUvs&&o.enable(18),R.decodeVideoTexture&&o.enable(19),R.decodeVideoTextureEmissive&&o.enable(20),R.alphaToCoverage&&o.enable(21),M.push(o.mask)}function L(M){const R=_[M.type];let k;if(R){const H=Yu[R];k=DY.clone(H.uniforms)}else k=M.uniforms;return k}function I(M,R){let k=f.get(R);return k!==void 0?++k.usedTimes:(k=new see(t,R,M,s),d.push(k),f.set(R,k)),k}function O(M){if(--M.usedTimes===0){const R=d.indexOf(M);d[R]=d[d.length-1],d.pop(),f.delete(M.cacheKey),M.destroy()}}function B(M){u.remove(M)}function V(){u.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:L,acquireProgram:I,releaseProgram:O,releaseShaderCache:B,programs:d,dispose:V}}function cee(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function r(a){t.delete(a)}function i(a,o,u){t.get(a)[o]=u}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function dee(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function aC(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function oC(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(f,m,p,_,E,y){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:m,material:p,groupOrder:_,renderOrder:f.renderOrder,z:E,group:y},t[e]=v):(v.id=f.id,v.object=f,v.geometry=m,v.material=p,v.groupOrder=_,v.renderOrder=f.renderOrder,v.z=E,v.group=y),e++,v}function o(f,m,p,_,E,y){const v=a(f,m,p,_,E,y);p.transmission>0?r.push(v):p.transparent===!0?i.push(v):n.push(v)}function u(f,m,p,_,E,y){const v=a(f,m,p,_,E,y);p.transmission>0?r.unshift(v):p.transparent===!0?i.unshift(v):n.unshift(v)}function l(f,m){n.length>1&&n.sort(f||dee),r.length>1&&r.sort(m||aC),i.length>1&&i.sort(m||aC)}function d(){for(let f=e,m=t.length;f<m;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:u,finish:d,sort:l}}function hee(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new oC,t.set(r,[a])):i>=s.length?(a=new oC,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function fee(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new it,color:new jr};break;case"SpotLight":n={position:new it,direction:new it,color:new jr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new it,color:new jr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new it,skyColor:new jr,groundColor:new jr};break;case"RectAreaLight":n={color:new jr,position:new it,halfWidth:new it,halfHeight:new it};break}return t[e.id]=n,n}}}function pee(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new zr};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new zr};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new zr,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let mee=0;function gee(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function vee(t){const e=new fee,n=pee(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let l=0;l<9;l++)r.probe.push(new it);const i=new it,s=new is,a=new is;function o(l){let d=0,f=0,m=0;for(let M=0;M<9;M++)r.probe[M].set(0,0,0);let p=0,_=0,E=0,y=0,v=0,S=0,T=0,L=0,I=0,O=0,B=0;l.sort(gee);for(let M=0,R=l.length;M<R;M++){const k=l[M],H=k.color,q=k.intensity,Y=k.distance;let ae=null;if(k.shadow&&k.shadow.map&&(k.shadow.map.texture.format===Fp?ae=k.shadow.map.texture:ae=k.shadow.map.depthTexture||k.shadow.map.texture),k.isAmbientLight)d+=H.r*q,f+=H.g*q,m+=H.b*q;else if(k.isLightProbe){for(let he=0;he<9;he++)r.probe[he].addScaledVector(k.sh.coefficients[he],q);B++}else if(k.isDirectionalLight){const he=e.get(k);if(he.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const oe=k.shadow,Q=n.get(k);Q.shadowIntensity=oe.intensity,Q.shadowBias=oe.bias,Q.shadowNormalBias=oe.normalBias,Q.shadowRadius=oe.radius,Q.shadowMapSize=oe.mapSize,r.directionalShadow[p]=Q,r.directionalShadowMap[p]=ae,r.directionalShadowMatrix[p]=k.shadow.matrix,S++}r.directional[p]=he,p++}else if(k.isSpotLight){const he=e.get(k);he.position.setFromMatrixPosition(k.matrixWorld),he.color.copy(H).multiplyScalar(q),he.distance=Y,he.coneCos=Math.cos(k.angle),he.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),he.decay=k.decay,r.spot[E]=he;const oe=k.shadow;if(k.map&&(r.spotLightMap[I]=k.map,I++,oe.updateMatrices(k),k.castShadow&&O++),r.spotLightMatrix[E]=oe.matrix,k.castShadow){const Q=n.get(k);Q.shadowIntensity=oe.intensity,Q.shadowBias=oe.bias,Q.shadowNormalBias=oe.normalBias,Q.shadowRadius=oe.radius,Q.shadowMapSize=oe.mapSize,r.spotShadow[E]=Q,r.spotShadowMap[E]=ae,L++}E++}else if(k.isRectAreaLight){const he=e.get(k);he.color.copy(H).multiplyScalar(q),he.halfWidth.set(k.width*.5,0,0),he.halfHeight.set(0,k.height*.5,0),r.rectArea[y]=he,y++}else if(k.isPointLight){const he=e.get(k);if(he.color.copy(k.color).multiplyScalar(k.intensity),he.distance=k.distance,he.decay=k.decay,k.castShadow){const oe=k.shadow,Q=n.get(k);Q.shadowIntensity=oe.intensity,Q.shadowBias=oe.bias,Q.shadowNormalBias=oe.normalBias,Q.shadowRadius=oe.radius,Q.shadowMapSize=oe.mapSize,Q.shadowCameraNear=oe.camera.near,Q.shadowCameraFar=oe.camera.far,r.pointShadow[_]=Q,r.pointShadowMap[_]=ae,r.pointShadowMatrix[_]=k.shadow.matrix,T++}r.point[_]=he,_++}else if(k.isHemisphereLight){const he=e.get(k);he.skyColor.copy(k.color).multiplyScalar(q),he.groundColor.copy(k.groundColor).multiplyScalar(q),r.hemi[v]=he,v++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=nn.LTC_FLOAT_1,r.rectAreaLTC2=nn.LTC_FLOAT_2):(r.rectAreaLTC1=nn.LTC_HALF_1,r.rectAreaLTC2=nn.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=m;const V=r.hash;(V.directionalLength!==p||V.pointLength!==_||V.spotLength!==E||V.rectAreaLength!==y||V.hemiLength!==v||V.numDirectionalShadows!==S||V.numPointShadows!==T||V.numSpotShadows!==L||V.numSpotMaps!==I||V.numLightProbes!==B)&&(r.directional.length=p,r.spot.length=E,r.rectArea.length=y,r.point.length=_,r.hemi.length=v,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=L,r.spotShadowMap.length=L,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=L+I-O,r.spotLightMap.length=I,r.numSpotLightShadowsWithMaps=O,r.numLightProbes=B,V.directionalLength=p,V.pointLength=_,V.spotLength=E,V.rectAreaLength=y,V.hemiLength=v,V.numDirectionalShadows=S,V.numPointShadows=T,V.numSpotShadows=L,V.numSpotMaps=I,V.numLightProbes=B,r.version=mee++)}function u(l,d){let f=0,m=0,p=0,_=0,E=0;const y=d.matrixWorldInverse;for(let v=0,S=l.length;v<S;v++){const T=l[v];if(T.isDirectionalLight){const L=r.directional[f];L.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(y),f++}else if(T.isSpotLight){const L=r.spot[p];L.position.setFromMatrixPosition(T.matrixWorld),L.position.applyMatrix4(y),L.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(y),p++}else if(T.isRectAreaLight){const L=r.rectArea[_];L.position.setFromMatrixPosition(T.matrixWorld),L.position.applyMatrix4(y),a.identity(),s.copy(T.matrixWorld),s.premultiply(y),a.extractRotation(s),L.halfWidth.set(T.width*.5,0,0),L.halfHeight.set(0,T.height*.5,0),L.halfWidth.applyMatrix4(a),L.halfHeight.applyMatrix4(a),_++}else if(T.isPointLight){const L=r.point[m];L.position.setFromMatrixPosition(T.matrixWorld),L.position.applyMatrix4(y),m++}else if(T.isHemisphereLight){const L=r.hemi[E];L.direction.setFromMatrixPosition(T.matrixWorld),L.direction.transformDirection(y),E++}}}return{setup:o,setupView:u,state:r}}function uC(t){const e=new vee(t),n=[],r=[];function i(d){l.camera=d,n.length=0,r.length=0}function s(d){n.push(d)}function a(d){r.push(d)}function o(){e.setup(n)}function u(d){e.setupView(n,d)}const l={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:l,setupLights:o,setupLightsView:u,pushLight:s,pushShadow:a}}function _ee(t){let e=new WeakMap;function n(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new uC(t),e.set(i,[o])):s>=a.length?(o=new uC(t),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:n,dispose:r}}const yee=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xee=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,bee=[new it(1,0,0),new it(-1,0,0),new it(0,1,0),new it(0,-1,0),new it(0,0,1),new it(0,0,-1)],Eee=[new it(0,-1,0),new it(0,-1,0),new it(0,0,1),new it(0,0,-1),new it(0,-1,0),new it(0,-1,0)],lC=new is,I0=new it,rx=new it;function wee(t,e,n){let r=new YR;const i=new zr,s=new zr,a=new Ki,o=new BY,u=new UY,l={},d=n.maxTextureSize,f={[vd]:Ga,[Ga]:vd,[ql]:ql},m=new ol({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new zr},radius:{value:4}},vertexShader:yee,fragmentShader:xee}),p=m.clone();p.defines.HORIZONTAL_PASS=1;const _=new hc;_.setAttribute("position",new il(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new al(_,m),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ov;let v=this.type;this.render=function(O,B,V){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||O.length===0)return;O.type===CK&&(Zn("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),O.type=ov);const M=t.getRenderTarget(),R=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),H=t.state;H.setBlending(Ql),H.buffers.depth.getReversed()===!0?H.buffers.color.setClear(0,0,0,0):H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const q=v!==this.type;q&&B.traverse(function(Y){Y.material&&(Array.isArray(Y.material)?Y.material.forEach(ae=>ae.needsUpdate=!0):Y.material.needsUpdate=!0)});for(let Y=0,ae=O.length;Y<ae;Y++){const he=O[Y],oe=he.shadow;if(oe===void 0){Zn("WebGLShadowMap:",he,"has no shadow.");continue}if(oe.autoUpdate===!1&&oe.needsUpdate===!1)continue;i.copy(oe.mapSize);const Q=oe.getFrameExtents();if(i.multiply(Q),s.copy(oe.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/Q.x),i.x=s.x*Q.x,oe.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/Q.y),i.y=s.y*Q.y,oe.mapSize.y=s.y)),oe.map===null||q===!0){if(oe.map!==null&&(oe.map.depthTexture!==null&&(oe.map.depthTexture.dispose(),oe.map.depthTexture=null),oe.map.dispose()),this.type===K0){if(he.isPointLight){Zn("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}oe.map=new rl(i.x,i.y,{format:Fp,type:oc,minFilter:ua,magFilter:ua,generateMipmaps:!1}),oe.map.texture.name=he.name+".shadowMap",oe.map.depthTexture=new Rm(i.x,i.y,Zu),oe.map.depthTexture.name=he.name+".shadowMapDepth",oe.map.depthTexture.format=uc,oe.map.depthTexture.compareFunction=null,oe.map.depthTexture.minFilter=js,oe.map.depthTexture.magFilter=js}else{he.isPointLight?(oe.map=new KR(i.x),oe.map.depthTexture=new OY(i.x,sl)):(oe.map=new rl(i.x,i.y),oe.map.depthTexture=new Rm(i.x,i.y,sl)),oe.map.depthTexture.name=he.name+".shadowMap",oe.map.depthTexture.format=uc;const W=t.state.buffers.depth.getReversed();this.type===ov?(oe.map.depthTexture.compareFunction=W?NA:CA,oe.map.depthTexture.minFilter=ua,oe.map.depthTexture.magFilter=ua):(oe.map.depthTexture.compareFunction=null,oe.map.depthTexture.minFilter=js,oe.map.depthTexture.magFilter=js)}oe.camera.updateProjectionMatrix()}const xe=oe.map.isWebGLCubeRenderTarget?6:1;for(let W=0;W<xe;W++){if(oe.map.isWebGLCubeRenderTarget)t.setRenderTarget(oe.map,W),t.clear();else{W===0&&(t.setRenderTarget(oe.map),t.clear());const ee=oe.getViewport(W);a.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),H.viewport(a)}if(he.isPointLight){const ee=oe.camera,z=oe.matrix,U=he.distance||ee.far;U!==ee.far&&(ee.far=U,ee.updateProjectionMatrix()),I0.setFromMatrixPosition(he.matrixWorld),ee.position.copy(I0),rx.copy(ee.position),rx.add(bee[W]),ee.up.copy(Eee[W]),ee.lookAt(rx),ee.updateMatrixWorld(),z.makeTranslation(-I0.x,-I0.y,-I0.z),lC.multiplyMatrices(ee.projectionMatrix,ee.matrixWorldInverse),oe._frustum.setFromProjectionMatrix(lC,ee.coordinateSystem,ee.reversedDepth)}else oe.updateMatrices(he);r=oe.getFrustum(),L(B,V,oe.camera,he,this.type)}oe.isPointLightShadow!==!0&&this.type===K0&&S(oe,V),oe.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(M,R,k)};function S(O,B){const V=e.update(E);m.defines.VSM_SAMPLES!==O.blurSamples&&(m.defines.VSM_SAMPLES=O.blurSamples,p.defines.VSM_SAMPLES=O.blurSamples,m.needsUpdate=!0,p.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new rl(i.x,i.y,{format:Fp,type:oc})),m.uniforms.shadow_pass.value=O.map.depthTexture,m.uniforms.resolution.value=O.mapSize,m.uniforms.radius.value=O.radius,t.setRenderTarget(O.mapPass),t.clear(),t.renderBufferDirect(B,null,V,m,E,null),p.uniforms.shadow_pass.value=O.mapPass.texture,p.uniforms.resolution.value=O.mapSize,p.uniforms.radius.value=O.radius,t.setRenderTarget(O.map),t.clear(),t.renderBufferDirect(B,null,V,p,E,null)}function T(O,B,V,M){let R=null;const k=V.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(k!==void 0)R=k;else if(R=V.isPointLight===!0?u:o,t.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const H=R.uuid,q=B.uuid;let Y=l[H];Y===void 0&&(Y={},l[H]=Y);let ae=Y[q];ae===void 0&&(ae=R.clone(),Y[q]=ae,B.addEventListener("dispose",I)),R=ae}if(R.visible=B.visible,R.wireframe=B.wireframe,M===K0?R.side=B.shadowSide!==null?B.shadowSide:B.side:R.side=B.shadowSide!==null?B.shadowSide:f[B.side],R.alphaMap=B.alphaMap,R.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,R.map=B.map,R.clipShadows=B.clipShadows,R.clippingPlanes=B.clippingPlanes,R.clipIntersection=B.clipIntersection,R.displacementMap=B.displacementMap,R.displacementScale=B.displacementScale,R.displacementBias=B.displacementBias,R.wireframeLinewidth=B.wireframeLinewidth,R.linewidth=B.linewidth,V.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const H=t.properties.get(R);H.light=V}return R}function L(O,B,V,M,R){if(O.visible===!1)return;if(O.layers.test(B.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&R===K0)&&(!O.frustumCulled||r.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,O.matrixWorld);const q=e.update(O),Y=O.material;if(Array.isArray(Y)){const ae=q.groups;for(let he=0,oe=ae.length;he<oe;he++){const Q=ae[he],xe=Y[Q.materialIndex];if(xe&&xe.visible){const W=T(O,xe,M,R);O.onBeforeShadow(t,O,B,V,q,W,Q),t.renderBufferDirect(V,null,q,W,O,Q),O.onAfterShadow(t,O,B,V,q,W,Q)}}}else if(Y.visible){const ae=T(O,Y,M,R);O.onBeforeShadow(t,O,B,V,q,ae,null),t.renderBufferDirect(V,null,q,ae,O,null),O.onAfterShadow(t,O,B,V,q,ae,null)}}const H=O.children;for(let q=0,Y=H.length;q<Y;q++)L(H[q],B,V,M,R)}function I(O){O.target.removeEventListener("dispose",I);for(const V in l){const M=l[V],R=O.target.uuid;R in M&&(M[R].dispose(),delete M[R])}}}const Aee={[Fb]:Ob,[Bb]:zb,[Ub]:Hb,[Ip]:jb,[Ob]:Fb,[zb]:Bb,[Hb]:Ub,[jb]:Ip};function See(t,e){function n(){let we=!1;const gt=new Ki;let vt=null;const bt=new Ki(0,0,0,0);return{setMask:function(Qe){vt!==Qe&&!we&&(t.colorMask(Qe,Qe,Qe,Qe),vt=Qe)},setLocked:function(Qe){we=Qe},setClear:function(Qe,rt,Ht,un,qn){qn===!0&&(Qe*=un,rt*=un,Ht*=un),gt.set(Qe,rt,Ht,un),bt.equals(gt)===!1&&(t.clearColor(Qe,rt,Ht,un),bt.copy(gt))},reset:function(){we=!1,vt=null,bt.set(-1,0,0,0)}}}function r(){let we=!1,gt=!1,vt=null,bt=null,Qe=null;return{setReversed:function(rt){if(gt!==rt){const Ht=e.get("EXT_clip_control");rt?Ht.clipControlEXT(Ht.LOWER_LEFT_EXT,Ht.ZERO_TO_ONE_EXT):Ht.clipControlEXT(Ht.LOWER_LEFT_EXT,Ht.NEGATIVE_ONE_TO_ONE_EXT),gt=rt;const un=Qe;Qe=null,this.setClear(un)}},getReversed:function(){return gt},setTest:function(rt){rt?de(t.DEPTH_TEST):Ae(t.DEPTH_TEST)},setMask:function(rt){vt!==rt&&!we&&(t.depthMask(rt),vt=rt)},setFunc:function(rt){if(gt&&(rt=Aee[rt]),bt!==rt){switch(rt){case Fb:t.depthFunc(t.NEVER);break;case Ob:t.depthFunc(t.ALWAYS);break;case Bb:t.depthFunc(t.LESS);break;case Ip:t.depthFunc(t.LEQUAL);break;case Ub:t.depthFunc(t.EQUAL);break;case jb:t.depthFunc(t.GEQUAL);break;case zb:t.depthFunc(t.GREATER);break;case Hb:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}bt=rt}},setLocked:function(rt){we=rt},setClear:function(rt){Qe!==rt&&(gt&&(rt=1-rt),t.clearDepth(rt),Qe=rt)},reset:function(){we=!1,vt=null,bt=null,Qe=null,gt=!1}}}function i(){let we=!1,gt=null,vt=null,bt=null,Qe=null,rt=null,Ht=null,un=null,qn=null;return{setTest:function(Fn){we||(Fn?de(t.STENCIL_TEST):Ae(t.STENCIL_TEST))},setMask:function(Fn){gt!==Fn&&!we&&(t.stencilMask(Fn),gt=Fn)},setFunc:function(Fn,cn,Vr){(vt!==Fn||bt!==cn||Qe!==Vr)&&(t.stencilFunc(Fn,cn,Vr),vt=Fn,bt=cn,Qe=Vr)},setOp:function(Fn,cn,Vr){(rt!==Fn||Ht!==cn||un!==Vr)&&(t.stencilOp(Fn,cn,Vr),rt=Fn,Ht=cn,un=Vr)},setLocked:function(Fn){we=Fn},setClear:function(Fn){qn!==Fn&&(t.clearStencil(Fn),qn=Fn)},reset:function(){we=!1,gt=null,vt=null,bt=null,Qe=null,rt=null,Ht=null,un=null,qn=null}}}const s=new n,a=new r,o=new i,u=new WeakMap,l=new WeakMap;let d={},f={},m=new WeakMap,p=[],_=null,E=!1,y=null,v=null,S=null,T=null,L=null,I=null,O=null,B=new jr(0,0,0),V=0,M=!1,R=null,k=null,H=null,q=null,Y=null;const ae=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let he=!1,oe=0;const Q=t.getParameter(t.VERSION);Q.indexOf("WebGL")!==-1?(oe=parseFloat(/^WebGL (\d)/.exec(Q)[1]),he=oe>=1):Q.indexOf("OpenGL ES")!==-1&&(oe=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),he=oe>=2);let xe=null,W={};const ee=t.getParameter(t.SCISSOR_BOX),z=t.getParameter(t.VIEWPORT),U=new Ki().fromArray(ee),ce=new Ki().fromArray(z);function _e(we,gt,vt,bt){const Qe=new Uint8Array(4),rt=t.createTexture();t.bindTexture(we,rt),t.texParameteri(we,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(we,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ht=0;Ht<vt;Ht++)we===t.TEXTURE_3D||we===t.TEXTURE_2D_ARRAY?t.texImage3D(gt,0,t.RGBA,1,1,bt,0,t.RGBA,t.UNSIGNED_BYTE,Qe):t.texImage2D(gt+Ht,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Qe);return rt}const Z={};Z[t.TEXTURE_2D]=_e(t.TEXTURE_2D,t.TEXTURE_2D,1),Z[t.TEXTURE_CUBE_MAP]=_e(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),Z[t.TEXTURE_2D_ARRAY]=_e(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Z[t.TEXTURE_3D]=_e(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),de(t.DEPTH_TEST),a.setFunc(Ip),pt(!1),rn(mD),de(t.CULL_FACE),jt(Ql);function de(we){d[we]!==!0&&(t.enable(we),d[we]=!0)}function Ae(we){d[we]!==!1&&(t.disable(we),d[we]=!1)}function Pe(we,gt){return f[we]!==gt?(t.bindFramebuffer(we,gt),f[we]=gt,we===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=gt),we===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=gt),!0):!1}function ke(we,gt){let vt=p,bt=!1;if(we){vt=m.get(gt),vt===void 0&&(vt=[],m.set(gt,vt));const Qe=we.textures;if(vt.length!==Qe.length||vt[0]!==t.COLOR_ATTACHMENT0){for(let rt=0,Ht=Qe.length;rt<Ht;rt++)vt[rt]=t.COLOR_ATTACHMENT0+rt;vt.length=Qe.length,bt=!0}}else vt[0]!==t.BACK&&(vt[0]=t.BACK,bt=!0);bt&&t.drawBuffers(vt)}function ot(we){return _!==we?(t.useProgram(we),_=we,!0):!1}const Dt={[vh]:t.FUNC_ADD,[LK]:t.FUNC_SUBTRACT,[MK]:t.FUNC_REVERSE_SUBTRACT};Dt[PK]=t.MIN,Dt[RK]=t.MAX;const yt={[IK]:t.ZERO,[kK]:t.ONE,[FK]:t.SRC_COLOR,[Ib]:t.SRC_ALPHA,[HK]:t.SRC_ALPHA_SATURATE,[jK]:t.DST_COLOR,[BK]:t.DST_ALPHA,[OK]:t.ONE_MINUS_SRC_COLOR,[kb]:t.ONE_MINUS_SRC_ALPHA,[zK]:t.ONE_MINUS_DST_COLOR,[UK]:t.ONE_MINUS_DST_ALPHA,[VK]:t.CONSTANT_COLOR,[WK]:t.ONE_MINUS_CONSTANT_COLOR,[GK]:t.CONSTANT_ALPHA,[qK]:t.ONE_MINUS_CONSTANT_ALPHA};function jt(we,gt,vt,bt,Qe,rt,Ht,un,qn,Fn){if(we===Ql){E===!0&&(Ae(t.BLEND),E=!1);return}if(E===!1&&(de(t.BLEND),E=!0),we!==NK){if(we!==y||Fn!==M){if((v!==vh||L!==vh)&&(t.blendEquation(t.FUNC_ADD),v=vh,L=vh),Fn)switch(we){case pp:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gD:t.blendFunc(t.ONE,t.ONE);break;case vD:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case _D:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Sr("WebGLState: Invalid blending: ",we);break}else switch(we){case pp:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gD:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case vD:Sr("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case _D:Sr("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Sr("WebGLState: Invalid blending: ",we);break}S=null,T=null,I=null,O=null,B.set(0,0,0),V=0,y=we,M=Fn}return}Qe=Qe||gt,rt=rt||vt,Ht=Ht||bt,(gt!==v||Qe!==L)&&(t.blendEquationSeparate(Dt[gt],Dt[Qe]),v=gt,L=Qe),(vt!==S||bt!==T||rt!==I||Ht!==O)&&(t.blendFuncSeparate(yt[vt],yt[bt],yt[rt],yt[Ht]),S=vt,T=bt,I=rt,O=Ht),(un.equals(B)===!1||qn!==V)&&(t.blendColor(un.r,un.g,un.b,qn),B.copy(un),V=qn),y=we,M=!1}function le(we,gt){we.side===ql?Ae(t.CULL_FACE):de(t.CULL_FACE);let vt=we.side===Ga;gt&&(vt=!vt),pt(vt),we.blending===pp&&we.transparent===!1?jt(Ql):jt(we.blending,we.blendEquation,we.blendSrc,we.blendDst,we.blendEquationAlpha,we.blendSrcAlpha,we.blendDstAlpha,we.blendColor,we.blendAlpha,we.premultipliedAlpha),a.setFunc(we.depthFunc),a.setTest(we.depthTest),a.setMask(we.depthWrite),s.setMask(we.colorWrite);const bt=we.stencilWrite;o.setTest(bt),bt&&(o.setMask(we.stencilWriteMask),o.setFunc(we.stencilFunc,we.stencilRef,we.stencilFuncMask),o.setOp(we.stencilFail,we.stencilZFail,we.stencilZPass)),ct(we.polygonOffset,we.polygonOffsetFactor,we.polygonOffsetUnits),we.alphaToCoverage===!0?de(t.SAMPLE_ALPHA_TO_COVERAGE):Ae(t.SAMPLE_ALPHA_TO_COVERAGE)}function pt(we){R!==we&&(we?t.frontFace(t.CW):t.frontFace(t.CCW),R=we)}function rn(we){we!==TK?(de(t.CULL_FACE),we!==k&&(we===mD?t.cullFace(t.BACK):we===DK?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ae(t.CULL_FACE),k=we}function Ee(we){we!==H&&(he&&t.lineWidth(we),H=we)}function ct(we,gt,vt){we?(de(t.POLYGON_OFFSET_FILL),(q!==gt||Y!==vt)&&(t.polygonOffset(gt,vt),q=gt,Y=vt)):Ae(t.POLYGON_OFFSET_FILL)}function zt(we){we?de(t.SCISSOR_TEST):Ae(t.SCISSOR_TEST)}function Mt(we){we===void 0&&(we=t.TEXTURE0+ae-1),xe!==we&&(t.activeTexture(we),xe=we)}function xt(we,gt,vt){vt===void 0&&(xe===null?vt=t.TEXTURE0+ae-1:vt=xe);let bt=W[vt];bt===void 0&&(bt={type:void 0,texture:void 0},W[vt]=bt),(bt.type!==we||bt.texture!==gt)&&(xe!==vt&&(t.activeTexture(vt),xe=vt),t.bindTexture(we,gt||Z[we]),bt.type=we,bt.texture=gt)}function se(){const we=W[xe];we!==void 0&&we.type!==void 0&&(t.bindTexture(we.type,null),we.type=void 0,we.texture=void 0)}function G(){try{t.compressedTexImage2D(...arguments)}catch(we){Sr("WebGLState:",we)}}function De(){try{t.compressedTexImage3D(...arguments)}catch(we){Sr("WebGLState:",we)}}function ge(){try{t.texSubImage2D(...arguments)}catch(we){Sr("WebGLState:",we)}}function Ce(){try{t.texSubImage3D(...arguments)}catch(we){Sr("WebGLState:",we)}}function Le(){try{t.compressedTexSubImage2D(...arguments)}catch(we){Sr("WebGLState:",we)}}function Ve(){try{t.compressedTexSubImage3D(...arguments)}catch(we){Sr("WebGLState:",we)}}function Ze(){try{t.texStorage2D(...arguments)}catch(we){Sr("WebGLState:",we)}}function st(){try{t.texStorage3D(...arguments)}catch(we){Sr("WebGLState:",we)}}function Yt(){try{t.texImage2D(...arguments)}catch(we){Sr("WebGLState:",we)}}function et(){try{t.texImage3D(...arguments)}catch(we){Sr("WebGLState:",we)}}function ft(we){U.equals(we)===!1&&(t.scissor(we.x,we.y,we.z,we.w),U.copy(we))}function Tt(we){ce.equals(we)===!1&&(t.viewport(we.x,we.y,we.z,we.w),ce.copy(we))}function Nt(we,gt){let vt=l.get(gt);vt===void 0&&(vt=new WeakMap,l.set(gt,vt));let bt=vt.get(we);bt===void 0&&(bt=t.getUniformBlockIndex(gt,we.name),vt.set(we,bt))}function nt(we,gt){const bt=l.get(gt).get(we);u.get(gt)!==bt&&(t.uniformBlockBinding(gt,bt,we.__bindingPointIndex),u.set(gt,bt))}function qt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},xe=null,W={},f={},m=new WeakMap,p=[],_=null,E=!1,y=null,v=null,S=null,T=null,L=null,I=null,O=null,B=new jr(0,0,0),V=0,M=!1,R=null,k=null,H=null,q=null,Y=null,U.set(0,0,t.canvas.width,t.canvas.height),ce.set(0,0,t.canvas.width,t.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:de,disable:Ae,bindFramebuffer:Pe,drawBuffers:ke,useProgram:ot,setBlending:jt,setMaterial:le,setFlipSided:pt,setCullFace:rn,setLineWidth:Ee,setPolygonOffset:ct,setScissorTest:zt,activeTexture:Mt,bindTexture:xt,unbindTexture:se,compressedTexImage2D:G,compressedTexImage3D:De,texImage2D:Yt,texImage3D:et,updateUBOMapping:Nt,uniformBlockBinding:nt,texStorage2D:Ze,texStorage3D:st,texSubImage2D:ge,texSubImage3D:Ce,compressedTexSubImage2D:Le,compressedTexSubImage3D:Ve,scissor:ft,viewport:Tt,reset:qt}}function Tee(t,e,n,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),l=new zr,d=new WeakMap;let f;const m=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(se,G){return p?new OffscreenCanvas(se,G):Yv("canvas")}function E(se,G,De){let ge=1;const Ce=xt(se);if((Ce.width>De||Ce.height>De)&&(ge=De/Math.max(Ce.width,Ce.height)),ge<1)if(typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap||typeof VideoFrame<"u"&&se instanceof VideoFrame){const Le=Math.floor(ge*Ce.width),Ve=Math.floor(ge*Ce.height);f===void 0&&(f=_(Le,Ve));const Ze=G?_(Le,Ve):f;return Ze.width=Le,Ze.height=Ve,Ze.getContext("2d").drawImage(se,0,0,Le,Ve),Zn("WebGLRenderer: Texture has been resized from ("+Ce.width+"x"+Ce.height+") to ("+Le+"x"+Ve+")."),Ze}else return"data"in se&&Zn("WebGLRenderer: Image in DataTexture is too big ("+Ce.width+"x"+Ce.height+")."),se;return se}function y(se){return se.generateMipmaps}function v(se){t.generateMipmap(se)}function S(se){return se.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:se.isWebGL3DRenderTarget?t.TEXTURE_3D:se.isWebGLArrayRenderTarget||se.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function T(se,G,De,ge,Ce=!1){if(se!==null){if(t[se]!==void 0)return t[se];Zn("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+se+"'")}let Le=G;if(G===t.RED&&(De===t.FLOAT&&(Le=t.R32F),De===t.HALF_FLOAT&&(Le=t.R16F),De===t.UNSIGNED_BYTE&&(Le=t.R8)),G===t.RED_INTEGER&&(De===t.UNSIGNED_BYTE&&(Le=t.R8UI),De===t.UNSIGNED_SHORT&&(Le=t.R16UI),De===t.UNSIGNED_INT&&(Le=t.R32UI),De===t.BYTE&&(Le=t.R8I),De===t.SHORT&&(Le=t.R16I),De===t.INT&&(Le=t.R32I)),G===t.RG&&(De===t.FLOAT&&(Le=t.RG32F),De===t.HALF_FLOAT&&(Le=t.RG16F),De===t.UNSIGNED_BYTE&&(Le=t.RG8)),G===t.RG_INTEGER&&(De===t.UNSIGNED_BYTE&&(Le=t.RG8UI),De===t.UNSIGNED_SHORT&&(Le=t.RG16UI),De===t.UNSIGNED_INT&&(Le=t.RG32UI),De===t.BYTE&&(Le=t.RG8I),De===t.SHORT&&(Le=t.RG16I),De===t.INT&&(Le=t.RG32I)),G===t.RGB_INTEGER&&(De===t.UNSIGNED_BYTE&&(Le=t.RGB8UI),De===t.UNSIGNED_SHORT&&(Le=t.RGB16UI),De===t.UNSIGNED_INT&&(Le=t.RGB32UI),De===t.BYTE&&(Le=t.RGB8I),De===t.SHORT&&(Le=t.RGB16I),De===t.INT&&(Le=t.RGB32I)),G===t.RGBA_INTEGER&&(De===t.UNSIGNED_BYTE&&(Le=t.RGBA8UI),De===t.UNSIGNED_SHORT&&(Le=t.RGBA16UI),De===t.UNSIGNED_INT&&(Le=t.RGBA32UI),De===t.BYTE&&(Le=t.RGBA8I),De===t.SHORT&&(Le=t.RGBA16I),De===t.INT&&(Le=t.RGBA32I)),G===t.RGB&&(De===t.UNSIGNED_INT_5_9_9_9_REV&&(Le=t.RGB9_E5),De===t.UNSIGNED_INT_10F_11F_11F_REV&&(Le=t.R11F_G11F_B10F)),G===t.RGBA){const Ve=Ce?$v:wr.getTransfer(ge);De===t.FLOAT&&(Le=t.RGBA32F),De===t.HALF_FLOAT&&(Le=t.RGBA16F),De===t.UNSIGNED_BYTE&&(Le=Ve===kr?t.SRGB8_ALPHA8:t.RGBA8),De===t.UNSIGNED_SHORT_4_4_4_4&&(Le=t.RGBA4),De===t.UNSIGNED_SHORT_5_5_5_1&&(Le=t.RGB5_A1)}return(Le===t.R16F||Le===t.R32F||Le===t.RG16F||Le===t.RG32F||Le===t.RGBA16F||Le===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Le}function L(se,G){let De;return se?G===null||G===sl||G===Mm?De=t.DEPTH24_STENCIL8:G===Zu?De=t.DEPTH32F_STENCIL8:G===Lm&&(De=t.DEPTH24_STENCIL8,Zn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):G===null||G===sl||G===Mm?De=t.DEPTH_COMPONENT24:G===Zu?De=t.DEPTH_COMPONENT32F:G===Lm&&(De=t.DEPTH_COMPONENT16),De}function I(se,G){return y(se)===!0||se.isFramebufferTexture&&se.minFilter!==js&&se.minFilter!==ua?Math.log2(Math.max(G.width,G.height))+1:se.mipmaps!==void 0&&se.mipmaps.length>0?se.mipmaps.length:se.isCompressedTexture&&Array.isArray(se.image)?G.mipmaps.length:1}function O(se){const G=se.target;G.removeEventListener("dispose",O),V(G),G.isVideoTexture&&d.delete(G)}function B(se){const G=se.target;G.removeEventListener("dispose",B),R(G)}function V(se){const G=r.get(se);if(G.__webglInit===void 0)return;const De=se.source,ge=m.get(De);if(ge){const Ce=ge[G.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&M(se),Object.keys(ge).length===0&&m.delete(De)}r.remove(se)}function M(se){const G=r.get(se);t.deleteTexture(G.__webglTexture);const De=se.source,ge=m.get(De);delete ge[G.__cacheKey],a.memory.textures--}function R(se){const G=r.get(se);if(se.depthTexture&&(se.depthTexture.dispose(),r.remove(se.depthTexture)),se.isWebGLCubeRenderTarget)for(let ge=0;ge<6;ge++){if(Array.isArray(G.__webglFramebuffer[ge]))for(let Ce=0;Ce<G.__webglFramebuffer[ge].length;Ce++)t.deleteFramebuffer(G.__webglFramebuffer[ge][Ce]);else t.deleteFramebuffer(G.__webglFramebuffer[ge]);G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer[ge])}else{if(Array.isArray(G.__webglFramebuffer))for(let ge=0;ge<G.__webglFramebuffer.length;ge++)t.deleteFramebuffer(G.__webglFramebuffer[ge]);else t.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&t.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let ge=0;ge<G.__webglColorRenderbuffer.length;ge++)G.__webglColorRenderbuffer[ge]&&t.deleteRenderbuffer(G.__webglColorRenderbuffer[ge]);G.__webglDepthRenderbuffer&&t.deleteRenderbuffer(G.__webglDepthRenderbuffer)}const De=se.textures;for(let ge=0,Ce=De.length;ge<Ce;ge++){const Le=r.get(De[ge]);Le.__webglTexture&&(t.deleteTexture(Le.__webglTexture),a.memory.textures--),r.remove(De[ge])}r.remove(se)}let k=0;function H(){k=0}function q(){const se=k;return se>=i.maxTextures&&Zn("WebGLTextures: Trying to use "+se+" texture units while this GPU supports only "+i.maxTextures),k+=1,se}function Y(se){const G=[];return G.push(se.wrapS),G.push(se.wrapT),G.push(se.wrapR||0),G.push(se.magFilter),G.push(se.minFilter),G.push(se.anisotropy),G.push(se.internalFormat),G.push(se.format),G.push(se.type),G.push(se.generateMipmaps),G.push(se.premultiplyAlpha),G.push(se.flipY),G.push(se.unpackAlignment),G.push(se.colorSpace),G.join()}function ae(se,G){const De=r.get(se);if(se.isVideoTexture&&zt(se),se.isRenderTargetTexture===!1&&se.isExternalTexture!==!0&&se.version>0&&De.__version!==se.version){const ge=se.image;if(ge===null)Zn("WebGLRenderer: Texture marked for update but no image data found.");else if(ge.complete===!1)Zn("WebGLRenderer: Texture marked for update but image is incomplete");else{Z(De,se,G);return}}else se.isExternalTexture&&(De.__webglTexture=se.sourceTexture?se.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,De.__webglTexture,t.TEXTURE0+G)}function he(se,G){const De=r.get(se);if(se.isRenderTargetTexture===!1&&se.version>0&&De.__version!==se.version){Z(De,se,G);return}else se.isExternalTexture&&(De.__webglTexture=se.sourceTexture?se.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,De.__webglTexture,t.TEXTURE0+G)}function oe(se,G){const De=r.get(se);if(se.isRenderTargetTexture===!1&&se.version>0&&De.__version!==se.version){Z(De,se,G);return}n.bindTexture(t.TEXTURE_3D,De.__webglTexture,t.TEXTURE0+G)}function Q(se,G){const De=r.get(se);if(se.isCubeDepthTexture!==!0&&se.version>0&&De.__version!==se.version){de(De,se,G);return}n.bindTexture(t.TEXTURE_CUBE_MAP,De.__webglTexture,t.TEXTURE0+G)}const xe={[Gb]:t.REPEAT,[Kl]:t.CLAMP_TO_EDGE,[qb]:t.MIRRORED_REPEAT},W={[js]:t.NEAREST,[YK]:t.NEAREST_MIPMAP_NEAREST,[h1]:t.NEAREST_MIPMAP_LINEAR,[ua]:t.LINEAR,[Dy]:t.LINEAR_MIPMAP_NEAREST,[wh]:t.LINEAR_MIPMAP_LINEAR},ee={[QK]:t.NEVER,[iY]:t.ALWAYS,[eY]:t.LESS,[CA]:t.LEQUAL,[tY]:t.EQUAL,[NA]:t.GEQUAL,[nY]:t.GREATER,[rY]:t.NOTEQUAL};function z(se,G){if(G.type===Zu&&e.has("OES_texture_float_linear")===!1&&(G.magFilter===ua||G.magFilter===Dy||G.magFilter===h1||G.magFilter===wh||G.minFilter===ua||G.minFilter===Dy||G.minFilter===h1||G.minFilter===wh)&&Zn("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(se,t.TEXTURE_WRAP_S,xe[G.wrapS]),t.texParameteri(se,t.TEXTURE_WRAP_T,xe[G.wrapT]),(se===t.TEXTURE_3D||se===t.TEXTURE_2D_ARRAY)&&t.texParameteri(se,t.TEXTURE_WRAP_R,xe[G.wrapR]),t.texParameteri(se,t.TEXTURE_MAG_FILTER,W[G.magFilter]),t.texParameteri(se,t.TEXTURE_MIN_FILTER,W[G.minFilter]),G.compareFunction&&(t.texParameteri(se,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(se,t.TEXTURE_COMPARE_FUNC,ee[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(G.magFilter===js||G.minFilter!==h1&&G.minFilter!==wh||G.type===Zu&&e.has("OES_texture_float_linear")===!1)return;if(G.anisotropy>1||r.get(G).__currentAnisotropy){const De=e.get("EXT_texture_filter_anisotropic");t.texParameterf(se,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,i.getMaxAnisotropy())),r.get(G).__currentAnisotropy=G.anisotropy}}}function U(se,G){let De=!1;se.__webglInit===void 0&&(se.__webglInit=!0,G.addEventListener("dispose",O));const ge=G.source;let Ce=m.get(ge);Ce===void 0&&(Ce={},m.set(ge,Ce));const Le=Y(G);if(Le!==se.__cacheKey){Ce[Le]===void 0&&(Ce[Le]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,De=!0),Ce[Le].usedTimes++;const Ve=Ce[se.__cacheKey];Ve!==void 0&&(Ce[se.__cacheKey].usedTimes--,Ve.usedTimes===0&&M(G)),se.__cacheKey=Le,se.__webglTexture=Ce[Le].texture}return De}function ce(se,G,De){return Math.floor(Math.floor(se/De)/G)}function _e(se,G,De,ge){const Le=se.updateRanges;if(Le.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,G.width,G.height,De,ge,G.data);else{Le.sort((et,ft)=>et.start-ft.start);let Ve=0;for(let et=1;et<Le.length;et++){const ft=Le[Ve],Tt=Le[et],Nt=ft.start+ft.count,nt=ce(Tt.start,G.width,4),qt=ce(ft.start,G.width,4);Tt.start<=Nt+1&&nt===qt&&ce(Tt.start+Tt.count-1,G.width,4)===nt?ft.count=Math.max(ft.count,Tt.start+Tt.count-ft.start):(++Ve,Le[Ve]=Tt)}Le.length=Ve+1;const Ze=t.getParameter(t.UNPACK_ROW_LENGTH),st=t.getParameter(t.UNPACK_SKIP_PIXELS),Yt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,G.width);for(let et=0,ft=Le.length;et<ft;et++){const Tt=Le[et],Nt=Math.floor(Tt.start/4),nt=Math.ceil(Tt.count/4),qt=Nt%G.width,we=Math.floor(Nt/G.width),gt=nt,vt=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,qt),t.pixelStorei(t.UNPACK_SKIP_ROWS,we),n.texSubImage2D(t.TEXTURE_2D,0,qt,we,gt,vt,De,ge,G.data)}se.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Ze),t.pixelStorei(t.UNPACK_SKIP_PIXELS,st),t.pixelStorei(t.UNPACK_SKIP_ROWS,Yt)}}function Z(se,G,De){let ge=t.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(ge=t.TEXTURE_2D_ARRAY),G.isData3DTexture&&(ge=t.TEXTURE_3D);const Ce=U(se,G),Le=G.source;n.bindTexture(ge,se.__webglTexture,t.TEXTURE0+De);const Ve=r.get(Le);if(Le.version!==Ve.__version||Ce===!0){n.activeTexture(t.TEXTURE0+De);const Ze=wr.getPrimaries(wr.workingColorSpace),st=G.colorSpace===ld?null:wr.getPrimaries(G.colorSpace),Yt=G.colorSpace===ld||Ze===st?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Yt);let et=E(G.image,!1,i.maxTextureSize);et=Mt(G,et);const ft=s.convert(G.format,G.colorSpace),Tt=s.convert(G.type);let Nt=T(G.internalFormat,ft,Tt,G.colorSpace,G.isVideoTexture);z(ge,G);let nt;const qt=G.mipmaps,we=G.isVideoTexture!==!0,gt=Ve.__version===void 0||Ce===!0,vt=Le.dataReady,bt=I(G,et);if(G.isDepthTexture)Nt=L(G.format===Ah,G.type),gt&&(we?n.texStorage2D(t.TEXTURE_2D,1,Nt,et.width,et.height):n.texImage2D(t.TEXTURE_2D,0,Nt,et.width,et.height,0,ft,Tt,null));else if(G.isDataTexture)if(qt.length>0){we&&gt&&n.texStorage2D(t.TEXTURE_2D,bt,Nt,qt[0].width,qt[0].height);for(let Qe=0,rt=qt.length;Qe<rt;Qe++)nt=qt[Qe],we?vt&&n.texSubImage2D(t.TEXTURE_2D,Qe,0,0,nt.width,nt.height,ft,Tt,nt.data):n.texImage2D(t.TEXTURE_2D,Qe,Nt,nt.width,nt.height,0,ft,Tt,nt.data);G.generateMipmaps=!1}else we?(gt&&n.texStorage2D(t.TEXTURE_2D,bt,Nt,et.width,et.height),vt&&_e(G,et,ft,Tt)):n.texImage2D(t.TEXTURE_2D,0,Nt,et.width,et.height,0,ft,Tt,et.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){we&&gt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,bt,Nt,qt[0].width,qt[0].height,et.depth);for(let Qe=0,rt=qt.length;Qe<rt;Qe++)if(nt=qt[Qe],G.format!==yu)if(ft!==null)if(we){if(vt)if(G.layerUpdates.size>0){const Ht=jD(nt.width,nt.height,G.format,G.type);for(const un of G.layerUpdates){const qn=nt.data.subarray(un*Ht/nt.data.BYTES_PER_ELEMENT,(un+1)*Ht/nt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Qe,0,0,un,nt.width,nt.height,1,ft,qn)}G.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Qe,0,0,0,nt.width,nt.height,et.depth,ft,nt.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Qe,Nt,nt.width,nt.height,et.depth,0,nt.data,0,0);else Zn("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else we?vt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Qe,0,0,0,nt.width,nt.height,et.depth,ft,Tt,nt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Qe,Nt,nt.width,nt.height,et.depth,0,ft,Tt,nt.data)}else{we&&gt&&n.texStorage2D(t.TEXTURE_2D,bt,Nt,qt[0].width,qt[0].height);for(let Qe=0,rt=qt.length;Qe<rt;Qe++)nt=qt[Qe],G.format!==yu?ft!==null?we?vt&&n.compressedTexSubImage2D(t.TEXTURE_2D,Qe,0,0,nt.width,nt.height,ft,nt.data):n.compressedTexImage2D(t.TEXTURE_2D,Qe,Nt,nt.width,nt.height,0,nt.data):Zn("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):we?vt&&n.texSubImage2D(t.TEXTURE_2D,Qe,0,0,nt.width,nt.height,ft,Tt,nt.data):n.texImage2D(t.TEXTURE_2D,Qe,Nt,nt.width,nt.height,0,ft,Tt,nt.data)}else if(G.isDataArrayTexture)if(we){if(gt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,bt,Nt,et.width,et.height,et.depth),vt)if(G.layerUpdates.size>0){const Qe=jD(et.width,et.height,G.format,G.type);for(const rt of G.layerUpdates){const Ht=et.data.subarray(rt*Qe/et.data.BYTES_PER_ELEMENT,(rt+1)*Qe/et.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,rt,et.width,et.height,1,ft,Tt,Ht)}G.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,et.width,et.height,et.depth,ft,Tt,et.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Nt,et.width,et.height,et.depth,0,ft,Tt,et.data);else if(G.isData3DTexture)we?(gt&&n.texStorage3D(t.TEXTURE_3D,bt,Nt,et.width,et.height,et.depth),vt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,et.width,et.height,et.depth,ft,Tt,et.data)):n.texImage3D(t.TEXTURE_3D,0,Nt,et.width,et.height,et.depth,0,ft,Tt,et.data);else if(G.isFramebufferTexture){if(gt)if(we)n.texStorage2D(t.TEXTURE_2D,bt,Nt,et.width,et.height);else{let Qe=et.width,rt=et.height;for(let Ht=0;Ht<bt;Ht++)n.texImage2D(t.TEXTURE_2D,Ht,Nt,Qe,rt,0,ft,Tt,null),Qe>>=1,rt>>=1}}else if(qt.length>0){if(we&&gt){const Qe=xt(qt[0]);n.texStorage2D(t.TEXTURE_2D,bt,Nt,Qe.width,Qe.height)}for(let Qe=0,rt=qt.length;Qe<rt;Qe++)nt=qt[Qe],we?vt&&n.texSubImage2D(t.TEXTURE_2D,Qe,0,0,ft,Tt,nt):n.texImage2D(t.TEXTURE_2D,Qe,Nt,ft,Tt,nt);G.generateMipmaps=!1}else if(we){if(gt){const Qe=xt(et);n.texStorage2D(t.TEXTURE_2D,bt,Nt,Qe.width,Qe.height)}vt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ft,Tt,et)}else n.texImage2D(t.TEXTURE_2D,0,Nt,ft,Tt,et);y(G)&&v(ge),Ve.__version=Le.version,G.onUpdate&&G.onUpdate(G)}se.__version=G.version}function de(se,G,De){if(G.image.length!==6)return;const ge=U(se,G),Ce=G.source;n.bindTexture(t.TEXTURE_CUBE_MAP,se.__webglTexture,t.TEXTURE0+De);const Le=r.get(Ce);if(Ce.version!==Le.__version||ge===!0){n.activeTexture(t.TEXTURE0+De);const Ve=wr.getPrimaries(wr.workingColorSpace),Ze=G.colorSpace===ld?null:wr.getPrimaries(G.colorSpace),st=G.colorSpace===ld||Ve===Ze?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,st);const Yt=G.isCompressedTexture||G.image[0].isCompressedTexture,et=G.image[0]&&G.image[0].isDataTexture,ft=[];for(let rt=0;rt<6;rt++)!Yt&&!et?ft[rt]=E(G.image[rt],!0,i.maxCubemapSize):ft[rt]=et?G.image[rt].image:G.image[rt],ft[rt]=Mt(G,ft[rt]);const Tt=ft[0],Nt=s.convert(G.format,G.colorSpace),nt=s.convert(G.type),qt=T(G.internalFormat,Nt,nt,G.colorSpace),we=G.isVideoTexture!==!0,gt=Le.__version===void 0||ge===!0,vt=Ce.dataReady;let bt=I(G,Tt);z(t.TEXTURE_CUBE_MAP,G);let Qe;if(Yt){we&&gt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,bt,qt,Tt.width,Tt.height);for(let rt=0;rt<6;rt++){Qe=ft[rt].mipmaps;for(let Ht=0;Ht<Qe.length;Ht++){const un=Qe[Ht];G.format!==yu?Nt!==null?we?vt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ht,0,0,un.width,un.height,Nt,un.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ht,qt,un.width,un.height,0,un.data):Zn("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):we?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ht,0,0,un.width,un.height,Nt,nt,un.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ht,qt,un.width,un.height,0,Nt,nt,un.data)}}}else{if(Qe=G.mipmaps,we&&gt){Qe.length>0&&bt++;const rt=xt(ft[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,bt,qt,rt.width,rt.height)}for(let rt=0;rt<6;rt++)if(et){we?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,0,0,ft[rt].width,ft[rt].height,Nt,nt,ft[rt].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,qt,ft[rt].width,ft[rt].height,0,Nt,nt,ft[rt].data);for(let Ht=0;Ht<Qe.length;Ht++){const qn=Qe[Ht].image[rt].image;we?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ht+1,0,0,qn.width,qn.height,Nt,nt,qn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ht+1,qt,qn.width,qn.height,0,Nt,nt,qn.data)}}else{we?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,0,0,Nt,nt,ft[rt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,qt,Nt,nt,ft[rt]);for(let Ht=0;Ht<Qe.length;Ht++){const un=Qe[Ht];we?vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ht+1,0,0,Nt,nt,un.image[rt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+rt,Ht+1,qt,Nt,nt,un.image[rt])}}}y(G)&&v(t.TEXTURE_CUBE_MAP),Le.__version=Ce.version,G.onUpdate&&G.onUpdate(G)}se.__version=G.version}function Ae(se,G,De,ge,Ce,Le){const Ve=s.convert(De.format,De.colorSpace),Ze=s.convert(De.type),st=T(De.internalFormat,Ve,Ze,De.colorSpace),Yt=r.get(G),et=r.get(De);if(et.__renderTarget=G,!Yt.__hasExternalTextures){const ft=Math.max(1,G.width>>Le),Tt=Math.max(1,G.height>>Le);Ce===t.TEXTURE_3D||Ce===t.TEXTURE_2D_ARRAY?n.texImage3D(Ce,Le,st,ft,Tt,G.depth,0,Ve,Ze,null):n.texImage2D(Ce,Le,st,ft,Tt,0,Ve,Ze,null)}n.bindFramebuffer(t.FRAMEBUFFER,se),ct(G)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ge,Ce,et.__webglTexture,0,Ee(G)):(Ce===t.TEXTURE_2D||Ce>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ce<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ge,Ce,et.__webglTexture,Le),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Pe(se,G,De){if(t.bindRenderbuffer(t.RENDERBUFFER,se),G.depthBuffer){const ge=G.depthTexture,Ce=ge&&ge.isDepthTexture?ge.type:null,Le=L(G.stencilBuffer,Ce),Ve=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;ct(G)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ee(G),Le,G.width,G.height):De?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ee(G),Le,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,Le,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ve,t.RENDERBUFFER,se)}else{const ge=G.textures;for(let Ce=0;Ce<ge.length;Ce++){const Le=ge[Ce],Ve=s.convert(Le.format,Le.colorSpace),Ze=s.convert(Le.type),st=T(Le.internalFormat,Ve,Ze,Le.colorSpace);ct(G)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ee(G),st,G.width,G.height):De?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ee(G),st,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,st,G.width,G.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ke(se,G,De){const ge=G.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,se),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ce=r.get(G.depthTexture);if(Ce.__renderTarget=G,(!Ce.__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),ge){if(Ce.__webglInit===void 0&&(Ce.__webglInit=!0,G.depthTexture.addEventListener("dispose",O)),Ce.__webglTexture===void 0){Ce.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Ce.__webglTexture),z(t.TEXTURE_CUBE_MAP,G.depthTexture);const Yt=s.convert(G.depthTexture.format),et=s.convert(G.depthTexture.type);let ft;G.depthTexture.format===uc?ft=t.DEPTH_COMPONENT24:G.depthTexture.format===Ah&&(ft=t.DEPTH24_STENCIL8);for(let Tt=0;Tt<6;Tt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Tt,0,ft,G.width,G.height,0,Yt,et,null)}}else ae(G.depthTexture,0);const Le=Ce.__webglTexture,Ve=Ee(G),Ze=ge?t.TEXTURE_CUBE_MAP_POSITIVE_X+De:t.TEXTURE_2D,st=G.depthTexture.format===Ah?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(G.depthTexture.format===uc)ct(G)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,st,Ze,Le,0,Ve):t.framebufferTexture2D(t.FRAMEBUFFER,st,Ze,Le,0);else if(G.depthTexture.format===Ah)ct(G)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,st,Ze,Le,0,Ve):t.framebufferTexture2D(t.FRAMEBUFFER,st,Ze,Le,0);else throw new Error("Unknown depthTexture format")}function ot(se){const G=r.get(se),De=se.isWebGLCubeRenderTarget===!0;if(G.__boundDepthTexture!==se.depthTexture){const ge=se.depthTexture;if(G.__depthDisposeCallback&&G.__depthDisposeCallback(),ge){const Ce=()=>{delete G.__boundDepthTexture,delete G.__depthDisposeCallback,ge.removeEventListener("dispose",Ce)};ge.addEventListener("dispose",Ce),G.__depthDisposeCallback=Ce}G.__boundDepthTexture=ge}if(se.depthTexture&&!G.__autoAllocateDepthBuffer)if(De)for(let ge=0;ge<6;ge++)ke(G.__webglFramebuffer[ge],se,ge);else{const ge=se.texture.mipmaps;ge&&ge.length>0?ke(G.__webglFramebuffer[0],se,0):ke(G.__webglFramebuffer,se,0)}else if(De){G.__webglDepthbuffer=[];for(let ge=0;ge<6;ge++)if(n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer[ge]),G.__webglDepthbuffer[ge]===void 0)G.__webglDepthbuffer[ge]=t.createRenderbuffer(),Pe(G.__webglDepthbuffer[ge],se,!1);else{const Ce=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Le=G.__webglDepthbuffer[ge];t.bindRenderbuffer(t.RENDERBUFFER,Le),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ce,t.RENDERBUFFER,Le)}}else{const ge=se.texture.mipmaps;if(ge&&ge.length>0?n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer===void 0)G.__webglDepthbuffer=t.createRenderbuffer(),Pe(G.__webglDepthbuffer,se,!1);else{const Ce=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Le=G.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Le),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ce,t.RENDERBUFFER,Le)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Dt(se,G,De){const ge=r.get(se);G!==void 0&&Ae(ge.__webglFramebuffer,se,se.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),De!==void 0&&ot(se)}function yt(se){const G=se.texture,De=r.get(se),ge=r.get(G);se.addEventListener("dispose",B);const Ce=se.textures,Le=se.isWebGLCubeRenderTarget===!0,Ve=Ce.length>1;if(Ve||(ge.__webglTexture===void 0&&(ge.__webglTexture=t.createTexture()),ge.__version=G.version,a.memory.textures++),Le){De.__webglFramebuffer=[];for(let Ze=0;Ze<6;Ze++)if(G.mipmaps&&G.mipmaps.length>0){De.__webglFramebuffer[Ze]=[];for(let st=0;st<G.mipmaps.length;st++)De.__webglFramebuffer[Ze][st]=t.createFramebuffer()}else De.__webglFramebuffer[Ze]=t.createFramebuffer()}else{if(G.mipmaps&&G.mipmaps.length>0){De.__webglFramebuffer=[];for(let Ze=0;Ze<G.mipmaps.length;Ze++)De.__webglFramebuffer[Ze]=t.createFramebuffer()}else De.__webglFramebuffer=t.createFramebuffer();if(Ve)for(let Ze=0,st=Ce.length;Ze<st;Ze++){const Yt=r.get(Ce[Ze]);Yt.__webglTexture===void 0&&(Yt.__webglTexture=t.createTexture(),a.memory.textures++)}if(se.samples>0&&ct(se)===!1){De.__webglMultisampledFramebuffer=t.createFramebuffer(),De.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,De.__webglMultisampledFramebuffer);for(let Ze=0;Ze<Ce.length;Ze++){const st=Ce[Ze];De.__webglColorRenderbuffer[Ze]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,De.__webglColorRenderbuffer[Ze]);const Yt=s.convert(st.format,st.colorSpace),et=s.convert(st.type),ft=T(st.internalFormat,Yt,et,st.colorSpace,se.isXRRenderTarget===!0),Tt=Ee(se);t.renderbufferStorageMultisample(t.RENDERBUFFER,Tt,ft,se.width,se.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ze,t.RENDERBUFFER,De.__webglColorRenderbuffer[Ze])}t.bindRenderbuffer(t.RENDERBUFFER,null),se.depthBuffer&&(De.__webglDepthRenderbuffer=t.createRenderbuffer(),Pe(De.__webglDepthRenderbuffer,se,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Le){n.bindTexture(t.TEXTURE_CUBE_MAP,ge.__webglTexture),z(t.TEXTURE_CUBE_MAP,G);for(let Ze=0;Ze<6;Ze++)if(G.mipmaps&&G.mipmaps.length>0)for(let st=0;st<G.mipmaps.length;st++)Ae(De.__webglFramebuffer[Ze][st],se,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,st);else Ae(De.__webglFramebuffer[Ze],se,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0);y(G)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ve){for(let Ze=0,st=Ce.length;Ze<st;Ze++){const Yt=Ce[Ze],et=r.get(Yt);let ft=t.TEXTURE_2D;(se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(ft=se.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ft,et.__webglTexture),z(ft,Yt),Ae(De.__webglFramebuffer,se,Yt,t.COLOR_ATTACHMENT0+Ze,ft,0),y(Yt)&&v(ft)}n.unbindTexture()}else{let Ze=t.TEXTURE_2D;if((se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(Ze=se.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ze,ge.__webglTexture),z(Ze,G),G.mipmaps&&G.mipmaps.length>0)for(let st=0;st<G.mipmaps.length;st++)Ae(De.__webglFramebuffer[st],se,G,t.COLOR_ATTACHMENT0,Ze,st);else Ae(De.__webglFramebuffer,se,G,t.COLOR_ATTACHMENT0,Ze,0);y(G)&&v(Ze),n.unbindTexture()}se.depthBuffer&&ot(se)}function jt(se){const G=se.textures;for(let De=0,ge=G.length;De<ge;De++){const Ce=G[De];if(y(Ce)){const Le=S(se),Ve=r.get(Ce).__webglTexture;n.bindTexture(Le,Ve),v(Le),n.unbindTexture()}}}const le=[],pt=[];function rn(se){if(se.samples>0){if(ct(se)===!1){const G=se.textures,De=se.width,ge=se.height;let Ce=t.COLOR_BUFFER_BIT;const Le=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ve=r.get(se),Ze=G.length>1;if(Ze)for(let Yt=0;Yt<G.length;Yt++)n.bindFramebuffer(t.FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Yt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ve.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Yt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ve.__webglMultisampledFramebuffer);const st=se.texture.mipmaps;st&&st.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ve.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ve.__webglFramebuffer);for(let Yt=0;Yt<G.length;Yt++){if(se.resolveDepthBuffer&&(se.depthBuffer&&(Ce|=t.DEPTH_BUFFER_BIT),se.stencilBuffer&&se.resolveStencilBuffer&&(Ce|=t.STENCIL_BUFFER_BIT)),Ze){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ve.__webglColorRenderbuffer[Yt]);const et=r.get(G[Yt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,et,0)}t.blitFramebuffer(0,0,De,ge,0,0,De,ge,Ce,t.NEAREST),u===!0&&(le.length=0,pt.length=0,le.push(t.COLOR_ATTACHMENT0+Yt),se.depthBuffer&&se.resolveDepthBuffer===!1&&(le.push(Le),pt.push(Le),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,pt)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,le))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ze)for(let Yt=0;Yt<G.length;Yt++){n.bindFramebuffer(t.FRAMEBUFFER,Ve.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Yt,t.RENDERBUFFER,Ve.__webglColorRenderbuffer[Yt]);const et=r.get(G[Yt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ve.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Yt,t.TEXTURE_2D,et,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ve.__webglMultisampledFramebuffer)}else if(se.depthBuffer&&se.resolveDepthBuffer===!1&&u){const G=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[G])}}}function Ee(se){return Math.min(i.maxSamples,se.samples)}function ct(se){const G=r.get(se);return se.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function zt(se){const G=a.render.frame;d.get(se)!==G&&(d.set(se,G),se.update())}function Mt(se,G){const De=se.colorSpace,ge=se.format,Ce=se.type;return se.isCompressedTexture===!0||se.isVideoTexture===!0||De!==Op&&De!==ld&&(wr.getTransfer(De)===kr?(ge!==yu||Ce!==Ho)&&Zn("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Sr("WebGLTextures: Unsupported texture color space:",De)),G}function xt(se){return typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement?(l.width=se.naturalWidth||se.width,l.height=se.naturalHeight||se.height):typeof VideoFrame<"u"&&se instanceof VideoFrame?(l.width=se.displayWidth,l.height=se.displayHeight):(l.width=se.width,l.height=se.height),l}this.allocateTextureUnit=q,this.resetTextureUnits=H,this.setTexture2D=ae,this.setTexture2DArray=he,this.setTexture3D=oe,this.setTextureCube=Q,this.rebindTextures=Dt,this.setupRenderTarget=yt,this.updateRenderTargetMipmap=jt,this.updateMultisampleRenderTarget=rn,this.setupDepthRenderbuffer=ot,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=ct,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function Dee(t,e){function n(r,i=ld){let s;const a=wr.getTransfer(i);if(r===Ho)return t.UNSIGNED_BYTE;if(r===wA)return t.UNSIGNED_SHORT_4_4_4_4;if(r===AA)return t.UNSIGNED_SHORT_5_5_5_1;if(r===RR)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===IR)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===MR)return t.BYTE;if(r===PR)return t.SHORT;if(r===Lm)return t.UNSIGNED_SHORT;if(r===EA)return t.INT;if(r===sl)return t.UNSIGNED_INT;if(r===Zu)return t.FLOAT;if(r===oc)return t.HALF_FLOAT;if(r===kR)return t.ALPHA;if(r===FR)return t.RGB;if(r===yu)return t.RGBA;if(r===uc)return t.DEPTH_COMPONENT;if(r===Ah)return t.DEPTH_STENCIL;if(r===OR)return t.RED;if(r===SA)return t.RED_INTEGER;if(r===Fp)return t.RG;if(r===TA)return t.RG_INTEGER;if(r===DA)return t.RGBA_INTEGER;if(r===uv||r===lv||r===cv||r===dv)if(a===kr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===uv)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===lv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===cv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===dv)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===uv)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===lv)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===cv)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===dv)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===$b||r===Kb||r===Yb||r===Xb)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===$b)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Kb)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Yb)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Xb)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Zb||r===Jb||r===Qb||r===eE||r===tE||r===nE||r===rE)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===Zb||r===Jb)return a===kr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===Qb)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC;if(r===eE)return s.COMPRESSED_R11_EAC;if(r===tE)return s.COMPRESSED_SIGNED_R11_EAC;if(r===nE)return s.COMPRESSED_RG11_EAC;if(r===rE)return s.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===iE||r===sE||r===aE||r===oE||r===uE||r===lE||r===cE||r===dE||r===hE||r===fE||r===pE||r===mE||r===gE||r===vE)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===iE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===sE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===aE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===oE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===uE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===lE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===cE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===dE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===hE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===fE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===pE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===mE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===gE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===vE)return a===kr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===_E||r===yE||r===xE)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===_E)return a===kr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===yE)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===xE)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===bE||r===EE||r===wE||r===AE)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===bE)return s.COMPRESSED_RED_RGTC1_EXT;if(r===EE)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===wE)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===AE)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Mm?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const Cee=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Nee=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Lee{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new XR(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new ol({vertexShader:Cee,fragmentShader:Nee,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new al(new ag(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Mee extends Gp{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",u=1,l=null,d=null,f=null,m=null,p=null,_=null;const E=typeof XRWebGLBinding<"u",y=new Lee,v={},S=n.getContextAttributes();let T=null,L=null;const I=[],O=[],B=new zr;let V=null;const M=new Uo;M.viewport=new Ki;const R=new Uo;R.viewport=new Ki;const k=[M,R],H=new jY;let q=null,Y=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let de=I[Z];return de===void 0&&(de=new Xy,I[Z]=de),de.getTargetRaySpace()},this.getControllerGrip=function(Z){let de=I[Z];return de===void 0&&(de=new Xy,I[Z]=de),de.getGripSpace()},this.getHand=function(Z){let de=I[Z];return de===void 0&&(de=new Xy,I[Z]=de),de.getHandSpace()};function ae(Z){const de=O.indexOf(Z.inputSource);if(de===-1)return;const Ae=I[de];Ae!==void 0&&(Ae.update(Z.inputSource,Z.frame,l||a),Ae.dispatchEvent({type:Z.type,data:Z.inputSource}))}function he(){i.removeEventListener("select",ae),i.removeEventListener("selectstart",ae),i.removeEventListener("selectend",ae),i.removeEventListener("squeeze",ae),i.removeEventListener("squeezestart",ae),i.removeEventListener("squeezeend",ae),i.removeEventListener("end",he),i.removeEventListener("inputsourceschange",oe);for(let Z=0;Z<I.length;Z++){const de=O[Z];de!==null&&(O[Z]=null,I[Z].disconnect(de))}q=null,Y=null,y.reset();for(const Z in v)delete v[Z];e.setRenderTarget(T),p=null,m=null,f=null,i=null,L=null,_e.stop(),r.isPresenting=!1,e.setPixelRatio(V),e.setSize(B.width,B.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){s=Z,r.isPresenting===!0&&Zn("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){o=Z,r.isPresenting===!0&&Zn("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(Z){l=Z},this.getBaseLayer=function(){return m!==null?m:p},this.getBinding=function(){return f===null&&E&&(f=new XRWebGLBinding(i,n)),f},this.getFrame=function(){return _},this.getSession=function(){return i},this.setSession=async function(Z){if(i=Z,i!==null){if(T=e.getRenderTarget(),i.addEventListener("select",ae),i.addEventListener("selectstart",ae),i.addEventListener("selectend",ae),i.addEventListener("squeeze",ae),i.addEventListener("squeezestart",ae),i.addEventListener("squeezeend",ae),i.addEventListener("end",he),i.addEventListener("inputsourceschange",oe),S.xrCompatible!==!0&&await n.makeXRCompatible(),V=e.getPixelRatio(),e.getSize(B),E&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ae=null,Pe=null,ke=null;S.depth&&(ke=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ae=S.stencil?Ah:uc,Pe=S.stencil?Mm:sl);const ot={colorFormat:n.RGBA8,depthFormat:ke,scaleFactor:s};f=this.getBinding(),m=f.createProjectionLayer(ot),i.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),L=new rl(m.textureWidth,m.textureHeight,{format:yu,type:Ho,depthTexture:new Rm(m.textureWidth,m.textureHeight,Pe,void 0,void 0,void 0,void 0,void 0,void 0,Ae),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}else{const Ae={antialias:S.antialias,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,n,Ae),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),L=new rl(p.framebufferWidth,p.framebufferHeight,{format:yu,type:Ho,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}L.isXRRenderTarget=!0,this.setFoveation(u),l=null,a=await i.requestReferenceSpace(o),_e.setContext(i),_e.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function oe(Z){for(let de=0;de<Z.removed.length;de++){const Ae=Z.removed[de],Pe=O.indexOf(Ae);Pe>=0&&(O[Pe]=null,I[Pe].disconnect(Ae))}for(let de=0;de<Z.added.length;de++){const Ae=Z.added[de];let Pe=O.indexOf(Ae);if(Pe===-1){for(let ot=0;ot<I.length;ot++)if(ot>=O.length){O.push(Ae),Pe=ot;break}else if(O[ot]===null){O[ot]=Ae,Pe=ot;break}if(Pe===-1)break}const ke=I[Pe];ke&&ke.connect(Ae)}}const Q=new it,xe=new it;function W(Z,de,Ae){Q.setFromMatrixPosition(de.matrixWorld),xe.setFromMatrixPosition(Ae.matrixWorld);const Pe=Q.distanceTo(xe),ke=de.projectionMatrix.elements,ot=Ae.projectionMatrix.elements,Dt=ke[14]/(ke[10]-1),yt=ke[14]/(ke[10]+1),jt=(ke[9]+1)/ke[5],le=(ke[9]-1)/ke[5],pt=(ke[8]-1)/ke[0],rn=(ot[8]+1)/ot[0],Ee=Dt*pt,ct=Dt*rn,zt=Pe/(-pt+rn),Mt=zt*-pt;if(de.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(Mt),Z.translateZ(zt),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert(),ke[10]===-1)Z.projectionMatrix.copy(de.projectionMatrix),Z.projectionMatrixInverse.copy(de.projectionMatrixInverse);else{const xt=Dt+zt,se=yt+zt,G=Ee-Mt,De=ct+(Pe-Mt),ge=jt*yt/se*xt,Ce=le*yt/se*xt;Z.projectionMatrix.makePerspective(G,De,ge,Ce,xt,se),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}}function ee(Z,de){de===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(de.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(i===null)return;let de=Z.near,Ae=Z.far;y.texture!==null&&(y.depthNear>0&&(de=y.depthNear),y.depthFar>0&&(Ae=y.depthFar)),H.near=R.near=M.near=de,H.far=R.far=M.far=Ae,(q!==H.near||Y!==H.far)&&(i.updateRenderState({depthNear:H.near,depthFar:H.far}),q=H.near,Y=H.far),H.layers.mask=Z.layers.mask|6,M.layers.mask=H.layers.mask&3,R.layers.mask=H.layers.mask&5;const Pe=Z.parent,ke=H.cameras;ee(H,Pe);for(let ot=0;ot<ke.length;ot++)ee(ke[ot],Pe);ke.length===2?W(H,M,R):H.projectionMatrix.copy(M.projectionMatrix),z(Z,H,Pe)};function z(Z,de,Ae){Ae===null?Z.matrix.copy(de.matrixWorld):(Z.matrix.copy(Ae.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(de.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(de.projectionMatrix),Z.projectionMatrixInverse.copy(de.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=SE*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return H},this.getFoveation=function(){if(!(m===null&&p===null))return u},this.setFoveation=function(Z){u=Z,m!==null&&(m.fixedFoveation=Z),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=Z)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(H)},this.getCameraTexture=function(Z){return v[Z]};let U=null;function ce(Z,de){if(d=de.getViewerPose(l||a),_=de,d!==null){const Ae=d.views;p!==null&&(e.setRenderTargetFramebuffer(L,p.framebuffer),e.setRenderTarget(L));let Pe=!1;Ae.length!==H.cameras.length&&(H.cameras.length=0,Pe=!0);for(let yt=0;yt<Ae.length;yt++){const jt=Ae[yt];let le=null;if(p!==null)le=p.getViewport(jt);else{const rn=f.getViewSubImage(m,jt);le=rn.viewport,yt===0&&(e.setRenderTargetTextures(L,rn.colorTexture,rn.depthStencilTexture),e.setRenderTarget(L))}let pt=k[yt];pt===void 0&&(pt=new Uo,pt.layers.enable(yt),pt.viewport=new Ki,k[yt]=pt),pt.matrix.fromArray(jt.transform.matrix),pt.matrix.decompose(pt.position,pt.quaternion,pt.scale),pt.projectionMatrix.fromArray(jt.projectionMatrix),pt.projectionMatrixInverse.copy(pt.projectionMatrix).invert(),pt.viewport.set(le.x,le.y,le.width,le.height),yt===0&&(H.matrix.copy(pt.matrix),H.matrix.decompose(H.position,H.quaternion,H.scale)),Pe===!0&&H.cameras.push(pt)}const ke=i.enabledFeatures;if(ke&&ke.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&E){f=r.getBinding();const yt=f.getDepthInformation(Ae[0]);yt&&yt.isValid&&yt.texture&&y.init(yt,i.renderState)}if(ke&&ke.includes("camera-access")&&E){e.state.unbindTexture(),f=r.getBinding();for(let yt=0;yt<Ae.length;yt++){const jt=Ae[yt].camera;if(jt){let le=v[jt];le||(le=new XR,v[jt]=le);const pt=f.getCameraImage(jt);le.sourceTexture=pt}}}}for(let Ae=0;Ae<I.length;Ae++){const Pe=O[Ae],ke=I[Ae];Pe!==null&&ke!==void 0&&ke.update(Pe,de,l||a)}U&&U(Z,de),de.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:de}),_=null}const _e=new QR;_e.setAnimationLoop(ce),this.setAnimationLoop=function(Z){U=Z},this.dispose=function(){}}}const ih=new lc,Pee=new is;function Ree(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function r(y,v){v.color.getRGB(y.fogColor.value,GR(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function i(y,v,S,T,L){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(y,v):v.isMeshToonMaterial?(s(y,v),f(y,v)):v.isMeshPhongMaterial?(s(y,v),d(y,v)):v.isMeshStandardMaterial?(s(y,v),m(y,v),v.isMeshPhysicalMaterial&&p(y,v,L)):v.isMeshMatcapMaterial?(s(y,v),_(y,v)):v.isMeshDepthMaterial?s(y,v):v.isMeshDistanceMaterial?(s(y,v),E(y,v)):v.isMeshNormalMaterial?s(y,v):v.isLineBasicMaterial?(a(y,v),v.isLineDashedMaterial&&o(y,v)):v.isPointsMaterial?u(y,v,S,T):v.isSpriteMaterial?l(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===Ga&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===Ga&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const S=e.get(v),T=S.envMap,L=S.envMapRotation;T&&(y.envMap.value=T,ih.copy(L),ih.x*=-1,ih.y*=-1,ih.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(ih.y*=-1,ih.z*=-1),y.envMapRotation.value.setFromMatrix4(Pee.makeRotationFromEuler(ih)),y.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap&&(y.lightMap.value=v.lightMap,y.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,y.lightMapTransform)),v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function a(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function o(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function u(y,v,S,T){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*S,y.scale.value=T*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function l(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function d(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function f(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function m(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function p(y,v,S){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Ga&&y.clearcoatNormalScale.value.negate())),v.dispersion>0&&(y.dispersion.value=v.dispersion),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function _(y,v){v.matcap&&(y.matcap.value=v.matcap)}function E(y,v){const S=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(S.matrixWorld),y.nearDistance.value=S.shadow.camera.near,y.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Iee(t,e,n,r){let i={},s={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function u(S,T){const L=T.program;r.uniformBlockBinding(S,L)}function l(S,T){let L=i[S.id];L===void 0&&(_(S),L=d(S),i[S.id]=L,S.addEventListener("dispose",y));const I=T.program;r.updateUBOMapping(S,I);const O=e.render.frame;s[S.id]!==O&&(m(S),s[S.id]=O)}function d(S){const T=f();S.__bindingPointIndex=T;const L=t.createBuffer(),I=S.__size,O=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,L),t.bufferData(t.UNIFORM_BUFFER,I,O),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,T,L),L}function f(){for(let S=0;S<o;S++)if(a.indexOf(S)===-1)return a.push(S),S;return Sr("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(S){const T=i[S.id],L=S.uniforms,I=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,T);for(let O=0,B=L.length;O<B;O++){const V=Array.isArray(L[O])?L[O]:[L[O]];for(let M=0,R=V.length;M<R;M++){const k=V[M];if(p(k,O,M,I)===!0){const H=k.__offset,q=Array.isArray(k.value)?k.value:[k.value];let Y=0;for(let ae=0;ae<q.length;ae++){const he=q[ae],oe=E(he);typeof he=="number"||typeof he=="boolean"?(k.__data[0]=he,t.bufferSubData(t.UNIFORM_BUFFER,H+Y,k.__data)):he.isMatrix3?(k.__data[0]=he.elements[0],k.__data[1]=he.elements[1],k.__data[2]=he.elements[2],k.__data[3]=0,k.__data[4]=he.elements[3],k.__data[5]=he.elements[4],k.__data[6]=he.elements[5],k.__data[7]=0,k.__data[8]=he.elements[6],k.__data[9]=he.elements[7],k.__data[10]=he.elements[8],k.__data[11]=0):(he.toArray(k.__data,Y),Y+=oe.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,H,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(S,T,L,I){const O=S.value,B=T+"_"+L;if(I[B]===void 0)return typeof O=="number"||typeof O=="boolean"?I[B]=O:I[B]=O.clone(),!0;{const V=I[B];if(typeof O=="number"||typeof O=="boolean"){if(V!==O)return I[B]=O,!0}else if(V.equals(O)===!1)return V.copy(O),!0}return!1}function _(S){const T=S.uniforms;let L=0;const I=16;for(let B=0,V=T.length;B<V;B++){const M=Array.isArray(T[B])?T[B]:[T[B]];for(let R=0,k=M.length;R<k;R++){const H=M[R],q=Array.isArray(H.value)?H.value:[H.value];for(let Y=0,ae=q.length;Y<ae;Y++){const he=q[Y],oe=E(he),Q=L%I,xe=Q%oe.boundary,W=Q+xe;L+=xe,W!==0&&I-W<oe.storage&&(L+=I-W),H.__data=new Float32Array(oe.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=L,L+=oe.storage}}}const O=L%I;return O>0&&(L+=I-O),S.__size=L,S.__cache={},this}function E(S){const T={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(T.boundary=4,T.storage=4):S.isVector2?(T.boundary=8,T.storage=8):S.isVector3||S.isColor?(T.boundary=16,T.storage=12):S.isVector4?(T.boundary=16,T.storage=16):S.isMatrix3?(T.boundary=48,T.storage=48):S.isMatrix4?(T.boundary=64,T.storage=64):S.isTexture?Zn("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Zn("WebGLRenderer: Unsupported uniform value type.",S),T}function y(S){const T=S.target;T.removeEventListener("dispose",y);const L=a.indexOf(T.__bindingPointIndex);a.splice(L,1),t.deleteBuffer(i[T.id]),delete i[T.id],delete s[T.id]}function v(){for(const S in i)t.deleteBuffer(i[S]);a=[],i={},s={}}return{bind:u,update:l,dispose:v}}const kee=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Hu=null;function Fee(){return Hu===null&&(Hu=new RY(kee,16,16,Fp,oc),Hu.name="DFG_LUT",Hu.minFilter=ua,Hu.magFilter=ua,Hu.wrapS=Kl,Hu.wrapT=Kl,Hu.generateMipmaps=!1,Hu.needsUpdate=!0),Hu}class Oee{constructor(e={}){const{canvas:n=sY(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:l=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:m=!1,outputBufferType:p=Ho}=e;this.isWebGLRenderer=!0;let _;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=r.getContextAttributes().alpha}else _=a;const E=p,y=new Set([DA,TA,SA]),v=new Set([Ho,sl,Lm,Mm,wA,AA]),S=new Uint32Array(4),T=new Int32Array(4);let L=null,I=null;const O=[],B=[];let V=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=nl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const M=this;let R=!1;this._outputColorSpace=Bo;let k=0,H=0,q=null,Y=-1,ae=null;const he=new Ki,oe=new Ki;let Q=null;const xe=new jr(0);let W=0,ee=n.width,z=n.height,U=1,ce=null,_e=null;const Z=new Ki(0,0,ee,z),de=new Ki(0,0,ee,z);let Ae=!1;const Pe=new YR;let ke=!1,ot=!1;const Dt=new is,yt=new it,jt=new Ki,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let pt=!1;function rn(){return q===null?U:1}let Ee=r;function ct(re,Ue){return n.getContext(re,Ue)}try{const re={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:l,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${bA}`),n.addEventListener("webglcontextlost",un,!1),n.addEventListener("webglcontextrestored",qn,!1),n.addEventListener("webglcontextcreationerror",Fn,!1),Ee===null){const Ue="webgl2";if(Ee=ct(Ue,re),Ee===null)throw ct(Ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(re){throw Sr("WebGLRenderer: "+re.message),re}let zt,Mt,xt,se,G,De,ge,Ce,Le,Ve,Ze,st,Yt,et,ft,Tt,Nt,nt,qt,we,gt,vt,bt,Qe;function rt(){zt=new FJ(Ee),zt.init(),vt=new Dee(Ee,zt),Mt=new DJ(Ee,zt,e,vt),xt=new See(Ee,zt),Mt.reversedDepthBuffer&&m&&xt.buffers.depth.setReversed(!0),se=new UJ(Ee),G=new cee,De=new Tee(Ee,zt,xt,G,Mt,vt,se),ge=new NJ(M),Ce=new kJ(M),Le=new VY(Ee),bt=new SJ(Ee,Le),Ve=new OJ(Ee,Le,se,bt),Ze=new zJ(Ee,Ve,Le,se),qt=new jJ(Ee,Mt,De),Tt=new CJ(G),st=new lee(M,ge,Ce,zt,Mt,bt,Tt),Yt=new Ree(M,G),et=new hee,ft=new _ee(zt),nt=new AJ(M,ge,Ce,xt,Ze,_,u),Nt=new wee(M,Ze,Mt),Qe=new Iee(Ee,se,Mt,xt),we=new TJ(Ee,zt,se),gt=new BJ(Ee,zt,se),se.programs=st.programs,M.capabilities=Mt,M.extensions=zt,M.properties=G,M.renderLists=et,M.shadowMap=Nt,M.state=xt,M.info=se}rt(),E!==Ho&&(V=new VJ(E,n.width,n.height,i,s));const Ht=new Mee(M,Ee);this.xr=Ht,this.getContext=function(){return Ee},this.getContextAttributes=function(){return Ee.getContextAttributes()},this.forceContextLoss=function(){const re=zt.get("WEBGL_lose_context");re&&re.loseContext()},this.forceContextRestore=function(){const re=zt.get("WEBGL_lose_context");re&&re.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(re){re!==void 0&&(U=re,this.setSize(ee,z,!1))},this.getSize=function(re){return re.set(ee,z)},this.setSize=function(re,Ue,Ge=!0){if(Ht.isPresenting){Zn("WebGLRenderer: Can't change size while VR device is presenting.");return}ee=re,z=Ue,n.width=Math.floor(re*U),n.height=Math.floor(Ue*U),Ge===!0&&(n.style.width=re+"px",n.style.height=Ue+"px"),V!==null&&V.setSize(n.width,n.height),this.setViewport(0,0,re,Ue)},this.getDrawingBufferSize=function(re){return re.set(ee*U,z*U).floor()},this.setDrawingBufferSize=function(re,Ue,Ge){ee=re,z=Ue,U=Ge,n.width=Math.floor(re*Ge),n.height=Math.floor(Ue*Ge),this.setViewport(0,0,re,Ue)},this.setEffects=function(re){if(E===Ho){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(re){for(let Ue=0;Ue<re.length;Ue++)if(re[Ue].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}V.setEffects(re||[])},this.getCurrentViewport=function(re){return re.copy(he)},this.getViewport=function(re){return re.copy(Z)},this.setViewport=function(re,Ue,Ge,Ye){re.isVector4?Z.set(re.x,re.y,re.z,re.w):Z.set(re,Ue,Ge,Ye),xt.viewport(he.copy(Z).multiplyScalar(U).round())},this.getScissor=function(re){return re.copy(de)},this.setScissor=function(re,Ue,Ge,Ye){re.isVector4?de.set(re.x,re.y,re.z,re.w):de.set(re,Ue,Ge,Ye),xt.scissor(oe.copy(de).multiplyScalar(U).round())},this.getScissorTest=function(){return Ae},this.setScissorTest=function(re){xt.setScissorTest(Ae=re)},this.setOpaqueSort=function(re){ce=re},this.setTransparentSort=function(re){_e=re},this.getClearColor=function(re){return re.copy(nt.getClearColor())},this.setClearColor=function(){nt.setClearColor(...arguments)},this.getClearAlpha=function(){return nt.getClearAlpha()},this.setClearAlpha=function(){nt.setClearAlpha(...arguments)},this.clear=function(re=!0,Ue=!0,Ge=!0){let Ye=0;if(re){let ze=!1;if(q!==null){const Et=q.texture.format;ze=y.has(Et)}if(ze){const Et=q.texture.type,Ft=v.has(Et),Ot=nt.getClearColor(),tn=nt.getClearAlpha(),It=Ot.r,mn=Ot.g,xn=Ot.b;Ft?(S[0]=It,S[1]=mn,S[2]=xn,S[3]=tn,Ee.clearBufferuiv(Ee.COLOR,0,S)):(T[0]=It,T[1]=mn,T[2]=xn,T[3]=tn,Ee.clearBufferiv(Ee.COLOR,0,T))}else Ye|=Ee.COLOR_BUFFER_BIT}Ue&&(Ye|=Ee.DEPTH_BUFFER_BIT),Ge&&(Ye|=Ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ee.clear(Ye)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",un,!1),n.removeEventListener("webglcontextrestored",qn,!1),n.removeEventListener("webglcontextcreationerror",Fn,!1),nt.dispose(),et.dispose(),ft.dispose(),G.dispose(),ge.dispose(),Ce.dispose(),Ze.dispose(),bt.dispose(),Qe.dispose(),st.dispose(),Ht.dispose(),Ht.removeEventListener("sessionstart",Pt),Ht.removeEventListener("sessionend",Zt),dn.stop()};function un(re){re.preventDefault(),wD("WebGLRenderer: Context Lost."),R=!0}function qn(){wD("WebGLRenderer: Context Restored."),R=!1;const re=se.autoReset,Ue=Nt.enabled,Ge=Nt.autoUpdate,Ye=Nt.needsUpdate,ze=Nt.type;rt(),se.autoReset=re,Nt.enabled=Ue,Nt.autoUpdate=Ge,Nt.needsUpdate=Ye,Nt.type=ze}function Fn(re){Sr("WebGLRenderer: A WebGL context could not be created. Reason: ",re.statusMessage)}function cn(re){const Ue=re.target;Ue.removeEventListener("dispose",cn),Vr(Ue)}function Vr(re){Ne(re),G.remove(re)}function Ne(re){const Ue=G.get(re).programs;Ue!==void 0&&(Ue.forEach(function(Ge){st.releaseProgram(Ge)}),re.isShaderMaterial&&st.releaseShaderCache(re))}this.renderBufferDirect=function(re,Ue,Ge,Ye,ze,Et){Ue===null&&(Ue=le);const Ft=ze.isMesh&&ze.matrixWorld.determinant()<0,Ot=$n(re,Ue,Ge,Ye,ze);xt.setMaterial(Ye,Ft);let tn=Ge.index,It=1;if(Ye.wireframe===!0){if(tn=Ve.getWireframeAttribute(Ge),tn===void 0)return;It=2}const mn=Ge.drawRange,xn=Ge.attributes.position;let _n=mn.start*It,sr=(mn.start+mn.count)*It;Et!==null&&(_n=Math.max(_n,Et.start*It),sr=Math.min(sr,(Et.start+Et.count)*It)),tn!==null?(_n=Math.max(_n,0),sr=Math.min(sr,tn.count)):xn!=null&&(_n=Math.max(_n,0),sr=Math.min(sr,xn.count));const ar=sr-_n;if(ar<0||ar===1/0)return;bt.setup(ze,Ye,Ot,Ge,tn);let hr,lr=we;if(tn!==null&&(hr=Le.get(tn),lr=gt,lr.setIndex(hr)),ze.isMesh)Ye.wireframe===!0?(xt.setLineWidth(Ye.wireframeLinewidth*rn()),lr.setMode(Ee.LINES)):lr.setMode(Ee.TRIANGLES);else if(ze.isLine){let ln=Ye.linewidth;ln===void 0&&(ln=1),xt.setLineWidth(ln*rn()),ze.isLineSegments?lr.setMode(Ee.LINES):ze.isLineLoop?lr.setMode(Ee.LINE_LOOP):lr.setMode(Ee.LINE_STRIP)}else ze.isPoints?lr.setMode(Ee.POINTS):ze.isSprite&&lr.setMode(Ee.TRIANGLES);if(ze.isBatchedMesh)if(ze._multiDrawInstances!==null)Pm("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),lr.renderMultiDrawInstances(ze._multiDrawStarts,ze._multiDrawCounts,ze._multiDrawCount,ze._multiDrawInstances);else if(zt.get("WEBGL_multi_draw"))lr.renderMultiDraw(ze._multiDrawStarts,ze._multiDrawCounts,ze._multiDrawCount);else{const ln=ze._multiDrawStarts,Rn=ze._multiDrawCounts,Vn=ze._multiDrawCount,Bi=tn?Le.get(tn).bytesPerElement:1,Aa=G.get(Ye).currentProgram.getUniforms();for(let pi=0;pi<Vn;pi++)Aa.setValue(Ee,"_gl_DrawID",pi),lr.render(ln[pi]/Bi,Rn[pi])}else if(ze.isInstancedMesh)lr.renderInstances(_n,ar,ze.count);else if(Ge.isInstancedBufferGeometry){const ln=Ge._maxInstanceCount!==void 0?Ge._maxInstanceCount:1/0,Rn=Math.min(Ge.instanceCount,ln);lr.renderInstances(_n,ar,Rn)}else lr.render(_n,ar)};function Be(re,Ue,Ge){re.transparent===!0&&re.side===ql&&re.forceSinglePass===!1?(re.side=Ga,re.needsUpdate=!0,Cn(re,Ue,Ge),re.side=vd,re.needsUpdate=!0,Cn(re,Ue,Ge),re.side=ql):Cn(re,Ue,Ge)}this.compile=function(re,Ue,Ge=null){Ge===null&&(Ge=re),I=ft.get(Ge),I.init(Ue),B.push(I),Ge.traverseVisible(function(ze){ze.isLight&&ze.layers.test(Ue.layers)&&(I.pushLight(ze),ze.castShadow&&I.pushShadow(ze))}),re!==Ge&&re.traverseVisible(function(ze){ze.isLight&&ze.layers.test(Ue.layers)&&(I.pushLight(ze),ze.castShadow&&I.pushShadow(ze))}),I.setupLights();const Ye=new Set;return re.traverse(function(ze){if(!(ze.isMesh||ze.isPoints||ze.isLine||ze.isSprite))return;const Et=ze.material;if(Et)if(Array.isArray(Et))for(let Ft=0;Ft<Et.length;Ft++){const Ot=Et[Ft];Be(Ot,Ge,ze),Ye.add(Ot)}else Be(Et,Ge,ze),Ye.add(Et)}),I=B.pop(),Ye},this.compileAsync=function(re,Ue,Ge=null){const Ye=this.compile(re,Ue,Ge);return new Promise(ze=>{function Et(){if(Ye.forEach(function(Ft){G.get(Ft).currentProgram.isReady()&&Ye.delete(Ft)}),Ye.size===0){ze(re);return}setTimeout(Et,10)}zt.get("KHR_parallel_shader_compile")!==null?Et():setTimeout(Et,10)})};let Xe=null;function ht(re){Xe&&Xe(re)}function Pt(){dn.stop()}function Zt(){dn.start()}const dn=new QR;dn.setAnimationLoop(ht),typeof self<"u"&&dn.setContext(self),this.setAnimationLoop=function(re){Xe=re,Ht.setAnimationLoop(re),re===null?dn.stop():dn.start()},Ht.addEventListener("sessionstart",Pt),Ht.addEventListener("sessionend",Zt),this.render=function(re,Ue){if(Ue!==void 0&&Ue.isCamera!==!0){Sr("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;const Ge=Ht.enabled===!0&&Ht.isPresenting===!0,Ye=V!==null&&(q===null||Ge)&&V.begin(M,q);if(re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),Ue.parent===null&&Ue.matrixWorldAutoUpdate===!0&&Ue.updateMatrixWorld(),Ht.enabled===!0&&Ht.isPresenting===!0&&(V===null||V.isCompositing()===!1)&&(Ht.cameraAutoUpdate===!0&&Ht.updateCamera(Ue),Ue=Ht.getCamera()),re.isScene===!0&&re.onBeforeRender(M,re,Ue,q),I=ft.get(re,B.length),I.init(Ue),B.push(I),Dt.multiplyMatrices(Ue.projectionMatrix,Ue.matrixWorldInverse),Pe.setFromProjectionMatrix(Dt,Ju,Ue.reversedDepth),ot=this.localClippingEnabled,ke=Tt.init(this.clippingPlanes,ot),L=et.get(re,O.length),L.init(),O.push(L),Ht.enabled===!0&&Ht.isPresenting===!0){const Ft=M.xr.getDepthSensingMesh();Ft!==null&&Qt(Ft,Ue,-1/0,M.sortObjects)}Qt(re,Ue,0,M.sortObjects),L.finish(),M.sortObjects===!0&&L.sort(ce,_e),pt=Ht.enabled===!1||Ht.isPresenting===!1||Ht.hasDepthSensing()===!1,pt&&nt.addToRenderList(L,re),this.info.render.frame++,ke===!0&&Tt.beginShadows();const ze=I.state.shadowsArray;if(Nt.render(ze,re,Ue),ke===!0&&Tt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Ye&&V.hasRenderPass())===!1){const Ft=L.opaque,Ot=L.transmissive;if(I.setupLights(),Ue.isArrayCamera){const tn=Ue.cameras;if(Ot.length>0)for(let It=0,mn=tn.length;It<mn;It++){const xn=tn[It];Jt(Ft,Ot,re,xn)}pt&&nt.render(re);for(let It=0,mn=tn.length;It<mn;It++){const xn=tn[It];en(L,re,xn,xn.viewport)}}else Ot.length>0&&Jt(Ft,Ot,re,Ue),pt&&nt.render(re),en(L,re,Ue)}q!==null&&H===0&&(De.updateMultisampleRenderTarget(q),De.updateRenderTargetMipmap(q)),Ye&&V.end(M),re.isScene===!0&&re.onAfterRender(M,re,Ue),bt.resetDefaultState(),Y=-1,ae=null,B.pop(),B.length>0?(I=B[B.length-1],ke===!0&&Tt.setGlobalState(M.clippingPlanes,I.state.camera)):I=null,O.pop(),O.length>0?L=O[O.length-1]:L=null};function Qt(re,Ue,Ge,Ye){if(re.visible===!1)return;if(re.layers.test(Ue.layers)){if(re.isGroup)Ge=re.renderOrder;else if(re.isLOD)re.autoUpdate===!0&&re.update(Ue);else if(re.isLight)I.pushLight(re),re.castShadow&&I.pushShadow(re);else if(re.isSprite){if(!re.frustumCulled||Pe.intersectsSprite(re)){Ye&&jt.setFromMatrixPosition(re.matrixWorld).applyMatrix4(Dt);const Ft=Ze.update(re),Ot=re.material;Ot.visible&&L.push(re,Ft,Ot,Ge,jt.z,null)}}else if((re.isMesh||re.isLine||re.isPoints)&&(!re.frustumCulled||Pe.intersectsObject(re))){const Ft=Ze.update(re),Ot=re.material;if(Ye&&(re.boundingSphere!==void 0?(re.boundingSphere===null&&re.computeBoundingSphere(),jt.copy(re.boundingSphere.center)):(Ft.boundingSphere===null&&Ft.computeBoundingSphere(),jt.copy(Ft.boundingSphere.center)),jt.applyMatrix4(re.matrixWorld).applyMatrix4(Dt)),Array.isArray(Ot)){const tn=Ft.groups;for(let It=0,mn=tn.length;It<mn;It++){const xn=tn[It],_n=Ot[xn.materialIndex];_n&&_n.visible&&L.push(re,Ft,_n,Ge,jt.z,xn)}}else Ot.visible&&L.push(re,Ft,Ot,Ge,jt.z,null)}}const Et=re.children;for(let Ft=0,Ot=Et.length;Ft<Ot;Ft++)Qt(Et[Ft],Ue,Ge,Ye)}function en(re,Ue,Ge,Ye){const{opaque:ze,transmissive:Et,transparent:Ft}=re;I.setupLightsView(Ge),ke===!0&&Tt.setGlobalState(M.clippingPlanes,Ge),Ye&&xt.viewport(he.copy(Ye)),ze.length>0&&Kt(ze,Ue,Ge),Et.length>0&&Kt(Et,Ue,Ge),Ft.length>0&&Kt(Ft,Ue,Ge),xt.buffers.depth.setTest(!0),xt.buffers.depth.setMask(!0),xt.buffers.color.setMask(!0),xt.setPolygonOffset(!1)}function Jt(re,Ue,Ge,Ye){if((Ge.isScene===!0?Ge.overrideMaterial:null)!==null)return;if(I.state.transmissionRenderTarget[Ye.id]===void 0){const _n=zt.has("EXT_color_buffer_half_float")||zt.has("EXT_color_buffer_float");I.state.transmissionRenderTarget[Ye.id]=new rl(1,1,{generateMipmaps:!0,type:_n?oc:Ho,minFilter:wh,samples:Mt.samples,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:wr.workingColorSpace})}const Et=I.state.transmissionRenderTarget[Ye.id],Ft=Ye.viewport||he;Et.setSize(Ft.z*M.transmissionResolutionScale,Ft.w*M.transmissionResolutionScale);const Ot=M.getRenderTarget(),tn=M.getActiveCubeFace(),It=M.getActiveMipmapLevel();M.setRenderTarget(Et),M.getClearColor(xe),W=M.getClearAlpha(),W<1&&M.setClearColor(16777215,.5),M.clear(),pt&&nt.render(Ge);const mn=M.toneMapping;M.toneMapping=nl;const xn=Ye.viewport;if(Ye.viewport!==void 0&&(Ye.viewport=void 0),I.setupLightsView(Ye),ke===!0&&Tt.setGlobalState(M.clippingPlanes,Ye),Kt(re,Ge,Ye),De.updateMultisampleRenderTarget(Et),De.updateRenderTargetMipmap(Et),zt.has("WEBGL_multisampled_render_to_texture")===!1){let _n=!1;for(let sr=0,ar=Ue.length;sr<ar;sr++){const hr=Ue[sr],{object:lr,geometry:ln,material:Rn,group:Vn}=hr;if(Rn.side===ql&&lr.layers.test(Ye.layers)){const Bi=Rn.side;Rn.side=Ga,Rn.needsUpdate=!0,An(lr,Ge,Ye,ln,Rn,Vn),Rn.side=Bi,Rn.needsUpdate=!0,_n=!0}}_n===!0&&(De.updateMultisampleRenderTarget(Et),De.updateRenderTargetMipmap(Et))}M.setRenderTarget(Ot,tn,It),M.setClearColor(xe,W),xn!==void 0&&(Ye.viewport=xn),M.toneMapping=mn}function Kt(re,Ue,Ge){const Ye=Ue.isScene===!0?Ue.overrideMaterial:null;for(let ze=0,Et=re.length;ze<Et;ze++){const Ft=re[ze],{object:Ot,geometry:tn,group:It}=Ft;let mn=Ft.material;mn.allowOverride===!0&&Ye!==null&&(mn=Ye),Ot.layers.test(Ge.layers)&&An(Ot,Ue,Ge,tn,mn,It)}}function An(re,Ue,Ge,Ye,ze,Et){re.onBeforeRender(M,Ue,Ge,Ye,ze,Et),re.modelViewMatrix.multiplyMatrices(Ge.matrixWorldInverse,re.matrixWorld),re.normalMatrix.getNormalMatrix(re.modelViewMatrix),ze.onBeforeRender(M,Ue,Ge,Ye,re,Et),ze.transparent===!0&&ze.side===ql&&ze.forceSinglePass===!1?(ze.side=Ga,ze.needsUpdate=!0,M.renderBufferDirect(Ge,Ue,Ye,ze,re,Et),ze.side=vd,ze.needsUpdate=!0,M.renderBufferDirect(Ge,Ue,Ye,ze,re,Et),ze.side=ql):M.renderBufferDirect(Ge,Ue,Ye,ze,re,Et),re.onAfterRender(M,Ue,Ge,Ye,ze,Et)}function Cn(re,Ue,Ge){Ue.isScene!==!0&&(Ue=le);const Ye=G.get(re),ze=I.state.lights,Et=I.state.shadowsArray,Ft=ze.state.version,Ot=st.getParameters(re,ze.state,Et,Ue,Ge),tn=st.getProgramCacheKey(Ot);let It=Ye.programs;Ye.environment=re.isMeshStandardMaterial?Ue.environment:null,Ye.fog=Ue.fog,Ye.envMap=(re.isMeshStandardMaterial?Ce:ge).get(re.envMap||Ye.environment),Ye.envMapRotation=Ye.environment!==null&&re.envMap===null?Ue.environmentRotation:re.envMapRotation,It===void 0&&(re.addEventListener("dispose",cn),It=new Map,Ye.programs=It);let mn=It.get(tn);if(mn!==void 0){if(Ye.currentProgram===mn&&Ye.lightsStateVersion===Ft)return Jn(re,Ot),mn}else Ot.uniforms=st.getUniforms(re),re.onBeforeCompile(Ot,M),mn=st.acquireProgram(Ot,tn),It.set(tn,mn),Ye.uniforms=Ot.uniforms;const xn=Ye.uniforms;return(!re.isShaderMaterial&&!re.isRawShaderMaterial||re.clipping===!0)&&(xn.clippingPlanes=Tt.uniform),Jn(re,Ot),Ye.needsLights=gs(re),Ye.lightsStateVersion=Ft,Ye.needsLights&&(xn.ambientLightColor.value=ze.state.ambient,xn.lightProbe.value=ze.state.probe,xn.directionalLights.value=ze.state.directional,xn.directionalLightShadows.value=ze.state.directionalShadow,xn.spotLights.value=ze.state.spot,xn.spotLightShadows.value=ze.state.spotShadow,xn.rectAreaLights.value=ze.state.rectArea,xn.ltc_1.value=ze.state.rectAreaLTC1,xn.ltc_2.value=ze.state.rectAreaLTC2,xn.pointLights.value=ze.state.point,xn.pointLightShadows.value=ze.state.pointShadow,xn.hemisphereLights.value=ze.state.hemi,xn.directionalShadowMap.value=ze.state.directionalShadowMap,xn.directionalShadowMatrix.value=ze.state.directionalShadowMatrix,xn.spotShadowMap.value=ze.state.spotShadowMap,xn.spotLightMatrix.value=ze.state.spotLightMatrix,xn.spotLightMap.value=ze.state.spotLightMap,xn.pointShadowMap.value=ze.state.pointShadowMap,xn.pointShadowMatrix.value=ze.state.pointShadowMatrix),Ye.currentProgram=mn,Ye.uniformsList=null,mn}function Dr(re){if(re.uniformsList===null){const Ue=re.currentProgram.getUniforms();re.uniformsList=hv.seqWithValue(Ue.seq,re.uniforms)}return re.uniformsList}function Jn(re,Ue){const Ge=G.get(re);Ge.outputColorSpace=Ue.outputColorSpace,Ge.batching=Ue.batching,Ge.batchingColor=Ue.batchingColor,Ge.instancing=Ue.instancing,Ge.instancingColor=Ue.instancingColor,Ge.instancingMorph=Ue.instancingMorph,Ge.skinning=Ue.skinning,Ge.morphTargets=Ue.morphTargets,Ge.morphNormals=Ue.morphNormals,Ge.morphColors=Ue.morphColors,Ge.morphTargetsCount=Ue.morphTargetsCount,Ge.numClippingPlanes=Ue.numClippingPlanes,Ge.numIntersection=Ue.numClipIntersection,Ge.vertexAlphas=Ue.vertexAlphas,Ge.vertexTangents=Ue.vertexTangents,Ge.toneMapping=Ue.toneMapping}function $n(re,Ue,Ge,Ye,ze){Ue.isScene!==!0&&(Ue=le),De.resetTextureUnits();const Et=Ue.fog,Ft=Ye.isMeshStandardMaterial?Ue.environment:null,Ot=q===null?M.outputColorSpace:q.isXRRenderTarget===!0?q.texture.colorSpace:Op,tn=(Ye.isMeshStandardMaterial?Ce:ge).get(Ye.envMap||Ft),It=Ye.vertexColors===!0&&!!Ge.attributes.color&&Ge.attributes.color.itemSize===4,mn=!!Ge.attributes.tangent&&(!!Ye.normalMap||Ye.anisotropy>0),xn=!!Ge.morphAttributes.position,_n=!!Ge.morphAttributes.normal,sr=!!Ge.morphAttributes.color;let ar=nl;Ye.toneMapped&&(q===null||q.isXRRenderTarget===!0)&&(ar=M.toneMapping);const hr=Ge.morphAttributes.position||Ge.morphAttributes.normal||Ge.morphAttributes.color,lr=hr!==void 0?hr.length:0,ln=G.get(Ye),Rn=I.state.lights;if(ke===!0&&(ot===!0||re!==ae)){const Kr=re===ae&&Ye.id===Y;Tt.setState(Ye,re,Kr)}let Vn=!1;Ye.version===ln.__version?(ln.needsLights&&ln.lightsStateVersion!==Rn.state.version||ln.outputColorSpace!==Ot||ze.isBatchedMesh&&ln.batching===!1||!ze.isBatchedMesh&&ln.batching===!0||ze.isBatchedMesh&&ln.batchingColor===!0&&ze.colorTexture===null||ze.isBatchedMesh&&ln.batchingColor===!1&&ze.colorTexture!==null||ze.isInstancedMesh&&ln.instancing===!1||!ze.isInstancedMesh&&ln.instancing===!0||ze.isSkinnedMesh&&ln.skinning===!1||!ze.isSkinnedMesh&&ln.skinning===!0||ze.isInstancedMesh&&ln.instancingColor===!0&&ze.instanceColor===null||ze.isInstancedMesh&&ln.instancingColor===!1&&ze.instanceColor!==null||ze.isInstancedMesh&&ln.instancingMorph===!0&&ze.morphTexture===null||ze.isInstancedMesh&&ln.instancingMorph===!1&&ze.morphTexture!==null||ln.envMap!==tn||Ye.fog===!0&&ln.fog!==Et||ln.numClippingPlanes!==void 0&&(ln.numClippingPlanes!==Tt.numPlanes||ln.numIntersection!==Tt.numIntersection)||ln.vertexAlphas!==It||ln.vertexTangents!==mn||ln.morphTargets!==xn||ln.morphNormals!==_n||ln.morphColors!==sr||ln.toneMapping!==ar||ln.morphTargetsCount!==lr)&&(Vn=!0):(Vn=!0,ln.__version=Ye.version);let Bi=ln.currentProgram;Vn===!0&&(Bi=Cn(Ye,Ue,ze));let Aa=!1,pi=!1,vs=!1;const fr=Bi.getUniforms(),On=ln.uniforms;if(xt.useProgram(Bi.program)&&(Aa=!0,pi=!0,vs=!0),Ye.id!==Y&&(Y=Ye.id,pi=!0),Aa||ae!==re){xt.buffers.depth.getReversed()&&re.reversedDepth!==!0&&(re._reversedDepth=!0,re.updateProjectionMatrix()),fr.setValue(Ee,"projectionMatrix",re.projectionMatrix),fr.setValue(Ee,"viewMatrix",re.matrixWorldInverse);const Ti=fr.map.cameraPosition;Ti!==void 0&&Ti.setValue(Ee,yt.setFromMatrixPosition(re.matrixWorld)),Mt.logarithmicDepthBuffer&&fr.setValue(Ee,"logDepthBufFC",2/(Math.log(re.far+1)/Math.LN2)),(Ye.isMeshPhongMaterial||Ye.isMeshToonMaterial||Ye.isMeshLambertMaterial||Ye.isMeshBasicMaterial||Ye.isMeshStandardMaterial||Ye.isShaderMaterial)&&fr.setValue(Ee,"isOrthographic",re.isOrthographicCamera===!0),ae!==re&&(ae=re,pi=!0,vs=!0)}if(ln.needsLights&&(Rn.state.directionalShadowMap.length>0&&fr.setValue(Ee,"directionalShadowMap",Rn.state.directionalShadowMap,De),Rn.state.spotShadowMap.length>0&&fr.setValue(Ee,"spotShadowMap",Rn.state.spotShadowMap,De),Rn.state.pointShadowMap.length>0&&fr.setValue(Ee,"pointShadowMap",Rn.state.pointShadowMap,De)),ze.isSkinnedMesh){fr.setOptional(Ee,ze,"bindMatrix"),fr.setOptional(Ee,ze,"bindMatrixInverse");const Kr=ze.skeleton;Kr&&(Kr.boneTexture===null&&Kr.computeBoneTexture(),fr.setValue(Ee,"boneTexture",Kr.boneTexture,De))}ze.isBatchedMesh&&(fr.setOptional(Ee,ze,"batchingTexture"),fr.setValue(Ee,"batchingTexture",ze._matricesTexture,De),fr.setOptional(Ee,ze,"batchingIdTexture"),fr.setValue(Ee,"batchingIdTexture",ze._indirectTexture,De),fr.setOptional(Ee,ze,"batchingColorTexture"),ze._colorsTexture!==null&&fr.setValue(Ee,"batchingColorTexture",ze._colorsTexture,De));const Si=Ge.morphAttributes;if((Si.position!==void 0||Si.normal!==void 0||Si.color!==void 0)&&qt.update(ze,Ge,Bi),(pi||ln.receiveShadow!==ze.receiveShadow)&&(ln.receiveShadow=ze.receiveShadow,fr.setValue(Ee,"receiveShadow",ze.receiveShadow)),Ye.isMeshGouraudMaterial&&Ye.envMap!==null&&(On.envMap.value=tn,On.flipEnvMap.value=tn.isCubeTexture&&tn.isRenderTargetTexture===!1?-1:1),Ye.isMeshStandardMaterial&&Ye.envMap===null&&Ue.environment!==null&&(On.envMapIntensity.value=Ue.environmentIntensity),On.dfgLUT!==void 0&&(On.dfgLUT.value=Fee()),pi&&(fr.setValue(Ee,"toneMappingExposure",M.toneMappingExposure),ln.needsLights&&gr(On,vs),Et&&Ye.fog===!0&&Yt.refreshFogUniforms(On,Et),Yt.refreshMaterialUniforms(On,Ye,U,z,I.state.transmissionRenderTarget[re.id]),hv.upload(Ee,Dr(ln),On,De)),Ye.isShaderMaterial&&Ye.uniformsNeedUpdate===!0&&(hv.upload(Ee,Dr(ln),On,De),Ye.uniformsNeedUpdate=!1),Ye.isSpriteMaterial&&fr.setValue(Ee,"center",ze.center),fr.setValue(Ee,"modelViewMatrix",ze.modelViewMatrix),fr.setValue(Ee,"normalMatrix",ze.normalMatrix),fr.setValue(Ee,"modelMatrix",ze.matrixWorld),Ye.isShaderMaterial||Ye.isRawShaderMaterial){const Kr=Ye.uniformsGroups;for(let Ti=0,Tu=Kr.length;Ti<Tu;Ti++){const Sa=Kr[Ti];Qe.update(Sa,Bi),Qe.bind(Sa,Bi)}}return Bi}function gr(re,Ue){re.ambientLightColor.needsUpdate=Ue,re.lightProbe.needsUpdate=Ue,re.directionalLights.needsUpdate=Ue,re.directionalLightShadows.needsUpdate=Ue,re.pointLights.needsUpdate=Ue,re.pointLightShadows.needsUpdate=Ue,re.spotLights.needsUpdate=Ue,re.spotLightShadows.needsUpdate=Ue,re.rectAreaLights.needsUpdate=Ue,re.hemisphereLights.needsUpdate=Ue}function gs(re){return re.isMeshLambertMaterial||re.isMeshToonMaterial||re.isMeshPhongMaterial||re.isMeshStandardMaterial||re.isShadowMaterial||re.isShaderMaterial&&re.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return q},this.setRenderTargetTextures=function(re,Ue,Ge){const Ye=G.get(re);Ye.__autoAllocateDepthBuffer=re.resolveDepthBuffer===!1,Ye.__autoAllocateDepthBuffer===!1&&(Ye.__useRenderToTexture=!1),G.get(re.texture).__webglTexture=Ue,G.get(re.depthTexture).__webglTexture=Ye.__autoAllocateDepthBuffer?void 0:Ge,Ye.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(re,Ue){const Ge=G.get(re);Ge.__webglFramebuffer=Ue,Ge.__useDefaultFramebuffer=Ue===void 0};const Hs=Ee.createFramebuffer();this.setRenderTarget=function(re,Ue=0,Ge=0){q=re,k=Ue,H=Ge;let Ye=null,ze=!1,Et=!1;if(re){const Ot=G.get(re);if(Ot.__useDefaultFramebuffer!==void 0){xt.bindFramebuffer(Ee.FRAMEBUFFER,Ot.__webglFramebuffer),he.copy(re.viewport),oe.copy(re.scissor),Q=re.scissorTest,xt.viewport(he),xt.scissor(oe),xt.setScissorTest(Q),Y=-1;return}else if(Ot.__webglFramebuffer===void 0)De.setupRenderTarget(re);else if(Ot.__hasExternalTextures)De.rebindTextures(re,G.get(re.texture).__webglTexture,G.get(re.depthTexture).__webglTexture);else if(re.depthBuffer){const mn=re.depthTexture;if(Ot.__boundDepthTexture!==mn){if(mn!==null&&G.has(mn)&&(re.width!==mn.image.width||re.height!==mn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");De.setupDepthRenderbuffer(re)}}const tn=re.texture;(tn.isData3DTexture||tn.isDataArrayTexture||tn.isCompressedArrayTexture)&&(Et=!0);const It=G.get(re).__webglFramebuffer;re.isWebGLCubeRenderTarget?(Array.isArray(It[Ue])?Ye=It[Ue][Ge]:Ye=It[Ue],ze=!0):re.samples>0&&De.useMultisampledRTT(re)===!1?Ye=G.get(re).__webglMultisampledFramebuffer:Array.isArray(It)?Ye=It[Ge]:Ye=It,he.copy(re.viewport),oe.copy(re.scissor),Q=re.scissorTest}else he.copy(Z).multiplyScalar(U).floor(),oe.copy(de).multiplyScalar(U).floor(),Q=Ae;if(Ge!==0&&(Ye=Hs),xt.bindFramebuffer(Ee.FRAMEBUFFER,Ye)&&xt.drawBuffers(re,Ye),xt.viewport(he),xt.scissor(oe),xt.setScissorTest(Q),ze){const Ot=G.get(re.texture);Ee.framebufferTexture2D(Ee.FRAMEBUFFER,Ee.COLOR_ATTACHMENT0,Ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Ot.__webglTexture,Ge)}else if(Et){const Ot=Ue;for(let tn=0;tn<re.textures.length;tn++){const It=G.get(re.textures[tn]);Ee.framebufferTextureLayer(Ee.FRAMEBUFFER,Ee.COLOR_ATTACHMENT0+tn,It.__webglTexture,Ge,Ot)}}else if(re!==null&&Ge!==0){const Ot=G.get(re.texture);Ee.framebufferTexture2D(Ee.FRAMEBUFFER,Ee.COLOR_ATTACHMENT0,Ee.TEXTURE_2D,Ot.__webglTexture,Ge)}Y=-1},this.readRenderTargetPixels=function(re,Ue,Ge,Ye,ze,Et,Ft,Ot=0){if(!(re&&re.isWebGLRenderTarget)){Sr("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let tn=G.get(re).__webglFramebuffer;if(re.isWebGLCubeRenderTarget&&Ft!==void 0&&(tn=tn[Ft]),tn){xt.bindFramebuffer(Ee.FRAMEBUFFER,tn);try{const It=re.textures[Ot],mn=It.format,xn=It.type;if(!Mt.textureFormatReadable(mn)){Sr("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Mt.textureTypeReadable(xn)){Sr("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ue>=0&&Ue<=re.width-Ye&&Ge>=0&&Ge<=re.height-ze&&(re.textures.length>1&&Ee.readBuffer(Ee.COLOR_ATTACHMENT0+Ot),Ee.readPixels(Ue,Ge,Ye,ze,vt.convert(mn),vt.convert(xn),Et))}finally{const It=q!==null?G.get(q).__webglFramebuffer:null;xt.bindFramebuffer(Ee.FRAMEBUFFER,It)}}},this.readRenderTargetPixelsAsync=async function(re,Ue,Ge,Ye,ze,Et,Ft,Ot=0){if(!(re&&re.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let tn=G.get(re).__webglFramebuffer;if(re.isWebGLCubeRenderTarget&&Ft!==void 0&&(tn=tn[Ft]),tn)if(Ue>=0&&Ue<=re.width-Ye&&Ge>=0&&Ge<=re.height-ze){xt.bindFramebuffer(Ee.FRAMEBUFFER,tn);const It=re.textures[Ot],mn=It.format,xn=It.type;if(!Mt.textureFormatReadable(mn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Mt.textureTypeReadable(xn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const _n=Ee.createBuffer();Ee.bindBuffer(Ee.PIXEL_PACK_BUFFER,_n),Ee.bufferData(Ee.PIXEL_PACK_BUFFER,Et.byteLength,Ee.STREAM_READ),re.textures.length>1&&Ee.readBuffer(Ee.COLOR_ATTACHMENT0+Ot),Ee.readPixels(Ue,Ge,Ye,ze,vt.convert(mn),vt.convert(xn),0);const sr=q!==null?G.get(q).__webglFramebuffer:null;xt.bindFramebuffer(Ee.FRAMEBUFFER,sr);const ar=Ee.fenceSync(Ee.SYNC_GPU_COMMANDS_COMPLETE,0);return Ee.flush(),await aY(Ee,ar,4),Ee.bindBuffer(Ee.PIXEL_PACK_BUFFER,_n),Ee.getBufferSubData(Ee.PIXEL_PACK_BUFFER,0,Et),Ee.deleteBuffer(_n),Ee.deleteSync(ar),Et}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(re,Ue=null,Ge=0){const Ye=Math.pow(2,-Ge),ze=Math.floor(re.image.width*Ye),Et=Math.floor(re.image.height*Ye),Ft=Ue!==null?Ue.x:0,Ot=Ue!==null?Ue.y:0;De.setTexture2D(re,0),Ee.copyTexSubImage2D(Ee.TEXTURE_2D,Ge,0,0,Ft,Ot,ze,Et),xt.unbindTexture()};const Rs=Ee.createFramebuffer(),tr=Ee.createFramebuffer();this.copyTextureToTexture=function(re,Ue,Ge=null,Ye=null,ze=0,Et=null){Et===null&&(ze!==0?(Pm("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Et=ze,ze=0):Et=0);let Ft,Ot,tn,It,mn,xn,_n,sr,ar;const hr=re.isCompressedTexture?re.mipmaps[Et]:re.image;if(Ge!==null)Ft=Ge.max.x-Ge.min.x,Ot=Ge.max.y-Ge.min.y,tn=Ge.isBox3?Ge.max.z-Ge.min.z:1,It=Ge.min.x,mn=Ge.min.y,xn=Ge.isBox3?Ge.min.z:0;else{const Si=Math.pow(2,-ze);Ft=Math.floor(hr.width*Si),Ot=Math.floor(hr.height*Si),re.isDataArrayTexture?tn=hr.depth:re.isData3DTexture?tn=Math.floor(hr.depth*Si):tn=1,It=0,mn=0,xn=0}Ye!==null?(_n=Ye.x,sr=Ye.y,ar=Ye.z):(_n=0,sr=0,ar=0);const lr=vt.convert(Ue.format),ln=vt.convert(Ue.type);let Rn;Ue.isData3DTexture?(De.setTexture3D(Ue,0),Rn=Ee.TEXTURE_3D):Ue.isDataArrayTexture||Ue.isCompressedArrayTexture?(De.setTexture2DArray(Ue,0),Rn=Ee.TEXTURE_2D_ARRAY):(De.setTexture2D(Ue,0),Rn=Ee.TEXTURE_2D),Ee.pixelStorei(Ee.UNPACK_FLIP_Y_WEBGL,Ue.flipY),Ee.pixelStorei(Ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ue.premultiplyAlpha),Ee.pixelStorei(Ee.UNPACK_ALIGNMENT,Ue.unpackAlignment);const Vn=Ee.getParameter(Ee.UNPACK_ROW_LENGTH),Bi=Ee.getParameter(Ee.UNPACK_IMAGE_HEIGHT),Aa=Ee.getParameter(Ee.UNPACK_SKIP_PIXELS),pi=Ee.getParameter(Ee.UNPACK_SKIP_ROWS),vs=Ee.getParameter(Ee.UNPACK_SKIP_IMAGES);Ee.pixelStorei(Ee.UNPACK_ROW_LENGTH,hr.width),Ee.pixelStorei(Ee.UNPACK_IMAGE_HEIGHT,hr.height),Ee.pixelStorei(Ee.UNPACK_SKIP_PIXELS,It),Ee.pixelStorei(Ee.UNPACK_SKIP_ROWS,mn),Ee.pixelStorei(Ee.UNPACK_SKIP_IMAGES,xn);const fr=re.isDataArrayTexture||re.isData3DTexture,On=Ue.isDataArrayTexture||Ue.isData3DTexture;if(re.isDepthTexture){const Si=G.get(re),Kr=G.get(Ue),Ti=G.get(Si.__renderTarget),Tu=G.get(Kr.__renderTarget);xt.bindFramebuffer(Ee.READ_FRAMEBUFFER,Ti.__webglFramebuffer),xt.bindFramebuffer(Ee.DRAW_FRAMEBUFFER,Tu.__webglFramebuffer);for(let Sa=0;Sa<tn;Sa++)fr&&(Ee.framebufferTextureLayer(Ee.READ_FRAMEBUFFER,Ee.COLOR_ATTACHMENT0,G.get(re).__webglTexture,ze,xn+Sa),Ee.framebufferTextureLayer(Ee.DRAW_FRAMEBUFFER,Ee.COLOR_ATTACHMENT0,G.get(Ue).__webglTexture,Et,ar+Sa)),Ee.blitFramebuffer(It,mn,Ft,Ot,_n,sr,Ft,Ot,Ee.DEPTH_BUFFER_BIT,Ee.NEAREST);xt.bindFramebuffer(Ee.READ_FRAMEBUFFER,null),xt.bindFramebuffer(Ee.DRAW_FRAMEBUFFER,null)}else if(ze!==0||re.isRenderTargetTexture||G.has(re)){const Si=G.get(re),Kr=G.get(Ue);xt.bindFramebuffer(Ee.READ_FRAMEBUFFER,Rs),xt.bindFramebuffer(Ee.DRAW_FRAMEBUFFER,tr);for(let Ti=0;Ti<tn;Ti++)fr?Ee.framebufferTextureLayer(Ee.READ_FRAMEBUFFER,Ee.COLOR_ATTACHMENT0,Si.__webglTexture,ze,xn+Ti):Ee.framebufferTexture2D(Ee.READ_FRAMEBUFFER,Ee.COLOR_ATTACHMENT0,Ee.TEXTURE_2D,Si.__webglTexture,ze),On?Ee.framebufferTextureLayer(Ee.DRAW_FRAMEBUFFER,Ee.COLOR_ATTACHMENT0,Kr.__webglTexture,Et,ar+Ti):Ee.framebufferTexture2D(Ee.DRAW_FRAMEBUFFER,Ee.COLOR_ATTACHMENT0,Ee.TEXTURE_2D,Kr.__webglTexture,Et),ze!==0?Ee.blitFramebuffer(It,mn,Ft,Ot,_n,sr,Ft,Ot,Ee.COLOR_BUFFER_BIT,Ee.NEAREST):On?Ee.copyTexSubImage3D(Rn,Et,_n,sr,ar+Ti,It,mn,Ft,Ot):Ee.copyTexSubImage2D(Rn,Et,_n,sr,It,mn,Ft,Ot);xt.bindFramebuffer(Ee.READ_FRAMEBUFFER,null),xt.bindFramebuffer(Ee.DRAW_FRAMEBUFFER,null)}else On?re.isDataTexture||re.isData3DTexture?Ee.texSubImage3D(Rn,Et,_n,sr,ar,Ft,Ot,tn,lr,ln,hr.data):Ue.isCompressedArrayTexture?Ee.compressedTexSubImage3D(Rn,Et,_n,sr,ar,Ft,Ot,tn,lr,hr.data):Ee.texSubImage3D(Rn,Et,_n,sr,ar,Ft,Ot,tn,lr,ln,hr):re.isDataTexture?Ee.texSubImage2D(Ee.TEXTURE_2D,Et,_n,sr,Ft,Ot,lr,ln,hr.data):re.isCompressedTexture?Ee.compressedTexSubImage2D(Ee.TEXTURE_2D,Et,_n,sr,hr.width,hr.height,lr,hr.data):Ee.texSubImage2D(Ee.TEXTURE_2D,Et,_n,sr,Ft,Ot,lr,ln,hr);Ee.pixelStorei(Ee.UNPACK_ROW_LENGTH,Vn),Ee.pixelStorei(Ee.UNPACK_IMAGE_HEIGHT,Bi),Ee.pixelStorei(Ee.UNPACK_SKIP_PIXELS,Aa),Ee.pixelStorei(Ee.UNPACK_SKIP_ROWS,pi),Ee.pixelStorei(Ee.UNPACK_SKIP_IMAGES,vs),Et===0&&Ue.generateMipmaps&&Ee.generateMipmap(Rn),xt.unbindTexture()},this.initRenderTarget=function(re){G.get(re).__webglFramebuffer===void 0&&De.setupRenderTarget(re)},this.initTexture=function(re){re.isCubeTexture?De.setTextureCube(re,0):re.isData3DTexture?De.setTexture3D(re,0):re.isDataArrayTexture||re.isCompressedArrayTexture?De.setTexture2DArray(re,0):De.setTexture2D(re,0),xt.unbindTexture()},this.resetState=function(){k=0,H=0,q=null,xt.reset(),bt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ju}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=wr._getDrawingBufferColorSpace(e),n.unpackColorSpace=wr._getUnpackColorSpace()}}const Bee=({width:t="100vw",height:e="100vh",cameraZ:n=125,planeSize:r=256,speed:i=.5})=>{const s=ne.useRef(null);return ne.useEffect(()=>{if(!s.current)return;class a{uniforms;mesh;time;constructor(){this.uniforms={time:{type:"f",value:0}},this.mesh=this.createMesh(),this.time=i}createMesh(){return new al(new ag(r,r,r,r),new ZR({uniforms:this.uniforms,vertexShader:`
              #define GLSLIFY 1
              attribute vec3 position;
              uniform mat4 projectionMatrix;
              uniform mat4 modelViewMatrix;
              uniform float time;
              varying vec3 vPosition;

              mat4 rotateMatrixX(float radian) {
                return mat4(
                  1.0, 0.0, 0.0, 0.0,
                  0.0, cos(radian), -sin(radian), 0.0,
                  0.0, sin(radian), cos(radian), 0.0,
                  0.0, 0.0, 0.0, 1.0
                );
              }

              vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
              vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
              vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
              vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
              vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }

              float cnoise(vec3 P) {
                vec3 Pi0 = floor(P);
                vec3 Pi1 = Pi0 + vec3(1.0);
                Pi0 = mod289(Pi0);
                Pi1 = mod289(Pi1);
                vec3 Pf0 = fract(P);
                vec3 Pf1 = Pf0 - vec3(1.0);
                vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
                vec4 iy = vec4(Pi0.yy, Pi1.yy);
                vec4 iz0 = Pi0.zzzz;
                vec4 iz1 = Pi1.zzzz;

                vec4 ixy = permute(permute(ix) + iy);
                vec4 ixy0 = permute(ixy + iz0);
                vec4 ixy1 = permute(ixy + iz1);

                vec4 gx0 = ixy0 * (1.0 / 7.0);
                vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
                gx0 = fract(gx0);
                vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
                vec4 sz0 = step(gz0, vec4(0.0));
                gx0 -= sz0 * (step(0.0, gx0) - 0.5);
                gy0 -= sz0 * (step(0.0, gy0) - 0.5);

                vec4 gx1 = ixy1 * (1.0 / 7.0);
                vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
                gx1 = fract(gx1);
                vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
                vec4 sz1 = step(gz1, vec4(0.0));
                gx1 -= sz1 * (step(0.0, gx1) - 0.5);
                gy1 -= sz1 * (step(0.0, gy1) - 0.5);

                vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
                vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
                vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
                vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
                vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
                vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
                vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
                vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);

                vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
                g000 *= norm0.x;
                g010 *= norm0.y;
                g100 *= norm0.z;
                g110 *= norm0.w;
                vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
                g001 *= norm1.x;
                g011 *= norm1.y;
                g101 *= norm1.z;
                g111 *= norm1.w;

                float n000 = dot(g000, Pf0);
                float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
                float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
                float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
                float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
                float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
                float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
                float n111 = dot(g111, Pf1);

                vec3 fade_xyz = fade(Pf0);
                vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
                vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
                float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
                return 2.2 * n_xyz;
              }

              void main(void) {
                vec3 updatePosition = (rotateMatrixX(radians(90.0)) * vec4(position, 1.0)).xyz;
                float sin1 = sin(radians(updatePosition.x / 128.0 * 90.0));
                vec3 noisePosition = updatePosition + vec3(0.0, 0.0, time * -30.0);
                float noise1 = cnoise(noisePosition * 0.08);
                float noise2 = cnoise(noisePosition * 0.06);
                float noise3 = cnoise(noisePosition * 0.4);
                vec3 lastPosition = updatePosition + vec3(0.0,
                  noise1 * sin1 * 8.0
                  + noise2 * sin1 * 8.0
                  + noise3 * (abs(sin1) * 2.0 + 0.5)
                  + pow(sin1, 2.0) * 40.0, 0.0);

                vPosition = lastPosition;
                gl_Position = projectionMatrix * modelViewMatrix * vec4(lastPosition, 1.0);
              }
            `,fragmentShader:`
              precision highp float;
              #define GLSLIFY 1
              varying vec3 vPosition;

              void main(void) {
                float opacity = (96.0 - length(vPosition)) / 256.0 * 0.6;
                vec3 color = vec3(0.6);
                gl_FragColor = vec4(color, opacity);
              }
            `,transparent:!0}))}render(v){this.uniforms.time.value+=v*this.time}}const o=new Oee({canvas:s.current,antialias:!1}),u=new PY,l=new Uo(45,window.innerWidth/window.innerHeight,1,1e4),d=new zY,f=new a,m=()=>{const y=s.current;y&&(y.width=window.innerWidth,y.height=window.innerHeight,l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight))},p=()=>{f.render(d.getDelta()),o.render(u,l)},_=()=>{p(),requestAnimationFrame(_)};return o.setSize(window.innerWidth,window.innerHeight),o.setClearColor(0,0),l.position.set(0,16,n),l.lookAt(new it(0,28,0)),u.add(f.mesh),window.addEventListener("resize",m),m(),_(),()=>{window.removeEventListener("resize",m),o.dispose(),f.mesh.geometry.dispose(),f.mesh.material.dispose()}},[n,r,i]),b.jsx("div",{style:{position:"relative",width:t,height:e},"aria-hidden":"true",children:b.jsx("canvas",{ref:s,style:{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1}})})};function Uee(){return b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("div",{className:"absolute inset-0 pointer-events-none",children:b.jsx(Bee,{width:"100%",height:"100%"})}),b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(1100px_520px_at_10%_-10%,rgba(var(--accent),0.18),transparent_60%),radial-gradient(900px_520px_at_88%_0%,rgba(110,180,255,0.16),transparent_60%)]"}),b.jsx("div",{className:"absolute inset-0 opacity-60 bg-[linear-gradient(to_right,rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[size:3.5rem_3.5rem]"}),b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(520px_260px_at_70%_30%,rgba(255,255,255,0.08),transparent_70%)]"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-72 bg-gradient-to-t from-[var(--bg)] to-transparent"})]})}const jee=Xt.create(hs);function cC({variant:t,href:e,children:n}){const r="px-[var(--space-24)] py-[var(--space-12)] min-h-[var(--size-tap)] rounded-full font-medium text-[length:var(--font-200)] transition-[color,background-color,box-shadow,transform] inline-flex items-center gap-[var(--space-8)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]",i={primary:"bg-accent hover:bg-accent-strong text-black shadow-[0_12px_30px_rgba(var(--accent),0.25)]",secondary:"border border-accent/60 text-accent hover:bg-accent/10 hover:border-accent"};return b.jsxs(jee,{to:`/${e}`,className:`${r} ${i[t]}`,whileHover:{scale:1.03},whileTap:{scale:.97},children:[n,t==="primary"&&b.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",children:b.jsx("path",{d:"M4 10H16M16 10L12 6M16 10L12 14",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})]})}function zee(){const{isFeatureEnabled:t}=wd(),e=t("work_section"),n=Oi();return b.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 h-[calc(100vh-5rem)] flex flex-col justify-center",children:b.jsxs(Xt.div,{className:"max-w-3xl",initial:n?!1:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:n?0:.6},children:[b.jsx("h1",{className:"text-[length:var(--font-900)] md:text-[length:clamp(3rem,4.2vw,4.6rem)] font-semibold text-[var(--text)] mb-[var(--space-24)] leading-[var(--leading-tight)] tracking-[var(--tracking-tight)]",children:b.jsx(At,{translationKey:"hero.title",as:"span",shimmerWidth:"300px",className:"text-gradient-accent"})}),b.jsx("p",{className:"text-[length:var(--font-300)] text-[var(--text-muted)] mb-[var(--space-32)] max-w-2xl",children:b.jsx(At,{translationKey:"hero.subtitle",as:"span",shimmerWidth:"500px"})}),b.jsx("div",{className:"stack mb-[var(--space-48)] max-w-2xl [--stack-space:var(--space-12)]",children:["hero.proof1","hero.proof2","hero.proof3"].map((r,i)=>b.jsxs(Xt.div,{initial:n?!1:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:n?0:.6,delay:n?0:.1+i*.1},className:"flex items-start gap-[var(--space-12)] text-[length:var(--font-100)] md:text-[length:var(--font-200)] text-[var(--text-muted)]",children:[b.jsx("span",{className:"mt-[var(--space-8)] h-[var(--space-8)] w-[var(--space-8)] rounded-full bg-accent/80 shadow-[0_0_12px_rgba(var(--accent),0.45)]","aria-hidden":"true"}),b.jsx(At,{translationKey:r,as:"span",shimmerWidth:"400px"})]},r))}),b.jsxs("div",{className:"flex flex-wrap gap-[var(--space-16)]",children:[e&&b.jsx(cC,{variant:"primary",href:"work",children:b.jsx(At,{translationKey:"hero.ctaWork",shimmerWidth:"120px"})}),b.jsx(cC,{variant:"secondary",href:"contact",children:b.jsx(At,{translationKey:"hero.ctaContact",shimmerWidth:"130px"})})]})]})})}function Hee(){return b.jsx(Xt.div,{className:"absolute bottom-[var(--space-32)] left-1/2 -translate-x-1/2 z-20 text-[var(--text-muted)]",animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2},children:b.jsxs("div",{className:"flex flex-col items-center gap-[var(--space-8)] rounded-full px-[var(--space-16)] py-[var(--space-8)] bg-[var(--surface)] border border-[var(--border)] backdrop-blur-sm",children:[b.jsx(At,{translationKey:"hero.scrollDown",as:"span",className:"text-[length:var(--font-100)] uppercase tracking-[var(--tracking-wide)]",shimmerWidth:"100px"}),b.jsx(ww,{className:"w-[var(--space-16)] h-[var(--space-16)] text-accent"})]})})}function Vee(){return b.jsxs("section",{className:"relative min-h-screen overflow-hidden bg-[var(--bg)]",children:[b.jsx(Uee,{}),b.jsx(zee,{}),b.jsx(Hee,{})]})}function zs({className:t,children:e,...n}){return b.jsx("div",{className:Rp("bg-[var(--surface)] backdrop-blur-sm rounded-[var(--radius-lg)] p-6 border border-[var(--border)] shadow-[0_20px_50px_rgba(7,10,18,0.35)] transition-[color,background-color,box-shadow,transform] duration-300 hover:bg-[var(--surface-strong)] hover:shadow-[0_26px_70px_rgba(7,10,18,0.45)]",t),...n,children:e})}function Wee({icon:t,label:e,value:n,suffix:r,index:i,description:s}){const[a,o]=ne.useState(0),u=Oi();return ne.useEffect(()=>{if(u){o(n);return}let l,d=0;const f=2e3,m=Date.now(),p=()=>{const _=Date.now()-m,E=Math.min(_/f,1),y=1-(1-E)*(1-E);d=Math.floor(y*n),o(d),E<1&&(l=requestAnimationFrame(p))};return l=requestAnimationFrame(p),()=>cancelAnimationFrame(l)},[n,u]),b.jsx(Xt.div,{initial:u?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:u?0:.6,delay:u?0:i*.1,ease:[.16,1,.3,1]},viewport:{once:!0},className:"group",children:b.jsxs(zs,{className:"h-full flex flex-col group-hover:bg-[var(--surface-strong)] transition-colors duration-500",children:[b.jsx("div",{className:"mb-[var(--space-24)]",children:b.jsx("div",{className:`inline-flex p-[var(--space-16)] rounded-[var(--radius-md)] bg-accent/10 text-accent 
          group-hover:bg-accent/20 group-hover:scale-110 transition-transform duration-300`,children:b.jsx(t,{className:"h-7 w-7","aria-hidden":"true"})})}),b.jsx("div",{className:"mb-[var(--space-16)]",children:b.jsxs("h3",{className:"text-[length:var(--font-800)] md:text-[length:var(--font-900)] font-bold text-accent group-hover:text-white transition-colors duration-300",children:[a,b.jsx("span",{className:"text-[length:var(--font-500)] md:text-[length:var(--font-600)] ml-[var(--space-4)]",children:r})]})}),b.jsx("h4",{className:"text-[length:var(--font-400)] font-semibold text-[var(--text)] group-hover:text-accent transition-colors duration-300 mb-[var(--space-12)]",children:e}),s&&b.jsx("p",{className:"text-[length:var(--font-200)] text-[var(--text-muted)] group-hover:text-gray-300 transition-colors duration-300 flex-1",children:s}),b.jsx("div",{className:`absolute inset-0 rounded-[var(--radius-lg)] bg-gradient-to-br from-accent/5 to-transparent 
        opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none`})]})})}function Gee(){const{t}=Hr(),e=Oi(),n=[{icon:wB,label:t("statistics.experience"),translationKey:"statistics.experience",value:3,suffix:"+",description:t("statistics.experienceDescription"),descriptionKey:"statistics.experienceDescription"},{icon:$L,label:t("statistics.projects"),translationKey:"statistics.projects",value:10,suffix:"+",description:t("statistics.projectsDescription"),descriptionKey:"statistics.projectsDescription"},{icon:YB,label:t("statistics.tests"),translationKey:"statistics.tests",value:5,suffix:"",description:t("statistics.testsDescription"),descriptionKey:"statistics.testsDescription"},{icon:qB,label:t("statistics.expertise"),translationKey:"statistics.expertise",value:3,suffix:"",description:t("statistics.expertiseDescription"),descriptionKey:"statistics.expertiseDescription"}];return b.jsx("section",{className:"py-[var(--space-48)] md:py-[var(--space-64)] section-surface",children:b.jsxs("div",{className:"mx-auto max-w-7xl px-4 section-inner",children:[b.jsxs(Xt.div,{initial:e?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:e?0:.6},viewport:{once:!0},className:"text-center mb-[var(--space-48)] md:mb-[var(--space-64)]",children:[b.jsx("h2",{className:"text-[length:var(--font-700)] md:text-[length:var(--font-800)] font-semibold text-[var(--text)] mb-[var(--space-16)] font-display",children:b.jsx(At,{translationKey:"statistics.title",as:"span",shimmerWidth:"200px",className:"text-gradient-accent"})}),b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-300)]",children:b.jsx(At,{translationKey:"statistics.subtitle",as:"span",shimmerWidth:"300px"})})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-[var(--space-24)] mb-[var(--space-48)]",children:n.map((r,i)=>b.jsx(Wee,{icon:r.icon,label:r.label,translationKey:r.translationKey,value:r.value,suffix:r.suffix,description:r.description,descriptionKey:r.descriptionKey,index:i},i))}),b.jsx(Xt.div,{initial:e?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e?0:.4,duration:e?0:.6},className:"text-center",children:b.jsx("p",{className:"mb-[var(--space-24)] text-[length:var(--font-200)] text-[var(--text-muted)]",children:b.jsx(At,{translationKey:"statistics.areas",as:"span",shimmerWidth:"200px"})})})]})})}const qee=t=>Math.min(100,Math.max(0,t)),$ee=(t,e)=>{if(typeof t!="string")return t;const[n,...r]=t.split(":"),i=r.length?n.trim():`Detail ${e+1}`,s=r.length?r.join(":").trim():t.trim();return{title:i,description:s}};function Kee({icon:t,category:e,title:n,description:r,tags:i,proficiency:s,details:a,impactDescription:o,proficiencyLabel:u="Proficiency level",proficiencyLabelText:l="Proficiency level",detailsTitle:d="Detailed Overview",impactTitle:f="Real World Impact",panelId:m,className:p,testId:_="automation-testing-card"}){const E=ne.useId(),y=`${E}-title`,v=`${E}-progress-label`,S=`${E}-progress-value`,T=`${E}-details-title`,L=qee(s),I=a.map($ee);return b.jsx("article",{id:m,"aria-labelledby":y,"data-testid":_,className:Rp("card min-h-[40rem] sm:min-h-[38rem] md:min-h-[36rem] lg:min-h-[32rem] p-4 md:p-6 border border-[var(--border)] bg-[var(--color-bg-card)]","motion-safe:transition-colors motion-safe:duration-200 motion-reduce:transition-none",p),children:b.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,3fr)_minmax(0,2fr)]",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"flex items-center justify-center w-11 h-11 min-w-[44px] min-h-[44px] rounded-full border border-[var(--border)] bg-[var(--color-surface)] text-[var(--color-accent)]",children:b.jsx(t,{className:"h-5 w-5","aria-hidden":"true"})}),b.jsx("span",{className:"inline-flex items-center rounded-full border border-[var(--border)] px-3 py-1 text-xs font-medium uppercase tracking-[0.08em] text-[var(--color-text)]",children:e})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h3",{id:y,className:"text-[clamp(1.75rem,1.55rem+0.8vw,2rem)] font-semibold leading-tight text-[var(--color-text)]",children:n}),b.jsx("p",{className:"text-base leading-relaxed text-[var(--color-muted)]",children:r})]}),b.jsx("ul",{className:"flex flex-wrap gap-2","aria-label":"Tools and technologies",children:i.map(O=>b.jsx("li",{children:b.jsx("button",{type:"button",className:Rp("inline-flex items-center justify-center rounded-full border border-[var(--border)]","px-3 text-[0.8125rem] font-medium leading-[1.4] text-[var(--color-text)]","bg-[var(--color-surface)] min-h-[2.5rem] min-w-[2.5rem]","motion-safe:transition-colors motion-safe:duration-200 motion-reduce:transition-none","hover:bg-[var(--surface-strong)] focus-visible:outline-none","focus-visible:ring-2 focus-visible:ring-[color:var(--color-accent)] focus-visible:ring-offset-2","focus-visible:ring-offset-[var(--color-bg-card)]"),children:O})},O))}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsx("span",{id:v,className:"text-sm font-medium uppercase tracking-[0.08em] text-[var(--color-muted)]",children:u}),b.jsxs("output",{id:S,className:"text-sm font-semibold text-[var(--color-text)]",children:[L,"%"]})]}),b.jsx("div",{role:"progressbar","aria-label":l,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":L,"aria-describedby":S,className:"h-2 w-full overflow-hidden rounded-full border border-[var(--border)] bg-[var(--surface-strong)]",children:b.jsx("div",{className:"h-full rounded-full bg-[var(--color-accent)]",style:{width:`${L}%`}})})]}),b.jsxs("section",{className:"rounded-xl border border-[var(--border)] bg-[var(--color-surface)] p-4",children:[b.jsx("h4",{className:"text-base font-semibold text-[var(--color-text)]",children:f}),b.jsx("p",{className:"mt-2 text-sm leading-relaxed text-[var(--color-muted)]",children:o})]})]}),b.jsxs("aside",{"aria-labelledby":T,className:"space-y-4 border-t border-[var(--border)] pt-4 lg:border-t-0 lg:border-l lg:pl-6",children:[b.jsx("h4",{id:T,className:"text-lg font-semibold text-[var(--color-text)]",children:d}),b.jsx("div",{className:"space-y-3",children:I.map((O,B)=>b.jsxs("section",{className:"rounded-lg border border-[var(--border)] bg-[var(--color-surface)] p-3",children:[b.jsx("h5",{className:"text-sm font-semibold text-[var(--color-text)]",children:O.title}),b.jsx("p",{className:"mt-1 text-sm leading-relaxed text-[var(--color-muted)] line-clamp-2 sm:line-clamp-3 lg:line-clamp-none",children:O.description})]},`${O.title}-${B}`))})]})]})})}const Yee=({technology:t,panelId:e})=>{const{t:n}=Hr(),r=(E,y)=>{const v=n(E);return v.startsWith("[missing:")?y:v},i=r("proficiency","Proficiency"),s=r("technologies.detailsTitle","Detailed Overview"),a=r("technologies.impactTitle","Real World Impact"),{icon:o,title:u,description:l,level:d,detailedDescription:f,realWorldExample:m,category:p,tags:_}=t;return b.jsx(Kee,{icon:o,category:p,title:u,description:l,tags:_,proficiency:d,details:f,impactDescription:m,proficiencyLabel:i,proficiencyLabelText:i,detailsTitle:s,impactTitle:a,panelId:e,testId:t.slug==="automation-testing"?"automation-testing-card":"technology-card"})},Xee=({total:t,current:e,onChange:n})=>b.jsx("div",{className:"flex justify-center gap-2 mt-8",children:Array.from({length:t},(r,i)=>b.jsx("button",{onClick:()=>n(i),className:`h-2.5 rounded-full transition-all duration-300 
                    ${i===e?"bg-customYellow w-8":"bg-gray-600 hover:bg-gray-500 w-2.5"}`,"aria-label":`Go to slide ${i+1}`},i))}),Zee={Code2:E_,GitBranch:kB,Workflow:KL,Kanban:FB,Database:UL,Bug:Ew,Globe:HL,Lightbulb:Tw,Smartphone:WB,Table:GB};function Jee(t){return Zee[t]||E_}function Qee(t){const[e,n]=ne.useState([]),[r,i]=ne.useState(!0),[s,a]=ne.useState(null),o=ne.useCallback(async()=>{try{i(!0),a(null);const[u,l]=await Promise.all([Hn.from("technologies").select("*").eq("language",t).order("created_at",{ascending:!0}),Hn.from("technology_details").select("*").eq("language",t)]);if(u.error)throw u.error;if(l.error)throw l.error;const d=new Map;(l.data||[]).forEach(m=>{d.set(m.technology_id,m)});const f=(u.data||[]).map(m=>{const p=d.get(m.id);return{id:m.id,slug:m.slug,icon:Jee(m.icon_name??""),title:m.title,description:m.description,detailedDescription:p?.detailed_description||[],realWorldExample:p?.real_world_example??"",level:m.level,category:m.category,tags:p?.tags||[]}});n(f)}catch(u){const l=u instanceof Error?u.message:"Failed to load technologies";console.error("Error loading technologies:",u),a(l),n([])}finally{i(!1)}},[t]);return ne.useEffect(()=>{o()},[o]),{technologies:e,isLoading:r,error:s,refetch:o}}const ete=[{id:"automation-testing",slug:"automation-testing",icon:E_,title:"Automation Testing",description:"Framework-first approach to robust UI/API automation with traceable results and CI gates.",detailedDescription:["Playwright (TypeScript): E2E + integration tests with page objects, fixtures, env configs, and tracing.","PyTest: Fast, modular automation for API and integration layers.","XCUITest (Swift): Native iOS UI automation for mobile coverage."],realWorldExample:"Shipped Playwright suites integrated with AWS CodeBuild/CodeArtifact; regression time down ~40% and flaky tests down ~70%.",level:90,category:"Testing",tags:["Playwright","PyTest","XCUITest","TypeScript","Swift"]},{id:"manual-integration-testing",slug:"manual-integration-testing",icon:Ew,title:"Manual & Integration Testing",description:"Structured regression + exploratory testing within Agile teams.",detailedDescription:["Create test plans/cases from specs; collaborate with PM/Dev.","Execute regression/integration cycles; evaluate behavior vs. docs.","Log defects with steps, logs, traces; drive fixes and retests."],realWorldExample:"Maintained smoke/regression gates and post-release checks for various projects.",level:92,category:"Testing",tags:["Manual Testing","Regression","Agile","Test Planning"]},{id:"api-service-validation",slug:"api-service-validation",icon:UL,title:"API & Service Validation",description:"Contract and functional testing for reliable backend services.",detailedDescription:["REST and Postman-based suites with schema/payload validation.","Service virtualization using Mountebank for deterministic E2E flows.","OpenSearch enrichment service checks wired into CI pipelines."],realWorldExample:"Built API suites for an Enrichment Service verifying OpenSearch query enrichment in CI.",level:88,category:"Backend",tags:["REST API","Postman","Mountebank","OpenSearch"]},{id:"cicd-acceleration",slug:"cicd-acceleration",icon:KL,title:"CI/CD Acceleration",description:"Speedy, reliable pipelines with parallelism and artifact hygiene.",detailedDescription:["AWS CodeBuild integration for E2E/integration tests.","Dependency management via AWS CodeArtifact.","Parallel workers, sharding, and auth reuse (storageState) to reduce runtime."],realWorldExample:"Cut CI runtimes while enforcing smoke/regression gates before deploy.",level:86,category:"DevOps",tags:["AWS CodeBuild","CI/CD","Parallelization","Artifact Management"]}];function tte(){const{t,language:e}=Hr(),{technologies:n,isLoading:r,error:i}=Qee(e),[s,a]=ne.useState(0),o="technology-carousel-panel",u=n.length>0?n:ete,l=ne.useMemo(()=>u[s],[s,u]);ne.useEffect(()=>{s>=u.length&&a(0)},[s,u.length]);const d=f=>{a(m=>{let p=m+f;return p>=u.length&&(p=0),p<0&&(p=u.length-1),p})};return r&&n.length===0?b.jsx("div",{className:"flex justify-center py-[var(--space-24)]",children:b.jsx(kh,{})}):l?b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"relative overflow-hidden rounded-[var(--radius-xl)]",children:b.jsx(Yee,{technology:l,panelId:o})}),b.jsxs("div",{className:"mt-[var(--space-24)] grid grid-cols-[minmax(0,1fr)_auto_minmax(0,1fr)] items-center gap-[var(--space-16)]",children:[b.jsx("div",{className:"flex items-center justify-start",children:b.jsx("button",{onClick:()=>d(-1),type:"button","aria-controls":o,"data-testid":"technology-carousel-prev",className:"group flex items-center justify-center w-[var(--size-tap)] h-[var(--size-tap)] rounded-full bg-[var(--surface)] hover:bg-[var(--surface-strong)] border border-[var(--border)] hover:border-accent/40 backdrop-blur-sm transition-[border-color,background-color] duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]","aria-label":t("aria.previousTechnology"),children:b.jsx(SB,{className:"w-[var(--space-24)] h-[var(--space-24)] text-[var(--text)] group-hover:text-accent transition-colors","aria-hidden":"true"})})}),b.jsx(Xee,{total:u.length,current:s,onChange:a}),b.jsx("div",{className:"flex items-center justify-end",children:b.jsx("button",{onClick:()=>d(1),type:"button","aria-controls":o,"data-testid":"technology-carousel-next",className:"group flex items-center justify-center w-[var(--size-tap)] h-[var(--size-tap)] rounded-full bg-[var(--surface)] hover:bg-[var(--surface-strong)] border border-[var(--border)] hover:border-accent/40 backdrop-blur-sm transition-[border-color,background-color] duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]","aria-label":t("aria.nextTechnology"),children:b.jsx(TB,{className:"w-[var(--space-24)] h-[var(--space-24)] text-[var(--text)] group-hover:text-accent transition-colors","aria-hidden":"true"})})})]})]}):b.jsx("div",{className:"text-center text-[var(--text-muted)] text-[length:var(--font-200)]",children:i?`${t("error")}: ${i}`:"No technologies available yet."})}function nte(){return b.jsxs("div",{className:"absolute inset-0 z-0",children:[b.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,rgba(255,255,255,0.04)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.04)_1px,transparent_1px)] bg-[size:3rem_3rem]"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-accent/5 to-transparent"}),b.jsx("div",{className:"absolute inset-0 z-1",children:b.jsxs("svg",{className:"w-full h-full opacity-5",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[b.jsx(Xt.path,{d:"M10,20 L30,20 L30,40 L50,40 L50,60 L70,60 L70,80",stroke:"rgb(var(--accent))",strokeWidth:"0.2",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),b.jsx(Xt.path,{d:"M80,15 L60,15 L60,35 L40,35 L40,55 L20,55 L20,75",stroke:"rgb(var(--accent))",strokeWidth:"0.2",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),b.jsx(Xt.circle,{cx:"30",cy:"20",r:"0.8",fill:"rgb(var(--accent))",animate:{opacity:[.2,.6,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),b.jsx(Xt.circle,{cx:"50",cy:"40",r:"0.8",fill:"rgb(var(--accent))",animate:{opacity:[.2,.6,.2]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut",delay:.5}}),b.jsx(Xt.circle,{cx:"70",cy:"60",r:"0.8",fill:"rgb(var(--accent))",animate:{opacity:[.2,.6,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}})]})}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-[var(--bg)] to-transparent z-1"})]})}function rte(){const t=Oi();return b.jsxs("section",{className:"py-[var(--space-48)] md:py-[var(--space-64)] bg-[var(--bg-elevated)] relative overflow-hidden",children:[b.jsx(nte,{}),b.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[b.jsxs(Xt.div,{className:"text-center mb-[var(--space-32)] md:mb-[var(--space-40)]",initial:t?!1:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:t?0:.8,ease:"easeOut"},viewport:{once:!0},children:[b.jsxs("div",{className:"inline-flex items-center gap-[var(--space-8)] px-[var(--space-16)] py-[var(--space-8)] rounded-full bg-accent/10 border border-accent/20 mb-[var(--space-24)]",children:[b.jsx("div",{className:"w-[var(--space-8)] h-[var(--space-8)] bg-accent rounded-full animate-pulse"}),b.jsx(At,{translationKey:"technologies.title",as:"span",shimmerWidth:"180px",className:"text-[length:var(--font-100)] font-medium text-accent uppercase tracking-[var(--tracking-wide)]"})]}),b.jsx("h2",{className:"text-[length:var(--font-900)] font-semibold font-display mb-[var(--space-24)] text-[var(--text)]",children:b.jsx(At,{translationKey:"technologies.title",as:"span",shimmerWidth:"260px"})}),b.jsx("p",{className:"text-[length:var(--font-300)] text-[var(--text-muted)] max-w-3xl mx-auto leading-[var(--leading-body)]",children:b.jsx(At,{translationKey:"technologies.subtitle",as:"span",shimmerWidth:"420px"})})]}),b.jsx(tte,{})]}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-[var(--bg-elevated)] to-transparent"})]})}function ite({icon:t,title:e,description:n,href:r,index:i}){const s=Oi();return b.jsx(Xt.div,{initial:s?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:s?0:.6,delay:s?0:i*.1,ease:[.16,1,.3,1]},viewport:{once:!0},className:"group",children:b.jsx(hs,{to:r,className:"block h-full rounded-[var(--radius-lg)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]",children:b.jsxs(zs,{className:"h-full flex flex-col group-hover:bg-[var(--surface-strong)] transition-colors duration-500",children:[b.jsx("div",{className:"mb-[var(--space-24)]",children:b.jsx("div",{className:`inline-flex p-[var(--space-16)] rounded-[var(--radius-md)] bg-accent/10 text-accent 
            group-hover:bg-accent/20 group-hover:scale-110 transition-transform duration-300`,children:b.jsx(t,{className:"h-7 w-7","aria-hidden":"true"})})}),b.jsx("h3",{className:"text-[length:var(--font-500)] font-semibold text-[var(--text)] group-hover:text-accent transition-colors duration-300 mb-[var(--space-12)]",children:e}),b.jsx("p",{className:"text-[length:var(--font-200)] text-[var(--text-muted)] group-hover:text-gray-300 transition-colors duration-300 flex-1 leading-[var(--leading-body)] mb-[var(--space-24)]",children:n}),b.jsxs("div",{className:"inline-flex items-center gap-[var(--space-8)] text-accent font-medium transition-[gap] duration-300 group-hover:gap-[var(--space-12)]",children:[b.jsx("span",{className:"text-[length:var(--font-200)]",children:b.jsx(At,{translationKey:"portfolioNav.learnMore",shimmerWidth:"100px"})}),b.jsx("span",{className:"transition-transform duration-300 group-hover:translate-x-1",children:"->"})]}),b.jsx("div",{className:`absolute inset-0 rounded-[var(--radius-lg)] bg-gradient-to-br from-accent/5 to-transparent 
          opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none`})]})})})}function dC({icon:t,title:e,index:n}){const r=Oi();return b.jsx(Xt.div,{initial:r?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:r?0:.6,delay:r?0:n*.1,ease:[.16,1,.3,1]},viewport:{once:!0},className:"group",children:b.jsxs(zs,{className:"h-full flex flex-col bg-gray-900/50 border-gray-700 opacity-60 cursor-not-allowed",children:[b.jsx("div",{className:"mb-[var(--space-24)]",children:b.jsx("div",{className:"inline-flex p-[var(--space-16)] rounded-[var(--radius-md)] bg-gray-700/20 text-gray-500",children:b.jsx(t,{className:"h-7 w-7","aria-hidden":"true"})})}),b.jsx("h3",{className:"text-[length:var(--font-500)] font-semibold text-gray-400 mb-[var(--space-12)]",children:e}),b.jsx("p",{className:"text-[length:var(--font-200)] text-gray-500 flex-1 leading-[var(--leading-body)] mb-[var(--space-24)]",children:"TBD - Coming soon"}),b.jsxs("div",{className:"inline-flex items-center gap-[var(--space-8)] text-gray-500 text-[length:var(--font-200)]",children:[b.jsx(OB,{className:"h-4 w-4","aria-hidden":"true"}),b.jsx("span",{children:"Disabled"})]}),b.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-br from-gray-700/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none"})]})})}function ste(){const{t}=Hr(),{isFeatureEnabled:e}=wd(),n=Oi(),r=[{icon:KB,title:t("portfolioNav.aboutTitle"),description:t("portfolioNav.aboutDesc"),href:"/about",translationKey:"portfolioNav.aboutTitle"},{icon:Rh,title:t("portfolioNav.workTitle"),description:t("portfolioNav.workDesc"),href:"/work",translationKey:"portfolioNav.workTitle"},{icon:dp,title:t("portfolioNav.blogTitle"),description:t("portfolioNav.blogDesc"),href:"/blog",translationKey:"portfolioNav.blogTitle"},{icon:w_,title:t("portfolioNav.contactTitle"),description:t("portfolioNav.contactDesc"),href:"/contact",translationKey:"portfolioNav.contactTitle"}],i=e("work_section"),s=e("blog_section");return b.jsx("section",{className:"py-[var(--space-48)] md:py-[var(--space-64)] section-surface",children:b.jsxs("div",{className:"mx-auto max-w-7xl px-4 section-inner",children:[b.jsxs(Xt.div,{initial:n?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:n?0:.6},viewport:{once:!0},className:"mb-[var(--space-48)] md:mb-[var(--space-64)] text-center",children:[b.jsx("h2",{className:"mb-[var(--space-12)] md:mb-[var(--space-16)] text-[length:var(--font-700)] md:text-[length:var(--font-800)] font-semibold text-[var(--text)] font-display",children:b.jsx(At,{translationKey:"portfolioNav.title",as:"span",shimmerWidth:"250px",className:"text-gradient-accent"})}),b.jsx("p",{className:"mx-auto max-w-2xl text-[length:var(--font-300)] text-[var(--text-muted)]",children:b.jsx(At,{translationKey:"portfolioNav.subtitle",as:"span",shimmerWidth:"400px"})})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-[var(--space-24)]",children:r.map((a,o)=>a.href==="/work"&&!i?b.jsx(dC,{icon:a.icon,title:a.title,index:o},a.href):a.href==="/blog"&&!s?b.jsx(dC,{icon:a.icon,title:a.title,index:o},a.href):b.jsx(ite,{icon:a.icon,title:a.title,description:a.description,href:a.href,index:o,translationKey:a.translationKey},a.href))})]})})}const iI=Wi({title:Wt().min(1,"Title is required").max(255,"Title too long"),slug:Wt().min(1,"Slug is required").max(255,"Slug too long").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens"),excerpt:Wt().min(1,"Excerpt is required").max(500,"Excerpt too long"),content:Wt().optional(),image:Wt().url("Invalid image URL").optional().or(rv("")),read_time:Wt().min(1,"Read time is required").max(50,"Read time too long"),published:OM().optional()}),ate=iI,ote=iI.partial();function z_(t="en"){const[e,n]=ne.useState([]),[r,i]=ne.useState(!0),[s,a]=ne.useState(null),o=ne.useCallback(async()=>{try{i(!0),a(null);const{data:m,error:p}=await Hn.from("blog_posts").select("id, slug, image, read_time, published, created_at, updated_at, title, excerpt, content").eq("published",!0).order("created_at",{ascending:!1});if(p)throw p;if(!m||m.length===0){n([]);return}const _=m,E=_.map(I=>I.id),{data:y,error:v}=await Hn.from("blog_post_translations").select("*").in("blog_post_id",E).eq("language",t);if(v)throw v;const S=y||[],T=new Map(S.map(I=>[I.blog_post_id,I])),L=await Promise.all(_.map(async I=>{let O=T.get(I.id);if(!O&&t!=="en"){const{data:B}=await Hn.from("blog_post_translations").select("*").eq("blog_post_id",I.id).eq("language","en").single();O=B||void 0}return{...I,title:O?.title||I.title||"",excerpt:O?.excerpt||I.excerpt||"",content:O?.content||I.content||null,language:O?.language||t}}));n(L)}catch(m){console.error("Error loading blog posts:",m),a(m instanceof Error?m.message:"Failed to load blog posts")}finally{i(!1)}},[t]),u=ne.useCallback(async(m,p)=>{try{const _=ate.parse(m),{data:E,error:y}=await Hn.from("blog_posts").insert(_).select().single();if(y)throw y;if(!E)throw new Error("Failed to create blog post");const v=E,S=p.map(L=>({...L,blog_post_id:v.id})),{error:T}=await Hn.from("blog_post_translations").insert(S);if(T)throw T;await o()}catch(_){throw console.error("Error creating blog post:",_),_}},[o]),l=ne.useCallback(async(m,p)=>{try{const _=ote.parse(p),{error:E}=await Hn.from("blog_posts").update(_).eq("id",m).select().single();if(E)throw E;await o()}catch(_){throw console.error("Error updating blog post:",_),_}},[o]),d=ne.useCallback(async m=>{try{n(_=>_.filter(E=>E.id!==m));const{error:p}=await Hn.from("blog_posts").delete().eq("id",m);if(p)throw p}catch(p){throw await o(),console.error("Error deleting blog post:",p),p}},[o]),f=ne.useCallback(async()=>{await o()},[o]);return ne.useEffect(()=>{o()},[o]),{blogPosts:e,isLoading:r,error:s,createBlogPost:u,updateBlogPost:l,deleteBlogPost:d,refreshBlogPosts:f}}function ute({title:t,excerpt:e,slug:n,image:r,readTime:i,index:s}){const a=Oi();return b.jsx(Xt.div,{initial:a?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:a?0:.6,delay:a?0:s*.1},viewport:{once:!0},className:"group h-full",children:b.jsxs("a",{href:`/blog/${n}`,className:`block h-full rounded-[var(--radius-lg)] overflow-hidden bg-[var(--surface)] border border-[var(--border)] 
        hover:border-accent/30 hover:bg-[var(--surface-strong)] transition-colors duration-300 
        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]
        hover:shadow-lg hover:shadow-accent/10`,children:[b.jsx("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-accent/10 to-transparent",children:b.jsx("img",{src:r,alt:t,width:1200,height:720,loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),b.jsxs("div",{className:"p-[var(--space-24)] flex flex-col h-[calc(100%-192px)]",children:[b.jsx("h3",{className:"text-[length:var(--font-500)] font-semibold text-[var(--text)] mb-[var(--space-12)] line-clamp-2 group-hover:text-accent transition-colors",children:t}),b.jsx("p",{className:"text-[length:var(--font-200)] text-[var(--text-muted)] mb-[var(--space-16)] flex-1 line-clamp-3 group-hover:text-gray-300 transition-colors",children:e}),b.jsxs("div",{className:"flex items-center justify-between pt-[var(--space-16)] border-t border-white/5",children:[b.jsxs("span",{className:"text-[length:var(--font-100)] text-gray-500 group-hover:text-accent/70 transition-colors",children:[i," min read"]}),b.jsxs("span",{className:"text-[length:var(--font-100)] font-semibold text-accent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:["Read Case Study ","->"]})]})]})]})})}function lte(){const{blogPosts:t,isLoading:e}=z_(),n=Oi(),r=["stabilized-ui-e2e-saas","deterministic-e2e-service-virtualization","integration-tests-enrichment-service"],i=t.filter(s=>r.includes(s.slug)).slice(0,3);return e||i.length===0?null:b.jsx("section",{className:"py-[var(--space-64)] section-surface",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 section-inner",children:[b.jsxs(Xt.div,{initial:n?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:n?0:.6},viewport:{once:!0},className:"text-center mb-[var(--space-64)]",children:[b.jsx("h2",{className:"text-[length:var(--font-700)] md:text-[length:var(--font-800)] font-semibold text-[var(--text)] mb-[var(--space-16)] font-display",children:"Real-World Results"}),b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-300)] max-w-2xl mx-auto",children:"Case studies showcasing how I've improved test automation, reduced flakiness, and integrated quality into CI/CD pipelines."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[var(--space-24)]",children:i.map((s,a)=>b.jsx(ute,{title:s.title,excerpt:s.excerpt,slug:s.slug,image:s.image||"https://images.unsplash.com/photo-1516321318423-f06f70a504f3?w=800",readTime:s.read_time,index:a},s.id))}),b.jsx(Xt.div,{initial:n?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:n?0:.6,delay:n?0:.3},viewport:{once:!0},className:"text-center mt-[var(--space-64)]",children:b.jsxs("a",{href:"/blog",className:`inline-flex items-center gap-[var(--space-8)] px-[var(--space-24)] py-[var(--space-12)] min-h-[var(--size-tap)] rounded-[var(--radius-md)] 
            bg-accent/10 text-accent border border-accent/30
            hover:bg-accent/20 hover:border-accent/60 transition-colors duration-300 text-[length:var(--font-200)]
            focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]`,children:["Explore More Articles",b.jsx("span",{children:"->"})]})})]})})}function sI({title:t,description:e,image:n,tags:r,liveUrl:i,githubUrl:s}){const a=!!n;return b.jsxs(zs,{className:"group",children:[b.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-[var(--radius-md)] mb-[var(--space-16)]",children:[a?b.jsx("img",{src:n,alt:t,width:1280,height:720,loading:"lazy",decoding:"async",className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}):b.jsx("div",{className:"w-full h-full bg-[var(--surface-strong)]","aria-hidden":"true"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),b.jsx("h3",{className:"text-[length:var(--font-500)] font-semibold text-[var(--text)] mb-[var(--space-8)]",children:t}),b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-200)] mb-[var(--space-16)]",children:e}),b.jsx("div",{className:"flex flex-wrap gap-[var(--space-8)] mb-[var(--space-16)]",children:r.map(o=>b.jsx("span",{className:"px-[var(--space-12)] py-[var(--space-4)] text-[length:var(--font-100)] bg-[var(--surface)] text-accent rounded-full border border-[var(--border)]",children:o},o))}),b.jsxs("div",{className:"flex gap-[var(--space-16)]",children:[i&&b.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-[var(--space-8)] text-[var(--text)] hover:text-accent transition-colors text-[length:var(--font-200)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)] rounded-full",children:[b.jsx(NB,{className:"h-5 w-5","aria-hidden":"true"}),b.jsx(At,{translationKey:"projects.liveDemo",shimmerWidth:"100px"})]}),s&&b.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-[var(--space-8)] text-[var(--text)] hover:text-accent transition-colors text-[length:var(--font-200)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)] rounded-full",children:[b.jsx(zL,{className:"h-5 w-5","aria-hidden":"true"}),b.jsx(At,{translationKey:"projects.sourceCode",shimmerWidth:"120px"})]})]})]})}function hC(t){if(t)throw t}var ix,fC;function cte(){if(fC)return ix;fC=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(l){return typeof Array.isArray=="function"?Array.isArray(l):e.call(l)==="[object Array]"},s=function(l){if(!l||e.call(l)!=="[object Object]")return!1;var d=t.call(l,"constructor"),f=l.constructor&&l.constructor.prototype&&t.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!d&&!f)return!1;var m;for(m in l);return typeof m>"u"||t.call(l,m)},a=function(l,d){n&&d.name==="__proto__"?n(l,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):l[d.name]=d.newValue},o=function(l,d){if(d==="__proto__")if(t.call(l,d)){if(r)return r(l,d).value}else return;return l[d]};return ix=function u(){var l,d,f,m,p,_,E=arguments[0],y=1,v=arguments.length,S=!1;for(typeof E=="boolean"&&(S=E,E=arguments[1]||{},y=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});y<v;++y)if(l=arguments[y],l!=null)for(d in l)f=o(E,d),m=o(l,d),E!==m&&(S&&m&&(s(m)||(p=i(m)))?(p?(p=!1,_=f&&i(f)?f:[]):_=f&&s(f)?f:{},a(E,{name:d,newValue:u(S,_,m)})):typeof m<"u"&&a(E,{name:d,newValue:m}));return E},ix}var dte=cte();const sx=Wm(dte);function CE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function hte(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(u,...l){const d=t[++s];let f=-1;if(u){a(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,d?fte(d,o)(...l):a(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function fte(t,e){let n;return r;function r(...a){const o=t.length>a.length;let u;o&&a.push(i);try{u=t.apply(this,a)}catch(l){const d=l;if(o&&n)throw d;return i(d)}o||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}function cm(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?pC(t.position):"start"in t||"end"in t?pC(t):"line"in t||"column"in t?NE(t):""}function NE(t){return mC(t&&t.line)+":"+mC(t&&t.column)}function pC(t){return NE(t&&t.start)+"-"+NE(t&&t.end)}function mC(t){return t&&typeof t=="number"?t:1}class wa extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=cm(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}wa.prototype.file="";wa.prototype.name="";wa.prototype.reason="";wa.prototype.message="";wa.prototype.stack="";wa.prototype.column=void 0;wa.prototype.line=void 0;wa.prototype.ancestors=void 0;wa.prototype.cause=void 0;wa.prototype.fatal=void 0;wa.prototype.place=void 0;wa.prototype.ruleId=void 0;wa.prototype.source=void 0;const Ku={basename:pte,dirname:mte,extname:gte,join:vte,sep:"/"};function pte(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');og(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function mte(t){if(og(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function gte(t){og(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function vte(...t){let e=-1,n;for(;++e<t.length;)og(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":_te(n)}function _te(t){og(t);const e=t.codePointAt(0)===47;let n=yte(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function yte(t,e){let n="",r=0,i=-1,s=0,a=-1,o,u;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function og(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const xte={cwd:bte};function bte(){return"/"}function LE(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Ete(t){if(typeof t=="string")t=new URL(t);else if(!LE(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return wte(t)}function wte(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const ax=["history","path","basename","stem","extname","dirname"];class ME{constructor(e){let n;e?LE(e)?n={path:e}:typeof e=="string"||Ate(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":xte.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ax.length;){const s=ax[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)ax.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ku.basename(this.path):void 0}set basename(e){ux(e,"basename"),ox(e,"basename"),this.path=Ku.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ku.dirname(this.path):void 0}set dirname(e){gC(this.basename,"dirname"),this.path=Ku.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ku.extname(this.path):void 0}set extname(e){if(ox(e,"extname"),gC(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ku.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){LE(e)&&(e=Ete(e)),ux(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ku.basename(this.path,this.extname):void 0}set stem(e){ux(e,"stem"),ox(e,"stem"),this.path=Ku.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new wa(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ox(t,e){if(t&&t.includes(Ku.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ku.sep+"`")}function ux(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function gC(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Ate(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Ste=(function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),Tte={}.hasOwnProperty;class PA extends Ste{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=hte()}copy(){const e=new PA;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(sx(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(dx("data",this.frozen),this.namespace[e]=n,this):Tte.call(this.namespace,e)&&this.namespace[e]||void 0:e?(dx("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=R1(e),r=this.parser||this.Parser;return lx("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),lx("process",this.parser||this.Parser),cx("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=R1(e),u=r.parse(o);r.run(u,o,function(d,f,m){if(d||!f||!m)return l(d);const p=f,_=r.stringify(p,m);Cte(_)?m.value=_:m.result=_,l(d,m)});function l(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),lx("processSync",this.parser||this.Parser),cx("processSync",this.compiler||this.Compiler),this.process(e,i),_C("processSync","process",n),r;function i(s,a){n=!0,hC(s),r=a}}run(e,n,r){vC(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const u=R1(n);i.run(e,u,l);function l(d,f,m){const p=f||e;d?o(d):a?a(p):r(void 0,p,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),_C("runSync","run",r),i;function s(a,o){hC(a),i=o,r=!0}}stringify(e,n){this.freeze();const r=R1(n),i=this.compiler||this.Compiler;return cx("stringify",i),vC(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(dx("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[d,...f]=l;u(d,f)}else a(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function a(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(l.plugins),l.settings&&(i.settings=sx(!0,i.settings,l.settings))}function o(l){let d=-1;if(l!=null)if(Array.isArray(l))for(;++d<l.length;){const f=l[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,d){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===l){m=f;break}if(m===-1)r.push([l,...d]);else if(d.length>0){let[p,..._]=d;const E=r[m][1];CE(E)&&CE(p)&&(p=sx(!0,E,p)),r[m]=[l,p,..._]}}}}const H_=new PA().freeze();function lx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function cx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function dx(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function vC(t){if(!CE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function _C(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function R1(t){return Dte(t)?t:new ME(t)}function Dte(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Cte(t){return typeof t=="string"||Nte(t)}function Nte(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Lte={};function RA(t,e){const n=Lte,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return aI(t,r,i)}function aI(t,e,n){if(Mte(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return yC(t.children,e,n)}return Array.isArray(t)?yC(t,e,n):""}function yC(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=aI(t[i],e,n);return r.join("")}function Mte(t){return!!(t&&typeof t=="object")}const xC=document.createElement("i");function IA(t){const e="&"+t+";";xC.innerHTML=e;const n=xC.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function _o(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function jo(t,e){return t.length>0?(_o(t,t.length,0,e),t):e}const bC={}.hasOwnProperty;function oI(t){const e={};let n=-1;for(;++n<t.length;)Pte(e,t[n]);return e}function Pte(t,e){let n;for(n in e){const i=(bC.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){bC.call(i,a)||(i[a]=[]);const o=s[a];Rte(i[a],Array.isArray(o)?o:o?[o]:[])}}}function Rte(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);_o(t,0,0,r)}function uI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function xu(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ba=Ad(/[A-Za-z]/),la=Ad(/[\dA-Za-z]/),Ite=Ad(/[#-'*+\--9=?A-Z^-~]/);function Xv(t){return t!==null&&(t<32||t===127)}const PE=Ad(/\d/),kte=Ad(/[\dA-Fa-f]/),Fte=Ad(/[!-/:-@[-`{-~]/);function Pn(t){return t!==null&&t<-2}function $r(t){return t!==null&&(t<0||t===32)}function dr(t){return t===-2||t===-1||t===32}const V_=Ad(new RegExp("\\p{P}|\\p{S}","u")),Oh=Ad(/\s/);function Ad(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function $p(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&la(t.charCodeAt(n+1))&&la(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function vr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return dr(u)?(t.enter(n),o(u)):e(u)}function o(u){return dr(u)&&s++<i?(t.consume(u),o):(t.exit(n),e(u))}}const Ote={tokenize:Bte};function Bte(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),vr(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return Pn(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const Ute={tokenize:jte},EC={tokenize:zte};function jte(t){const e=this,n=[];let r=0,i,s,a;return o;function o(T){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,u,l)(T)}return l(T)}function u(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&S();const L=e.events.length;let I=L,O;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){O=e.events[I][1].end;break}v(r);let B=L;for(;B<e.events.length;)e.events[B][1].end={...O},B++;return _o(e.events,I+1,0,e.events.slice(L)),e.events.length=B,l(T)}return o(T)}function l(T){if(r===n.length){if(!i)return m(T);if(i.currentConstruct&&i.currentConstruct.concrete)return _(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(EC,d,f)(T)}function d(T){return i&&S(),v(r),m(T)}function f(T){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,_(T)}function m(T){return e.containerState={},t.attempt(EC,p,_)(T)}function p(T){return r++,n.push([e.currentConstruct,e.containerState]),m(T)}function _(T){if(T===null){i&&S(),v(0),t.consume(T);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),E(T)}function E(T){if(T===null){y(t.exit("chunkFlow"),!0),v(0),t.consume(T);return}return Pn(T)?(t.consume(T),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(T),E)}function y(T,L){const I=e.sliceStream(T);if(L&&I.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(I),e.parser.lazy[T.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<a&&(!i.events[O][1].end||i.events[O][1].end.offset>a))return;const B=e.events.length;let V=B,M,R;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){if(M){R=e.events[V][1].end;break}M=!0}for(v(r),O=B;O<e.events.length;)e.events[O][1].end={...R},O++;_o(e.events,V+1,0,e.events.slice(B)),e.events.length=O}}function v(T){let L=n.length;for(;L-- >T;){const I=n[L];e.containerState=I[1],I[0].exit.call(e,t)}n.length=T}function S(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function zte(t,e,n){return vr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Up(t){if(t===null||$r(t)||Oh(t))return 1;if(V_(t))return 2}function W_(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const RE={name:"attention",resolveAll:Hte,tokenize:Vte};function Hte(t,e){let n=-1,r,i,s,a,o,u,l,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},m={...t[n][1].start};wC(f,-u),wC(m,u),a={type:u>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[r][1].end={...a.start},t[n][1].start={...o.end},l=[],t[r][1].end.offset-t[r][1].start.offset&&(l=jo(l,[["enter",t[r][1],e],["exit",t[r][1],e]])),l=jo(l,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),l=jo(l,W_(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),l=jo(l,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,l=jo(l,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,_o(t,r-1,n-r+3,l),n=r+l.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Vte(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Up(r);let s;return a;function a(u){return s=u,t.enter("attentionSequence"),o(u)}function o(u){if(u===s)return t.consume(u),o;const l=t.exit("attentionSequence"),d=Up(u),f=!d||d===2&&i||n.includes(u),m=!i||i===2&&d||n.includes(r);return l._open=!!(s===42?f:f&&(i||!m)),l._close=!!(s===42?m:m&&(d||!f)),e(u)}}function wC(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Wte={name:"autolink",tokenize:Gte};function Gte(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return ba(p)?(t.consume(p),a):p===64?n(p):l(p)}function a(p){return p===43||p===45||p===46||la(p)?(r=1,o(p)):l(p)}function o(p){return p===58?(t.consume(p),r=0,u):(p===43||p===45||p===46||la(p))&&r++<32?(t.consume(p),o):(r=0,l(p))}function u(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||Xv(p)?n(p):(t.consume(p),u)}function l(p){return p===64?(t.consume(p),d):Ite(p)?(t.consume(p),l):n(p)}function d(p){return la(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):m(p)}function m(p){if((p===45||la(p))&&r++<63){const _=p===45?m:f;return t.consume(p),_}return n(p)}}const ug={partial:!0,tokenize:qte};function qte(t,e,n){return r;function r(s){return dr(s)?vr(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Pn(s)?e(s):n(s)}}const lI={continuation:{tokenize:Kte},exit:Yte,name:"blockQuote",tokenize:$te};function $te(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return dr(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Kte(t,e,n){const r=this;return i;function i(a){return dr(a)?vr(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(lI,e,n)(a)}}function Yte(t){t.exit("blockQuote")}const cI={name:"characterEscape",tokenize:Xte};function Xte(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return Fte(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const dI={name:"characterReference",tokenize:Zte};function Zte(t,e,n){const r=this;let i=0,s,a;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),u}function u(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),l):(t.enter("characterReferenceValue"),s=31,a=la,d(f))}function l(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=kte,d):(t.enter("characterReferenceValue"),s=7,a=PE,d(f))}function d(f){if(f===59&&i){const m=t.exit("characterReferenceValue");return a===la&&!IA(r.sliceSerialize(m))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(f)&&i++<s?(t.consume(f),d):n(f)}}const AC={partial:!0,tokenize:Qte},SC={concrete:!0,name:"codeFenced",tokenize:Jte};function Jte(t,e,n){const r=this,i={partial:!0,tokenize:I};let s=0,a=0,o;return u;function u(O){return l(O)}function l(O){const B=r.events[r.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,o=O,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(O)}function d(O){return O===o?(a++,t.consume(O),d):a<3?n(O):(t.exit("codeFencedFenceSequence"),dr(O)?vr(t,f,"whitespace")(O):f(O))}function f(O){return O===null||Pn(O)?(t.exit("codeFencedFence"),r.interrupt?e(O):t.check(AC,E,L)(O)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(O))}function m(O){return O===null||Pn(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(O)):dr(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),vr(t,p,"whitespace")(O)):O===96&&O===o?n(O):(t.consume(O),m)}function p(O){return O===null||Pn(O)?f(O):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(O))}function _(O){return O===null||Pn(O)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(O)):O===96&&O===o?n(O):(t.consume(O),_)}function E(O){return t.attempt(i,L,y)(O)}function y(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),v}function v(O){return s>0&&dr(O)?vr(t,S,"linePrefix",s+1)(O):S(O)}function S(O){return O===null||Pn(O)?t.check(AC,E,L)(O):(t.enter("codeFlowValue"),T(O))}function T(O){return O===null||Pn(O)?(t.exit("codeFlowValue"),S(O)):(t.consume(O),T)}function L(O){return t.exit("codeFenced"),e(O)}function I(O,B,V){let M=0;return R;function R(ae){return O.enter("lineEnding"),O.consume(ae),O.exit("lineEnding"),k}function k(ae){return O.enter("codeFencedFence"),dr(ae)?vr(O,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):H(ae)}function H(ae){return ae===o?(O.enter("codeFencedFenceSequence"),q(ae)):V(ae)}function q(ae){return ae===o?(M++,O.consume(ae),q):M>=a?(O.exit("codeFencedFenceSequence"),dr(ae)?vr(O,Y,"whitespace")(ae):Y(ae)):V(ae)}function Y(ae){return ae===null||Pn(ae)?(O.exit("codeFencedFence"),B(ae)):V(ae)}}}function Qte(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const hx={name:"codeIndented",tokenize:tne},ene={partial:!0,tokenize:nne};function tne(t,e,n){const r=this;return i;function i(l){return t.enter("codeIndented"),vr(t,s,"linePrefix",5)(l)}function s(l){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(l):n(l)}function a(l){return l===null?u(l):Pn(l)?t.attempt(ene,a,u)(l):(t.enter("codeFlowValue"),o(l))}function o(l){return l===null||Pn(l)?(t.exit("codeFlowValue"),a(l)):(t.consume(l),o)}function u(l){return t.exit("codeIndented"),e(l)}}function nne(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):Pn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):vr(t,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):Pn(a)?i(a):n(a)}}const rne={name:"codeText",previous:sne,resolve:ine,tokenize:ane};function ine(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function sne(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ane(t,e,n){let r=0,i,s;return a;function a(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),u):f===96?(s=t.enter("codeTextSequence"),i=0,d(f)):Pn(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||Pn(f)?(t.exit("codeTextData"),u(f)):(t.consume(f),l)}function d(f){return f===96?(t.consume(f),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",l(f))}}class one{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&k0(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),k0(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),k0(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);k0(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);k0(this.left,n.reverse())}}}function k0(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function hI(t){const e={};let n=-1,r,i,s,a,o,u,l;const d=new one(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,une(d,n)),n=e[n],l=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return _o(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!l}function une(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,u=[],l={};let d,f,m=-1,p=n,_=0,E=0;const y=[E];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(E=m+1,y.push(E),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),m=y.length;m--;){const v=o.slice(y[m],y[m+1]),S=s.pop();u.push([S,S+v.length-1]),t.splice(S,2,v)}for(u.reverse(),m=-1;++m<u.length;)l[_+u[m][0]]=_+u[m][1],_+=u[m][1]-u[m][0]-1;return l}const lne={resolve:dne,tokenize:hne},cne={partial:!0,tokenize:fne};function dne(t){return hI(t),t}function hne(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Pn(o)?t.check(cne,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function fne(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),vr(t,s,"linePrefix")}function s(a){if(a===null||Pn(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function fI(t,e,n,r,i,s,a,o,u){const l=u||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(v),t.exit(s),m):v===null||v===32||v===41||Xv(v)?n(v):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),E(v))}function m(v){return v===62?(t.enter(s),t.consume(v),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(o),m(v)):v===null||v===60||Pn(v)?n(v):(t.consume(v),v===92?_:p)}function _(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function E(v){return!d&&(v===null||v===41||$r(v))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(v)):d<l&&v===40?(t.consume(v),d++,E):v===41?(t.consume(v),d--,E):v===null||v===32||v===40||Xv(v)?n(v):(t.consume(v),v===92?y:E)}function y(v){return v===40||v===41||v===92?(t.consume(v),E):E(v)}}function pI(t,e,n,r,i,s){const a=this;let o=0,u;return l;function l(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!u||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):Pn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||Pn(p)||o++>999?(t.exit("chunkString"),d(p)):(t.consume(p),u||(u=!dr(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function mI(t,e,n,r,i,s){let a;return o;function o(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),a=m===40?41:m,u):n(m)}function u(m){return m===a?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(s),l(m))}function l(m){return m===a?(t.exit(s),u(a)):m===null?n(m):Pn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),vr(t,l,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===a||m===null||Pn(m)?(t.exit("chunkString"),l(m)):(t.consume(m),m===92?f:d)}function f(m){return m===a||m===92?(t.consume(m),d):d(m)}}function dm(t,e){let n;return r;function r(i){return Pn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):dr(i)?vr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const pne={name:"definition",tokenize:gne},mne={partial:!0,tokenize:vne};function gne(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),a(p)}function a(p){return pI.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=xu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),u):n(p)}function u(p){return $r(p)?dm(t,l)(p):l(p)}function l(p){return fI(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(mne,f,f)(p)}function f(p){return dr(p)?vr(t,m,"whitespace")(p):m(p)}function m(p){return p===null||Pn(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function vne(t,e,n){return r;function r(o){return $r(o)?dm(t,i)(o):n(o)}function i(o){return mI(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return dr(o)?vr(t,a,"whitespace")(o):a(o)}function a(o){return o===null||Pn(o)?e(o):n(o)}}const _ne={name:"hardBreakEscape",tokenize:yne};function yne(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Pn(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const xne={name:"headingAtx",resolve:bne,tokenize:Ene};function bne(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},_o(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Ene(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(t.consume(d),a):d===null||$r(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),u(d)):d===null||Pn(d)?(t.exit("atxHeading"),e(d)):dr(d)?vr(t,o,"whitespace")(d):(t.enter("atxHeadingText"),l(d))}function u(d){return d===35?(t.consume(d),u):(t.exit("atxHeadingSequence"),o(d))}function l(d){return d===null||d===35||$r(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),l)}}const wne=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],TC=["pre","script","style","textarea"],Ane={concrete:!0,name:"htmlFlow",resolveTo:Dne,tokenize:Cne},Sne={partial:!0,tokenize:Lne},Tne={partial:!0,tokenize:Nne};function Dne(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Cne(t,e,n){const r=this;let i,s,a,o,u;return l;function l(U){return d(U)}function d(U){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(U),f}function f(U){return U===33?(t.consume(U),m):U===47?(t.consume(U),s=!0,E):U===63?(t.consume(U),i=3,r.interrupt?e:W):ba(U)?(t.consume(U),a=String.fromCharCode(U),y):n(U)}function m(U){return U===45?(t.consume(U),i=2,p):U===91?(t.consume(U),i=5,o=0,_):ba(U)?(t.consume(U),i=4,r.interrupt?e:W):n(U)}function p(U){return U===45?(t.consume(U),r.interrupt?e:W):n(U)}function _(U){const ce="CDATA[";return U===ce.charCodeAt(o++)?(t.consume(U),o===ce.length?r.interrupt?e:H:_):n(U)}function E(U){return ba(U)?(t.consume(U),a=String.fromCharCode(U),y):n(U)}function y(U){if(U===null||U===47||U===62||$r(U)){const ce=U===47,_e=a.toLowerCase();return!ce&&!s&&TC.includes(_e)?(i=1,r.interrupt?e(U):H(U)):wne.includes(a.toLowerCase())?(i=6,ce?(t.consume(U),v):r.interrupt?e(U):H(U)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(U):s?S(U):T(U))}return U===45||la(U)?(t.consume(U),a+=String.fromCharCode(U),y):n(U)}function v(U){return U===62?(t.consume(U),r.interrupt?e:H):n(U)}function S(U){return dr(U)?(t.consume(U),S):R(U)}function T(U){return U===47?(t.consume(U),R):U===58||U===95||ba(U)?(t.consume(U),L):dr(U)?(t.consume(U),T):R(U)}function L(U){return U===45||U===46||U===58||U===95||la(U)?(t.consume(U),L):I(U)}function I(U){return U===61?(t.consume(U),O):dr(U)?(t.consume(U),I):T(U)}function O(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(t.consume(U),u=U,B):dr(U)?(t.consume(U),O):V(U)}function B(U){return U===u?(t.consume(U),u=null,M):U===null||Pn(U)?n(U):(t.consume(U),B)}function V(U){return U===null||U===34||U===39||U===47||U===60||U===61||U===62||U===96||$r(U)?I(U):(t.consume(U),V)}function M(U){return U===47||U===62||dr(U)?T(U):n(U)}function R(U){return U===62?(t.consume(U),k):n(U)}function k(U){return U===null||Pn(U)?H(U):dr(U)?(t.consume(U),k):n(U)}function H(U){return U===45&&i===2?(t.consume(U),he):U===60&&i===1?(t.consume(U),oe):U===62&&i===4?(t.consume(U),ee):U===63&&i===3?(t.consume(U),W):U===93&&i===5?(t.consume(U),xe):Pn(U)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Sne,z,q)(U)):U===null||Pn(U)?(t.exit("htmlFlowData"),q(U)):(t.consume(U),H)}function q(U){return t.check(Tne,Y,z)(U)}function Y(U){return t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),ae}function ae(U){return U===null||Pn(U)?q(U):(t.enter("htmlFlowData"),H(U))}function he(U){return U===45?(t.consume(U),W):H(U)}function oe(U){return U===47?(t.consume(U),a="",Q):H(U)}function Q(U){if(U===62){const ce=a.toLowerCase();return TC.includes(ce)?(t.consume(U),ee):H(U)}return ba(U)&&a.length<8?(t.consume(U),a+=String.fromCharCode(U),Q):H(U)}function xe(U){return U===93?(t.consume(U),W):H(U)}function W(U){return U===62?(t.consume(U),ee):U===45&&i===2?(t.consume(U),W):H(U)}function ee(U){return U===null||Pn(U)?(t.exit("htmlFlowData"),z(U)):(t.consume(U),ee)}function z(U){return t.exit("htmlFlow"),e(U)}}function Nne(t,e,n){const r=this;return i;function i(a){return Pn(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function Lne(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(ug,e,n)}}const Mne={name:"htmlText",tokenize:Pne};function Pne(t,e,n){const r=this;let i,s,a;return o;function o(W){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(W),u}function u(W){return W===33?(t.consume(W),l):W===47?(t.consume(W),I):W===63?(t.consume(W),T):ba(W)?(t.consume(W),V):n(W)}function l(W){return W===45?(t.consume(W),d):W===91?(t.consume(W),s=0,_):ba(W)?(t.consume(W),S):n(W)}function d(W){return W===45?(t.consume(W),p):n(W)}function f(W){return W===null?n(W):W===45?(t.consume(W),m):Pn(W)?(a=f,oe(W)):(t.consume(W),f)}function m(W){return W===45?(t.consume(W),p):f(W)}function p(W){return W===62?he(W):W===45?m(W):f(W)}function _(W){const ee="CDATA[";return W===ee.charCodeAt(s++)?(t.consume(W),s===ee.length?E:_):n(W)}function E(W){return W===null?n(W):W===93?(t.consume(W),y):Pn(W)?(a=E,oe(W)):(t.consume(W),E)}function y(W){return W===93?(t.consume(W),v):E(W)}function v(W){return W===62?he(W):W===93?(t.consume(W),v):E(W)}function S(W){return W===null||W===62?he(W):Pn(W)?(a=S,oe(W)):(t.consume(W),S)}function T(W){return W===null?n(W):W===63?(t.consume(W),L):Pn(W)?(a=T,oe(W)):(t.consume(W),T)}function L(W){return W===62?he(W):T(W)}function I(W){return ba(W)?(t.consume(W),O):n(W)}function O(W){return W===45||la(W)?(t.consume(W),O):B(W)}function B(W){return Pn(W)?(a=B,oe(W)):dr(W)?(t.consume(W),B):he(W)}function V(W){return W===45||la(W)?(t.consume(W),V):W===47||W===62||$r(W)?M(W):n(W)}function M(W){return W===47?(t.consume(W),he):W===58||W===95||ba(W)?(t.consume(W),R):Pn(W)?(a=M,oe(W)):dr(W)?(t.consume(W),M):he(W)}function R(W){return W===45||W===46||W===58||W===95||la(W)?(t.consume(W),R):k(W)}function k(W){return W===61?(t.consume(W),H):Pn(W)?(a=k,oe(W)):dr(W)?(t.consume(W),k):M(W)}function H(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(t.consume(W),i=W,q):Pn(W)?(a=H,oe(W)):dr(W)?(t.consume(W),H):(t.consume(W),Y)}function q(W){return W===i?(t.consume(W),i=void 0,ae):W===null?n(W):Pn(W)?(a=q,oe(W)):(t.consume(W),q)}function Y(W){return W===null||W===34||W===39||W===60||W===61||W===96?n(W):W===47||W===62||$r(W)?M(W):(t.consume(W),Y)}function ae(W){return W===47||W===62||$r(W)?M(W):n(W)}function he(W){return W===62?(t.consume(W),t.exit("htmlTextData"),t.exit("htmlText"),e):n(W)}function oe(W){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),Q}function Q(W){return dr(W)?vr(t,xe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):xe(W)}function xe(W){return t.enter("htmlTextData"),a(W)}}const kA={name:"labelEnd",resolveAll:Fne,resolveTo:One,tokenize:Bne},Rne={tokenize:Une},Ine={tokenize:jne},kne={tokenize:zne};function Fne(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&_o(t,0,t.length,n),t}function One(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},l={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},d={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",u,e],["enter",l,e]],o=jo(o,t.slice(s+1,s+r+3)),o=jo(o,[["enter",d,e]]),o=jo(o,W_(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=jo(o,[["exit",d,e],t[a-2],t[a-1],["exit",l,e]]),o=jo(o,t.slice(a+1)),o=jo(o,[["exit",u,e]]),_o(t,s,t.length,o),t}function Bne(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(m){return s?s._inactive?f(m):(a=r.parser.defined.includes(xu(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),u):n(m)}function u(m){return m===40?t.attempt(Rne,d,a?d:f)(m):m===91?t.attempt(Ine,d,a?l:f)(m):a?d(m):f(m)}function l(m){return t.attempt(kne,d,f)(m)}function d(m){return e(m)}function f(m){return s._balanced=!0,n(m)}}function Une(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return $r(f)?dm(t,s)(f):s(f)}function s(f){return f===41?d(f):fI(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return $r(f)?dm(t,u)(f):d(f)}function o(f){return n(f)}function u(f){return f===34||f===39||f===40?mI(t,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function l(f){return $r(f)?dm(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function jne(t,e,n){const r=this;return i;function i(o){return pI.call(r,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(xu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function zne(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Hne={name:"labelStartImage",resolveAll:kA.resolveAll,tokenize:Vne};function Vne(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Wne={name:"labelStartLink",resolveAll:kA.resolveAll,tokenize:Gne};function Gne(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const fx={name:"lineEnding",tokenize:qne};function qne(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),vr(t,e,"linePrefix")}}const fv={name:"thematicBreak",tokenize:$ne};function $ne(t,e,n){let r=0,i;return s;function s(l){return t.enter("thematicBreak"),a(l)}function a(l){return i=l,o(l)}function o(l){return l===i?(t.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||Pn(l))?(t.exit("thematicBreak"),e(l)):n(l)}function u(l){return l===i?(t.consume(l),r++,u):(t.exit("thematicBreakSequence"),dr(l)?vr(t,o,"whitespace")(l):o(l))}}const Ha={continuation:{tokenize:Zne},exit:Qne,name:"list",tokenize:Xne},Kne={partial:!0,tokenize:ere},Yne={partial:!0,tokenize:Jne};function Xne(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const _=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:PE(p)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(fv,n,l)(p):l(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(p)}return n(p)}function u(p){return PE(p)&&++a<10?(t.consume(p),u):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),l(p)):n(p)}function l(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(ug,r.interrupt?n:d,t.attempt(Kne,m,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,m(p)}function f(p){return dr(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),m):n(p)}function m(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function Zne(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ug,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vr(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!dr(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Yne,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,vr(t,t.attempt(Ha,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Jne(t,e,n){const r=this;return vr(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function Qne(t){t.exit(this.containerState.type)}function ere(t,e,n){const r=this;return vr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!dr(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const DC={name:"setextUnderline",resolveTo:tre,tokenize:nre};function tre(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function nre(t,e,n){const r=this;let i;return s;function s(l){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=l,a(l)):n(l)}function a(l){return t.enter("setextHeadingLineSequence"),o(l)}function o(l){return l===i?(t.consume(l),o):(t.exit("setextHeadingLineSequence"),dr(l)?vr(t,u,"lineSuffix")(l):u(l))}function u(l){return l===null||Pn(l)?(t.exit("setextHeadingLine"),e(l)):n(l)}}const rre={tokenize:ire};function ire(t){const e=this,n=t.attempt(ug,r,t.attempt(this.parser.constructs.flowInitial,i,vr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(lne,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const sre={resolveAll:vI()},are=gI("string"),ore=gI("text");function gI(t){return{resolveAll:vI(t==="text"?ure:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(d){return l(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return l(d)?(n.exit("data"),s(d)):(n.consume(d),u)}function l(d){if(d===null)return!0;const f=i[d];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function vI(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function ure(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,u;for(;s--;){const l=i[s];if(typeof l=="string"){for(a=l.length;l.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(l===-2)u=!0,o++;else if(l!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const l={type:n===t.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...l.start},r.start.offset===r.end.offset?Object.assign(r,l):(t.splice(n,0,["enter",l,e],["exit",l,e]),n+=2)}n++}return t}const lre={42:Ha,43:Ha,45:Ha,48:Ha,49:Ha,50:Ha,51:Ha,52:Ha,53:Ha,54:Ha,55:Ha,56:Ha,57:Ha,62:lI},cre={91:pne},dre={[-2]:hx,[-1]:hx,32:hx},hre={35:xne,42:fv,45:[DC,fv],60:Ane,61:DC,95:fv,96:SC,126:SC},fre={38:dI,92:cI},pre={[-5]:fx,[-4]:fx,[-3]:fx,33:Hne,38:dI,42:RE,60:[Wte,Mne],91:Wne,92:[_ne,cI],93:kA,95:RE,96:rne},mre={null:[RE,sre]},gre={null:[42,95]},vre={null:[]},_re=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:gre,contentInitial:cre,disable:vre,document:lre,flow:hre,flowInitial:dre,insideSpan:mre,string:fre,text:pre},Symbol.toStringTag,{value:"Module"}));function yre(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const u={attempt:B(I),check:B(O),consume:S,enter:T,exit:L,interrupt:B(O,{interrupt:!0})},l={code:null,containerState:{},defineSkip:E,events:[],now:_,parser:t,previous:null,sliceSerialize:m,sliceStream:p,write:f};let d=e.tokenize.call(l,u);return e.resolveAll&&s.push(e),l;function f(k){return a=jo(a,k),y(),a[a.length-1]!==null?[]:(V(e,0),l.events=W_(s,l.events,l),l.events)}function m(k,H){return bre(p(k),H)}function p(k){return xre(a,k)}function _(){const{_bufferIndex:k,_index:H,line:q,column:Y,offset:ae}=r;return{_bufferIndex:k,_index:H,line:q,column:Y,offset:ae}}function E(k){i[k.line]=k.column,R()}function y(){let k;for(;r._index<a.length;){const H=a[r._index];if(typeof H=="string")for(k=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===k&&r._bufferIndex<H.length;)v(H.charCodeAt(r._bufferIndex));else v(H)}}function v(k){d=d(k)}function S(k){Pn(k)?(r.line++,r.column=1,r.offset+=k===-3?2:1,R()):k!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=k}function T(k,H){const q=H||{};return q.type=k,q.start=_(),l.events.push(["enter",q,l]),o.push(q),q}function L(k){const H=o.pop();return H.end=_(),l.events.push(["exit",H,l]),H}function I(k,H){V(k,H.from)}function O(k,H){H.restore()}function B(k,H){return q;function q(Y,ae,he){let oe,Q,xe,W;return Array.isArray(Y)?z(Y):"tokenize"in Y?z([Y]):ee(Y);function ee(Z){return de;function de(Ae){const Pe=Ae!==null&&Z[Ae],ke=Ae!==null&&Z.null,ot=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(ke)?ke:ke?[ke]:[]];return z(ot)(Ae)}}function z(Z){return oe=Z,Q=0,Z.length===0?he:U(Z[Q])}function U(Z){return de;function de(Ae){return W=M(),xe=Z,Z.partial||(l.currentConstruct=Z),Z.name&&l.parser.constructs.disable.null.includes(Z.name)?_e():Z.tokenize.call(H?Object.assign(Object.create(l),H):l,u,ce,_e)(Ae)}}function ce(Z){return k(xe,W),ae}function _e(Z){return W.restore(),++Q<oe.length?U(oe[Q]):he}}}function V(k,H){k.resolveAll&&!s.includes(k)&&s.push(k),k.resolve&&_o(l.events,H,l.events.length-H,k.resolve(l.events.slice(H),l)),k.resolveTo&&(l.events=k.resolveTo(l.events,l))}function M(){const k=_(),H=l.previous,q=l.currentConstruct,Y=l.events.length,ae=Array.from(o);return{from:Y,restore:he};function he(){r=k,l.previous=H,l.currentConstruct=q,l.events.length=Y,o=ae,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function xre(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function bre(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function Ere(t){const r={constructs:oI([_re,...(t||{}).extensions||[]]),content:i(Ote),defined:[],document:i(Ute),flow:i(rre),lazy:{},string:i(are),text:i(ore)};return r;function i(s){return a;function a(o){return yre(r,s,o)}}}function wre(t){for(;!hI(t););return t}const CC=/[\0\t\n\r]/g;function Are(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const u=[];let l,d,f,m,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(CC.lastIndex=f,l=CC.exec(s),m=l&&l.index!==void 0?l.index:s.length,p=s.charCodeAt(m),!l){e=s.slice(f);break}if(p===10&&f===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<m&&(u.push(s.slice(f,m)),t+=m-f),p){case 0:{u.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,u.push(-2);t++<d;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}f=m+1}return o&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Sre=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Tre(t){return t.replace(Sre,Dre)}function Dre(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return uI(n.slice(s?2:1),s?16:10)}return IA(n)||t}const _I={}.hasOwnProperty;function Cre(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Nre(n)(wre(Ere(n).document().write(Are()(t,e,!0))))}function Nre(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ct),autolinkProtocol:M,autolinkEmail:M,atxHeading:s(le),blockQuote:s(ke),characterEscape:M,characterReference:M,codeFenced:s(ot),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ot,a),codeText:s(Dt,a),codeTextData:M,data:M,codeFlowValue:M,definition:s(yt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(jt),hardBreakEscape:s(pt),hardBreakTrailing:s(pt),htmlFlow:s(rn,a),htmlFlowData:M,htmlText:s(rn,a),htmlTextData:M,image:s(Ee),label:a,link:s(ct),listItem:s(Mt),listItemValue:m,listOrdered:s(zt,f),listUnordered:s(zt),paragraph:s(xt),reference:U,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(le),strong:s(se),thematicBreak:s(De)},exit:{atxHeading:u(),atxHeadingSequence:I,autolink:u(),autolinkEmail:Pe,autolinkProtocol:Ae,blockQuote:u(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:_e,characterReferenceMarkerNumeric:_e,characterReferenceValue:Z,characterReference:de,codeFenced:u(y),codeFencedFence:E,codeFencedFenceInfo:p,codeFencedFenceMeta:_,codeFlowValue:R,codeIndented:u(v),codeText:u(ae),codeTextData:R,data:R,definition:u(),definitionDestinationString:L,definitionLabelString:S,definitionTitleString:T,emphasis:u(),hardBreakEscape:u(H),hardBreakTrailing:u(H),htmlFlow:u(q),htmlFlowData:R,htmlText:u(Y),htmlTextData:R,image:u(oe),label:xe,labelText:Q,lineEnding:k,link:u(he),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ce,resourceDestinationString:W,resourceTitleString:ee,resource:z,setextHeading:u(V),setextHeadingLineSequence:B,setextHeadingText:O,strong:u(),thematicBreak:u()}};yI(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Ce={type:"root",children:[]};const Le={stack:[Ce],tokenStack:[],config:e,enter:o,exit:l,buffer:a,resume:d,data:n},Ve=[];let Ze=-1;for(;++Ze<ge.length;)if(ge[Ze][1].type==="listOrdered"||ge[Ze][1].type==="listUnordered")if(ge[Ze][0]==="enter")Ve.push(Ze);else{const st=Ve.pop();Ze=i(ge,st,Ze)}for(Ze=-1;++Ze<ge.length;){const st=e[ge[Ze][0]];_I.call(st,ge[Ze][1].type)&&st[ge[Ze][1].type].call(Object.assign({sliceSerialize:ge[Ze][2].sliceSerialize},Le),ge[Ze][1])}if(Le.tokenStack.length>0){const st=Le.tokenStack[Le.tokenStack.length-1];(st[1]||NC).call(Le,void 0,st[0])}for(Ce.position={start:Zc(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Zc(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<e.transforms.length;)Ce=e.transforms[Ze](Ce)||Ce;return Ce}function i(ge,Ce,Le){let Ve=Ce-1,Ze=-1,st=!1,Yt,et,ft,Tt;for(;++Ve<=Le;){const Nt=ge[Ve];switch(Nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Nt[0]==="enter"?Ze++:Ze--,Tt=void 0;break}case"lineEndingBlank":{Nt[0]==="enter"&&(Yt&&!Tt&&!Ze&&!ft&&(ft=Ve),Tt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Tt=void 0}if(!Ze&&Nt[0]==="enter"&&Nt[1].type==="listItemPrefix"||Ze===-1&&Nt[0]==="exit"&&(Nt[1].type==="listUnordered"||Nt[1].type==="listOrdered")){if(Yt){let nt=Ve;for(et=void 0;nt--;){const qt=ge[nt];if(qt[1].type==="lineEnding"||qt[1].type==="lineEndingBlank"){if(qt[0]==="exit")continue;et&&(ge[et][1].type="lineEndingBlank",st=!0),qt[1].type="lineEnding",et=nt}else if(!(qt[1].type==="linePrefix"||qt[1].type==="blockQuotePrefix"||qt[1].type==="blockQuotePrefixWhitespace"||qt[1].type==="blockQuoteMarker"||qt[1].type==="listItemIndent"))break}ft&&(!et||ft<et)&&(Yt._spread=!0),Yt.end=Object.assign({},et?ge[et][1].start:Nt[1].end),ge.splice(et||Ve,0,["exit",Yt,Nt[2]]),Ve++,Le++}if(Nt[1].type==="listItemPrefix"){const nt={type:"listItem",_spread:!1,start:Object.assign({},Nt[1].start),end:void 0};Yt=nt,ge.splice(Ve,0,["enter",nt,Nt[2]]),Ve++,Le++,ft=void 0,Tt=!0}}}return ge[Ce][1]._spread=st,Le}function s(ge,Ce){return Le;function Le(Ve){o.call(this,ge(Ve),Ve),Ce&&Ce.call(this,Ve)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ge,Ce,Le){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Ce,Le||void 0]),ge.position={start:Zc(Ce.start),end:void 0}}function u(ge){return Ce;function Ce(Le){ge&&ge.call(this,Le),l.call(this,Le)}}function l(ge,Ce){const Le=this.stack.pop(),Ve=this.tokenStack.pop();if(Ve)Ve[0].type!==ge.type&&(Ce?Ce.call(this,ge,Ve[0]):(Ve[1]||NC).call(this,ge,Ve[0]));else throw new Error("Cannot close `"+ge.type+"` ("+cm({start:ge.start,end:ge.end})+"): its not open");Le.position.end=Zc(ge.end)}function d(){return RA(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(ge){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=ge}function _(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=ge}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge.replace(/(\r?\n|\r)$/g,"")}function S(ge){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Ce,Le.identifier=xu(this.sliceSerialize(ge)).toLowerCase()}function T(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ge}function L(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ge}function I(ge){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Le=this.sliceSerialize(ge).length;Ce.depth=Le}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function B(ge){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function M(ge){const Le=this.stack[this.stack.length-1].children;let Ve=Le[Le.length-1];(!Ve||Ve.type!=="text")&&(Ve=G(),Ve.position={start:Zc(ge.start),end:void 0},Le.push(Ve)),this.stack.push(Ve)}function R(ge){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(ge),Ce.position.end=Zc(ge.end)}function k(ge){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=Ce.children[Ce.children.length-1];Le.position.end=Zc(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ce.type)&&(M.call(this,ge),R.call(this,ge))}function H(){this.data.atHardBreak=!0}function q(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge}function Y(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge}function ae(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=ge}function he(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ce,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function oe(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ce,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function Q(ge){const Ce=this.sliceSerialize(ge),Le=this.stack[this.stack.length-2];Le.label=Tre(Ce),Le.identifier=xu(Ce).toLowerCase()}function xe(){const ge=this.stack[this.stack.length-1],Ce=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const Ve=ge.children;Le.children=Ve}else Le.alt=Ce}function W(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=ge}function ee(){const ge=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=ge}function z(){this.data.inReference=void 0}function U(){this.data.referenceType="collapsed"}function ce(ge){const Ce=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Ce,Le.identifier=xu(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function _e(ge){this.data.characterReferenceType=ge.type}function Z(ge){const Ce=this.sliceSerialize(ge),Le=this.data.characterReferenceType;let Ve;Le?(Ve=uI(Ce,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ve=IA(Ce);const Ze=this.stack[this.stack.length-1];Ze.value+=Ve}function de(ge){const Ce=this.stack.pop();Ce.position.end=Zc(ge.end)}function Ae(ge){R.call(this,ge);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(ge)}function Pe(ge){R.call(this,ge);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(ge)}function ke(){return{type:"blockquote",children:[]}}function ot(){return{type:"code",lang:null,meta:null,value:""}}function Dt(){return{type:"inlineCode",value:""}}function yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function jt(){return{type:"emphasis",children:[]}}function le(){return{type:"heading",depth:0,children:[]}}function pt(){return{type:"break"}}function rn(){return{type:"html",value:""}}function Ee(){return{type:"image",title:null,url:"",alt:null}}function ct(){return{type:"link",title:null,url:"",children:[]}}function zt(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Mt(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function xt(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function G(){return{type:"text",value:""}}function De(){return{type:"thematicBreak"}}}function Zc(t){return{line:t.line,column:t.column,offset:t.offset}}function yI(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?yI(t,r):Lre(t,r)}}function Lre(t,e){let n;for(n in e)if(_I.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function NC(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+cm({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+cm({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+cm({start:e.start,end:e.end})+") is still open")}function xI(t){const e=this;e.parser=n;function n(r){return Cre(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Zv(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Mre(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const G_=(function(t){if(t==null)return kre;if(typeof t=="function")return q_(t);if(typeof t=="object")return Array.isArray(t)?Pre(t):Rre(t);if(typeof t=="string")return Ire(t);throw new Error("Expected function, string, or object as test")});function Pre(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=G_(t[n]);return q_(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Rre(t){const e=t;return q_(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Ire(t){return q_(e);function e(n){return n&&n.type===t}}function q_(t){return e;function e(n,r,i){return!!(Fre(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function kre(){return!0}function Fre(t){return t!==null&&typeof t=="object"&&"type"in t}const bI=[],Ore=!0,IE=!1,pv="skip";function EI(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=G_(i),a=r?-1:1;o(t,void 0,[])();function o(u,l,d){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=bI,_,E,y;if((!e||s(u,l,d[d.length-1]||void 0))&&(p=Bre(n(u,d)),p[0]===IE))return p;if("children"in u&&u.children){const v=u;if(v.children&&p[0]!==pv)for(E=(r?v.children.length:-1)+a,y=d.concat(v);E>-1&&E<v.children.length;){const S=v.children[E];if(_=o(S,E,y)(),_[0]===IE)return _;E=typeof _[1]=="number"?_[1]:E+a}}return p}}}function Bre(t){return Array.isArray(t)?t:typeof t=="number"?[Ore,t]:t==null?bI:[t]}function Ure(t,e,n){const i=G_((n||{}).ignore||[]),s=jre(e);let a=-1;for(;++a<s.length;)EI(t,"text",o);function o(l,d){let f=-1,m;for(;++f<d.length;){const p=d[f],_=m?m.children:void 0;if(i(p,_?_.indexOf(p):void 0,m))return;m=p}if(m)return u(l,d)}function u(l,d){const f=d[d.length-1],m=s[a][0],p=s[a][1];let _=0;const y=f.children.indexOf(l);let v=!1,S=[];m.lastIndex=0;let T=m.exec(l.value);for(;T;){const L=T.index,I={index:T.index,input:T.input,stack:[...d,l]};let O=p(...T,I);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?m.lastIndex=L+1:(_!==L&&S.push({type:"text",value:l.value.slice(_,L)}),Array.isArray(O)?S.push(...O):O&&S.push(O),_=L+T[0].length,v=!0),!m.global)break;T=m.exec(l.value)}return v?(_<l.value.length&&S.push({type:"text",value:l.value.slice(_)}),f.children.splice(y,1,...S)):S=[l],y+S.length}}function jre(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([zre(i[0]),Hre(i[1])])}return e}function zre(t){return typeof t=="string"?new RegExp(Mre(t),"g"):t}function Hre(t){return typeof t=="function"?t:function(){return t}}const px="phrasing",mx=["autolink","link","image","label"];function Vre(){return{transforms:[Xre],enter:{literalAutolink:Gre,literalAutolinkEmail:gx,literalAutolinkHttp:gx,literalAutolinkWww:gx},exit:{literalAutolink:Yre,literalAutolinkEmail:Kre,literalAutolinkHttp:qre,literalAutolinkWww:$re}}}function Wre(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:px,notInConstruct:mx},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:px,notInConstruct:mx},{character:":",before:"[ps]",after:"\\/",inConstruct:px,notInConstruct:mx}]}}function Gre(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function gx(t){this.config.enter.autolinkProtocol.call(this,t)}function qre(t){this.config.exit.autolinkProtocol.call(this,t)}function $re(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Kre(t){this.config.exit.autolinkEmail.call(this,t)}function Yre(t){this.exit(t)}function Xre(t){Ure(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Zre],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Jre]],{ignore:["link","linkReference"]})}function Zre(t,e,n,r,i){let s="";if(!wI(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Qre(n)))return!1;const a=eie(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function Jre(t,e,n,r){return!wI(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Qre(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function eie(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=Zv(t,"(");let s=Zv(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function wI(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Oh(n)||V_(n))&&(!e||n!==47)}AI.peek=lie;function tie(){this.buffer()}function nie(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function rie(){this.buffer()}function iie(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function sie(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xu(this.sliceSerialize(t)).toLowerCase(),n.label=e}function aie(t){this.exit(t)}function oie(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xu(this.sliceSerialize(t)).toLowerCase(),n.label=e}function uie(t){this.exit(t)}function lie(){return"["}function AI(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function cie(){return{enter:{gfmFootnoteCallString:tie,gfmFootnoteCall:nie,gfmFootnoteDefinitionLabelString:rie,gfmFootnoteDefinition:iie},exit:{gfmFootnoteCallString:sie,gfmFootnoteCall:aie,gfmFootnoteDefinitionLabelString:oie,gfmFootnoteDefinition:uie}}}function die(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:AI},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let u=o.move("[^");const l=s.enter("footnoteDefinition"),d=s.enter("label");return u+=o.move(s.safe(s.associationId(r),{before:u,after:"]"})),d(),u+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),u+=o.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),e?SI:hie))),l(),u}}function hie(t,e,n){return e===0?t:SI(t,e,n)}function SI(t,e,n){return(n?"":"    ")+t}const fie=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];TI.peek=_ie;function pie(){return{canContainEols:["delete"],enter:{strikethrough:gie},exit:{strikethrough:vie}}}function mie(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:fie}],handlers:{delete:TI}}}function gie(t){this.enter({type:"delete",children:[]},t)}function vie(t){this.exit(t)}function TI(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function _ie(){return"~"}function yie(t){return t.length}function xie(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||yie,s=[],a=[],o=[],u=[];let l=0,d=-1;for(;++d<t.length;){const E=[],y=[];let v=-1;for(t[d].length>l&&(l=t[d].length);++v<t[d].length;){const S=bie(t[d][v]);if(n.alignDelimiters!==!1){const T=i(S);y[v]=T,(u[v]===void 0||T>u[v])&&(u[v]=T)}E.push(S)}a[d]=E,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<l;)s[f]=LC(r[f]);else{const E=LC(r);for(;++f<l;)s[f]=E}f=-1;const m=[],p=[];for(;++f<l;){const E=s[f];let y="",v="";E===99?(y=":",v=":"):E===108?y=":":E===114&&(v=":");let S=n.alignDelimiters===!1?1:Math.max(1,u[f]-y.length-v.length);const T=y+"-".repeat(S)+v;n.alignDelimiters!==!1&&(S=y.length+S+v.length,S>u[f]&&(u[f]=S),p[f]=S),m[f]=T}a.splice(1,0,m),o.splice(1,0,p),d=-1;const _=[];for(;++d<a.length;){const E=a[d],y=o[d];f=-1;const v=[];for(;++f<l;){const S=E[f]||"";let T="",L="";if(n.alignDelimiters!==!1){const I=u[f]-(y[f]||0),O=s[f];O===114?T=" ".repeat(I):O===99?I%2?(T=" ".repeat(I/2+.5),L=" ".repeat(I/2-.5)):(T=" ".repeat(I/2),L=T):L=" ".repeat(I)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&S==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(T),v.push(S),n.alignDelimiters!==!1&&v.push(L),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==l-1)&&v.push("|")}_.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return _.join(`
`)}function bie(t){return t==null?"":String(t)}function LC(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const MC={}.hasOwnProperty;function Eie(t,e){const n=e||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&MC.call(i,t)){const u=String(i[t]);a=MC.call(o,u)?o[u]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function wie(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),Aie);return i(),a}function Aie(t,e,n){return">"+(n?"":" ")+t}function Sie(t,e){return PC(t,e.inConstruct,!0)&&!PC(t,e.notInConstruct,!1)}function PC(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function RC(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Sie(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Tie(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function Die(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Cie(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Nie(t,e,n,r){const i=Cie(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Die(t,n)){const f=n.enter("codeIndented"),m=n.indentLines(s,Lie);return f(),m}const o=n.createTracker(r),u=i.repeat(Math.max(Tie(s,i)+1,3)),l=n.enter("codeFenced");let d=o.move(u);if(t.lang){const f=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(u),l(),d}function Lie(t,e,n){return(n?"":"    ")+t}function FA(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Mie(t,e,n,r){const i=FA(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const u=n.createTracker(r);let l=u.move("[");return l+=u.move(n.safe(n.associationId(t),{before:l,after:"]",...u.current()})),l+=u.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(t.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(o=n.enter("destinationRaw"),l+=u.move(n.safe(t.url,{before:l,after:t.title?" ":`
`,...u.current()}))),o(),t.title&&(o=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(t.title,{before:l,after:i,...u.current()})),l+=u.move(i),o()),a(),l}function Pie(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Im(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Jv(t,e,n){const r=Up(t),i=Up(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}DI.peek=Rie;function DI(t,e,n,r){const i=Pie(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let u=a.move(n.containerPhrasing(t,{after:i,before:o,...a.current()}));const l=u.charCodeAt(0),d=Jv(r.before.charCodeAt(r.before.length-1),l,i);d.inside&&(u=Im(l)+u.slice(1));const f=u.charCodeAt(u.length-1),m=Jv(r.after.charCodeAt(0),f,i);m.inside&&(u=u.slice(0,-1)+Im(f));const p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},o+u+p}function Rie(t,e,n){return n.options.emphasis||"*"}function Vo(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),EI(t,s,o,i);function o(u,l){const d=l[l.length-1],f=d?d.children.indexOf(u):void 0;return a(u,f,d)}}function Iie(t,e){let n=!1;return Vo(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,IE}),!!((!t.depth||t.depth<3)&&RA(t)&&(e.options.setext||n))}function kie(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(Iie(t,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return f(),d(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let l=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(l)&&(l=Im(l.charCodeAt(0))+l.slice(1)),l=l?a+" "+l:a,n.options.closeAtx&&(l+=" "+a),u(),o(),l}CI.peek=Fie;function CI(t){return t.value||""}function Fie(){return"<"}NI.peek=Oie;function NI(t,e,n,r){const i=FA(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const u=n.createTracker(r);let l=u.move("![");return l+=u.move(n.safe(t.alt,{before:l,after:"]",...u.current()})),l+=u.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),l+=u.move("<"),l+=u.move(n.safe(t.url,{before:l,after:">",...u.current()})),l+=u.move(">")):(o=n.enter("destinationRaw"),l+=u.move(n.safe(t.url,{before:l,after:t.title?" ":")",...u.current()}))),o(),t.title&&(o=n.enter(`title${s}`),l+=u.move(" "+i),l+=u.move(n.safe(t.title,{before:l,after:i,...u.current()})),l+=u.move(i),o()),l+=u.move(")"),a(),l}function Oie(){return"!"}LI.peek=Bie;function LI(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("![");const l=n.safe(t.alt,{before:u,after:"]",...o.current()});u+=o.move(l+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:u,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!l||l!==f?u+=o.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Bie(){return"!"}MI.peek=Uie;function MI(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let u;if(a.atBreak)for(;u=o.exec(r);){let l=u.index;r.charCodeAt(l)===10&&r.charCodeAt(l-1)===13&&l--,r=r.slice(0,l)+" "+r.slice(u.index+1)}}return i+r+i}function Uie(){return"`"}function PI(t,e){const n=RA(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}RI.peek=jie;function RI(t,e,n,r){const i=FA(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,u;if(PI(t,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(t,{before:f,after:">",...a.current()})),f+=a.move(">"),o(),n.stack=d,f}o=n.enter("link"),u=n.enter("label");let l=a.move("[");return l+=a.move(n.containerPhrasing(t,{before:l,after:"](",...a.current()})),l+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),l+=a.move("<"),l+=a.move(n.safe(t.url,{before:l,after:">",...a.current()})),l+=a.move(">")):(u=n.enter("destinationRaw"),l+=a.move(n.safe(t.url,{before:l,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${s}`),l+=a.move(" "+i),l+=a.move(n.safe(t.title,{before:l,after:i,...a.current()})),l+=a.move(i),u()),l+=a.move(")"),o(),l}function jie(t,e,n){return PI(t,n)?"<":"["}II.peek=zie;function II(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let u=o.move("[");const l=n.containerPhrasing(t,{before:u,after:"]",...o.current()});u+=o.move(l+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:u,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!l||l!==f?u+=o.move(f+"]"):i==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function zie(){return"["}function OA(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Hie(t){const e=OA(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Vie(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function kI(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Wie(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?Vie(n):OA(n);const o=t.ordered?a==="."?")":".":Hie(n);let u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),kI(n)===a&&d){let f=-1;for(;++f<t.children.length;){const m=t.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=o),n.bulletCurrent=a;const l=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),l}function Gie(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function qie(t,e,n,r){const i=Gie(n);let s=n.bulletCurrent||OA(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const u=n.enter("listItem"),l=n.indentLines(n.containerFlow(t,o.current()),d);return u(),l;function d(f,m,p){return m?(p?"":" ".repeat(a))+f:(p?s:s+" ".repeat(a-s.length))+f}}function $ie(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}const Kie=G_(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Yie(t,e,n,r){return(t.children.some(function(a){return Kie(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Xie(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}FI.peek=Zie;function FI(t,e,n,r){const i=Xie(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let u=a.move(n.containerPhrasing(t,{after:i,before:o,...a.current()}));const l=u.charCodeAt(0),d=Jv(r.before.charCodeAt(r.before.length-1),l,i);d.inside&&(u=Im(l)+u.slice(1));const f=u.charCodeAt(u.length-1),m=Jv(r.after.charCodeAt(0),f,i);m.inside&&(u=u.slice(0,-1)+Im(f));const p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},o+u+p}function Zie(t,e,n){return n.options.strong||"*"}function Jie(t,e,n,r){return n.safe(t.value,r)}function Qie(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function ese(t,e,n){const r=(kI(n)+(n.options.ruleSpaces?" ":"")).repeat(Qie(n));return n.options.ruleSpaces?r.slice(0,-1):r}const OI={blockquote:wie,break:RC,code:Nie,definition:Mie,emphasis:DI,hardBreak:RC,heading:kie,html:CI,image:NI,imageReference:LI,inlineCode:MI,link:RI,linkReference:II,list:Wie,listItem:qie,paragraph:$ie,root:Yie,strong:FI,text:Jie,thematicBreak:ese};function tse(){return{enter:{table:nse,tableData:IC,tableHeader:IC,tableRow:ise},exit:{codeText:sse,table:rse,tableData:vx,tableHeader:vx,tableRow:vx}}}function nse(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function rse(t){this.exit(t),this.data.inTable=void 0}function ise(t){this.enter({type:"tableRow",children:[]},t)}function vx(t){this.exit(t)}function IC(t){this.enter({type:"tableCell",children:[]},t)}function sse(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,ase));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function ase(t,e){return e==="|"?e:t}function ose(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:a,tableCell:u,tableRow:o}};function a(p,_,E,y){return l(d(p,E,y),p.align)}function o(p,_,E,y){const v=f(p,E,y),S=l([v]);return S.slice(0,S.indexOf(`
`))}function u(p,_,E,y){const v=E.enter("tableCell"),S=E.enter("phrasing"),T=E.containerPhrasing(p,{...y,before:s,after:s});return S(),v(),T}function l(p,_){return xie(p,{align:_,alignDelimiters:r,padding:n,stringLength:i})}function d(p,_,E){const y=p.children;let v=-1;const S=[],T=_.enter("table");for(;++v<y.length;)S[v]=f(y[v],_,E);return T(),S}function f(p,_,E){const y=p.children;let v=-1;const S=[],T=_.enter("tableRow");for(;++v<y.length;)S[v]=u(y[v],p,_,E);return T(),S}function m(p,_,E){let y=OI.inlineCode(p,_,E);return E.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function use(){return{exit:{taskListCheckValueChecked:kC,taskListCheckValueUnchecked:kC,paragraph:cse}}}function lse(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:dse}}}function kC(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function cse(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function dse(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let u=OI.listItem(t,e,n,{...r,...o.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,l)),u;function l(d){return d+a}}function hse(){return[Vre(),cie(),pie(),tse(),use()]}function fse(t){return{extensions:[Wre(),die(t),mie(),ose(t),lse()]}}const pse={tokenize:xse,partial:!0},BI={tokenize:bse,partial:!0},UI={tokenize:Ese,partial:!0},jI={tokenize:wse,partial:!0},mse={tokenize:Ase,partial:!0},zI={name:"wwwAutolink",tokenize:_se,previous:VI},HI={name:"protocolAutolink",tokenize:yse,previous:WI},fc={name:"emailAutolink",tokenize:vse,previous:GI},ll={};function gse(){return{text:ll}}let sh=48;for(;sh<123;)ll[sh]=fc,sh++,sh===58?sh=65:sh===91&&(sh=97);ll[43]=fc;ll[45]=fc;ll[46]=fc;ll[95]=fc;ll[72]=[fc,HI];ll[104]=[fc,HI];ll[87]=[fc,zI];ll[119]=[fc,zI];function vse(t,e,n){const r=this;let i,s;return a;function a(f){return!kE(f)||!GI.call(r,r.previous)||BA(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(f))}function o(f){return kE(f)?(t.consume(f),o):f===64?(t.consume(f),u):n(f)}function u(f){return f===46?t.check(mse,d,l)(f):f===45||f===95||la(f)?(s=!0,t.consume(f),u):d(f)}function l(f){return t.consume(f),i=!0,u}function d(f){return s&&i&&ba(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function _se(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!VI.call(r,r.previous)||BA(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(pse,t.attempt(BI,t.attempt(UI,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function yse(t,e,n){const r=this;let i="",s=!1;return a;function a(f){return(f===72||f===104)&&WI.call(r,r.previous)&&!BA(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),o):n(f)}function o(f){if(ba(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),o;if(f===58){const m=i.toLowerCase();if(m==="http"||m==="https")return t.consume(f),u}return n(f)}function u(f){return f===47?(t.consume(f),s?l:(s=!0,u)):n(f)}function l(f){return f===null||Xv(f)||$r(f)||Oh(f)||V_(f)?n(f):t.attempt(BI,t.attempt(UI,d),n)(f)}function d(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function xse(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function bse(t,e,n){let r,i,s;return a;function a(l){return l===46||l===95?t.check(jI,u,o)(l):l===null||$r(l)||Oh(l)||l!==45&&V_(l)?u(l):(s=!0,t.consume(l),a)}function o(l){return l===95?r=!0:(i=r,r=void 0),t.consume(l),a}function u(l){return i||r||!s?n(l):e(l)}}function Ese(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(jI,e,s)(a):a===null||$r(a)||Oh(a)?e(a):(t.consume(a),i)}function s(a){return a===41&&r++,t.consume(a),i}}function wse(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),s):o===93?(t.consume(o),i):o===60||o===null||$r(o)||Oh(o)?e(o):n(o)}function i(o){return o===null||o===40||o===91||$r(o)||Oh(o)?e(o):r(o)}function s(o){return ba(o)?a(o):n(o)}function a(o){return o===59?(t.consume(o),r):ba(o)?(t.consume(o),a):n(o)}}function Ase(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return la(s)?n(s):e(s)}}function VI(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||$r(t)}function WI(t){return!ba(t)}function GI(t){return!(t===47||kE(t))}function kE(t){return t===43||t===45||t===46||t===95||la(t)}function BA(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Sse={tokenize:Rse,partial:!0};function Tse(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Lse,continuation:{tokenize:Mse},exit:Pse}},text:{91:{name:"gfmFootnoteCall",tokenize:Nse},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Dse,resolveTo:Cse}}}}function Dse(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!a||!a._balanced)return n(u);const l=xu(r.sliceSerialize({start:a.end,end:r.now()}));return l.codePointAt(0)!==94||!s.includes(l.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function Cse(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function Nse(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),u}function u(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",l)}function l(f){if(s>999||f===93&&!a||f===null||f===91||$r(f))return n(f);if(f===93){t.exit("chunkString");const m=t.exit("gfmFootnoteCallString");return i.includes(xu(r.sliceSerialize(m)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return $r(f)||(a=!0),s++,t.consume(f),f===92?d:l}function d(f){return f===91||f===92||f===93?(t.consume(f),s++,l):l(f)}}function Lse(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return u;function u(_){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),l}function l(_){return _===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(_)}function d(_){if(a>999||_===93&&!o||_===null||_===91||$r(_))return n(_);if(_===93){t.exit("chunkString");const E=t.exit("gfmFootnoteDefinitionLabelString");return s=xu(r.sliceSerialize(E)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),m}return $r(_)||(o=!0),a++,t.consume(_),_===92?f:d}function f(_){return _===91||_===92||_===93?(t.consume(_),a++,d):d(_)}function m(_){return _===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),i.includes(s)||i.push(s),vr(t,p,"gfmFootnoteDefinitionWhitespace")):n(_)}function p(_){return e(_)}}function Mse(t,e,n){return t.check(ug,e,t.attempt(Sse,e,n))}function Pse(t){t.exit("gfmFootnoteDefinition")}function Rse(t,e,n){const r=this;return vr(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function Ise(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let l=u;for(;l--;)if(a[l][0]==="exit"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[l][1].end.offset-a[l][1].start.offset){a[u][1].type="strikethroughSequence",a[l][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[l][1].start),end:Object.assign({},a[u][1].end)},f={type:"strikethroughText",start:Object.assign({},a[l][1].end),end:Object.assign({},a[u][1].start)},m=[["enter",d,o],["enter",a[l][1],o],["exit",a[l][1],o],["enter",f,o]],p=o.parser.constructs.insideSpan.null;p&&_o(m,m.length,0,W_(p,a.slice(l+1,u),o)),_o(m,m.length,0,[["exit",f,o],["enter",a[u][1],o],["exit",a[u][1],o],["exit",d,o]]),_o(a,l-1,u-l+3,m),u=l+m.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,o,u){const l=this.previous,d=this.events;let f=0;return m;function m(_){return l===126&&d[d.length-1][1].type!=="characterEscape"?u(_):(a.enter("strikethroughSequenceTemporary"),p(_))}function p(_){const E=Up(l);if(_===126)return f>1?u(_):(a.consume(_),f++,p);if(f<2&&!n)return u(_);const y=a.exit("strikethroughSequenceTemporary"),v=Up(_);return y._open=!v||v===2&&!!E,y._close=!E||E===2&&!!v,o(_)}}}class kse{constructor(){this.map=[]}add(e,n,r){Fse(this,e,n,r)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function Fse(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Ose(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Bse(){return{flow:{null:{name:"table",tokenize:Use,resolveAll:jse}}}}function Use(t,e,n){const r=this;let i=0,s=0,a;return o;function o(R){let k=r.events.length-1;for(;k>-1;){const Y=r.events[k][1].type;if(Y==="lineEnding"||Y==="linePrefix")k--;else break}const H=k>-1?r.events[k][1].type:null,q=H==="tableHead"||H==="tableRow"?O:u;return q===O&&r.parser.lazy[r.now().line]?n(R):q(R)}function u(R){return t.enter("tableHead"),t.enter("tableRow"),l(R)}function l(R){return R===124||(a=!0,s+=1),d(R)}function d(R){return R===null?n(R):Pn(R)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),p):n(R):dr(R)?vr(t,d,"whitespace")(R):(s+=1,a&&(a=!1,i+=1),R===124?(t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),a=!0,d):(t.enter("data"),f(R)))}function f(R){return R===null||R===124||$r(R)?(t.exit("data"),d(R)):(t.consume(R),R===92?m:f)}function m(R){return R===92||R===124?(t.consume(R),f):f(R)}function p(R){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(R):(t.enter("tableDelimiterRow"),a=!1,dr(R)?vr(t,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):_(R))}function _(R){return R===45||R===58?y(R):R===124?(a=!0,t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),E):I(R)}function E(R){return dr(R)?vr(t,y,"whitespace")(R):y(R)}function y(R){return R===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(R),t.exit("tableDelimiterMarker"),v):R===45?(s+=1,v(R)):R===null||Pn(R)?L(R):I(R)}function v(R){return R===45?(t.enter("tableDelimiterFiller"),S(R)):I(R)}function S(R){return R===45?(t.consume(R),S):R===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(R),t.exit("tableDelimiterMarker"),T):(t.exit("tableDelimiterFiller"),T(R))}function T(R){return dr(R)?vr(t,L,"whitespace")(R):L(R)}function L(R){return R===124?_(R):R===null||Pn(R)?!a||i!==s?I(R):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(R)):I(R)}function I(R){return n(R)}function O(R){return t.enter("tableRow"),B(R)}function B(R){return R===124?(t.enter("tableCellDivider"),t.consume(R),t.exit("tableCellDivider"),B):R===null||Pn(R)?(t.exit("tableRow"),e(R)):dr(R)?vr(t,B,"whitespace")(R):(t.enter("data"),V(R))}function V(R){return R===null||R===124||$r(R)?(t.exit("data"),B(R)):(t.consume(R),R===92?M:V)}function M(R){return R===92||R===124?(t.consume(R),V):V(R)}}function jse(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,u=0,l,d,f;const m=new kse;for(;++n<t.length;){const p=t[n],_=p[1];p[0]==="enter"?_.type==="tableHead"?(o=!1,u!==0&&(FC(m,e,u,l,d),d=void 0,u=0),l={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},m.add(n,0,[["enter",l,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},m.add(n,0,[["enter",d,e]])),i=_.type==="tableDelimiterRow"?2:d?3:1):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],f=I1(m,e,s,i,void 0,f),s=[0,0,0,0]),a[2]=n)):_.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],f=I1(m,e,s,i,void 0,f)),s=a,a=[s[1],n,0,0])):_.type==="tableHead"?(o=!0,u=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(u=n,s[1]!==0?(a[0]=a[1],f=I1(m,e,s,i,n,f)):a[1]!==0&&(f=I1(m,e,a,i,n,f)),i=0):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&FC(m,e,u,l,d),m.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Ose(e.events,n))}return t}function I1(t,e,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},Jf(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const u=Jf(e.events,n[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const l=Jf(e.events,n[2]),d=Jf(e.events,n[3]),f={type:o,start:Object.assign({},l),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const m=e.events[n[2]],p=e.events[n[3]];if(m[1].end=Object.assign({},p[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,E=n[3]-n[2]-1;t.add(_,E,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(s.end=Object.assign({},Jf(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function FC(t,e,n,r,i){const s=[],a=Jf(e.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,e])),r.end=Object.assign({},a),s.push(["exit",r,e]),t.add(n+1,0,s)}function Jf(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const zse={name:"tasklistCheck",tokenize:Vse};function Hse(){return{text:{91:zse}}}function Vse(t,e,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),s)}function s(u){return $r(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(u)}function o(u){return Pn(u)?e(u):dr(u)?t.check({tokenize:Wse},e,n)(u):n(u)}}function Wse(t,e,n){return vr(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Gse(t){return oI([gse(),Tse(),Ise(t),Bse(),Hse()])}const qse={};function qI(t){const e=this,n=t||qse,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Gse(n)),s.push(hse()),a.push(fse(n))}const $se=[];function ki(t){let e=-1;if(!t||!Array.isArray(t)&&!t.type)throw new Error("Expected node, not `"+t+"`");if("value"in t)return t.value;const n=(Array.isArray(t)?t:t.children)||$se,r=[];for(;++e<n.length;)r[e]=ki(n[e]);return r.join("")}const Kse={}.hasOwnProperty;function Yse(t,e,n){let r=-1;if(!t)throw new Error("Iterate requires that |this| not be "+t);if(!Kse.call(t,"length"))throw new Error("Iterate requires that |this| has a `length`");if(typeof e!="function")throw new TypeError("`callback` must be a function");for(;++r<t.length;){if(!(r in t))continue;const i=e.call(n,t[r],r,t);typeof i=="number"&&(i<0&&(r=0),r=i-1)}}function $a(t){return e;function e(r){if(!r||!r.children)throw new Error("Missing children in `parent` for `modifier`");Yse(r.children,n,r)}function n(r,i){return t(r,i,this)}}const Xse=$a(function(t,e,n){const r=n.children[e-1];if(r&&"children"in r&&"children"in t&&t.children.length>0){let i=-1;for(;t.children[++i];){const s=t.children[i];if(s.type==="WordNode")return;if(s.type==="SymbolNode"||s.type==="PunctuationNode"){const a=ki(s);return a!==","&&a!==";"?void 0:(r.children.push(...t.children),r.position&&t.position&&(r.position.end=t.position.end),n.children.splice(e,1),e)}}}}),Zse=/^([!"').?\u0F3B\u0F3D\u169C\u2019\u201D\u2026\u203A\u203D\u2046\u207E\u208E\u2309\u230B\u232A\u2769\u276B\u276D\u276F\u2771\u2773\u2775\u27C6\u27E7\u27E9\u27EB\u27ED\u27EF\u2984\u2986\u2988\u298A\u298C\u298E\u2990\u2992\u2994\u2996\u2998\u29D9\u29DB\u29FD\u2E03\u2E05\u2E0A\u2E0D\u2E1D\u2E21\u2E23\u2E25\u2E27\u2E29\u2E56\u2E58\u2E5A\u2E5C\u3009\u300B\u300D\u300F\u3011\u3015\u3017\u3019\u301B\u301E\u301F\uFD3E\uFE18\uFE36\uFE38\uFE3A\uFE3C\uFE3E\uFE40\uFE42\uFE44\uFE48\uFE5A\uFE5C\uFE5E\uFF09\uFF3D\uFF5D\uFF60\uFF63\u00BB\]}])\1*$/,Jse=/^[ \t]*((\r?\n|\r)[\t ]*)+$/,$I=/^([!.?\u2026\u203D]+)$/,Qse=/^([&'\-.:=?@\u00AD\u00B7\u2010\u2011\u2019\u2027]|_+)$/,eae=/^(?:[\d\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDF50-\uDF59\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])+$/,tae=/^\d/,nae=/^(?:[a-z\u00B5\u00DF-\u00F6\u00F8-\u00FF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E\uDF25-\uDF2A]|\uD83A[\uDD22-\uDD43])/,rae=/[\uD800-\uDFFF]/,iae=/[!"'-),-/:;?[-\]_{}\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u201F\u2022-\u2027\u2032-\u203A\u203C-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,sae=/[\dA-Za-z\u00AA\u00B2\u00B3\u00B5\u00B9\u00BA\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u0870-\u0887\u0889-\u088E\u0898-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1715\u171F-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u180B-\u180D\u180F-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ACE\u1B00-\u1B4C\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u20D0-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA827\uA82C\uA830-\uA835\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDEFD-\uDF27\uDF30-\uDF54\uDF70-\uDF85\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC52-\uDC75\uDC7F-\uDCBA\uDCC2\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE37\uDE3E-\uDE41\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDF00-\uDF10\uDF12-\uDF3A\uDF3E-\uDF42\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC40-\uDC55]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC30-\uDC6D\uDC8F\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAE\uDEC0-\uDEF9]|\uD839[\uDCD0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]|\uDB40[\uDD00-\uDDEF]/,aae=/[\t-\r \u0085\u00A0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,oae=$a(function(t,e,n){if("children"in t&&t.children.length>0&&e>0){const r=n.children[e-1],i=t.children[0],s=t.children[1];if(r&&r.type==="SentenceNode"&&(i.type==="SymbolNode"||i.type==="PunctuationNode")&&Zse.test(ki(i)))return t.children.shift(),r.children.push(i),i.position&&r.position&&(r.position.end=i.position.end),s&&s.position&&t.position&&(t.position.start=s.position.start),e-1}}),uae=$a(function(t,e,n){if(t.type!=="SentenceNode")return;const r=t.children;let i=0;for(;++i<r.length-1;){const s=r[i];if(s.type!=="WhiteSpaceNode"||ki(s).split(/\r\n|\r|\n/).length<3)continue;t.children=r.slice(0,i);const a={type:"SentenceNode",children:r.slice(i+1)},o=r[i-1],u=r[i+1];if(n.children.splice(e+1,0,s,a),t.position&&o.position&&u.position){const l=t.position.end;t.position.end=o.position.end,a.position={start:u.position.start,end:l}}return e+1}}),KI=$a(function(t,e,n){if("children"in t){const r=t.children[t.children.length-1];if(r&&r.type==="WhiteSpaceNode"){t.children.pop(),n.children.splice(e+1,0,r);const i=t.children[t.children.length-1];return i&&i.position&&t.position&&(t.position.end=i.position.end),e}}});function UA(t){return e;function e(n){const r=n&&n.children;let i=-1;if(!r)throw new Error("Missing children in `parent` for `visit`");for(;++i in r;)t(r[i],i,n)}}const YI=UA(function(t,e,n){if("children"in t&&t.children){const r=t.children[0];if(r&&r.type==="WhiteSpaceNode"){t.children.shift(),n.children.splice(e,0,r);const i=t.children[0];i&&i.position&&t.position&&(t.position.start=i.position.start)}}}),lae=$a(function(t,e,n){if(e>0&&(t.type==="SymbolNode"||t.type==="PunctuationNode")&&ki(t)==="-"){const r=n.children,i=r[e-1],s=r[e+1];if((!s||s.type!=="WordNode")&&i&&i.type==="WordNode")return r.splice(e,1),i.children.push(t),i.position&&t.position&&(i.position.end=t.position.end),e}}),cae=$a(function(t,e,n){const r=n.children[e-1];if(r&&r.type==="SentenceNode"&&t.type==="SentenceNode"){const i=t.children[0];if(i&&i.type==="WordNode"&&tae.test(ki(i)))return r.children.push(...t.children),n.children.splice(e,1),r.position&&t.position&&(r.position.end=t.position.end),e}}),dae=$a(function(t,e,n){if(t.type==="SentenceNode"&&e>0){const r=n.children[e-1],i=t.children;if(i.length>0&&r.type==="SentenceNode"){let s=-1;for(;i[++s];){const a=i[s];if(a.type==="WordNode")return nae.test(ki(a))?(r.children.push(...i),n.children.splice(e,1),r.position&&t.position&&(r.position.end=t.position.end),e):void 0;if(a.type==="SymbolNode"||a.type==="PunctuationNode")return}}}}),hae=$a(function(t,e,n){if(t.type!=="SymbolNode"&&t.type!=="PunctuationNode"||ki(t)!=="&")return;const r=n.children,i=r[e+1];if(!(e>0&&r[e-1].type==="WordNode"||!(i&&i.type==="WordNode")))return r.splice(e,1),i.children.unshift(t),i.position&&t.position&&(i.position.start=t.position.start),e-1}),fae=$a(function(t,e,n){if(e>0&&t.type==="PunctuationNode"&&ki(t)==="."){const r=n.children[e-1];if(r.type==="WordNode"&&r.children&&r.children.length!==1&&r.children.length%2!==0){let i=r.children.length,s=!0;for(;r.children[--i];){const a=r.children[i],o=ki(a);if(i%2===0){if(o.length>1)return;eae.test(o)||(s=!1)}else if(o!=="."){if(i<r.children.length-2)break;return}}if(!s)return n.children.splice(e,1),r.children.push(t),r.position&&t.position&&(r.position.end=t.position.end),e}}}),pae=$a(function(t,e,n){if(e>0&&(t.type==="SymbolNode"||t.type==="PunctuationNode")){const r=n.children,i=r[e-1];if(i&&i.type==="WordNode"){let s=e-1;const a=[];let o=[];for(;r[++s];){const u=r[s];if(u.type==="WordNode")a.push(...o,...u.children),o=[];else if((u.type==="SymbolNode"||u.type==="PunctuationNode")&&Qse.test(ki(u)))o.push(u);else break}if(a.length>0){o.length>0&&(s-=o.length),r.splice(e,s-e),i.children.push(...a);const u=a[a.length-1];return i.position&&u.position&&(i.position.end=u.position.end),e}}}}),mae=$a(function(t,e,n){const r=n.children,i=r[e-1];if(i&&i.type==="WordNode"&&(t.type==="SymbolNode"||t.type==="PunctuationNode")&&ki(t)==="/"){const s=ki(i);let a=t;const o=[t];let u=1,l="";const d=r[e+1];if(d&&d.type==="WordNode"&&(l=ki(d),a=d,o.push(...d.children),u++),s.length<3&&(!l||l.length<3))return i.children.push(...o),r.splice(e,u),i.position&&a.position&&(i.position.end=a.position.end),e}}),gae=$a(function(t,e,n){if("children"in t){let r=-1;for(;t.children[++r];)if(t.children[r].type==="WordNode")return;const i=n.children[e-1];if(i&&"children"in i)return i.children.push(...t.children),n.children.splice(e,1),i.position&&t.position&&(i.position.end=t.position.end),e;const s=n.children[e+1];s&&"children"in s&&(s.children.unshift(...t.children),s.position&&t.position&&(s.position.start=t.position.start),n.children.splice(e,1))}}),vae=new RegExp("^([0-9]{1,3}|[a-z]|al|ca|cap|cca|cent|cf|cit|con|cp|cwt|ead|etc|ff|fl|ibid|id|nem|op|pro|seq|sic|stat|tem|viz)$"),_ae=$a(function(t,e,n){if("children"in t&&t.children.length>1){const r=t.children[t.children.length-1];if(r&&(r.type==="PunctuationNode"||r.type==="SymbolNode")&&ki(r)==="."){const i=t.children[t.children.length-2];if(i&&i.type==="WordNode"&&vae.test(ki(i).toLowerCase())){i.children.push(r),t.children.pop(),r.position&&i.position&&(i.position.end=r.position.end);const s=n.children[e+1];if(s&&s.type==="SentenceNode")return t.children.push(...s.children),n.children.splice(e+1,1),s.position&&t.position&&(t.position.end=s.position.end),e-1}}}}),yae=UA(function(t,e,n){if("children"in t){let r=t.children.length,i=!1;for(;t.children[--r];){const s=t.children[r];if(s.type!=="SymbolNode"&&s.type!=="PunctuationNode"){s.type==="WordNode"&&(i=!0);continue}if(!$I.test(ki(s)))continue;if(!i){i=!0;continue}if(ki(s)!==".")continue;const a=t.children[r-1],o=t.children[r+1];if(a&&a.type==="WordNode"){const u=t.children[r+2];if(o&&u&&o.type==="WhiteSpaceNode"&&ki(u)===".")continue;t.children.splice(r,1),a.children.push(s),s.position&&a.position&&(a.position.end=s.position.end),r--}else o&&o.type==="WordNode"&&(t.children.splice(r,1),o.children.unshift(s),s.position&&o.position&&(o.position.start=s.position.start))}}}),XI=$a(function(t,e,n){if("children"in t&&t.children.length===0)return n.children.splice(e,1),e}),jA=UA(function(t,e,n){const r=n.children;t.position&&e<1&&(!n.position||!n.position.start)&&(OC(n),n.position.start=t.position.start),t.position&&e===r.length-1&&(!n.position||!n.position.end)&&(OC(n),n.position.end=t.position.end)});function OC(t){t.position||(t.position={})}class $_{constructor(e,n){const r=n||e;this.doc=r?String(r):void 0,this.tokenizeRootPlugins=[...this.tokenizeRootPlugins],this.tokenizeParagraphPlugins=[...this.tokenizeParagraphPlugins],this.tokenizeSentencePlugins=[...this.tokenizeSentencePlugins]}parse(e){return this.tokenizeRoot(e||this.doc)}tokenizeRoot(e){const n=this.tokenizeParagraph(e),r={type:"RootNode",children:BC(n,"WhiteSpaceNode",Jse)};let i=-1;for(;this.tokenizeRootPlugins[++i];)this.tokenizeRootPlugins[i](r);return r}tokenizeParagraph(e){const n=this.tokenizeSentence(e),r={type:"ParagraphNode",children:BC(n,"PunctuationNode",$I)};let i=-1;for(;this.tokenizeParagraphPlugins[++i];)this.tokenizeParagraphPlugins[i](r);return r}tokenizeSentence(e){const r={type:"SentenceNode",children:this.tokenize(e)};let i=-1;for(;this.tokenizeSentencePlugins[++i];)this.tokenizeSentencePlugins[i](r);return r}tokenize(e){const n=[];if(!e)return n;const r={line:1,column:1,offset:0};let i=0,s=0,a={...r},o,u;for(;s<e.length;){const d=e.charAt(s),f=aae.test(d)?"WhiteSpaceNode":iae.test(d)?"PunctuationNode":sae.test(d)?"WordNode":"SymbolNode";i<s&&o&&f&&!(o===f&&(o==="WordNode"||o==="WhiteSpaceNode"||d===u||rae.test(d)))&&(n.push(l(o,e.slice(i,s))),i=s,a={...r}),d==="\r"||d===`
`&&u!=="\r"?(r.line++,r.column=1):d!==`
`&&r.column++,r.offset++,o=f,u=d,s++}return o&&i<s&&n.push(l(o,e.slice(i,s))),n;function l(d,f){return d==="WordNode"?{type:"WordNode",children:[{type:"TextNode",value:f,position:{start:a,end:{...r}}}],position:{start:a,end:{...r}}}:{type:d,value:f,position:{start:a,end:{...r}}}}}}$_.prototype.tokenizeSentencePlugins=[hae,lae,pae,mae,fae,jA];$_.prototype.tokenizeParagraphPlugins=[gae,oae,dae,cae,_ae,Xse,yae,YI,KI,uae,XI,jA];$_.prototype.tokenizeRootPlugins=[YI,KI,XI,jA];function BC(t,e,n){const r=[];let i=-1,s=0;for(;++i<t.children.length;){const a=t.children[i];if(i===t.children.length-1||a.type===e&&n.test(ki(a))){const o={type:t.type,children:t.children.slice(s,i+1)},u=t.children[s],l=a;u.position&&l.position&&(o.position={start:u.position.start,end:l.position.end}),r.push(o),s=i+1}}return r}function xae(){const t=this;t.parser=e;function e(n){const r=new $_;return _x(r.tokenizeParagraphPlugins,t.data("nlcstParagraphExtensions")),_x(r.tokenizeRootPlugins,t.data("nlcstRootExtensions")),_x(r.tokenizeSentencePlugins,t.data("nlcstSentenceExtensions")),r.parse(n)}}function _x(t,e){e&&t.unshift(...e)}function bae(){const t=this;t.compiler=Eae}function Eae(t){return ki(t)}const UC=H_().use(xae).use(bae).freeze(),wae=["",""],Aae=["",""],Sae={};function jC(t){const e=t||Sae,n=[];if(e.quotes!==!1&&n.push(Mae),e.ellipses==="spaced"?n.push(JI):e.ellipses==="unspaced"?n.push(QI):e.ellipses!==!1&&n.push(Lae),e.backticks==="all"){if(e.quotes!==!1)throw new Error("Cannot accept `backticks: 'all'` with `quotes: true`");n.push(Tae)}else e.backticks!==!1&&n.push(ZI);e.dashes==="inverted"?n.push(Cae):e.dashes==="oldschool"?n.push(Nae):e.dashes!==!1&&n.push(Dae);const r={close:e.closingQuotes?[e.closingQuotes.double,e.closingQuotes.single]:wae,open:e.openingQuotes?[e.openingQuotes.double,e.openingQuotes.single]:Aae};return function(i){Vo(i,function(s,a,o){let u=-1;if(o&&a!==void 0&&(s.type==="PunctuationNode"||s.type==="SymbolNode")){for(;++u<n.length;)if(n[u](r,s,a,o)===!0)return console.log("drop",s),o.children.splice(a,1),a}})}}function Tae(t,e,n,r){ZI(t,e),e.value==="`"?e.value="":e.value==="'"&&(e.value="")}function ZI(t,e){e.value==="``"?e.value="":e.value==="''"&&(e.value="")}function Dae(t,e){e.value==="--"&&(e.value="")}function Cae(t,e,n,r){const i=r.children[n+1];if(e.value===""&&i&&i.type==="PunctuationNode"&&i.value==="-")return i.value="",!0;e.value==="---"?e.value="":e.value==="--"&&(e.value="")}function Nae(t,e,n,r){const i=r.children[n+1];if(e.value===""&&i&&i.type==="PunctuationNode"&&i.value==="-")return i.value="",!0;e.value==="---"?e.value="":e.value==="--"&&(e.value="")}function Lae(t,e,n,r){JI(t,e,n,r),QI(t,e)}function JI(t,e,n,r){const i=e.value,s=r.children;if(!/^\.+$/.test(i))return;const a=[];let o=n,u=1;for(;--o>0;){let l=s[o];if(l.type!=="WhiteSpaceNode")break;const d=l;if(l=s[--o],l&&(l.type==="PunctuationNode"||l.type==="SymbolNode")&&/^\.+$/.test(l.value)){a.push(d,l),u++;continue}break}u<3||(s.splice(n-a.length,a.length),e.value="")}function QI(t,e){/^\.{3,}$/.test(e.value)&&(e.value="")}function Mae(t,e,n,r){const i=r.children,s=e.value;if(s!=='"'&&s!=="'")return;const a=s==='"'?0:1,o=i[n-1],u=i[n+1],l=i[n+2],d=u?ki(u):"";u&&(u.type==="PunctuationNode"||u.type==="SymbolNode")&&(!l||l.type!=="WordNode")?e.value=t.close[a]:u&&(u.type==="PunctuationNode"||u.type==="SymbolNode")&&(d==='"'||d==="'")&&l&&l.type==="WordNode"?(e.value=t.open[a],u.value=t.open[d==='"'?0:1]):u&&/^\d\ds$/.test(d)?e.value=t.close[a]:o&&(o.type==="WhiteSpaceNode"||o.type==="PunctuationNode"||o.type==="SymbolNode")&&u&&u.type==="WordNode"?e.value=t.open[a]:o&&o.type!=="WhiteSpaceNode"&&o.type!=="SymbolNode"&&o.type!=="PunctuationNode"||!u||u.type==="WhiteSpaceNode"||s==="'"&&d==="s"?e.value=t.close[a]:e.value=t.open[a]}const Pae=new Set(["text","inlineCode","paragraph"]),Rae=new Set(["style","script"]),Iae=(t,e,n)=>n&&(n.type!=="mdxJsxTextElement"||"name"in n&&typeof n.name=="string"&&!Rae.has(n.name))&&Pae.has(t.type)&&(FE(t)||OE(t)),kae=t=>{const e=UC().use(jC,{...t,ellipses:!1,dashes:!1,backticks:!1}),n=UC().use(jC,{...t,quotes:!1});return r=>{let i="",s=0;const a=[];Vo(r,Iae,o=>{FE(o)?i+=o.type==="text"?o.value:"A".repeat(o.value.length):OE(o)&&(i+=" "),a.push(o)}),i=e.processSync(i).toString();for(const o of a)if(FE(o)){const u=s+o.value.length;if(o.type==="text"){const l=i.slice(s,u);o.value=n.processSync(l).toString()}s=u}else OE(o)&&(s+=1)}};function FE(t){return"value"in t&&typeof t.value=="string"}function OE(t){return t.type==="paragraph"}function Fae(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Oae(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Bae(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function Uae(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jae(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zae(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=$p(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(r,o);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,l),t.applyData(e,l)}function Hae(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Vae(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function e6(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function Wae(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return e6(t,e);const i={src:$p(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Gae(t,e){const n={src:$p(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function qae(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function $ae(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return e6(t,e);const i={href:$p(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Kae(t,e){const n={href:$p(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Yae(t,e,n){const r=t.all(e),i=n?Xae(n):t6(e),s={},a=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,l),t.applyData(e,l)}function Xae(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=t6(n[r])}return e}function t6(t){const e=t.spread;return e??t.children.length>1}function Zae(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Jae(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Qae(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function eoe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const n6=i6("end"),r6=i6("start");function i6(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function s6(t){const e=r6(t),n=n6(t);if(e&&n)return{start:e,end:n}}function toe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=r6(e.children[1]),u=n6(e.children[e.children.length-1]);o&&u&&(a.position={start:o,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function noe(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let u=-1;const l=[];for(;++u<o;){const f=e.children[u],m={},p=a?a[u]:void 0;p&&(m.align=p);let _={type:"element",tagName:s,properties:m,children:[]};f&&(_.children=t.all(f),t.patch(f,_),_=t.applyData(f,_)),l.push(_)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(l,!0)};return t.patch(e,d),t.applyData(e,d)}function roe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const zC=9,HC=32;function ioe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(VC(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(VC(e.slice(i),i>0,!1)),s.join("")}function VC(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===zC||s===HC;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===zC||s===HC;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function soe(t,e){const n={type:"text",value:ioe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function aoe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const ooe={blockquote:Fae,break:Oae,code:Bae,delete:Uae,emphasis:jae,footnoteReference:zae,heading:Hae,html:Vae,imageReference:Wae,image:Gae,inlineCode:qae,linkReference:$ae,link:Kae,listItem:Yae,list:Zae,paragraph:Jae,root:Qae,strong:eoe,table:toe,tableCell:roe,tableRow:noe,text:soe,thematicBreak:aoe,toml:k1,yaml:k1,definition:k1,footnoteDefinition:k1};function k1(){}const a6=-1,K_=0,hm=1,Qv=2,zA=3,HA=4,VA=5,WA=6,o6=7,u6=8,WC=typeof self=="object"?self:globalThis,uoe=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case K_:case a6:return n(a,i);case hm:{const o=n([],i);for(const u of a)o.push(r(u));return o}case Qv:{const o=n({},i);for(const[u,l]of a)o[r(u)]=r(l);return o}case zA:return n(new Date(a),i);case HA:{const{source:o,flags:u}=a;return n(new RegExp(o,u),i)}case VA:{const o=n(new Map,i);for(const[u,l]of a)o.set(r(u),r(l));return o}case WA:{const o=n(new Set,i);for(const u of a)o.add(r(u));return o}case o6:{const{name:o,message:u}=a;return n(new WC[o](u),i)}case u6:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new WC[s](a),i)};return r},GC=t=>uoe(new Map,t)(0),Gf="",{toString:loe}={},{keys:coe}=Object,F0=t=>{const e=typeof t;if(e!=="object"||!t)return[K_,e];const n=loe.call(t).slice(8,-1);switch(n){case"Array":return[hm,Gf];case"Object":return[Qv,Gf];case"Date":return[zA,Gf];case"RegExp":return[HA,Gf];case"Map":return[VA,Gf];case"Set":return[WA,Gf];case"DataView":return[hm,n]}return n.includes("Array")?[hm,n]:n.includes("Error")?[o6,n]:[Qv,n]},F1=([t,e])=>t===K_&&(e==="function"||e==="symbol"),doe=(t,e,n,r)=>{const i=(a,o)=>{const u=r.push(a)-1;return n.set(o,u),u},s=a=>{if(n.has(a))return n.get(a);let[o,u]=F0(a);switch(o){case K_:{let d=a;switch(u){case"bigint":o=u6,d=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return i([a6],a)}return i([o,d],a)}case hm:{if(u){let m=a;return u==="DataView"?m=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(m=new Uint8Array(a)),i([u,[...m]],a)}const d=[],f=i([o,d],a);for(const m of a)d.push(s(m));return f}case Qv:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([o,d],a);for(const m of coe(a))(t||!F1(F0(a[m])))&&d.push([s(m),s(a[m])]);return f}case zA:return i([o,a.toISOString()],a);case HA:{const{source:d,flags:f}=a;return i([o,{source:d,flags:f}],a)}case VA:{const d=[],f=i([o,d],a);for(const[m,p]of a)(t||!(F1(F0(m))||F1(F0(p))))&&d.push([s(m),s(p)]);return f}case WA:{const d=[],f=i([o,d],a);for(const m of a)(t||!F1(F0(m)))&&d.push(s(m));return f}}const{message:l}=a;return i([o,{name:u,message:l}],a)};return s},qC=(t,{json:e,lossy:n}={})=>{const r=[];return doe(!(e||n),!!e,new Map,r)(t),r},nc=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?GC(qC(t,e)):structuredClone(t):(t,e)=>GC(qC(t,e));function hoe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function foe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function poe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||hoe,r=t.options.footnoteBackLabel||foe,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<t.footnoteOrder.length;){const l=t.footnoteById.get(t.footnoteOrder[u]);if(!l)continue;const d=t.all(l),f=String(l.identifier).toUpperCase(),m=$p(f.toLowerCase());let p=0;const _=[],E=t.footnoteCounts.get(f);for(;E!==void 0&&++p<=E;){_.length>0&&_.push({type:"text",value:" "});let S=typeof n=="string"?n:n(u,p);typeof S=="string"&&(S={type:"text",value:S}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,p),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const S=y.children[y.children.length-1];S&&S.type==="text"?S.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(..._)}else d.push(..._);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(d,!0)};t.patch(l,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...nc(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const BE={}.hasOwnProperty,moe={};function goe(t,e){const n=e||moe,r=new Map,i=new Map,s=new Map,a={...ooe,...n.handlers},o={all:l,applyData:_oe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:voe,wrap:xoe};return Vo(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),o;function u(d,f){const m=d.type,p=o.handlers[m];if(BE.call(o.handlers,m)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in d){const{children:E,...y}=d,v=nc(y);return v.children=o.all(d),v}return nc(d)}return(o.options.unknownHandler||yoe)(o,d,f)}function l(d){const f=[];if("children"in d){const m=d.children;let p=-1;for(;++p<m.length;){const _=o.one(m[p],d);if(_){if(p&&m[p-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=$C(_.value)),!Array.isArray(_)&&_.type==="element")){const E=_.children[0];E&&E.type==="text"&&(E.value=$C(E.value))}Array.isArray(_)?f.push(..._):f.push(_)}}}return f}}function voe(t,e){t.position&&(e.position=s6(t))}function _oe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,nc(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function yoe(t,e){const n=e.data||{},r="value"in e&&!(BE.call(n,"hProperties")||BE.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function xoe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function $C(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function KC(t,e){const n=goe(t,e),r=n.one(t,void 0),i=poe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function boe(t,e){return t&&"run"in t?async function(n,r){const i=KC(n,{file:r,...e});await t.run(i,r)}:function(n,r){return KC(n,{file:r,...t||e})}}const Eoe=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g,woe=Object.hasOwnProperty;class Aoe{constructor(){this.occurrences,this.reset()}slug(e,n){const r=this;let i=Soe(e,n===!0);const s=i;for(;woe.call(r.occurrences,i);)r.occurrences[s]++,i=s+"-"+r.occurrences[s];return r.occurrences[i]=0,i}reset(){this.occurrences=Object.create(null)}}function Soe(t,e){return typeof t!="string"?"":(e||(t=t.toLowerCase()),t.replace(Eoe,"").replace(/ /g,"-"))}function l6(t){const e=t.type==="element"?t.tagName.toLowerCase():"",n=e.length===2&&e.charCodeAt(0)===104?e.charCodeAt(1):0;return n>48&&n<55?n-48:void 0}function gp(t){return"children"in t?c6(t):"value"in t?t.value:""}function Toe(t){return t.type==="text"?t.value:"children"in t?c6(t):""}function c6(t){let e=-1;const n=[];for(;++e<t.children.length;)n[e]=Toe(t.children[e]);return n.join("")}const Doe={},YC=new Aoe;function Coe(t){const n=(t||Doe).prefix||"";return function(r){YC.reset(),Vo(r,"element",function(i){l6(i)&&!i.properties.id&&(i.properties.id=n+YC.slug(gp(i)))})}}const GA=(function(t){if(t==null)return Moe;if(typeof t=="string")return Loe(t);if(typeof t=="object")return Noe(t);if(typeof t=="function")return qA(t);throw new Error("Expected function, string, or array as `test`")});function Noe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=GA(t[n]);return qA(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Loe(t){return qA(e);function e(n){return n.tagName===t}}function qA(t){return e;function e(n,r,i){return!!(Poe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Moe(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function Poe(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const XC={type:"element",tagName:"span",properties:{className:["icon","icon-link"]},children:[]},Roe={};function Ioe(t){const e=t||Roe;let n=e.properties;const r=e.headingProperties,i=e.behavior||"prepend",s=e.content,a=e.group,o=GA(e.test);let u;return i==="after"||i==="before"?u=d:i==="wrap"?u=f:(u=l,n||(n={ariaHidden:"true",tabIndex:-1})),function(m){Vo(m,"element",function(p,_,E){if(l6(p)&&p.properties.id&&o(p,_,E))return Object.assign(p.properties,O1(r,p)),u(p,_,E)})};function l(m){const p=ZC(s||XC,m);return m.children[i==="prepend"?"unshift":"push"](yx(m,O1(n,m),p)),[pv]}function d(m,p,_){if(typeof p!="number"||!_)return;const E=ZC(s||XC,m),y=yx(m,O1(n,m),E);let v=i==="before"?[y,m]:[m,y];if(a){const S=d6(a,m);S&&!Array.isArray(S)&&S.type==="element"&&(S.children=v,v=[S])}return _.children.splice(p,1,...v),[pv,p+v.length]}function f(m){let p=m.children,_=[];return typeof s=="function"?(p=[],_=s(m)):s&&(_=$A(s)),m.children=[yx(m,O1(n,m),Array.isArray(_)?[...p,..._]:[...p,_])],[pv]}}function $A(t){return nc(t)}function yx(t,e,n){return{type:"element",tagName:"a",properties:{...e,href:"#"+t.properties.id},children:n}}function ZC(t,e){const n=d6(t,e);return Array.isArray(n)?n:[n]}function d6(t,e){return typeof t=="function"?t(e):$A(t)}function O1(t,e){return typeof t=="function"?t(e):t?$A(t):{}}const koe=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,Foe=/^[a-zA-Z]:\\/;function Ooe(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return Foe.test(t)?!1:koe.test(t)}function UE(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Boe(t){return t.join(" ").trim()}const Uoe=["http","https"],joe=["nofollow"],zoe={};function Hoe(t){const e=t||zoe,n=e.protocols||Uoe,r=GA(e.test);return function(i){Vo(i,"element",function(s,a,o){if(s.tagName==="a"&&typeof s.properties.href=="string"&&r(s,a,o)){const u=s.properties.href;if(Ooe(u)?n.includes(u.slice(0,u.indexOf(":"))):u.startsWith("//")){const l=O0(e.content,s),d=l&&!Array.isArray(l)?[l]:l,f=O0(e.rel,s)||joe,m=typeof f=="string"?UE(f):f,p=O0(e.target,s),_=O0(e.properties,s);if(_&&Object.assign(s.properties,nc(_)),m.length>0&&(s.properties.rel=[...m]),p&&(s.properties.target=p),d){const E=O0(e.contentProperties,s)||{};s.children.push({type:"element",tagName:"span",properties:nc(E),children:nc(d)})}}}})}}function O0(t,e){return typeof t=="function"?t(e):t}const h6=[{id:"abap",name:"ABAP",import:()=>fe(()=>import("./abap-DsBKuouk.js"),[])},{id:"actionscript-3",name:"ActionScript",import:()=>fe(()=>import("./actionscript-3-D_z4Izcz.js"),[])},{id:"ada",name:"Ada",import:()=>fe(()=>import("./ada-727ZlQH0.js"),[])},{id:"angular-html",name:"Angular HTML",import:()=>fe(()=>import("./angular-html-LfdN0zeE.js").then(t=>t.f),__vite__mapDeps([0,1,2,3]))},{id:"angular-ts",name:"Angular TypeScript",import:()=>fe(()=>import("./angular-ts-CKsD7JZE.js"),__vite__mapDeps([4,0,1,2,3,5]))},{id:"apache",name:"Apache Conf",import:()=>fe(()=>import("./apache-Dn00JSTd.js"),[])},{id:"apex",name:"Apex",import:()=>fe(()=>import("./apex-COJ4H7py.js"),[])},{id:"apl",name:"APL",import:()=>fe(()=>import("./apl-BBq3IX1j.js"),__vite__mapDeps([6,1,2,3,7,8,9]))},{id:"applescript",name:"AppleScript",import:()=>fe(()=>import("./applescript-Bu5BbsvL.js"),[])},{id:"ara",name:"Ara",import:()=>fe(()=>import("./ara-7O62HKoU.js"),[])},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>fe(()=>import("./asciidoc-BPT9niGB.js"),[])},{id:"asm",name:"Assembly",import:()=>fe(()=>import("./asm-Dhn9LcZ4.js"),[])},{id:"astro",name:"Astro",import:()=>fe(()=>import("./astro-CqkE3fuf.js"),__vite__mapDeps([10,9,2,11,3,12]))},{id:"awk",name:"AWK",import:()=>fe(()=>import("./awk-eg146-Ew.js"),[])},{id:"ballerina",name:"Ballerina",import:()=>fe(()=>import("./ballerina-Du268qiB.js"),[])},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>fe(()=>import("./bat-fje9CFhw.js"),[])},{id:"beancount",name:"Beancount",import:()=>fe(()=>import("./beancount-BwXTMy5W.js"),[])},{id:"berry",name:"Berry",aliases:["be"],import:()=>fe(()=>import("./berry-3xVqZejG.js"),[])},{id:"bibtex",name:"BibTeX",import:()=>fe(()=>import("./bibtex-xW4inM5L.js"),[])},{id:"bicep",name:"Bicep",import:()=>fe(()=>import("./bicep-DHo0CJ0O.js"),[])},{id:"blade",name:"Blade",import:()=>fe(()=>import("./blade-a8OxSdnT.js"),__vite__mapDeps([13,1,2,3,7,8,14,9]))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>fe(()=>import("./bsl-Dgyn0ogV.js"),__vite__mapDeps([15,16]))},{id:"c",name:"C",import:()=>fe(()=>import("./c-C3t2pwGQ.js"),[])},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>fe(()=>import("./cadence-DNquZEk8.js"),[])},{id:"cairo",name:"Cairo",import:()=>fe(()=>import("./cairo--RitsXJZ.js"),__vite__mapDeps([17,18]))},{id:"clarity",name:"Clarity",import:()=>fe(()=>import("./clarity-BHOwM8T6.js"),[])},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>fe(()=>import("./clojure-DxSadP1t.js"),[])},{id:"cmake",name:"CMake",import:()=>fe(()=>import("./cmake-DbXoA79R.js"),[])},{id:"cobol",name:"COBOL",import:()=>fe(()=>import("./cobol-PTqiYgYu.js"),__vite__mapDeps([19,1,2,3,8]))},{id:"codeowners",name:"CODEOWNERS",import:()=>fe(()=>import("./codeowners-Bp6g37R7.js"),[])},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>fe(()=>import("./codeql-sacFqUAJ.js"),[])},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>fe(()=>import("./coffee-dyiR41kL.js"),__vite__mapDeps([20,2]))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>fe(()=>import("./common-lisp-C7gG9l05.js"),[])},{id:"coq",name:"Coq",import:()=>fe(()=>import("./coq-Dsg_Bt_b.js"),[])},{id:"cpp",name:"C++",aliases:["c++"],import:()=>fe(()=>import("./cpp-BksuvNSY.js"),__vite__mapDeps([21,22,23,24,14]))},{id:"crystal",name:"Crystal",import:()=>fe(()=>import("./crystal-DtDmRg-F.js"),__vite__mapDeps([25,1,2,3,14,24,26]))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>fe(()=>import("./csharp-D9R-vmeu.js"),[])},{id:"css",name:"CSS",import:()=>fe(()=>import("./css-BPhBrDlE.js"),[])},{id:"csv",name:"CSV",import:()=>fe(()=>import("./csv-B0qRVHPH.js"),[])},{id:"cue",name:"CUE",import:()=>fe(()=>import("./cue-DtFQj3wx.js"),[])},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>fe(()=>import("./cypher-m2LEI-9-.js"),[])},{id:"d",name:"D",import:()=>fe(()=>import("./d-BoXegm-a.js"),[])},{id:"dart",name:"Dart",import:()=>fe(()=>import("./dart-B9wLZaAG.js"),[])},{id:"dax",name:"DAX",import:()=>fe(()=>import("./dax-ClGRhx96.js"),[])},{id:"desktop",name:"Desktop",import:()=>fe(()=>import("./desktop-DEIpsLCJ.js"),[])},{id:"diff",name:"Diff",import:()=>fe(()=>import("./diff-BgYniUM_.js"),[])},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>fe(()=>import("./docker-COcR7UxN.js"),[])},{id:"dotenv",name:"dotEnv",import:()=>fe(()=>import("./dotenv-BjQB5zDj.js"),[])},{id:"dream-maker",name:"Dream Maker",import:()=>fe(()=>import("./dream-maker-C-nORZOA.js"),[])},{id:"edge",name:"Edge",import:()=>fe(()=>import("./edge-D5gP-w-T.js"),__vite__mapDeps([27,11,1,2,3,28]))},{id:"elixir",name:"Elixir",import:()=>fe(()=>import("./elixir-CLiX3zqd.js"),__vite__mapDeps([29,1,2,3]))},{id:"elm",name:"Elm",import:()=>fe(()=>import("./elm-CmHSxxaM.js"),__vite__mapDeps([30,23,24]))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>fe(()=>import("./emacs-lisp-BX77sIaO.js"),[])},{id:"erb",name:"ERB",import:()=>fe(()=>import("./erb-BYTLMnw6.js"),__vite__mapDeps([31,1,2,3,32,33,7,8,14,34,11,35,36,21,22,23,24,26,37,38]))},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>fe(()=>import("./erlang-B-DoSBHF.js"),[])},{id:"fennel",name:"Fennel",import:()=>fe(()=>import("./fennel-bCA53EVm.js"),[])},{id:"fish",name:"Fish",import:()=>fe(()=>import("./fish-w-ucz2PV.js"),[])},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>fe(()=>import("./fluent-Dayu4EKP.js"),[])},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>fe(()=>import("./fortran-fixed-form-TqA4NnZg.js"),__vite__mapDeps([39,40]))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>fe(()=>import("./fortran-free-form-DKXYxT9g.js"),[])},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>fe(()=>import("./fsharp-XplgxFYe.js"),__vite__mapDeps([41,42]))},{id:"gdresource",name:"GDResource",import:()=>fe(()=>import("./gdresource-BHYsBjWJ.js"),__vite__mapDeps([43,44,45]))},{id:"gdscript",name:"GDScript",import:()=>fe(()=>import("./gdscript-DfxzS6Rs.js"),[])},{id:"gdshader",name:"GDShader",import:()=>fe(()=>import("./gdshader-SKMF96pI.js"),[])},{id:"genie",name:"Genie",import:()=>fe(()=>import("./genie-ajMbGru0.js"),[])},{id:"gherkin",name:"Gherkin",import:()=>fe(()=>import("./gherkin--30QC5Em.js"),[])},{id:"git-commit",name:"Git Commit Message",import:()=>fe(()=>import("./git-commit-i4q6IMui.js"),__vite__mapDeps([46,47]))},{id:"git-rebase",name:"Git Rebase Message",import:()=>fe(()=>import("./git-rebase-B-v9cOL2.js"),__vite__mapDeps([48,26]))},{id:"gleam",name:"Gleam",import:()=>fe(()=>import("./gleam-B430Bg39.js"),[])},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>fe(()=>import("./glimmer-js-D-cwc0-E.js"),__vite__mapDeps([49,2,11,3,1]))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>fe(()=>import("./glimmer-ts-pgjy16dm.js"),__vite__mapDeps([50,11,3,2,1]))},{id:"glsl",name:"GLSL",import:()=>fe(()=>import("./glsl-DBO2IWDn.js"),__vite__mapDeps([23,24]))},{id:"gnuplot",name:"Gnuplot",import:()=>fe(()=>import("./gnuplot-CM8KxXT1.js"),[])},{id:"go",name:"Go",import:()=>fe(()=>import("./go-B1SYOhNW.js"),[])},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>fe(()=>import("./graphql-cDcHW_If.js"),__vite__mapDeps([34,2,11,35,36]))},{id:"groovy",name:"Groovy",import:()=>fe(()=>import("./groovy-DkBy-JyN.js"),[])},{id:"hack",name:"Hack",import:()=>fe(()=>import("./hack-D1yCygmZ.js"),__vite__mapDeps([51,1,2,3,14]))},{id:"haml",name:"Ruby Haml",import:()=>fe(()=>import("./haml-B2EZWmdv.js"),__vite__mapDeps([33,2,3]))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>fe(()=>import("./handlebars-BQGss363.js"),__vite__mapDeps([52,1,2,3,38]))},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>fe(()=>import("./haskell-BILxekzW.js"),[])},{id:"haxe",name:"Haxe",import:()=>fe(()=>import("./haxe-C5wWYbrZ.js"),[])},{id:"hcl",name:"HashiCorp HCL",import:()=>fe(()=>import("./hcl-HzYwdGDm.js"),[])},{id:"hjson",name:"Hjson",import:()=>fe(()=>import("./hjson-T-Tgc4AT.js"),[])},{id:"hlsl",name:"HLSL",import:()=>fe(()=>import("./hlsl-ifBTmRxC.js"),[])},{id:"html",name:"HTML",import:()=>fe(()=>import("./html-C2L_23MC.js"),__vite__mapDeps([1,2,3]))},{id:"html-derivative",name:"HTML (Derivative)",import:()=>fe(()=>import("./html-derivative-CSfWNPLT.js"),__vite__mapDeps([28,1,2,3]))},{id:"http",name:"HTTP",import:()=>fe(()=>import("./http-FRrOvY1W.js"),__vite__mapDeps([53,26,9,7,8,34,2,11,35,36]))},{id:"hxml",name:"HXML",import:()=>fe(()=>import("./hxml-TIA70rKU.js"),__vite__mapDeps([54,55]))},{id:"hy",name:"Hy",import:()=>fe(()=>import("./hy-BMj5Y0dO.js"),[])},{id:"imba",name:"Imba",import:()=>fe(()=>import("./imba-bv_oIlVt.js"),__vite__mapDeps([56,11]))},{id:"ini",name:"INI",aliases:["properties"],import:()=>fe(()=>import("./ini-BjABl1g7.js"),[])},{id:"java",name:"Java",import:()=>fe(()=>import("./java-xI-RfyKK.js"),[])},{id:"javascript",name:"JavaScript",aliases:["js"],import:()=>fe(()=>import("./javascript-ySlJ1b_l.js"),[])},{id:"jinja",name:"Jinja",import:()=>fe(()=>import("./jinja-DGy0s7-h.js"),__vite__mapDeps([57,1,2,3]))},{id:"jison",name:"Jison",import:()=>fe(()=>import("./jison-BqZprYcd.js"),__vite__mapDeps([58,2]))},{id:"json",name:"JSON",import:()=>fe(()=>import("./json-BQoSv7ci.js"),[])},{id:"json5",name:"JSON5",import:()=>fe(()=>import("./json5-w8dY5SsB.js"),[])},{id:"jsonc",name:"JSON with Comments",import:()=>fe(()=>import("./jsonc-TU54ms6u.js"),[])},{id:"jsonl",name:"JSON Lines",import:()=>fe(()=>import("./jsonl-DREVFZK8.js"),[])},{id:"jsonnet",name:"Jsonnet",import:()=>fe(()=>import("./jsonnet-BfivnA6A.js"),[])},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>fe(()=>import("./jssm-P4WzXJd0.js"),[])},{id:"jsx",name:"JSX",import:()=>fe(()=>import("./jsx-BAng5TT0.js"),[])},{id:"julia",name:"Julia",aliases:["jl"],import:()=>fe(()=>import("./julia-BBuGR-5E.js"),__vite__mapDeps([59,21,22,23,24,14,18,2,60]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>fe(()=>import("./kotlin-B5lbUyaz.js"),[])},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>fe(()=>import("./kusto-mebxcVVE.js"),[])},{id:"latex",name:"LaTeX",import:()=>fe(()=>import("./latex-C-cWTeAZ.js"),__vite__mapDeps([61,62,60]))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>fe(()=>import("./lean-XBlWyCtg.js"),[])},{id:"less",name:"Less",import:()=>fe(()=>import("./less-BfCpw3nA.js"),[])},{id:"liquid",name:"Liquid",import:()=>fe(()=>import("./liquid-D3W5UaiH.js"),__vite__mapDeps([63,1,2,3,9]))},{id:"log",name:"Log file",import:()=>fe(()=>import("./log-Cc5clBb7.js"),[])},{id:"logo",name:"Logo",import:()=>fe(()=>import("./logo-IuBKFhSY.js"),[])},{id:"lua",name:"Lua",import:()=>fe(()=>import("./lua-CvWAzNxB.js"),__vite__mapDeps([37,24]))},{id:"luau",name:"Luau",import:()=>fe(()=>import("./luau-Du5NY7AG.js"),[])},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>fe(()=>import("./make-Bvotw-X0.js"),[])},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>fe(()=>import("./markdown-UIAJJxZW.js"),[])},{id:"marko",name:"Marko",import:()=>fe(()=>import("./marko-z0MBrx5-.js"),__vite__mapDeps([64,3,65,5,2]))},{id:"matlab",name:"MATLAB",import:()=>fe(()=>import("./matlab-D9-PGadD.js"),[])},{id:"mdc",name:"MDC",import:()=>fe(()=>import("./mdc-DB_EDNY_.js"),__vite__mapDeps([66,42,38,28,1,2,3]))},{id:"mdx",name:"MDX",import:()=>fe(()=>import("./mdx-sdHcTMYB.js"),[])},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>fe(()=>import("./mermaid-Ci6OQyBP.js"),[])},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>fe(()=>import("./mipsasm-BC5c_5Pe.js"),[])},{id:"mojo",name:"Mojo",import:()=>fe(()=>import("./mojo-Tz6hzZYG.js"),[])},{id:"move",name:"Move",import:()=>fe(()=>import("./move-DB_GagMm.js"),[])},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>fe(()=>import("./narrat-DLbgOhZU.js"),[])},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>fe(()=>import("./nextflow-B0XVJmRM.js"),[])},{id:"nginx",name:"Nginx",import:()=>fe(()=>import("./nginx-D_VnBJ67.js"),__vite__mapDeps([67,37,24]))},{id:"nim",name:"Nim",import:()=>fe(()=>import("./nim-ZlGxZxc3.js"),__vite__mapDeps([68,24,1,2,3,7,8,23,42]))},{id:"nix",name:"Nix",import:()=>fe(()=>import("./nix-shcSOmrb.js"),[])},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>fe(()=>import("./nushell-D4Tzg5kh.js"),[])},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>fe(()=>import("./objective-c-Deuh7S70.js"),[])},{id:"objective-cpp",name:"Objective-C++",import:()=>fe(()=>import("./objective-cpp-BUEGK8hf.js"),[])},{id:"ocaml",name:"OCaml",import:()=>fe(()=>import("./ocaml-BNioltXt.js"),[])},{id:"pascal",name:"Pascal",import:()=>fe(()=>import("./pascal-JqZropPD.js"),[])},{id:"perl",name:"Perl",import:()=>fe(()=>import("./perl-CHQXSrWU.js"),__vite__mapDeps([69,1,2,3,7,8,14]))},{id:"php",name:"PHP",import:()=>fe(()=>import("./php-B5ebYQev.js"),__vite__mapDeps([70,1,2,3,7,8,14,9]))},{id:"plsql",name:"PL/SQL",import:()=>fe(()=>import("./plsql-LKU2TuZ1.js"),[])},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>fe(()=>import("./po-BFLt1xDp.js"),[])},{id:"polar",name:"Polar",import:()=>fe(()=>import("./polar-DKykz6zU.js"),[])},{id:"postcss",name:"PostCSS",import:()=>fe(()=>import("./postcss-B3ZDOciz.js"),[])},{id:"powerquery",name:"PowerQuery",import:()=>fe(()=>import("./powerquery-CSHBycmS.js"),[])},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>fe(()=>import("./powershell-BIEUsx6d.js"),[])},{id:"prisma",name:"Prisma",import:()=>fe(()=>import("./prisma-B48N-Iqd.js"),[])},{id:"prolog",name:"Prolog",import:()=>fe(()=>import("./prolog-BY-TUvya.js"),[])},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>fe(()=>import("./proto-zocC4JxJ.js"),[])},{id:"pug",name:"Pug",aliases:["jade"],import:()=>fe(()=>import("./pug-CM9l7STV.js"),__vite__mapDeps([71,2,3,1]))},{id:"puppet",name:"Puppet",import:()=>fe(()=>import("./puppet-Cza_XSSt.js"),[])},{id:"purescript",name:"PureScript",import:()=>fe(()=>import("./purescript-Bg-kzb6g.js"),[])},{id:"python",name:"Python",aliases:["py"],import:()=>fe(()=>import("./python-DhUJRlN_.js"),[])},{id:"qml",name:"QML",import:()=>fe(()=>import("./qml-D8XfuvdV.js"),__vite__mapDeps([72,2]))},{id:"qmldir",name:"QML Directory",import:()=>fe(()=>import("./qmldir-C8lEn-DE.js"),[])},{id:"qss",name:"Qt Style Sheets",import:()=>fe(()=>import("./qss-DhMKtDLN.js"),[])},{id:"r",name:"R",import:()=>fe(()=>import("./r-CwjWoCRV.js"),[])},{id:"racket",name:"Racket",import:()=>fe(()=>import("./racket-CzouJOBO.js"),[])},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>fe(()=>import("./raku-B1bQXN8T.js"),[])},{id:"razor",name:"ASP.NET Razor",import:()=>fe(()=>import("./razor-CNLDkMZG.js"),__vite__mapDeps([73,1,2,3,74]))},{id:"reg",name:"Windows Registry Script",import:()=>fe(()=>import("./reg-5LuOXUq_.js"),[])},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>fe(()=>import("./regexp-DWJ3fJO_.js"),[])},{id:"rel",name:"Rel",import:()=>fe(()=>import("./rel-DJlmqQ1C.js"),[])},{id:"riscv",name:"RISC-V",import:()=>fe(()=>import("./riscv-QhoSD0DR.js"),[])},{id:"rst",name:"reStructuredText",import:()=>fe(()=>import("./rst-4NLicBqY.js"),__vite__mapDeps([75,28,1,2,3,21,22,23,24,14,18,26,38,76,32,33,7,8,34,11,35,36,37]))},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>fe(()=>import("./ruby-DeZ3UC14.js"),__vite__mapDeps([32,1,2,3,33,7,8,14,34,11,35,36,21,22,23,24,26,37,38]))},{id:"rust",name:"Rust",aliases:["rs"],import:()=>fe(()=>import("./rust-Be6lgOlo.js"),[])},{id:"sas",name:"SAS",import:()=>fe(()=>import("./sas-BmTFh92c.js"),__vite__mapDeps([77,14]))},{id:"sass",name:"Sass",import:()=>fe(()=>import("./sass-BJ4Li9vH.js"),[])},{id:"scala",name:"Scala",import:()=>fe(()=>import("./scala-DQVVAn-B.js"),[])},{id:"scheme",name:"Scheme",import:()=>fe(()=>import("./scheme-BJGe-b2p.js"),[])},{id:"scss",name:"SCSS",import:()=>fe(()=>import("./scss-C31hgJw-.js"),__vite__mapDeps([5,3]))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>fe(()=>import("./sdbl-BLhTXw86.js"),[])},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>fe(()=>import("./shaderlab-B7qAK45m.js"),__vite__mapDeps([78,79]))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>fe(()=>import("./shellscript-atvbtKCR.js"),[])},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>fe(()=>import("./shellsession-C_rIy8kc.js"),__vite__mapDeps([80,26]))},{id:"smalltalk",name:"Smalltalk",import:()=>fe(()=>import("./smalltalk-DkLiglaE.js"),[])},{id:"solidity",name:"Solidity",import:()=>fe(()=>import("./solidity-C1w2a3ep.js"),[])},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>fe(()=>import("./soy-C-lX7w71.js"),__vite__mapDeps([81,1,2,3]))},{id:"sparql",name:"SPARQL",import:()=>fe(()=>import("./sparql-bYkjHRlG.js"),__vite__mapDeps([82,83]))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>fe(()=>import("./splunk-Cf8iN4DR.js"),[])},{id:"sql",name:"SQL",import:()=>fe(()=>import("./sql-COK4E0Yg.js"),[])},{id:"ssh-config",name:"SSH Config",import:()=>fe(()=>import("./ssh-config-BknIz3MU.js"),[])},{id:"stata",name:"Stata",import:()=>fe(()=>import("./stata-DorPZHa4.js"),__vite__mapDeps([84,14]))},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>fe(()=>import("./stylus-BeQkCIfX.js"),[])},{id:"svelte",name:"Svelte",import:()=>fe(()=>import("./svelte-MSaWC3Je.js"),__vite__mapDeps([85,2,11,3,12]))},{id:"swift",name:"Swift",import:()=>fe(()=>import("./swift-BSxZ-RaX.js"),[])},{id:"system-verilog",name:"SystemVerilog",import:()=>fe(()=>import("./system-verilog-C7L56vO4.js"),[])},{id:"systemd",name:"Systemd Units",import:()=>fe(()=>import("./systemd-CUnW07Te.js"),[])},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>fe(()=>import("./talonscript-C1XDQQGZ.js"),[])},{id:"tasl",name:"Tasl",import:()=>fe(()=>import("./tasl-CQjiPCtT.js"),[])},{id:"tcl",name:"Tcl",import:()=>fe(()=>import("./tcl-DQ1-QYvQ.js"),[])},{id:"templ",name:"Templ",import:()=>fe(()=>import("./templ-dwX3ZSMB.js"),__vite__mapDeps([86,87,2,3]))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>fe(()=>import("./terraform-BbSNqyBO.js"),[])},{id:"tex",name:"TeX",import:()=>fe(()=>import("./tex-rYs2v40G.js"),__vite__mapDeps([62,60]))},{id:"toml",name:"TOML",import:()=>fe(()=>import("./toml-CB2ApiWb.js"),[])},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>fe(()=>import("./ts-tags-CipyTH0X.js"),__vite__mapDeps([88,11,3,2,23,24,1,14,7,8]))},{id:"tsv",name:"TSV",import:()=>fe(()=>import("./tsv-B_m7g4N7.js"),[])},{id:"tsx",name:"TSX",import:()=>fe(()=>import("./tsx-B6W0miNI.js"),[])},{id:"turtle",name:"Turtle",import:()=>fe(()=>import("./turtle-BMR_PYu6.js"),[])},{id:"twig",name:"Twig",import:()=>fe(()=>import("./twig-NC5TFiHP.js"),__vite__mapDeps([89,3,2,5,70,1,7,8,14,9,18,32,33,34,11,35,36,21,22,23,24,26,37,38]))},{id:"typescript",name:"TypeScript",aliases:["ts"],import:()=>fe(()=>import("./typescript-Dj6nwHGl.js"),[])},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>fe(()=>import("./typespec-BpWG_bgh.js"),[])},{id:"typst",name:"Typst",aliases:["typ"],import:()=>fe(()=>import("./typst-BVUVsWT6.js"),[])},{id:"v",name:"V",import:()=>fe(()=>import("./v-CAQ2eGtk.js"),[])},{id:"vala",name:"Vala",import:()=>fe(()=>import("./vala-BFOHcciG.js"),[])},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>fe(()=>import("./vb-CdO5JTpU.js"),[])},{id:"verilog",name:"Verilog",import:()=>fe(()=>import("./verilog-CJaU5se_.js"),[])},{id:"vhdl",name:"VHDL",import:()=>fe(()=>import("./vhdl-DYoNaHQp.js"),[])},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>fe(()=>import("./viml-m4uW47V2.js"),[])},{id:"vue",name:"Vue",import:()=>fe(()=>import("./vue-BuYVFjOK.js"),__vite__mapDeps([90,1,2,3,11,9,28]))},{id:"vue-html",name:"Vue HTML",import:()=>fe(()=>import("./vue-html-xdeiXROB.js"),__vite__mapDeps([91,90,1,2,3,11,9,28]))},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>fe(()=>import("./vyper-nyqBNV6O.js"),[])},{id:"wasm",name:"WebAssembly",import:()=>fe(()=>import("./wasm-C6j12Q_x.js"),[])},{id:"wenyan",name:"Wenyan",aliases:[""],import:()=>fe(()=>import("./wenyan-7A4Fjokl.js"),[])},{id:"wgsl",name:"WGSL",import:()=>fe(()=>import("./wgsl-CB0Krxn9.js"),[])},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>fe(()=>import("./wikitext-DCE3LsBG.js"),[])},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>fe(()=>import("./wolfram-C3FkfJm5.js"),[])},{id:"xml",name:"XML",import:()=>fe(()=>import("./xml-e3z08dGr.js"),__vite__mapDeps([7,8]))},{id:"xsl",name:"XSL",import:()=>fe(()=>import("./xsl-Dd0NUgwM.js"),__vite__mapDeps([92,7,8]))},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>fe(()=>import("./yaml-CVw76BM1.js"),[])},{id:"zenscript",name:"ZenScript",import:()=>fe(()=>import("./zenscript-HnGAYVZD.js"),[])},{id:"zig",name:"Zig",import:()=>fe(()=>import("./zig-BVz_zdnA.js"),[])}],Voe=Object.fromEntries(h6.map(t=>[t.id,t.import])),Woe=Object.fromEntries(h6.flatMap(t=>t.aliases?.map(e=>[e,t.import])||[])),Goe={...Voe,...Woe},qoe=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>fe(()=>import("./andromeeda-C3khCPGq.js"),[])},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>fe(()=>import("./aurora-x-D-2ljcwZ.js"),[])},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>fe(()=>import("./ayu-dark-Cv9koXgw.js"),[])},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:()=>fe(()=>import("./catppuccin-frappe-CD_QflpE.js"),[])},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>fe(()=>import("./catppuccin-latte-DRW-0cLl.js"),[])},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>fe(()=>import("./catppuccin-macchiato-C-_shW-Y.js"),[])},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>fe(()=>import("./catppuccin-mocha-LGGdnPYs.js"),[])},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>fe(()=>import("./dark-plus-C3mMm8J8.js"),[])},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>fe(()=>import("./dracula-BzJJZx-M.js"),[])},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>fe(()=>import("./dracula-soft-BXkSAIEj.js"),[])},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>fe(()=>import("./everforest-dark-BgDCqdQA.js"),[])},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>fe(()=>import("./everforest-light-C8M2exoo.js"),[])},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>fe(()=>import("./github-dark-DHJKELXO.js"),[])},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>fe(()=>import("./github-dark-default-Cuk6v7N8.js"),[])},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>fe(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[])},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>fe(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[])},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>fe(()=>import("./github-light-DAi9KRSo.js"),[])},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>fe(()=>import("./github-light-default-D7oLnXFd.js"),[])},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>fe(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[])},{id:"houston",displayName:"Houston",type:"dark",import:()=>fe(()=>import("./houston-DnULxvSX.js"),[])},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>fe(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[])},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>fe(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[])},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>fe(()=>import("./kanagawa-wave-DWedfzmr.js"),[])},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>fe(()=>import("./laserwave-DUszq2jm.js"),[])},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>fe(()=>import("./light-plus-B7mTdjB0.js"),[])},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>fe(()=>import("./material-theme-D5KoaKCx.js"),[])},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>fe(()=>import("./material-theme-darker-BfHTSMKl.js"),[])},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>fe(()=>import("./material-theme-lighter-B0m2ddpp.js"),[])},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>fe(()=>import("./material-theme-ocean-CyktbL80.js"),[])},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>fe(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[])},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>fe(()=>import("./min-dark-CafNBF8u.js"),[])},{id:"min-light",displayName:"Min Light",type:"light",import:()=>fe(()=>import("./min-light-CTRr51gU.js"),[])},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>fe(()=>import("./monokai-D4h5O-jR.js"),[])},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>fe(()=>import("./night-owl-C39BiMTA.js"),[])},{id:"nord",displayName:"Nord",type:"dark",import:()=>fe(()=>import("./nord-Ddv68eIx.js"),[])},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>fe(()=>import("./one-dark-pro-GBQ2dnAY.js"),[])},{id:"one-light",displayName:"One Light",type:"light",import:()=>fe(()=>import("./one-light-PoHY5YXO.js"),[])},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>fe(()=>import("./plastic-3e1v2bzS.js"),[])},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>fe(()=>import("./poimandres-CS3Unz2-.js"),[])},{id:"red",displayName:"Red",type:"dark",import:()=>fe(()=>import("./red-bN70gL4F.js"),[])},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:()=>fe(()=>import("./rose-pine-CmCqftbK.js"),[])},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:()=>fe(()=>import("./rose-pine-dawn-Ds-gbosJ.js"),[])},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:()=>fe(()=>import("./rose-pine-moon-CjDtw9vr.js"),[])},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>fe(()=>import("./slack-dark-BthQWCQV.js"),[])},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>fe(()=>import("./slack-ochin-DqwNpetd.js"),[])},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>fe(()=>import("./snazzy-light-Bw305WKR.js"),[])},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>fe(()=>import("./solarized-dark-DXbdFlpD.js"),[])},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>fe(()=>import("./solarized-light-L9t79GZl.js"),[])},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>fe(()=>import("./synthwave-84-CbfX1IO0.js"),[])},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>fe(()=>import("./tokyo-night-DBQeEorK.js"),[])},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>fe(()=>import("./vesper-BEBZ7ncR.js"),[])},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>fe(()=>import("./vitesse-black-Bkuqu6BP.js"),[])},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>fe(()=>import("./vitesse-dark-D0r3Knsf.js"),[])},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>fe(()=>import("./vitesse-light-CVO1_9PV.js"),[])}],$oe=Object.fromEntries(qoe.map(t=>[t.id,t.import]));let rc=class extends Error{constructor(e){super(e),this.name="ShikiError"}},KA=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function Koe(){return 2147483648}function Yoe(){return typeof performance<"u"?performance.now():Date.now()}const Xoe=(t,e)=>t+(e-t%e)%e;async function Zoe(t){let e,n;const r={};function i(p){n=p,r.HEAPU8=new Uint8Array(p),r.HEAPU32=new Uint32Array(p)}function s(p,_,E){r.HEAPU8.copyWithin(p,_,_+E)}function a(p){try{return e.grow(p-n.byteLength+65535>>>16),i(e.buffer),1}catch{}}function o(p){const _=r.HEAPU8.length;p=p>>>0;const E=Koe();if(p>E)return!1;for(let y=1;y<=4;y*=2){let v=_*(1+.2/y);v=Math.min(v,p+100663296);const S=Math.min(E,Xoe(Math.max(p,v),65536));if(a(S))return!0}return!1}const u=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function l(p,_,E=1024){const y=_+E;let v=_;for(;p[v]&&!(v>=y);)++v;if(v-_>16&&p.buffer&&u)return u.decode(p.subarray(_,v));let S="";for(;_<v;){let T=p[_++];if(!(T&128)){S+=String.fromCharCode(T);continue}const L=p[_++]&63;if((T&224)===192){S+=String.fromCharCode((T&31)<<6|L);continue}const I=p[_++]&63;if((T&240)===224?T=(T&15)<<12|L<<6|I:T=(T&7)<<18|L<<12|I<<6|p[_++]&63,T<65536)S+=String.fromCharCode(T);else{const O=T-65536;S+=String.fromCharCode(55296|O>>10,56320|O&1023)}}return S}function d(p,_){return p?l(r.HEAPU8,p,_):""}const f={emscripten_get_now:Yoe,emscripten_memcpy_big:s,emscripten_resize_heap:o,fd_write:()=>0};async function m(){const _=await t({env:f,wasi_snapshot_preview1:f});e=_.memory,i(e.buffer),Object.assign(r,_),r.UTF8ToString=d}return await m(),r}var Joe=Object.defineProperty,Qoe=(t,e,n)=>e in t?Joe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ds=(t,e,n)=>(Qoe(t,typeof e!="symbol"?e+"":e,n),n);let Cs=null;function eue(t){throw new KA(t.UTF8ToString(t.getLastOnigError()))}class Y_{constructor(e){ds(this,"utf16Length"),ds(this,"utf8Length"),ds(this,"utf16Value"),ds(this,"utf8Value"),ds(this,"utf16OffsetToUtf8"),ds(this,"utf8OffsetToUtf16");const n=e.length,r=Y_._utf8ByteLength(e),i=r!==n,s=i?new Uint32Array(n+1):null;i&&(s[n]=r);const a=i?new Uint32Array(r+1):null;i&&(a[r]=n);const o=new Uint8Array(r);let u=0;for(let l=0;l<n;l++){const d=e.charCodeAt(l);let f=d,m=!1;if(d>=55296&&d<=56319&&l+1<n){const p=e.charCodeAt(l+1);p>=56320&&p<=57343&&(f=(d-55296<<10)+65536|p-56320,m=!0)}i&&(s[l]=u,m&&(s[l+1]=u),f<=127?a[u+0]=l:f<=2047?(a[u+0]=l,a[u+1]=l):f<=65535?(a[u+0]=l,a[u+1]=l,a[u+2]=l):(a[u+0]=l,a[u+1]=l,a[u+2]=l,a[u+3]=l)),f<=127?o[u++]=f:f<=2047?(o[u++]=192|(f&1984)>>>6,o[u++]=128|(f&63)>>>0):f<=65535?(o[u++]=224|(f&61440)>>>12,o[u++]=128|(f&4032)>>>6,o[u++]=128|(f&63)>>>0):(o[u++]=240|(f&1835008)>>>18,o[u++]=128|(f&258048)>>>12,o[u++]=128|(f&4032)>>>6,o[u++]=128|(f&63)>>>0),m&&l++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=e,this.utf8Value=o,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=a}static _utf8ByteLength(e){let n=0;for(let r=0,i=e.length;r<i;r++){const s=e.charCodeAt(r);let a=s,o=!1;if(s>=55296&&s<=56319&&r+1<i){const u=e.charCodeAt(r+1);u>=56320&&u<=57343&&(a=(s-55296<<10)+65536|u-56320,o=!0)}a<=127?n+=1:a<=2047?n+=2:a<=65535?n+=3:n+=4,o&&r++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const Wu=class{constructor(t){if(ds(this,"id",++Wu.LAST_ID),ds(this,"_onigBinding"),ds(this,"content"),ds(this,"utf16Length"),ds(this,"utf8Length"),ds(this,"utf16OffsetToUtf8"),ds(this,"utf8OffsetToUtf16"),ds(this,"ptr"),!Cs)throw new KA("Must invoke loadWasm first.");this._onigBinding=Cs,this.content=t;const e=new Y_(t);this.utf16Length=e.utf16Length,this.utf8Length=e.utf8Length,this.utf16OffsetToUtf8=e.utf16OffsetToUtf8,this.utf8OffsetToUtf16=e.utf8OffsetToUtf16,this.utf8Length<1e4&&!Wu._sharedPtrInUse?(Wu._sharedPtr||(Wu._sharedPtr=Cs.omalloc(1e4)),Wu._sharedPtrInUse=!0,Cs.HEAPU8.set(e.utf8Value,Wu._sharedPtr),this.ptr=Wu._sharedPtr):this.ptr=e.createString(Cs)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===Wu._sharedPtr?Wu._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};let lg=Wu;ds(lg,"LAST_ID",0);ds(lg,"_sharedPtr",0);ds(lg,"_sharedPtrInUse",!1);class tue{constructor(e){if(ds(this,"_onigBinding"),ds(this,"_ptr"),!Cs)throw new KA("Must invoke loadWasm first.");const n=[],r=[];for(let o=0,u=e.length;o<u;o++){const l=new Y_(e[o]);n[o]=l.createString(Cs),r[o]=l.utf8Length}const i=Cs.omalloc(4*e.length);Cs.HEAPU32.set(n,i/4);const s=Cs.omalloc(4*e.length);Cs.HEAPU32.set(r,s/4);const a=Cs.createOnigScanner(i,s,e.length);for(let o=0,u=e.length;o<u;o++)Cs.ofree(n[o]);Cs.ofree(s),Cs.ofree(i),a===0&&eue(Cs),this._onigBinding=Cs,this._ptr=a}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,r){let i=0;if(typeof r=="number"&&(i=r),typeof e=="string"){e=new lg(e);const s=this._findNextMatchSync(e,n,!1,i);return e.dispose(),s}return this._findNextMatchSync(e,n,!1,i)}_findNextMatchSync(e,n,r,i){const s=this._onigBinding,a=s.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),i);if(a===0)return null;const o=s.HEAPU32;let u=a/4;const l=o[u++],d=o[u++],f=[];for(let m=0;m<d;m++){const p=e.convertUtf8OffsetToUtf16(o[u++]),_=e.convertUtf8OffsetToUtf16(o[u++]);f[m]={start:p,end:_,length:_-p}}return{index:l,captureIndices:f}}}function nue(t){return typeof t.instantiator=="function"}function rue(t){return typeof t.default=="function"}function iue(t){return typeof t.data<"u"}function sue(t){return typeof Response<"u"&&t instanceof Response}function aue(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let B1;function oue(t){if(B1)return B1;async function e(){Cs=await Zoe(async n=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),nue(r)?r=await r.instantiator(n):rue(r)?r=await r.default(n):(iue(r)&&(r=r.data),sue(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await uue(r)(n):r=await lue(r)(n):aue(r)?r=await xx(r)(n):r instanceof WebAssembly.Module?r=await xx(r)(n):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await xx(r.default)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return B1=e(),B1}function xx(t){return e=>WebAssembly.instantiate(t,e)}function uue(t){return e=>WebAssembly.instantiateStreaming(t,e)}function lue(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}let cue;function due(){return cue}async function f6(t){return t&&await oue(t),{createScanner(e){return new tue(e.map(n=>typeof n=="string"?n:n.source))},createString(e){return new lg(e)}}}function hue(t){return YA(t)}function YA(t){return Array.isArray(t)?fue(t):t instanceof RegExp?t:typeof t=="object"?pue(t):t}function fue(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=YA(t[n]);return e}function pue(t){let e={};for(let n in t)e[n]=YA(t[n]);return e}function p6(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function m6(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?m6(t.substring(0,t.length-1)):t.substr(~e+1)}var bx=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,U1=class{static hasCaptures(t){return t===null?!1:(bx.lastIndex=0,bx.test(t))}static replaceCaptures(t,e,n){return t.replace(bx,(r,i,s,a)=>{let o=n[parseInt(i||s,10)];if(o){let u=e.substring(o.start,o.end);for(;u[0]===".";)u=u.substring(1);switch(a){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}}else return r})}};function g6(t,e){return t<e?-1:t>e?1:0}function v6(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let i=0;i<n;i++){let s=g6(t[i],e[i]);if(s!==0)return s}return 0}return n-r}function JC(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function _6(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var y6=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},e_=class{constructor(t,e,n){this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(vue(t),e)}static createFromParsedTheme(t,e){return yue(t,e)}_cachedMatchRoot=new y6(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,r=this._cachedMatchRoot.get(e).find(i=>mue(t.parent,i.parentScopes));return r?new x6(r.fontStyle,r.foreground,r.background):null}},Ex=class mv{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new mv(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new mv(n,e[r]);return n}push(e){return new mv(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}};function mue(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let r=e[n],i=!1;if(r===">"){if(n===e.length-1)return!1;r=e[++n],i=!0}for(;t&&!gue(t.scopeName,r);){if(i)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function gue(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var x6=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function vue(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let i=0,s=e.length;i<s;i++){let a=e[i];if(!a.settings)continue;let o;if(typeof a.scope=="string"){let f=a.scope;f=f.replace(/^[,]+/,""),f=f.replace(/[,]+$/,""),o=f.split(",")}else Array.isArray(a.scope)?o=a.scope:o=[""];let u=-1;if(typeof a.settings.fontStyle=="string"){u=0;let f=a.settings.fontStyle.split(" ");for(let m=0,p=f.length;m<p;m++)switch(f[m]){case"italic":u=u|1;break;case"bold":u=u|2;break;case"underline":u=u|4;break;case"strikethrough":u=u|8;break}}let l=null;typeof a.settings.foreground=="string"&&JC(a.settings.foreground)&&(l=a.settings.foreground);let d=null;typeof a.settings.background=="string"&&JC(a.settings.background)&&(d=a.settings.background);for(let f=0,m=o.length;f<m;f++){let _=o[f].trim().split(" "),E=_[_.length-1],y=null;_.length>1&&(y=_.slice(0,_.length-1),y.reverse()),n[r++]=new _ue(E,y,i,u,l,d)}}return n}var _ue=class{constructor(t,e,n,r,i,s){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=r,this.foreground=i,this.background=s}},Yl=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(Yl||{});function yue(t,e){t.sort((u,l)=>{let d=g6(u.scope,l.scope);return d!==0||(d=v6(u.parentScopes,l.parentScopes),d!==0)?d:u.index-l.index});let n=0,r="#000000",i="#ffffff";for(;t.length>=1&&t[0].scope==="";){let u=t.shift();u.fontStyle!==-1&&(n=u.fontStyle),u.foreground!==null&&(r=u.foreground),u.background!==null&&(i=u.background)}let s=new xue(e),a=new x6(n,s.getId(r),s.getId(i)),o=new Eue(new jE(0,null,-1,0,0),[]);for(let u=0,l=t.length;u<l;u++){let d=t[u];o.insert(0,d.scope,d.parentScopes,d.fontStyle,s.getId(d.foreground),s.getId(d.background))}return new e_(s,a,o)}var xue=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},bue=Object.freeze([]),jE=class b6{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,n,r,i,s){this.scopeDepth=e,this.parentScopes=n||bue,this.fontStyle=r,this.foreground=i,this.background=s}clone(){return new b6(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,i=e.length;r<i;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)}},Eue=class zE{constructor(e,n=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}_rulesWithParentScopes;static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let r=0,i=0;for(;e.parentScopes[r]===">"&&r++,n.parentScopes[i]===">"&&i++,!(r>=e.parentScopes.length||i>=n.parentScopes.length);){const s=n.parentScopes[i].length-e.parentScopes[r].length;if(s!==0)return s;r++,i++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),i,s;if(r===-1?(i=e,s=""):(i=e.substring(0,r),s=e.substring(r+1)),this._children.hasOwnProperty(i))return this._children[i].match(s)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(zE._cmpBySpecificity),n}insert(e,n,r,i,s,a){if(n===""){this._doInsertHere(e,r,i,s,a);return}let o=n.indexOf("."),u,l;o===-1?(u=n,l=""):(u=n.substring(0,o),l=n.substring(o+1));let d;this._children.hasOwnProperty(u)?d=this._children[u]:(d=new zE(this._mainRule.clone(),jE.cloneArr(this._rulesWithParentScopes)),this._children[u]=d),d.insert(e+1,l,r,i,s,a)}_doInsertHere(e,n,r,i,s){if(n===null){this._mainRule.acceptOverwrite(e,r,i,s);return}for(let a=0,o=this._rulesWithParentScopes.length;a<o;a++){let u=this._rulesWithParentScopes[a];if(v6(u.parentScopes,n)===0){u.acceptOverwrite(e,r,i,s);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),s===0&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new jE(e,n,r,i,s))}},jp=class Fo{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=Fo.getLanguageId(e),r=Fo.getTokenType(e),i=Fo.getFontStyle(e),s=Fo.getForeground(e),a=Fo.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:s,background:a})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,r,i,s,a,o){let u=Fo.getLanguageId(e),l=Fo.getTokenType(e),d=Fo.containsBalancedBrackets(e)?1:0,f=Fo.getFontStyle(e),m=Fo.getForeground(e),p=Fo.getBackground(e);return n!==0&&(u=n),r!==8&&(l=r),i!==null&&(d=i?1:0),s!==-1&&(f=s),a!==0&&(m=a),o!==0&&(p=o),(u<<0|l<<8|d<<10|f<<11|m<<15|p<<24)>>>0}};function t_(t,e){const n=[],r=wue(t);let i=r.next();for(;i!==null;){let u=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":u=1;break;case"L":u=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let l=a();if(n.push({matcher:l,priority:u}),i!==",")break;i=r.next()}return n;function s(){if(i==="-"){i=r.next();const u=s();return l=>!!u&&!u(l)}if(i==="("){i=r.next();const u=o();return i===")"&&(i=r.next()),u}if(QC(i)){const u=[];do u.push(i),i=r.next();while(QC(i));return l=>e(u,l)}return null}function a(){const u=[];let l=s();for(;l;)u.push(l),l=s();return d=>u.every(f=>f(d))}function o(){const u=[];let l=a();for(;l&&(u.push(l),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");l=a()}return d=>u.some(f=>f(d))}}function QC(t){return!!t&&!!t.match(/[\w\.:]+/)}function wue(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function E6(t){typeof t.dispose=="function"&&t.dispose()}var km=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},Aue=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},Sue=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},Tue=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new km(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new Sue;for(const n of t)Due(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof km){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function Due(t,e,n,r){const i=n.lookup(t.scopeName);if(!i){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const s=n.lookup(e);t instanceof km?gv({baseGrammar:s,selfGrammar:i},r):HE(t.ruleName,{baseGrammar:s,selfGrammar:i,repository:i.repository},r);const a=n.injections(t.scopeName);if(a)for(const o of a)r.add(new km(o))}function HE(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];n_([r],e,n)}}function gv(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&n_(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&n_(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function n_(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const i=r.repository?p6({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&n_(r.patterns,{...e,repository:i},n);const s=r.include;if(!s)continue;const a=w6(s);switch(a.kind){case 0:gv({...e,selfGrammar:e.baseGrammar},n);break;case 1:gv(e,n);break;case 2:HE(a.ruleName,{...e,repository:i},n);break;case 3:case 4:const o=a.scopeName===e.selfGrammar.scopeName?e.selfGrammar:a.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(o){const u={baseGrammar:e.baseGrammar,selfGrammar:o,repository:i};a.kind===4?HE(a.ruleName,u,n):gv(u,n)}else a.kind===4?n.add(new Aue(a.scopeName,a.ruleName)):n.add(new km(a.scopeName));break}}}var Cue=class{kind=0},Nue=class{kind=1},Lue=class{constructor(t){this.ruleName=t}kind=2},Mue=class{constructor(t){this.scopeName=t}kind=3},Pue=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function w6(t){if(t==="$base")return new Cue;if(t==="$self")return new Nue;const e=t.indexOf("#");if(e===-1)return new Mue(t);if(e===0)return new Lue(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new Pue(n,r)}}var Rue=/\\(\d+)/,eN=/\\(\d+)/g,Iue=-1,A6=-2;var cg=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(t,e,n,r){this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=U1.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=U1.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${m6(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:U1.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:U1.replaceCaptures(this._contentName,t,e)}},kue=class extends cg{retokenizeCapturedWithRuleId;constructor(t,e,n,r,i){super(t,e,n,r),this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,n,r){throw new Error("Not supported!")}},Fue=class extends cg{_match;captures;_cachedCompiledPatterns;constructor(t,e,n,r,i){super(t,e,n,null),this._match=new Fm(r,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Om,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},tN=class extends cg{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,i){super(t,e,n,r),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const n of this.patterns)t.getRule(n).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Om,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},VE=class extends cg{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,i,s,a,o,u,l){super(t,e,n,r),this._begin=new Fm(i,this.id),this.beginCaptures=s,this._end=new Fm(a||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=o,this.applyEndPatternLast=u||!1,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t,e).compileAG(t,n,r)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Om;for(const n of this.patterns)t.getRule(n).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},r_=class extends cg{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,n,r,i,s,a,o,u){super(t,e,n,r),this._begin=new Fm(i,this.id),this.beginCaptures=s,this.whileCaptures=o,this._while=new Fm(a,A6),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Om;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,n,r){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,n,r)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Om,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||""),this._cachedCompiledWhilePatterns}},S6=class aa{static createCaptureRule(e,n,r,i,s){return e.registerRule(a=>new kue(n,a,r,i,s))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(i=>{if(e.id=i,e.match)return new Fue(e.$vscodeTextmateLocation,e.id,e.name,e.match,aa._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=p6({},r,e.repository));let s=e.patterns;return typeof s>"u"&&e.include&&(s=[{include:e.include}]),new tN(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,aa._compilePatterns(s,n,r))}return e.while?new r_(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,aa._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,aa._compileCaptures(e.whileCaptures||e.captures,n,r),aa._compilePatterns(e.patterns,n,r)):new VE(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,aa._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,aa._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,aa._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let i=[];if(e){let s=0;for(const a in e){if(a==="$vscodeTextmateLocation")continue;const o=parseInt(a,10);o>s&&(s=o)}for(let a=0;a<=s;a++)i[a]=null;for(const a in e){if(a==="$vscodeTextmateLocation")continue;const o=parseInt(a,10);let u=0;e[a].patterns&&(u=aa.getCompiledRuleId(e[a],n,r)),i[o]=aa.createCaptureRule(n,e[a].$vscodeTextmateLocation,e[a].name,e[a].contentName,u)}}return i}static _compilePatterns(e,n,r){let i=[];if(e)for(let s=0,a=e.length;s<a;s++){const o=e[s];let u=-1;if(o.include){const l=w6(o.include);switch(l.kind){case 0:case 1:u=aa.getCompiledRuleId(r[o.include],n,r);break;case 2:let d=r[l.ruleName];d&&(u=aa.getCompiledRuleId(d,n,r));break;case 3:case 4:const f=l.scopeName,m=l.kind===4?l.ruleName:null,p=n.getExternalGrammar(f,r);if(p)if(m){let _=p.repository[m];_&&(u=aa.getCompiledRuleId(_,n,p.repository))}else u=aa.getCompiledRuleId(p.repository.$self,n,p.repository);break}}else u=aa.getCompiledRuleId(o,n,r);if(u!==-1){const l=n.getRule(u);let d=!1;if((l instanceof tN||l instanceof VE||l instanceof r_)&&l.hasMissingPatterns&&l.patterns.length===0&&(d=!0),d)continue;i.push(u)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}}},Fm=class T6{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,n){if(e&&typeof e=="string"){const r=e.length;let i=0,s=[],a=!1;for(let o=0;o<r;o++)if(e.charAt(o)==="\\"&&o+1<r){const l=e.charAt(o+1);l==="z"?(s.push(e.substring(i,o)),s.push("$(?!\\n)(?<!\\n)"),i=o+2):(l==="A"||l==="G")&&(a=!0),o++}this.hasAnchor=a,i===0?this.source=e:(s.push(e.substring(i,r)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=Rue.test(this.source):this.hasBackReferences=!1}clone(){return new T6(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(i=>e.substring(i.start,i.end));return eN.lastIndex=0,this.source.replace(eN,(i,s)=>_6(r[parseInt(s,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],r=[],i=[],s,a,o,u;for(s=0,a=this.source.length;s<a;s++)o=this.source.charAt(s),e[s]=o,n[s]=o,r[s]=o,i[s]=o,o==="\\"&&s+1<a&&(u=this.source.charAt(s+1),u==="A"?(e[s+1]="",n[s+1]="",r[s+1]="A",i[s+1]="A"):u==="G"?(e[s+1]="",n[s+1]="G",r[s+1]="",i[s+1]="G"):(e[s+1]=u,n[s+1]=u,r[s+1]=u,i[s+1]=u),s++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},Om=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new nN(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let r=this._items.map(i=>i.resolveAnchors(e,n));return new nN(t,r,this._items.map(i=>i.ruleId))}},nN=class{constructor(t,e,n){this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const r=this.scanner.findNextMatchSync(t,e,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},wx=class{constructor(t,e){this.languageId=t,this.tokenType=e}},Oue=class WE{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,n){this._defaultAttributes=new wx(e,8),this._embeddedLanguagesMatcher=new Bue(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?WE._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new wx(0,0);_getBasicScopeAttributes=new y6(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new wx(n,r)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(WE.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},Bue=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,r])=>_6(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},rN=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function D6(t,e,n,r,i,s,a,o){const u=e.content.length;let l=!1,d=-1;if(a){const p=Uue(t,e,n,r,i,s);i=p.stack,r=p.linePos,n=p.isFirstLine,d=p.anchorPosition}const f=Date.now();for(;!l;){if(o!==0&&Date.now()-f>o)return new rN(i,!0);m()}return new rN(i,!1);function m(){const p=jue(t,e,n,r,i,d);if(!p){s.produce(i,u),l=!0;return}const _=p.captureIndices,E=p.matchedRuleId,y=_&&_.length>0?_[0].end>r:!1;if(E===Iue){const v=i.getRule(t);s.produce(i,_[0].start),i=i.withContentNameScopesList(i.nameScopesList),X0(t,e,n,i,s,v.endCaptures,_),s.produce(i,_[0].end);const S=i;if(i=i.parent,d=S.getAnchorPos(),!y&&S.getEnterPos()===r){i=S,s.produce(i,u),l=!0;return}}else{const v=t.getRule(E);s.produce(i,_[0].start);const S=i,T=v.getName(e.content,_),L=i.contentNameScopesList.pushAttributed(T,t);if(i=i.push(E,r,d,_[0].end===u,null,L,L),v instanceof VE){const I=v;X0(t,e,n,i,s,I.beginCaptures,_),s.produce(i,_[0].end),d=_[0].end;const O=I.getContentName(e.content,_),B=L.pushAttributed(O,t);if(i=i.withContentNameScopesList(B),I.endHasBackReferences&&(i=i.withEndRule(I.getEndWithResolvedBackReferences(e.content,_))),!y&&S.hasSameRuleAs(i)){i=i.pop(),s.produce(i,u),l=!0;return}}else if(v instanceof r_){const I=v;X0(t,e,n,i,s,I.beginCaptures,_),s.produce(i,_[0].end),d=_[0].end;const O=I.getContentName(e.content,_),B=L.pushAttributed(O,t);if(i=i.withContentNameScopesList(B),I.whileHasBackReferences&&(i=i.withEndRule(I.getWhileWithResolvedBackReferences(e.content,_))),!y&&S.hasSameRuleAs(i)){i=i.pop(),s.produce(i,u),l=!0;return}}else if(X0(t,e,n,i,s,v.captures,_),s.produce(i,_[0].end),i=i.pop(),!y){i=i.safePop(),s.produce(i,u),l=!0;return}}_[0].end>r&&(r=_[0].end,n=!1)}}function Uue(t,e,n,r,i,s){let a=i.beginRuleCapturedEOL?0:-1;const o=[];for(let u=i;u;u=u.pop()){const l=u.getRule(t);l instanceof r_&&o.push({rule:l,stack:u})}for(let u=o.pop();u;u=o.pop()){const{ruleScanner:l,findOptions:d}=Vue(u.rule,t,u.stack.endRule,n,r===a),f=l.findNextMatchSync(e,r,d);if(f){if(f.ruleId!==A6){i=u.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(s.produce(u.stack,f.captureIndices[0].start),X0(t,e,n,u.stack,s,u.rule.whileCaptures,f.captureIndices),s.produce(u.stack,f.captureIndices[0].end),a=f.captureIndices[0].end,f.captureIndices[0].end>r&&(r=f.captureIndices[0].end,n=!1))}else{i=u.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:a,isFirstLine:n}}function jue(t,e,n,r,i,s){const a=zue(t,e,n,r,i,s),o=t.getInjections();if(o.length===0)return a;const u=Hue(o,t,e,n,r,i,s);if(!u)return a;if(!a)return u;const l=a.captureIndices[0].start,d=u.captureIndices[0].start;return d<l||u.priorityMatch&&d===l?u:a}function zue(t,e,n,r,i,s){const a=i.getRule(t),{ruleScanner:o,findOptions:u}=C6(a,t,i.endRule,n,r===s),l=o.findNextMatchSync(e,r,u);return l?{captureIndices:l.captureIndices,matchedRuleId:l.ruleId}:null}function Hue(t,e,n,r,i,s,a){let o=Number.MAX_VALUE,u=null,l,d=0;const f=s.contentNameScopesList.getScopeNames();for(let m=0,p=t.length;m<p;m++){const _=t[m];if(!_.matcher(f))continue;const E=e.getRule(_.ruleId),{ruleScanner:y,findOptions:v}=C6(E,e,null,r,i===a),S=y.findNextMatchSync(n,i,v);if(!S)continue;const T=S.captureIndices[0].start;if(!(T>=o)&&(o=T,u=S.captureIndices,l=S.ruleId,d=_.priority,o===i))break}return u?{priorityMatch:d===-1,captureIndices:u,matchedRuleId:l}:null}function C6(t,e,n,r,i){return{ruleScanner:t.compileAG(e,n,r,i),findOptions:0}}function Vue(t,e,n,r,i){return{ruleScanner:t.compileWhileAG(e,n,r,i),findOptions:0}}function X0(t,e,n,r,i,s,a){if(s.length===0)return;const o=e.content,u=Math.min(s.length,a.length),l=[],d=a[0].end;for(let f=0;f<u;f++){const m=s[f];if(m===null)continue;const p=a[f];if(p.length===0)continue;if(p.start>d)break;for(;l.length>0&&l[l.length-1].endPos<=p.start;)i.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop();if(l.length>0?i.produceFromScopes(l[l.length-1].scopes,p.start):i.produce(r,p.start),m.retokenizeCapturedWithRuleId){const E=m.getName(o,a),y=r.contentNameScopesList.pushAttributed(E,t),v=m.getContentName(o,a),S=y.pushAttributed(v,t),T=r.push(m.retokenizeCapturedWithRuleId,p.start,-1,!1,null,y,S),L=t.createOnigString(o.substring(0,p.end));D6(t,L,n&&p.start===0,p.start,T,i,!1,0),E6(L);continue}const _=m.getName(o,a);if(_!==null){const y=(l.length>0?l[l.length-1].scopes:r.contentNameScopesList).pushAttributed(_,t);l.push(new Wue(y,p.end))}}for(;l.length>0;)i.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop()}var Wue=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function Gue(t,e,n,r,i,s,a,o){return new $ue(t,e,n,r,i,s,a,o)}function iN(t,e,n,r,i){const s=t_(e,i_),a=S6.getCompiledRuleId(n,r,i.repository);for(const o of s)t.push({debugSelector:e,matcher:o.matcher,ruleId:a,grammar:i,priority:o.priority})}function i_(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let i=n;i<e.length;i++)if(que(e[i],r))return n=i+1,!0;return!1})}function que(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var $ue=class{constructor(t,e,n,r,i,s,a,o){if(this._rootScopeName=t,this.balancedBracketSelectors=s,this._onigLib=o,this._basicScopeAttributesProvider=new Oue(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=a,this._grammar=sN(e,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const u of Object.keys(i)){const l=t_(u,i_);for(const d of l)this._tokenTypeMatchers.push({matcher:d.matcher,type:i[u]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),injections:i=>this._grammarRepository.injections(i)},e=[],n=this._rootScopeName,r=t.lookup(n);if(r){const i=r.injections;if(i)for(let a in i)iN(e,a,i[a],this,r);const s=this._grammarRepository.injections(n);s&&s.forEach(a=>{const o=this.getExternalGrammar(a);if(o){const u=o.injectionSelector;u&&iN(e,u,o,this,o)}})}return e.sort((i,s)=>i.priority-s.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=sN(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const r=this._tokenize(t,e,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,n=0){const r=this._tokenize(t,e,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,n,r){this._rootId===-1&&(this._rootId=S6.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!e||e===GE.NULL){i=!0;const l=this._basicScopeAttributesProvider.getDefaultAttributes(),d=this.themeProvider.getDefaults(),f=jp.set(0,l.languageId,l.tokenType,null,d.fontStyle,d.foregroundId,d.backgroundId),m=this.getRule(this._rootId).getName(null,null);let p;m?p=fm.createRootAndLookUpScopeName(m,f,this):p=fm.createRoot("unknown",f),e=new GE(null,this._rootId,-1,-1,!1,null,p,p)}else i=!1,e.reset();t=t+`
`;const s=this.createOnigString(t),a=s.content.length,o=new Yue(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),u=D6(this,s,i,0,e,o,!0,r);return E6(s),{lineLength:a,lineTokens:o,ruleStack:u.stack,stoppedEarly:u.stoppedEarly}}};function sN(t,e){return t=hue(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var fm=class Gu{constructor(e,n,r){this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,i=e?.scopePath??null;for(const s of n)i=Ex.push(i,s.scopeNames),r=new Gu(r,i,s.encodedTokenAttributes);return r}static createRoot(e,n){return new Gu(null,new Ex(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const i=r.getMetadataForScope(e),s=new Ex(null,e),a=r.themeProvider.themeMatch(s),o=Gu.mergeAttributes(n,i,a);return new Gu(null,s,o)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Gu.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let i=-1,s=0,a=0;return r!==null&&(i=r.fontStyle,s=r.foregroundId,a=r.backgroundId),jp.set(e,n.languageId,n.tokenType,null,i,s,a)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return Gu._pushAttributed(this,e,n);const r=e.split(/ /g);let i=this;for(const s of r)i=Gu._pushAttributed(i,s,n);return i}static _pushAttributed(e,n,r){const i=r.getMetadataForScope(n),s=e.scopePath.push(n),a=r.themeProvider.themeMatch(s),o=Gu.mergeAttributes(e.tokenAttributes,i,a);return new Gu(e,s,o)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?n.reverse():void 0}},GE=class dh{constructor(e,n,r,i,s,a,o,u){this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=s,this.endRule=a,this.nameScopesList=o,this.contentNameScopesList=u,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=i}_stackElementBrand=void 0;static NULL=new dh(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:dh._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?fm.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){dh._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,i,s,a,o){return new dh(this,e,n,r,i,s,a,o)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new dh(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,n){const r=fm.fromExtension(e?.nameScopesList??null,n.nameScopesList);return new dh(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,fm.fromExtension(r,n.contentNameScopesList))}},Kue=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):t_(n,i_).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>t_(n,i_).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},Yue=class{constructor(t,e,n,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=t?.tokenAttributes??0,i=!1;if(this.balancedBracketSelectors?.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const s=t?.getScopeNames()??[];for(const a of this._tokenTypeOverrides)a.matcher(s)&&(r=jp.set(r,0,a.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(s))}if(i&&(r=jp.set(r,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const n=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,i=this._binaryTokens.length;r<i;r++)n[r]=this._binaryTokens[r];return n}},Xue=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,r,i){if(!this._grammars.has(t)){let s=this._rawGrammars.get(t);if(!s)return null;this._grammars.set(t,Gue(t,s,e,n,r,i,this,this._onigLib))}return this._grammars.get(t)}},Zue=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new Xue(e_.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(e_.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new Kue(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,r,i,s){const a=new Tue(this._syncRegistry,e);for(;a.Q.length>0;)a.Q.map(o=>this._loadSingleGrammar(o.scopeName)),a.processQueue();return this._grammarForScopeName(e,n,r,i,s)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(e,n=[],r=0,i=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,r,i)}_grammarForScopeName(e,n=0,r=null,i=null,s=null){return this._syncRegistry.grammarForScopeName(e,n,r,i,s)}},qE=GE.NULL;const Jue=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class dg{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}dg.prototype.normal={};dg.prototype.property={};dg.prototype.space=void 0;function N6(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new dg(n,r,e)}function Bm(t){return t.toLowerCase()}class Ka{constructor(e,n){this.attribute=n,this.property=e}}Ka.prototype.attribute="";Ka.prototype.booleanish=!1;Ka.prototype.boolean=!1;Ka.prototype.commaOrSpaceSeparated=!1;Ka.prototype.commaSeparated=!1;Ka.prototype.defined=!1;Ka.prototype.mustUseProperty=!1;Ka.prototype.number=!1;Ka.prototype.overloadedBoolean=!1;Ka.prototype.property="";Ka.prototype.spaceSeparated=!1;Ka.prototype.space=void 0;let Que=0;const Qn=Wh(),es=Wh(),$E=Wh(),Vt=Wh(),Qr=Wh(),vp=Wh(),co=Wh();function Wh(){return 2**++Que}const KE=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qn,booleanish:es,commaOrSpaceSeparated:co,commaSeparated:vp,number:Vt,overloadedBoolean:$E,spaceSeparated:Qr},Symbol.toStringTag,{value:"Module"})),Ax=Object.keys(KE);class XA extends Ka{constructor(e,n,r,i){let s=-1;if(super(e,n),aN(this,"space",i),typeof r=="number")for(;++s<Ax.length;){const a=Ax[s];aN(this,Ax[s],(r&KE[a])===KE[a])}}}XA.prototype.defined=!0;function aN(t,e,n){n&&(t[e]=n)}function Kp(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new XA(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[Bm(r)]=r,n[Bm(s.attribute)]=r}return new dg(e,n,t.space)}const L6=Kp({properties:{ariaActiveDescendant:null,ariaAtomic:es,ariaAutoComplete:null,ariaBusy:es,ariaChecked:es,ariaColCount:Vt,ariaColIndex:Vt,ariaColSpan:Vt,ariaControls:Qr,ariaCurrent:null,ariaDescribedBy:Qr,ariaDetails:null,ariaDisabled:es,ariaDropEffect:Qr,ariaErrorMessage:null,ariaExpanded:es,ariaFlowTo:Qr,ariaGrabbed:es,ariaHasPopup:null,ariaHidden:es,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qr,ariaLevel:Vt,ariaLive:null,ariaModal:es,ariaMultiLine:es,ariaMultiSelectable:es,ariaOrientation:null,ariaOwns:Qr,ariaPlaceholder:null,ariaPosInSet:Vt,ariaPressed:es,ariaReadOnly:es,ariaRelevant:null,ariaRequired:es,ariaRoleDescription:Qr,ariaRowCount:Vt,ariaRowIndex:Vt,ariaRowSpan:Vt,ariaSelected:es,ariaSetSize:Vt,ariaSort:null,ariaValueMax:Vt,ariaValueMin:Vt,ariaValueNow:Vt,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function M6(t,e){return e in t?t[e]:e}function P6(t,e){return M6(t,e.toLowerCase())}const ele=Kp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vp,acceptCharset:Qr,accessKey:Qr,action:null,allow:null,allowFullScreen:Qn,allowPaymentRequest:Qn,allowUserMedia:Qn,alt:null,as:null,async:Qn,autoCapitalize:null,autoComplete:Qr,autoFocus:Qn,autoPlay:Qn,blocking:Qr,capture:null,charSet:null,checked:Qn,cite:null,className:Qr,cols:Vt,colSpan:null,content:null,contentEditable:es,controls:Qn,controlsList:Qr,coords:Vt|vp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qn,defer:Qn,dir:null,dirName:null,disabled:Qn,download:$E,draggable:es,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qn,formTarget:null,headers:Qr,height:Vt,hidden:$E,high:Vt,href:null,hrefLang:null,htmlFor:Qr,httpEquiv:Qr,id:null,imageSizes:null,imageSrcSet:null,inert:Qn,inputMode:null,integrity:null,is:null,isMap:Qn,itemId:null,itemProp:Qr,itemRef:Qr,itemScope:Qn,itemType:Qr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qn,low:Vt,manifest:null,max:null,maxLength:Vt,media:null,method:null,min:null,minLength:Vt,multiple:Qn,muted:Qn,name:null,nonce:null,noModule:Qn,noValidate:Qn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qn,optimum:Vt,pattern:null,ping:Qr,placeholder:null,playsInline:Qn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qn,referrerPolicy:null,rel:Qr,required:Qn,reversed:Qn,rows:Vt,rowSpan:Vt,sandbox:Qr,scope:null,scoped:Qn,seamless:Qn,selected:Qn,shadowRootClonable:Qn,shadowRootDelegatesFocus:Qn,shadowRootMode:null,shape:null,size:Vt,sizes:null,slot:null,span:Vt,spellCheck:es,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Vt,step:null,style:null,tabIndex:Vt,target:null,title:null,translate:null,type:null,typeMustMatch:Qn,useMap:null,value:es,width:Vt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qr,axis:null,background:null,bgColor:null,border:Vt,borderColor:null,bottomMargin:Vt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qn,declare:Qn,event:null,face:null,frame:null,frameBorder:null,hSpace:Vt,leftMargin:Vt,link:null,longDesc:null,lowSrc:null,marginHeight:Vt,marginWidth:Vt,noResize:Qn,noHref:Qn,noShade:Qn,noWrap:Qn,object:null,profile:null,prompt:null,rev:null,rightMargin:Vt,rules:null,scheme:null,scrolling:es,standby:null,summary:null,text:null,topMargin:Vt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Vt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qn,disableRemotePlayback:Qn,prefix:null,property:null,results:Vt,security:null,unselectable:null},space:"html",transform:P6}),tle=Kp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:co,accentHeight:Vt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Vt,amplitude:Vt,arabicForm:null,ascent:Vt,attributeName:null,attributeType:null,azimuth:Vt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Vt,by:null,calcMode:null,capHeight:Vt,className:Qr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Vt,diffuseConstant:Vt,direction:null,display:null,dur:null,divisor:Vt,dominantBaseline:null,download:Qn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Vt,enableBackground:null,end:null,event:null,exponent:Vt,externalResourcesRequired:null,fill:null,fillOpacity:Vt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vp,g2:vp,glyphName:vp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Vt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Vt,horizOriginX:Vt,horizOriginY:Vt,id:null,ideographic:Vt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Vt,k:Vt,k1:Vt,k2:Vt,k3:Vt,k4:Vt,kernelMatrix:co,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Vt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Vt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Vt,overlineThickness:Vt,paintOrder:null,panose1:null,path:null,pathLength:Vt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Vt,pointsAtY:Vt,pointsAtZ:Vt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:co,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:co,rev:co,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:co,requiredFeatures:co,requiredFonts:co,requiredFormats:co,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Vt,specularExponent:Vt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Vt,strikethroughThickness:Vt,string:null,stroke:null,strokeDashArray:co,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Vt,strokeOpacity:Vt,strokeWidth:null,style:null,surfaceScale:Vt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:co,tabIndex:Vt,tableValues:null,target:null,targetX:Vt,targetY:Vt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:co,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Vt,underlineThickness:Vt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Vt,values:null,vAlphabetic:Vt,vMathematical:Vt,vectorEffect:null,vHanging:Vt,vIdeographic:Vt,version:null,vertAdvY:Vt,vertOriginX:Vt,vertOriginY:Vt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Vt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:M6}),R6=Kp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),I6=Kp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:P6}),k6=Kp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),nle=/[A-Z]/g,oN=/-[a-z]/g,rle=/^data[-\w.:]+$/i;function ZA(t,e){const n=Bm(e);let r=e,i=Ka;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rle.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(oN,sle);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!oN.test(s)){let a=s.replace(nle,ile);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=XA}return new i(r,e)}function ile(t){return"-"+t.toLowerCase()}function sle(t){return t.charAt(1).toUpperCase()}const X_=N6([L6,ele,R6,I6,k6],"html"),hg=N6([L6,tle,R6,I6,k6],"svg"),ale=/["&'<>`]/g,ole=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ule=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,lle=/[|\\{}()[\]^$+*?.]/g,uN=new WeakMap;function cle(t,e){if(t=t.replace(e.subset?dle(e.subset):ale,r),e.subset||e.escapeOnly)return t;return t.replace(ole,n).replace(ule,r);function n(i,s,a){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,a.charCodeAt(s+2),e)}function r(i,s,a){return e.format(i.charCodeAt(0),a.charCodeAt(s+1),e)}}function dle(t){let e=uN.get(t);return e||(e=hle(t),uN.set(t,e)),e}function hle(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(lle,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const fle=/[\dA-Fa-f]/;function ple(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!fle.test(String.fromCharCode(e))?r:r+";"}const mle=/\d/;function gle(t,e,n){const r="&#"+String(t);return n&&e&&!mle.test(String.fromCharCode(e))?r:r+";"}const vle=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Sx={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},_le=["cent","copy","divide","gt","lt","not","para","times"],F6={}.hasOwnProperty,YE={};let j1;for(j1 in Sx)F6.call(Sx,j1)&&(YE[Sx[j1]]=j1);const yle=/[^\dA-Za-z]/;function xle(t,e,n,r){const i=String.fromCharCode(t);if(F6.call(YE,i)){const s=YE[i],a="&"+s;return n&&vle.includes(s)&&!_le.includes(s)&&(!r||e&&e!==61&&yle.test(String.fromCharCode(e)))?a:a+";"}return""}function ble(t,e,n){let r=ple(t,e,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=xle(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const s=gle(t,e,n.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function _p(t,e){return cle(t,Object.assign({format:ble},e))}const Ele=/^>|^->|<!--|-->|--!>|<!-$/g,wle=[">"],Ale=["<",">"];function Sle(t,e,n,r){return r.settings.bogusComments?"<?"+_p(t.value,Object.assign({},r.settings.characterReferences,{subset:wle}))+">":"<!--"+t.value.replace(Ele,i)+"-->";function i(s){return _p(s,Object.assign({},r.settings.characterReferences,{subset:Ale}))}}function Tle(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function lN(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&e.push(a),i=r+1,r=n.indexOf(",",i)}return e}function Dle(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Cle=/[ \t\n\f\r]/g;function JA(t){return typeof t=="object"?t.type==="text"?cN(t.value):!1:cN(t)}function cN(t){return t.replace(Cle,"")===""}const ms=B6(1),O6=B6(-1),Nle=[];function B6(t){return e;function e(n,r,i){const s=n?n.children:Nle;let a=(r||0)+t,o=s[a];if(!i)for(;o&&JA(o);)a+=t,o=s[a];return o}}const Lle={}.hasOwnProperty;function U6(t){return e;function e(n,r,i){return Lle.call(t,n.tagName)&&t[n.tagName](n,r,i)}}const QA=U6({body:Ple,caption:Tx,colgroup:Tx,dd:Fle,dt:kle,head:Tx,html:Mle,li:Ile,optgroup:Ole,option:Ble,p:Rle,rp:dN,rt:dN,tbody:jle,td:hN,tfoot:zle,th:hN,thead:Ule,tr:Hle});function Tx(t,e,n){const r=ms(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&JA(r.value.charAt(0)))}function Mle(t,e,n){const r=ms(n,e);return!r||r.type!=="comment"}function Ple(t,e,n){const r=ms(n,e);return!r||r.type!=="comment"}function Rle(t,e,n){const r=ms(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function Ile(t,e,n){const r=ms(n,e);return!r||r.type==="element"&&r.tagName==="li"}function kle(t,e,n){const r=ms(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function Fle(t,e,n){const r=ms(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function dN(t,e,n){const r=ms(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function Ole(t,e,n){const r=ms(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function Ble(t,e,n){const r=ms(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function Ule(t,e,n){const r=ms(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function jle(t,e,n){const r=ms(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function zle(t,e,n){return!ms(n,e)}function Hle(t,e,n){const r=ms(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function hN(t,e,n){const r=ms(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const Vle=U6({body:qle,colgroup:$le,head:Gle,html:Wle,tbody:Kle});function Wle(t){const e=ms(t,-1);return!e||e.type!=="comment"}function Gle(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const n=t.children[0];return!n||n.type==="element"}function qle(t){const e=ms(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&JA(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function $le(t,e,n){const r=O6(n,e),i=ms(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&QA(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function Kle(t,e,n){const r=O6(n,e),i=ms(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&QA(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const z1={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Yle(t,e,n,r){const i=r.schema,s=i.space==="svg"?!1:r.settings.omitOptionalTags;let a=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const o=[];let u;i.space==="html"&&t.tagName==="svg"&&(r.schema=hg);const l=Xle(r,t.properties),d=r.all(i.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=i,d&&(a=!1),(l||!s||!Vle(t,e,n))&&(o.push("<",t.tagName,l?" "+l:""),a&&(i.space==="svg"||r.settings.closeSelfClosing)&&(u=l.charAt(l.length-1),(!r.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&o.push(" "),o.push("/")),o.push(">")),o.push(d),!a&&(!s||!QA(t,e,n))&&o.push("</"+t.tagName+">"),o.join("")}function Xle(t,e){const n=[];let r=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const s=Zle(t,i,e[i]);s&&n.push(s)}}for(;++r<n.length;){const s=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&s!=='"'&&s!=="'"&&(n[r]+=" ")}return n.join("")}function Zle(t,e,n){const r=ZA(t.schema,e),i=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,s=t.settings.allowDangerousCharacters?0:1;let a=t.quote,o;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const u=_p(r.attribute,Object.assign({},t.settings.characterReferences,{subset:z1.name[i][s]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?Dle:Boe)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?u:(t.settings.preferUnquoted&&(o=_p(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:z1.unquoted[i][s]}))),o!==n&&(t.settings.quoteSmart&&Zv(n,a)>Zv(n,t.alternative)&&(a=t.alternative),o=a+_p(n,Object.assign({},t.settings.characterReferences,{subset:(a==="'"?z1.single:z1.double)[i][s],attribute:!0}))+a),u+(o&&"="+o))}const Jle=["<","&"];function j6(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:_p(t.value,Object.assign({},r.settings.characterReferences,{subset:Jle}))}function Qle(t,e,n,r){return r.settings.allowDangerousHtml?t.value:j6(t,e,n,r)}function ece(t,e,n,r){return r.all(t)}const tce=Eie("type",{invalid:nce,unknown:rce,handlers:{comment:Sle,doctype:Tle,element:Yle,raw:Qle,root:ece,text:j6}});function nce(t){throw new Error("Expected node, not `"+t+"`")}function rce(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const ice={},sce={},ace=[];function z6(t,e){const n=e||ice,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:oce,all:uce,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||Jue,characterReferences:n.characterReferences||sce,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?hg:X_,quote:r,alternative:i}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function oce(t,e,n){return tce(t,e,n,this)}function uce(t){const e=[],n=t&&t.children||ace;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function lce(t){return Array.isArray(t)?t:[t]}function Z_(t,e=!1){const n=t.split(/(\r?\n)/g);let r=0;const i=[];for(let s=0;s<n.length;s+=2){const a=e?n[s]+(n[s+1]||""):n[s];i.push([a,r]),r+=n[s].length,r+=n[s+1]?.length||0}return i}function eS(t){return!t||["plaintext","txt","text","plain"].includes(t)}function H6(t){return t==="ansi"||eS(t)}function tS(t){return t==="none"}function V6(t){return tS(t)}function W6(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const r of n)r&&!t.properties.class.includes(r)&&t.properties.class.push(r);return t}function cce(t,e){let n=0;const r=[];for(const i of e)i>n&&r.push({...t,content:t.content.slice(n,i),offset:t.offset+n}),n=i;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function dce(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,i)=>r-i);return n.length?t.map(r=>r.flatMap(i=>{const s=n.filter(a=>i.offset<a&&a<i.offset+i.content.length).map(a=>a-i.offset).sort((a,o)=>a-o);return s.length?cce(i,s):i})):t}async function G6(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function s_(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[i,s]of Object.entries(e?.colorReplacements||{}))typeof s=="string"?n[i]=s:i===r&&Object.assign(n,s);return n}function Sh(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function q6(t){const e={};return t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle&&(t.fontStyle&Yl.Italic&&(e["font-style"]="italic"),t.fontStyle&Yl.Bold&&(e["font-weight"]="bold"),t.fontStyle&Yl.Underline&&(e["text-decoration"]="underline")),e}function hce(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}function fce(t){const e=Z_(t,!0).map(([i])=>i);function n(i){if(i===t.length)return{line:e.length-1,character:e[e.length-1].length};let s=i,a=0;for(const o of e){if(s<o.length)break;s-=o.length,a++}return{line:a,character:s}}function r(i,s){let a=0;for(let o=0;o<i;o++)a+=e[o].length;return a+=s,a}return{lines:e,indexToPos:n,posToIndex:r}}class xa extends Error{constructor(e){super(e),this.name="ShikiError"}}const $6=new WeakMap;function J_(t,e){$6.set(t,e)}function Um(t){return $6.get(t)}class Yp{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new Yp(Object.fromEntries(lce(n).map(r=>[r,qE])),e)}constructor(...e){if(e.length===2){const[n,r]=e;this.lang=r,this._stacks=n}else{const[n,r,i]=e;this.lang=r,this._stacks={[i]:n}}}getInternalStack(e=this.theme){return this._stacks[e]}get scopes(){return fN(this._stacks[this.theme])}getScopes(e=this.theme){return fN(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.scopes}}}function fN(t){const e=[],n=new Set;function r(i){if(n.has(i))return;n.add(i);const s=i?.nameScopesList?.scopeName;s&&e.push(s),i.parent&&r(i.parent)}return r(t),e}function pce(t,e){if(!(t instanceof Yp))throw new xa("Invalid grammar state");return t.getInternalStack(e)}function mce(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let r=function(a){if(typeof a=="number"){if(a<0||a>n.source.length)throw new xa(`Invalid decoration offset: ${a}. Code length: ${n.source.length}`);return{...i.indexToPos(a),offset:a}}else{const o=i.lines[a.line];if(o===void 0)throw new xa(`Invalid decoration position ${JSON.stringify(a)}. Lines length: ${i.lines.length}`);if(a.character<0||a.character>o.length)throw new xa(`Invalid decoration position ${JSON.stringify(a)}. Line ${a.line} length: ${o.length}`);return{...a,offset:i.posToIndex(a.line,a.character)}}};const i=fce(n.source),s=(n.options.decorations||[]).map(a=>({...a,start:r(a.start),end:r(a.end)}));gce(s),t.set(n.meta,{decorations:s,converter:i,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){if(!this.options.decorations?.length)return;const i=e(this).decorations.flatMap(a=>[a.start.offset,a.end.offset]);return dce(n,i)},code(n){if(!this.options.decorations?.length)return;const r=e(this),i=Array.from(n.children).filter(d=>d.type==="element"&&d.tagName==="span");if(i.length!==r.converter.lines.length)throw new xa(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function s(d,f,m,p){const _=i[d];let E="",y=-1,v=-1;if(f===0&&(y=0),m===0&&(v=0),m===Number.POSITIVE_INFINITY&&(v=_.children.length),y===-1||v===-1)for(let T=0;T<_.children.length;T++)E+=K6(_.children[T]),y===-1&&E.length===f&&(y=T+1),v===-1&&E.length===m&&(v=T+1);if(y===-1)throw new xa(`Failed to find start index for decoration ${JSON.stringify(p.start)}`);if(v===-1)throw new xa(`Failed to find end index for decoration ${JSON.stringify(p.end)}`);const S=_.children.slice(y,v);if(!p.alwaysWrap&&S.length===_.children.length)o(_,p,"line");else if(!p.alwaysWrap&&S.length===1&&S[0].type==="element")o(S[0],p,"token");else{const T={type:"element",tagName:"span",properties:{},children:S};o(T,p,"wrapper"),_.children.splice(y,S.length,T)}}function a(d,f){i[d]=o(i[d],f,"line")}function o(d,f,m){const p=f.properties||{},_=f.transform||(E=>E);return d.tagName=f.tagName||"span",d.properties={...d.properties,...p,class:d.properties.class},f.properties?.class&&W6(d,f.properties.class),d=_(d,m)||d,d}const u=[],l=r.decorations.sort((d,f)=>f.start.offset-d.start.offset);for(const d of l){const{start:f,end:m}=d;if(f.line===m.line)s(f.line,f.character,m.character,d);else if(f.line<m.line){s(f.line,f.character,Number.POSITIVE_INFINITY,d);for(let p=f.line+1;p<m.line;p++)u.unshift(()=>a(p,d));s(m.line,0,m.character,d)}}u.forEach(d=>d())}}}function gce(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new xa(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=e+1;r<t.length;r++){const i=t[r],s=n.start.offset<i.start.offset&&i.start.offset<n.end.offset,a=n.start.offset<i.end.offset&&i.end.offset<n.end.offset,o=i.start.offset<n.start.offset&&n.start.offset<i.end.offset,u=i.start.offset<n.end.offset&&n.end.offset<i.end.offset;if(s||a||o||u){if(a&&a||o&&u)continue;throw new xa(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}function K6(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(K6).join(""):""}const vce=[mce()];function a_(t){return[...t.transformers||[],...vce]}var Th=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],Dx={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",9:"strikethrough"};function _ce(t,e){const n=t.indexOf("\x1B[",e);if(n!==-1){const r=t.indexOf("m",n);return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function pN(t,e){let n=1;const r=t[e+n++];let i;if(r==="2"){const s=[t[e+n++],t[e+n++],t[e+n]].map(a=>Number.parseInt(a));s.length===3&&!s.some(a=>Number.isNaN(a))&&(i={type:"rgb",rgb:s})}else if(r==="5"){const s=Number.parseInt(t[e+n]);Number.isNaN(s)||(i={type:"table",index:Number(s)})}return[n,i]}function yce(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=Number.parseInt(r);if(!Number.isNaN(i))if(i===0)e.push({type:"resetAll"});else if(i<=9)Dx[i]&&e.push({type:"setDecoration",value:Dx[i]});else if(i<=29){const s=Dx[i-20];s&&e.push({type:"resetDecoration",value:s})}else if(i<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Th[i-30]}});else if(i===38){const[s,a]=pN(t,n);a&&e.push({type:"setForegroundColor",value:a}),n+=s}else if(i===39)e.push({type:"resetForegroundColor"});else if(i<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Th[i-40]}});else if(i===48){const[s,a]=pN(t,n);a&&e.push({type:"setBackgroundColor",value:a}),n+=s}else i===49?e.push({type:"resetBackgroundColor"}):i>=90&&i<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Th[i-90+8]}}):i>=100&&i<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Th[i-100+8]}})}return e}function xce(){let t=null,e=null,n=new Set;return{parse(r){const i=[];let s=0;do{const a=_ce(r,s),o=a.sequence?r.substring(s,a.startPosition):r.substring(s);if(o.length>0&&i.push({value:o,foreground:t,background:e,decorations:new Set(n)}),a.sequence){const u=yce(a.sequence);for(const l of u)l.type==="resetAll"?(t=null,e=null,n.clear()):l.type==="resetForegroundColor"?t=null:l.type==="resetBackgroundColor"?e=null:l.type==="resetDecoration"&&n.delete(l.value);for(const l of u)l.type==="setForegroundColor"?t=l.value:l.type==="setBackgroundColor"?e=l.value:l.type==="setDecoration"&&n.add(l.value)}s=a.position}while(s<r.length);return i}}}var bce={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Ece(t=bce){function e(o){return t[o]}function n(o){return`#${o.map(u=>Math.max(0,Math.min(u,255)).toString(16).padStart(2,"0")).join("")}`}let r;function i(){if(r)return r;r=[];for(let l=0;l<Th.length;l++)r.push(e(Th[l]));let o=[0,95,135,175,215,255];for(let l=0;l<6;l++)for(let d=0;d<6;d++)for(let f=0;f<6;f++)r.push(n([o[l],o[d],o[f]]));let u=8;for(let l=0;l<24;l++,u+=10)r.push(n([u,u,u]));return r}function s(o){return i()[o]}function a(o){switch(o.type){case"named":return e(o.name);case"rgb":return n(o.rgb);case"table":return s(o.index)}}return{value:a}}function wce(t,e,n){const r=s_(t,n),i=Z_(e),s=Ece(Object.fromEntries(Th.map(o=>[o,t.colors?.[`terminal.ansi${o[0].toUpperCase()}${o.substring(1)}`]]))),a=xce();return i.map(o=>a.parse(o[0]).map(u=>{let l,d;u.decorations.has("reverse")?(l=u.background?s.value(u.background):t.bg,d=u.foreground?s.value(u.foreground):t.fg):(l=u.foreground?s.value(u.foreground):t.fg,d=u.background?s.value(u.background):void 0),l=Sh(l,r),d=Sh(d,r),u.decorations.has("dim")&&(l=Ace(l));let f=Yl.None;return u.decorations.has("bold")&&(f|=Yl.Bold),u.decorations.has("italic")&&(f|=Yl.Italic),u.decorations.has("underline")&&(f|=Yl.Underline),{content:u.value,offset:o[1],color:l,bgColor:d,fontStyle:f}}))}function Ace(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function nS(t,e,n={}){const{lang:r="text",theme:i=t.getLoadedThemes()[0]}=n;if(eS(r)||tS(i))return Z_(e).map(u=>[{content:u[0],offset:u[1]}]);const{theme:s,colorMap:a}=t.setTheme(i);if(r==="ansi")return wce(s,e,n);const o=t.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==o.name)throw new rc(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${o.name}"`);if(!n.grammarState.themes.includes(s.name))throw new rc(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${s.name}"`)}return Tce(e,o,s,a,n)}function Sce(...t){if(t.length===2)return Um(t[1]);const[e,n,r={}]=t,{lang:i="text",theme:s=e.getLoadedThemes()[0]}=r;if(eS(i)||tS(s))throw new rc("Plain language does not have grammar state");if(i==="ansi")throw new rc("ANSI language does not have grammar state");const{theme:a,colorMap:o}=e.setTheme(s),u=e.getLanguage(i);return new Yp(o_(n,u,a,o,r).stateStack,u.name,a.name)}function Tce(t,e,n,r,i){const s=o_(t,e,n,r,i),a=new Yp(o_(t,e,n,r,i).stateStack,e.name,n.name);return J_(s.tokens,a),s.tokens}function o_(t,e,n,r,i){const s=s_(n,i),{tokenizeMaxLineLength:a=0,tokenizeTimeLimit:o=500}=i,u=Z_(t);let l=i.grammarState?pce(i.grammarState,n.name)??qE:i.grammarContextCode!=null?o_(i.grammarContextCode,e,n,r,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:qE,d=[];const f=[];for(let m=0,p=u.length;m<p;m++){const[_,E]=u[m];if(_===""){d=[],f.push([]);continue}if(a>0&&_.length>=a){d=[],f.push([{content:_,offset:E,color:"",fontStyle:0}]);continue}let y,v,S;i.includeExplanation&&(y=e.tokenizeLine(_,l),v=y.tokens,S=0);const T=e.tokenizeLine2(_,l,o),L=T.tokens.length/2;for(let I=0;I<L;I++){const O=T.tokens[2*I],B=I+1<L?T.tokens[2*I+2]:_.length;if(O===B)continue;const V=T.tokens[2*I+1],M=Sh(r[jp.getForeground(V)],s),R=jp.getFontStyle(V),k={content:_.substring(O,B),offset:E+O,color:M,fontStyle:R};if(i.includeExplanation){const H=[];if(i.includeExplanation!=="scopeName")for(const Y of n.settings){let ae;switch(typeof Y.scope){case"string":ae=Y.scope.split(/,/).map(he=>he.trim());break;case"object":ae=Y.scope;break;default:continue}H.push({settings:Y,selectors:ae.map(he=>he.split(/ /))})}k.explanation=[];let q=0;for(;O+q<B;){const Y=v[S],ae=_.substring(Y.startIndex,Y.endIndex);q+=ae.length,k.explanation.push({content:ae,scopes:i.includeExplanation==="scopeName"?Dce(Y.scopes):Cce(H,Y.scopes)}),S+=1}}d.push(k)}f.push(d),d=[],l=T.ruleStack}return{tokens:f,stateStack:l}}function Dce(t){return t.map(e=>({scopeName:e}))}function Cce(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n[r]={scopeName:s,themeMatches:Lce(t,s,e.slice(0,r))}}return n}function mN(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function Nce(t,e,n){if(!mN(t[t.length-1],e))return!1;let r=t.length-2,i=n.length-1;for(;r>=0&&i>=0;)mN(t[r],n[i])&&(r-=1),i-=1;return r===-1}function Lce(t,e,n){const r=[];for(const{selectors:i,settings:s}of t)for(const a of i)if(Nce(a,e,n)){r.push(s);break}return r}function Y6(t,e,n){const r=Object.entries(n.themes).filter(u=>u[1]).map(u=>({color:u[0],theme:u[1]})),i=r.map(u=>{const l=nS(t,e,{...n,theme:u.theme}),d=Um(l),f=typeof u.theme=="string"?u.theme:u.theme.name;return{tokens:l,state:d,theme:f}}),s=Mce(...i.map(u=>u.tokens)),a=s[0].map((u,l)=>u.map((d,f)=>{const m={content:d.content,variants:{},offset:d.offset};return"includeExplanation"in n&&n.includeExplanation&&(m.explanation=d.explanation),s.forEach((p,_)=>{const{content:E,explanation:y,offset:v,...S}=p[l][f];m.variants[r[_].color]=S}),m})),o=i[0].state?new Yp(Object.fromEntries(i.map(u=>[u.theme,u.state?.getInternalStack(u.theme)])),i[0].state.lang):void 0;return o&&J_(a,o),a}function Mce(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const i=t.map(u=>u[r]),s=e.map(()=>[]);e.forEach((u,l)=>u.push(s[l]));const a=i.map(()=>0),o=i.map(u=>u[0]);for(;o.every(u=>u);){const u=Math.min(...o.map(l=>l.content.length));for(let l=0;l<n;l++){const d=o[l];d.content.length===u?(s[l].push(d),a[l]+=1,o[l]=i[l][a[l]]):(s[l].push({...d,content:d.content.slice(0,u)}),o[l]={...d,content:d.content.slice(u),offset:d.offset+u})}}}return e}function u_(t,e,n){let r,i,s,a,o,u;if("themes"in n){const{defaultColor:l="light",cssVariablePrefix:d="--shiki-"}=n,f=Object.entries(n.themes).filter(y=>y[1]).map(y=>({color:y[0],theme:y[1]})).sort((y,v)=>y.color===l?-1:v.color===l?1:0);if(f.length===0)throw new rc("`themes` option must not be empty");const m=Y6(t,e,n);if(u=Um(m),l&&!f.find(y=>y.color===l))throw new rc(`\`themes\` option must contain the defaultColor key \`${l}\``);const p=f.map(y=>t.getTheme(y.theme)),_=f.map(y=>y.color);s=m.map(y=>y.map(v=>Pce(v,_,d,l))),u&&J_(s,u);const E=f.map(y=>s_(y.theme,n));i=f.map((y,v)=>(v===0&&l?"":`${d+y.color}:`)+(Sh(p[v].fg,E[v])||"inherit")).join(";"),r=f.map((y,v)=>(v===0&&l?"":`${d+y.color}-bg:`)+(Sh(p[v].bg,E[v])||"inherit")).join(";"),a=`shiki-themes ${p.map(y=>y.name).join(" ")}`,o=l?void 0:[i,r].join(";")}else if("theme"in n){const l=s_(n.theme,n);s=nS(t,e,n);const d=t.getTheme(n.theme);r=Sh(d.bg,l),i=Sh(d.fg,l),a=d.name,u=Um(s)}else throw new rc("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:i,bg:r,themeName:a,rootStyle:o,grammarState:u}}function Pce(t,e,n,r){const i={content:t.content,explanation:t.explanation,offset:t.offset},s=e.map(u=>q6(t.variants[u])),a=new Set(s.flatMap(u=>Object.keys(u))),o={};return s.forEach((u,l)=>{for(const d of a){const f=u[d]||"inherit";if(l===0&&r)o[d]=f;else{const m=d==="color"?"":d==="background-color"?"-bg":`-${d}`,p=n+e[l]+(d==="color"?"":m);o[p]=f}}}),i.htmlStyle=o,i}function l_(t,e,n,r={meta:{},options:n,codeToHast:(i,s)=>l_(t,i,s),codeToTokens:(i,s)=>u_(t,i,s)}){let i=e;for(const p of a_(n))i=p.preprocess?.call(r,i,n)||i;let{tokens:s,fg:a,bg:o,themeName:u,rootStyle:l,grammarState:d}=u_(t,i,n);const{mergeWhitespaces:f=!0}=n;f===!0?s=Ice(s):f==="never"&&(s=kce(s));const m={...r,get source(){return i}};for(const p of a_(n))s=p.tokens?.call(m,s)||s;return Rce(s,{...n,fg:a,bg:o,themeName:u,rootStyle:l},m,d)}function Rce(t,e,n,r=Um(t)){const i=a_(e),s=[],a={type:"root",children:[]},{structure:o="classic",tabindex:u="0"}=e;let l={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...u!==!1&&u!=null?{tabindex:u.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([_])=>!_.startsWith("_")))},children:[]},d={type:"element",tagName:"code",properties:{},children:s};const f=[],m={...n,structure:o,addClassToHast:W6,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return a},get pre(){return l},get code(){return d},get lines(){return f}};if(t.forEach((_,E)=>{E&&(o==="inline"?a.children.push({type:"element",tagName:"br",properties:{},children:[]}):o==="classic"&&s.push({type:"text",value:`
`}));let y={type:"element",tagName:"span",properties:{class:"line"},children:[]},v=0;for(const S of _){let T={type:"element",tagName:"span",properties:{...S.htmlAttrs},children:[{type:"text",value:S.content}]};S.htmlStyle;const L=hce(S.htmlStyle||q6(S));L&&(T.properties.style=L);for(const I of i)T=I?.span?.call(m,T,E+1,v,y,S)||T;o==="inline"?a.children.push(T):o==="classic"&&y.children.push(T),v+=S.content.length}if(o==="classic"){for(const S of i)y=S?.line?.call(m,y,E+1)||y;f.push(y),s.push(y)}}),o==="classic"){for(const _ of i)d=_?.code?.call(m,d)||d;l.children.push(d);for(const _ of i)l=_?.pre?.call(m,l)||l;a.children.push(l)}let p=a;for(const _ of i)p=_?.root?.call(m,p)||p;return r&&J_(p,r),p}function Ice(t){return t.map(e=>{const n=[];let r="",i=0;return e.forEach((s,a)=>{const u=!(s.fontStyle&&s.fontStyle&Yl.Underline);u&&s.content.match(/^\s+$/)&&e[a+1]?(i||(i=s.offset),r+=s.content):r?(u?n.push({...s,offset:i,content:r+s.content}):n.push({content:r,offset:i},s),i=0,r=""):n.push(s)}),n})}function kce(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,i,s,a]=r;if(!i&&!a)return n;const o=[{...n,offset:n.offset+i.length,content:s}];return i&&o.unshift({content:i,offset:n.offset}),a&&o.push({content:a,offset:n.offset+i.length+s.length}),o}))}function Fce(t,e,n){const r={meta:{},options:n,codeToHast:(s,a)=>l_(t,s,a),codeToTokens:(s,a)=>u_(t,s,a)};let i=z6(l_(t,e,n,r));for(const s of a_(n))i=s.postprocess?.call(r,i,n)||i;return i}const gN={light:"#333333",dark:"#bbbbbb"},vN={light:"#fffffe",dark:"#1e1e1e"},_N="__shiki_resolved";function rS(t){if(t?.[_N])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:n,fg:r}=e;if(!n||!r){const o=e.settings?e.settings.find(u=>!u.name&&!u.scope):void 0;o?.settings?.foreground&&(r=o.settings.foreground),o?.settings?.background&&(n=o.settings.background),!r&&e?.colors?.["editor.foreground"]&&(r=e.colors["editor.foreground"]),!n&&e?.colors?.["editor.background"]&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?gN.light:gN.dark),n||(n=e.type==="light"?vN.light:vN.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let i=0;const s=new Map;function a(o){if(s.has(o))return s.get(o);i+=1;const u=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${u}`]?a(o):(s.set(o,u),u)}e.settings=e.settings.map(o=>{const u=o.settings?.foreground&&!o.settings.foreground.startsWith("#"),l=o.settings?.background&&!o.settings.background.startsWith("#");if(!u&&!l)return o;const d={...o,settings:{...o.settings}};if(u){const f=a(o.settings.foreground);e.colorReplacements[f]=o.settings.foreground,d.settings.foreground=f}if(l){const f=a(o.settings.background);e.colorReplacements[f]=o.settings.background,d.settings.background=f}return d});for(const o of Object.keys(e.colors||{}))if((o==="editor.foreground"||o==="editor.background"||o.startsWith("terminal.ansi"))&&!e.colors[o]?.startsWith("#")){const u=a(e.colors[o]);e.colorReplacements[u]=e.colors[o],e.colors[o]=u}return Object.defineProperty(e,_N,{enumerable:!1,writable:!1,value:!0}),e}async function X6(t){return Array.from(new Set((await Promise.all(t.filter(e=>!H6(e)).map(async e=>await G6(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function Z6(t){return(await Promise.all(t.map(async n=>V6(n)?null:rS(await G6(n))))).filter(n=>!!n)}class Oce extends Zue{constructor(e,n,r,i={}){super(e),this._resolver=e,this._themes=n,this._langs=r,this._alias=i,this._themes.map(s=>this.loadTheme(s)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const n=rS(e);return n.name&&(this._resolvedThemes.set(n.name,n),this._loadedThemesCache=null),n}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let n=this._textmateThemeCache.get(e);n||(n=e_.createFromRawTheme(e),this._textmateThemeCache.set(e,n)),this._syncRegistry.setTheme(n)}getGrammar(e){if(this._alias[e]){const n=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],n.has(e))throw new xa(`Circular alias \`${Array.from(n).join(" -> ")} -> ${e}\``);n.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const n=new Set([...this._langMap.values()].filter(s=>s.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const i=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(i.name=e.name,this._resolvedGrammars.set(e.name,i),e.aliases&&e.aliases.forEach(s=>{this._alias[s]=e.name}),this._loadedLanguagesCache=null,n.size)for(const s of n)this._resolvedGrammars.delete(s.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(s.scopeName),this._syncRegistry?._grammars?.delete(s.scopeName),this.loadLanguage(this._langMap.get(s.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const i of e)this.resolveEmbeddedLanguages(i);const n=Array.from(this._langGraph.entries()),r=n.filter(([i,s])=>!s);if(r.length){const i=n.filter(([s,a])=>a&&a.embeddedLangs?.some(o=>r.map(([u])=>u).includes(o))).filter(s=>!r.includes(s));throw new xa(`Missing languages ${r.map(([s])=>`\`${s}\``).join(", ")}, required by ${i.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[i,s]of n)this._resolver.addLanguage(s);for(const[i,s]of n)this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(const n of e.embeddedLangs)this._langGraph.set(n,this._langMap.get(n))}}class Bce{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,n){this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let i=1;i<=n.length;i++){const s=n.slice(0,i).join(".");r=[...r,...this._injections.get(s)||[]]}return r}}let B0=0;function Uce(t){B0+=1,t.warnings!==!1&&B0>=10&&B0%10===0&&console.warn(`[Shiki] ${B0} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new xa("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(rS),i=new Bce(t.engine,n),s=new Oce(i,r,n,t.langAlias);let a;function o(S){y();const T=s.getGrammar(typeof S=="string"?S:S.name);if(!T)throw new xa(`Language \`${S}\` not found, you may need to load it first`);return T}function u(S){if(S==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};y();const T=s.getTheme(S);if(!T)throw new xa(`Theme \`${S}\` not found, you may need to load it first`);return T}function l(S){y();const T=u(S);a!==S&&(s.setTheme(T),a=S);const L=s.getColorMap();return{theme:T,colorMap:L}}function d(){return y(),s.getLoadedThemes()}function f(){return y(),s.getLoadedLanguages()}function m(...S){y(),s.loadLanguages(S.flat(1))}async function p(...S){return m(await X6(S))}function _(...S){y();for(const T of S.flat(1))s.loadTheme(T)}async function E(...S){return y(),_(await Z6(S))}function y(){if(e)throw new xa("Shiki instance has been disposed")}function v(){e||(e=!0,s.dispose(),B0-=1)}return{setTheme:l,getTheme:u,getLanguage:o,getLoadedThemes:d,getLoadedLanguages:f,loadLanguage:p,loadLanguageSync:m,loadTheme:E,loadThemeSync:_,dispose:v,[Symbol.dispose]:v}}async function jce(t={}){t.loadWasm;const[e,n,r]=await Promise.all([Z6(t.themes||[]),X6(t.langs||[]),t.engine||f6(t.loadWasm||due())]);return Uce({...t,themes:e,langs:n,engine:r})}async function zce(t={}){const e=await jce(t);return{getLastGrammarState:(...n)=>Sce(e,...n),codeToTokensBase:(n,r)=>nS(e,n,r),codeToTokensWithThemes:(n,r)=>Y6(e,n,r),codeToTokens:(n,r)=>u_(e,n,r),codeToHast:(n,r)=>l_(e,n,r),codeToHtml:(n,r)=>Fce(e,n,r),...e,getInternalContext:()=>e}}function Hce(t,e,n){let r,i,s;{const o=t;r=o.langs,i=o.themes,s=o.engine}async function a(o){function u(p){if(typeof p=="string"){if(H6(p))return[];const _=r[p];if(!_)throw new rc(`Language \`${p}\` is not included in this bundle. You may want to load it from external source.`);return _}return p}function l(p){if(V6(p))return"none";if(typeof p=="string"){const _=i[p];if(!_)throw new rc(`Theme \`${p}\` is not included in this bundle. You may want to load it from external source.`);return _}return p}const d=(o.themes??[]).map(p=>l(p)),f=(o.langs??[]).map(p=>u(p)),m=await zce({engine:o.engine??s(),...o,themes:d,langs:f});return{...m,loadLanguage(...p){return m.loadLanguage(...p.map(u))},loadTheme(...p){return m.loadTheme(...p.map(l))}}}return a}const Vce=Hce({langs:Goe,themes:$oe,engine:()=>f6(fe(()=>import("./wasm-CG6Dc4jp.js"),[]))}),Wce=t=>Vce(t);var H1={exports:{}},yN;function Gce(){return yN||(yN=1,(function(t,e){function n(r){let i=[],s;for(let a of r.split(",").map(o=>o.trim()))if(/^-?\d+$/.test(a))i.push(parseInt(a,10));else if(s=a.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[o,u,l,d]=s;if(u&&d){u=parseInt(u),d=parseInt(d);const f=u<d?1:-1;(l==="-"||l===".."||l==="")&&(d+=f);for(let m=u;m!==d;m+=f)i.push(m)}}return i}e.default=n,t.exports=n})(H1,H1.exports)),H1.exports}var qce=Gce();const XE=Wm(qce),xN=/[#.]/g;function $ce(t,e){const n=t||"",r={};let i=0,s,a;for(;i<n.length;){xN.lastIndex=i;const o=xN.exec(n),u=n.slice(i,o?o.index:n.length);u&&(s?s==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:a=u,i+=u.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||e||"div",properties:r,children:[]}}function J6(t,e,n){const r=n?Zce(n):void 0;function i(s,a,...o){let u;if(s==null){u={type:"root",children:[]};const l=a;o.unshift(l)}else{u=$ce(s,e);const l=u.tagName.toLowerCase(),d=r?r.get(l):void 0;if(u.tagName=d||l,Kce(a))o.unshift(a);else for(const[f,m]of Object.entries(a))Yce(t,u.properties,f,m)}for(const l of o)ZE(u.children,l);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return i}function Kce(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function Yce(t,e,n,r){const i=ZA(t,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=UE(r):i.commaSeparated?s=lN(r):i.commaOrSpaceSeparated?s=UE(lN(r).join(" ")):s=bN(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?Xce(r):String(r);if(Array.isArray(s)){const a=[];for(const o of s)a.push(bN(i,i.property,o));s=a}i.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[i.property]=s}}function ZE(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)ZE(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?ZE(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function bN(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Bm(n)===Bm(e)))return!0}return n}function Xce(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function Zce(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const Jce=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Qce=J6(X_,"div"),ede=J6(hg,"g",Jce);function tde(t){const e=String(t),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=e.length){let a=0;for(;;){let o=n[a];if(o===void 0){const u=EN(e,n[a-1]);o=u===-1?e.length+1:u+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],u=EN(e,o),l=u===-1?e.length+1:u+1;if(o===l)break;n.push(l)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function EN(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const nde={svg:"http://www.w3.org/2000/svg"},Q6={}.hasOwnProperty,rde=Object.prototype;function ide(t,e){const n=e||{};return iS({file:n.file||void 0,location:!1,schema:n.space==="svg"?hg:X_,verbose:n.verbose||!1},t)}function iS(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},vv(t,r,n),n}case"#document":case"#document-fragment":{const r=e,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:ek(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const s=String(t.file),a=tde(s),o=a.toPoint(0),u=a.toPoint(s.length);n.position={start:o,end:u}}return n}case"#documentType":{const r=e;return n={type:"doctype"},vv(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},vv(t,r,n),n}default:return n=sde(t,e),n}}function ek(t,e){let n=-1;const r=[];for(;++n<e.length;){const i=iS(t,e[n]);r.push(i)}return r}function sde(t,e){const n=t.schema;t.schema=e.namespaceURI===nde.svg?hg:X_;let r=-1;const i={};for(;++r<e.attrs.length;){const o=e.attrs[r],u=(o.prefix?o.prefix+":":"")+o.name;Q6.call(rde,u)||(i[u]=o.value)}const a=(t.schema.space==="svg"?ede:Qce)(e.tagName,i,ek(t,e.childNodes));if(vv(t,e,a),a.tagName==="template"){const o=e,u=o.sourceCodeLocation,l=u&&u.startTag&&lp(u.startTag),d=u&&u.endTag&&lp(u.endTag),f=iS(t,o.content);l&&d&&t.file&&(f.position={start:l.end,end:d.start}),a.content=f}return t.schema=n,a}function vv(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=ade(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function ade(t,e,n){const r=lp(n);if(e.type==="element"){const i=e.children[e.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),t.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)Q6.call(n.attrs,a)&&(s[ZA(t.schema,a).property]=lp(n.attrs[a]));n.startTag;const o=lp(n.startTag),u=n.endTag?lp(n.endTag):void 0,l={opening:o};u&&(l.closing=u),l.properties=s,e.data={position:l}}}return r}function lp(t){const e=wN({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=wN({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function wN(t){return t.line&&t.column?t:void 0}const ode=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),di="";var pe;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(pe||(pe={}));const za={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function tk(t){return t>=55296&&t<=57343}function ude(t){return t>=56320&&t<=57343}function lde(t,e){return(t-55296)*1024+9216+e}function nk(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function rk(t){return t>=64976&&t<=65007||ode.has(t)}var lt;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(lt||(lt={}));const cde=65536;class dde{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=cde,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:i,offset:s}=this,a=i+n,o=s+n;return{code:e,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(ude(n))return this.pos++,this._addGap(),lde(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,pe.EOF;return this._err(lt.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,pe.EOF;const r=this.html.charCodeAt(n);return r===pe.CARRIAGE_RETURN?pe.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,pe.EOF;let e=this.html.charCodeAt(this.pos);return e===pe.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,pe.LINE_FEED):e===pe.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,tk(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===pe.LINE_FEED||e===pe.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){nk(e)?this._err(lt.controlCharacterInInputStream):rk(e)&&this._err(lt.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Er;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Er||(Er={}));function ik(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const hde=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),fde=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function pde(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=fde.get(t))!==null&&e!==void 0?e:t}var Ms;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Ms||(Ms={}));const mde=32;var hd;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(hd||(hd={}));function JE(t){return t>=Ms.ZERO&&t<=Ms.NINE}function gde(t){return t>=Ms.UPPER_A&&t<=Ms.UPPER_F||t>=Ms.LOWER_A&&t<=Ms.LOWER_F}function vde(t){return t>=Ms.UPPER_A&&t<=Ms.UPPER_Z||t>=Ms.LOWER_A&&t<=Ms.LOWER_Z||JE(t)}function _de(t){return t===Ms.EQUALS||vde(t)}var Ds;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Ds||(Ds={}));var $l;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})($l||($l={}));class yde{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Ds.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=$l.Strict}startEntity(e){this.decodeMode=e,this.state=Ds.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Ds.EntityStart:return e.charCodeAt(n)===Ms.NUM?(this.state=Ds.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Ds.NamedEntity,this.stateNamedEntity(e,n));case Ds.NumericStart:return this.stateNumericStart(e,n);case Ds.NumericDecimal:return this.stateNumericDecimal(e,n);case Ds.NumericHex:return this.stateNumericHex(e,n);case Ds.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|mde)===Ms.LOWER_X?(this.state=Ds.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Ds.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(JE(i)||gde(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(JE(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Ms.SEMI)this.consumed+=1;else if(this.decodeMode===$l.Strict)return 0;return this.emitCodePoint(pde(this.result),this.consumed),this.errors&&(e!==Ms.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&hd.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=xde(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===$l.Attribute&&(s===0||_de(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&hd.VALUE_LENGTH)>>14,s!==0){if(a===Ms.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==$l.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&hd.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~hd.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case Ds.NamedEntity:return this.result!==0&&(this.decodeMode!==$l.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ds.NumericDecimal:return this.emitNumericEntity(0,2);case Ds.NumericHex:return this.emitNumericEntity(0,3);case Ds.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ds.EntityStart:return 0}}}function xde(t,e,n,r){const i=(e&hd.BRANCH_LENGTH)>>7,s=e&hd.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:t[n+u]-1}let a=n,o=a+i-1;for(;a<=o;){const u=a+o>>>1,l=t[u];if(l<r)a=u+1;else if(l>r)o=u-1;else return t[u+i]}return-1}var Rt;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Rt||(Rt={}));var Nh;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Nh||(Nh={}));var zo;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(zo||(zo={}));var Ke;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(Ke||(Ke={}));var D;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(D||(D={}));const bde=new Map([[Ke.A,D.A],[Ke.ADDRESS,D.ADDRESS],[Ke.ANNOTATION_XML,D.ANNOTATION_XML],[Ke.APPLET,D.APPLET],[Ke.AREA,D.AREA],[Ke.ARTICLE,D.ARTICLE],[Ke.ASIDE,D.ASIDE],[Ke.B,D.B],[Ke.BASE,D.BASE],[Ke.BASEFONT,D.BASEFONT],[Ke.BGSOUND,D.BGSOUND],[Ke.BIG,D.BIG],[Ke.BLOCKQUOTE,D.BLOCKQUOTE],[Ke.BODY,D.BODY],[Ke.BR,D.BR],[Ke.BUTTON,D.BUTTON],[Ke.CAPTION,D.CAPTION],[Ke.CENTER,D.CENTER],[Ke.CODE,D.CODE],[Ke.COL,D.COL],[Ke.COLGROUP,D.COLGROUP],[Ke.DD,D.DD],[Ke.DESC,D.DESC],[Ke.DETAILS,D.DETAILS],[Ke.DIALOG,D.DIALOG],[Ke.DIR,D.DIR],[Ke.DIV,D.DIV],[Ke.DL,D.DL],[Ke.DT,D.DT],[Ke.EM,D.EM],[Ke.EMBED,D.EMBED],[Ke.FIELDSET,D.FIELDSET],[Ke.FIGCAPTION,D.FIGCAPTION],[Ke.FIGURE,D.FIGURE],[Ke.FONT,D.FONT],[Ke.FOOTER,D.FOOTER],[Ke.FOREIGN_OBJECT,D.FOREIGN_OBJECT],[Ke.FORM,D.FORM],[Ke.FRAME,D.FRAME],[Ke.FRAMESET,D.FRAMESET],[Ke.H1,D.H1],[Ke.H2,D.H2],[Ke.H3,D.H3],[Ke.H4,D.H4],[Ke.H5,D.H5],[Ke.H6,D.H6],[Ke.HEAD,D.HEAD],[Ke.HEADER,D.HEADER],[Ke.HGROUP,D.HGROUP],[Ke.HR,D.HR],[Ke.HTML,D.HTML],[Ke.I,D.I],[Ke.IMG,D.IMG],[Ke.IMAGE,D.IMAGE],[Ke.INPUT,D.INPUT],[Ke.IFRAME,D.IFRAME],[Ke.KEYGEN,D.KEYGEN],[Ke.LABEL,D.LABEL],[Ke.LI,D.LI],[Ke.LINK,D.LINK],[Ke.LISTING,D.LISTING],[Ke.MAIN,D.MAIN],[Ke.MALIGNMARK,D.MALIGNMARK],[Ke.MARQUEE,D.MARQUEE],[Ke.MATH,D.MATH],[Ke.MENU,D.MENU],[Ke.META,D.META],[Ke.MGLYPH,D.MGLYPH],[Ke.MI,D.MI],[Ke.MO,D.MO],[Ke.MN,D.MN],[Ke.MS,D.MS],[Ke.MTEXT,D.MTEXT],[Ke.NAV,D.NAV],[Ke.NOBR,D.NOBR],[Ke.NOFRAMES,D.NOFRAMES],[Ke.NOEMBED,D.NOEMBED],[Ke.NOSCRIPT,D.NOSCRIPT],[Ke.OBJECT,D.OBJECT],[Ke.OL,D.OL],[Ke.OPTGROUP,D.OPTGROUP],[Ke.OPTION,D.OPTION],[Ke.P,D.P],[Ke.PARAM,D.PARAM],[Ke.PLAINTEXT,D.PLAINTEXT],[Ke.PRE,D.PRE],[Ke.RB,D.RB],[Ke.RP,D.RP],[Ke.RT,D.RT],[Ke.RTC,D.RTC],[Ke.RUBY,D.RUBY],[Ke.S,D.S],[Ke.SCRIPT,D.SCRIPT],[Ke.SEARCH,D.SEARCH],[Ke.SECTION,D.SECTION],[Ke.SELECT,D.SELECT],[Ke.SOURCE,D.SOURCE],[Ke.SMALL,D.SMALL],[Ke.SPAN,D.SPAN],[Ke.STRIKE,D.STRIKE],[Ke.STRONG,D.STRONG],[Ke.STYLE,D.STYLE],[Ke.SUB,D.SUB],[Ke.SUMMARY,D.SUMMARY],[Ke.SUP,D.SUP],[Ke.TABLE,D.TABLE],[Ke.TBODY,D.TBODY],[Ke.TEMPLATE,D.TEMPLATE],[Ke.TEXTAREA,D.TEXTAREA],[Ke.TFOOT,D.TFOOT],[Ke.TD,D.TD],[Ke.TH,D.TH],[Ke.THEAD,D.THEAD],[Ke.TITLE,D.TITLE],[Ke.TR,D.TR],[Ke.TRACK,D.TRACK],[Ke.TT,D.TT],[Ke.U,D.U],[Ke.UL,D.UL],[Ke.SVG,D.SVG],[Ke.VAR,D.VAR],[Ke.WBR,D.WBR],[Ke.XMP,D.XMP]]);function Q_(t){var e;return(e=bde.get(t))!==null&&e!==void 0?e:D.UNKNOWN}const Ut=D,Ede={[Rt.HTML]:new Set([Ut.ADDRESS,Ut.APPLET,Ut.AREA,Ut.ARTICLE,Ut.ASIDE,Ut.BASE,Ut.BASEFONT,Ut.BGSOUND,Ut.BLOCKQUOTE,Ut.BODY,Ut.BR,Ut.BUTTON,Ut.CAPTION,Ut.CENTER,Ut.COL,Ut.COLGROUP,Ut.DD,Ut.DETAILS,Ut.DIR,Ut.DIV,Ut.DL,Ut.DT,Ut.EMBED,Ut.FIELDSET,Ut.FIGCAPTION,Ut.FIGURE,Ut.FOOTER,Ut.FORM,Ut.FRAME,Ut.FRAMESET,Ut.H1,Ut.H2,Ut.H3,Ut.H4,Ut.H5,Ut.H6,Ut.HEAD,Ut.HEADER,Ut.HGROUP,Ut.HR,Ut.HTML,Ut.IFRAME,Ut.IMG,Ut.INPUT,Ut.LI,Ut.LINK,Ut.LISTING,Ut.MAIN,Ut.MARQUEE,Ut.MENU,Ut.META,Ut.NAV,Ut.NOEMBED,Ut.NOFRAMES,Ut.NOSCRIPT,Ut.OBJECT,Ut.OL,Ut.P,Ut.PARAM,Ut.PLAINTEXT,Ut.PRE,Ut.SCRIPT,Ut.SECTION,Ut.SELECT,Ut.SOURCE,Ut.STYLE,Ut.SUMMARY,Ut.TABLE,Ut.TBODY,Ut.TD,Ut.TEMPLATE,Ut.TEXTAREA,Ut.TFOOT,Ut.TH,Ut.THEAD,Ut.TITLE,Ut.TR,Ut.TRACK,Ut.UL,Ut.WBR,Ut.XMP]),[Rt.MATHML]:new Set([Ut.MI,Ut.MO,Ut.MN,Ut.MS,Ut.MTEXT,Ut.ANNOTATION_XML]),[Rt.SVG]:new Set([Ut.TITLE,Ut.FOREIGN_OBJECT,Ut.DESC]),[Rt.XLINK]:new Set,[Rt.XML]:new Set,[Rt.XMLNS]:new Set},QE=new Set([Ut.H1,Ut.H2,Ut.H3,Ut.H4,Ut.H5,Ut.H6]);Ke.STYLE,Ke.SCRIPT,Ke.XMP,Ke.IFRAME,Ke.NOEMBED,Ke.NOFRAMES,Ke.PLAINTEXT;var be;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(be||(be={}));const Wa={DATA:be.DATA,RCDATA:be.RCDATA,RAWTEXT:be.RAWTEXT,SCRIPT_DATA:be.SCRIPT_DATA,PLAINTEXT:be.PLAINTEXT,CDATA_SECTION:be.CDATA_SECTION};function wde(t){return t>=pe.DIGIT_0&&t<=pe.DIGIT_9}function Z0(t){return t>=pe.LATIN_CAPITAL_A&&t<=pe.LATIN_CAPITAL_Z}function Ade(t){return t>=pe.LATIN_SMALL_A&&t<=pe.LATIN_SMALL_Z}function id(t){return Ade(t)||Z0(t)}function AN(t){return id(t)||wde(t)}function V1(t){return t+32}function sk(t){return t===pe.SPACE||t===pe.LINE_FEED||t===pe.TABULATION||t===pe.FORM_FEED}function SN(t){return sk(t)||t===pe.SOLIDUS||t===pe.GREATER_THAN_SIGN}function Sde(t){return t===pe.NULL?lt.nullCharacterReference:t>1114111?lt.characterReferenceOutsideUnicodeRange:tk(t)?lt.surrogateCharacterReference:rk(t)?lt.noncharacterCharacterReference:nk(t)||t===pe.CARRIAGE_RETURN?lt.controlCharacterReference:null}class Tde{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=be.DATA,this.returnState=be.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new dde(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new yde(hde,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(lt.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(lt.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=Sde(r);i&&this._err(i,1)}}:void 0)}_err(e,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Er.START_TAG,tagName:"",tagID:D.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Er.END_TAG,tagName:"",tagID:D.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Er.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Er.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(ik(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(lt.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Q_(e.tagName),e.type===Er.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(lt.endTagWithAttributes),e.selfClosing&&this._err(lt.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Er.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Er.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Er.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Er.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=sk(e)?Er.WHITESPACE_CHARACTER:e===pe.NULL?Er.NULL_CHARACTER:Er.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Er.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=be.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?$l.Attribute:$l.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===be.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===be.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===be.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case be.DATA:{this._stateData(e);break}case be.RCDATA:{this._stateRcdata(e);break}case be.RAWTEXT:{this._stateRawtext(e);break}case be.SCRIPT_DATA:{this._stateScriptData(e);break}case be.PLAINTEXT:{this._statePlaintext(e);break}case be.TAG_OPEN:{this._stateTagOpen(e);break}case be.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case be.TAG_NAME:{this._stateTagName(e);break}case be.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case be.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case be.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case be.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case be.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case be.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case be.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case be.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case be.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case be.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case be.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case be.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case be.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case be.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case be.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case be.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case be.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case be.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case be.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case be.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case be.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case be.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case be.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case be.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case be.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case be.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case be.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case be.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case be.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case be.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case be.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case be.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case be.BOGUS_COMMENT:{this._stateBogusComment(e);break}case be.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case be.COMMENT_START:{this._stateCommentStart(e);break}case be.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case be.COMMENT:{this._stateComment(e);break}case be.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case be.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case be.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case be.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case be.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case be.COMMENT_END:{this._stateCommentEnd(e);break}case be.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case be.DOCTYPE:{this._stateDoctype(e);break}case be.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case be.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case be.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case be.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case be.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case be.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case be.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case be.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case be.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case be.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case be.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case be.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case be.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case be.CDATA_SECTION:{this._stateCdataSection(e);break}case be.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case be.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case be.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case be.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case pe.LESS_THAN_SIGN:{this.state=be.TAG_OPEN;break}case pe.AMPERSAND:{this._startCharacterReference();break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this._emitCodePoint(e);break}case pe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case pe.AMPERSAND:{this._startCharacterReference();break}case pe.LESS_THAN_SIGN:{this.state=be.RCDATA_LESS_THAN_SIGN;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this._emitChars(di);break}case pe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case pe.LESS_THAN_SIGN:{this.state=be.RAWTEXT_LESS_THAN_SIGN;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this._emitChars(di);break}case pe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case pe.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_LESS_THAN_SIGN;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this._emitChars(di);break}case pe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case pe.NULL:{this._err(lt.unexpectedNullCharacter),this._emitChars(di);break}case pe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(id(e))this._createStartTagToken(),this.state=be.TAG_NAME,this._stateTagName(e);else switch(e){case pe.EXCLAMATION_MARK:{this.state=be.MARKUP_DECLARATION_OPEN;break}case pe.SOLIDUS:{this.state=be.END_TAG_OPEN;break}case pe.QUESTION_MARK:{this._err(lt.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=be.BOGUS_COMMENT,this._stateBogusComment(e);break}case pe.EOF:{this._err(lt.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(lt.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=be.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(id(e))this._createEndTagToken(),this.state=be.TAG_NAME,this._stateTagName(e);else switch(e){case pe.GREATER_THAN_SIGN:{this._err(lt.missingEndTagName),this.state=be.DATA;break}case pe.EOF:{this._err(lt.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(lt.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=be.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:{this.state=be.BEFORE_ATTRIBUTE_NAME;break}case pe.SOLIDUS:{this.state=be.SELF_CLOSING_START_TAG;break}case pe.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentTagToken();break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),n.tagName+=di;break}case pe.EOF:{this._err(lt.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Z0(e)?V1(e):e)}}_stateRcdataLessThanSign(e){e===pe.SOLIDUS?this.state=be.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=be.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){id(e)?(this.state=be.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=be.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=be.BEFORE_ATTRIBUTE_NAME,!1;case pe.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=be.SELF_CLOSING_START_TAG,!1;case pe.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=be.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=be.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===pe.SOLIDUS?this.state=be.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=be.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){id(e)?(this.state=be.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=be.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=be.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case pe.SOLIDUS:{this.state=be.SCRIPT_DATA_END_TAG_OPEN;break}case pe.EXCLAMATION_MARK:{this.state=be.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=be.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){id(e)?(this.state=be.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=be.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=be.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===pe.HYPHEN_MINUS?(this.state=be.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=be.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===pe.HYPHEN_MINUS?(this.state=be.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=be.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case pe.HYPHEN_MINUS:{this.state=be.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case pe.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this._emitChars(di);break}case pe.EOF:{this._err(lt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case pe.HYPHEN_MINUS:{this.state=be.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case pe.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this.state=be.SCRIPT_DATA_ESCAPED,this._emitChars(di);break}case pe.EOF:{this._err(lt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=be.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case pe.HYPHEN_MINUS:{this._emitChars("-");break}case pe.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case pe.GREATER_THAN_SIGN:{this.state=be.SCRIPT_DATA,this._emitChars(">");break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this.state=be.SCRIPT_DATA_ESCAPED,this._emitChars(di);break}case pe.EOF:{this._err(lt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=be.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===pe.SOLIDUS?this.state=be.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:id(e)?(this._emitChars("<"),this.state=be.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=be.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){id(e)?(this.state=be.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=be.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=be.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(za.SCRIPT,!1)&&SN(this.preprocessor.peek(za.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<za.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=be.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case pe.HYPHEN_MINUS:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case pe.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this._emitChars(di);break}case pe.EOF:{this._err(lt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case pe.HYPHEN_MINUS:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case pe.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(di);break}case pe.EOF:{this._err(lt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case pe.HYPHEN_MINUS:{this._emitChars("-");break}case pe.LESS_THAN_SIGN:{this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case pe.GREATER_THAN_SIGN:{this.state=be.SCRIPT_DATA,this._emitChars(">");break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(di);break}case pe.EOF:{this._err(lt.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===pe.SOLIDUS?(this.state=be.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(za.SCRIPT,!1)&&SN(this.preprocessor.peek(za.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<za.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=be.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=be.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:break;case pe.SOLIDUS:case pe.GREATER_THAN_SIGN:case pe.EOF:{this.state=be.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case pe.EQUALS_SIGN:{this._err(lt.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=be.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=be.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:case pe.SOLIDUS:case pe.GREATER_THAN_SIGN:case pe.EOF:{this._leaveAttrName(),this.state=be.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case pe.EQUALS_SIGN:{this._leaveAttrName(),this.state=be.BEFORE_ATTRIBUTE_VALUE;break}case pe.QUOTATION_MARK:case pe.APOSTROPHE:case pe.LESS_THAN_SIGN:{this._err(lt.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this.currentAttr.name+=di;break}default:this.currentAttr.name+=String.fromCodePoint(Z0(e)?V1(e):e)}}_stateAfterAttributeName(e){switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:break;case pe.SOLIDUS:{this.state=be.SELF_CLOSING_START_TAG;break}case pe.EQUALS_SIGN:{this.state=be.BEFORE_ATTRIBUTE_VALUE;break}case pe.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentTagToken();break}case pe.EOF:{this._err(lt.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=be.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:break;case pe.QUOTATION_MARK:{this.state=be.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case pe.APOSTROPHE:{this.state=be.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case pe.GREATER_THAN_SIGN:{this._err(lt.missingAttributeValue),this.state=be.DATA,this.emitCurrentTagToken();break}default:this.state=be.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case pe.QUOTATION_MARK:{this.state=be.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case pe.AMPERSAND:{this._startCharacterReference();break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this.currentAttr.value+=di;break}case pe.EOF:{this._err(lt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case pe.APOSTROPHE:{this.state=be.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case pe.AMPERSAND:{this._startCharacterReference();break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this.currentAttr.value+=di;break}case pe.EOF:{this._err(lt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:{this._leaveAttrValue(),this.state=be.BEFORE_ATTRIBUTE_NAME;break}case pe.AMPERSAND:{this._startCharacterReference();break}case pe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=be.DATA,this.emitCurrentTagToken();break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),this.currentAttr.value+=di;break}case pe.QUOTATION_MARK:case pe.APOSTROPHE:case pe.LESS_THAN_SIGN:case pe.EQUALS_SIGN:case pe.GRAVE_ACCENT:{this._err(lt.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case pe.EOF:{this._err(lt.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:{this._leaveAttrValue(),this.state=be.BEFORE_ATTRIBUTE_NAME;break}case pe.SOLIDUS:{this._leaveAttrValue(),this.state=be.SELF_CLOSING_START_TAG;break}case pe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=be.DATA,this.emitCurrentTagToken();break}case pe.EOF:{this._err(lt.eofInTag),this._emitEOFToken();break}default:this._err(lt.missingWhitespaceBetweenAttributes),this.state=be.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case pe.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=be.DATA,this.emitCurrentTagToken();break}case pe.EOF:{this._err(lt.eofInTag),this._emitEOFToken();break}default:this._err(lt.unexpectedSolidusInTag),this.state=be.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case pe.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentComment(n);break}case pe.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),n.data+=di;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(za.DASH_DASH,!0)?(this._createCommentToken(za.DASH_DASH.length+1),this.state=be.COMMENT_START):this._consumeSequenceIfMatch(za.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(za.DOCTYPE.length+1),this.state=be.DOCTYPE):this._consumeSequenceIfMatch(za.CDATA_START,!0)?this.inForeignNode?this.state=be.CDATA_SECTION:(this._err(lt.cdataInHtmlContent),this._createCommentToken(za.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=be.BOGUS_COMMENT):this._ensureHibernation()||(this._err(lt.incorrectlyOpenedComment),this._createCommentToken(2),this.state=be.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case pe.HYPHEN_MINUS:{this.state=be.COMMENT_START_DASH;break}case pe.GREATER_THAN_SIGN:{this._err(lt.abruptClosingOfEmptyComment),this.state=be.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=be.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case pe.HYPHEN_MINUS:{this.state=be.COMMENT_END;break}case pe.GREATER_THAN_SIGN:{this._err(lt.abruptClosingOfEmptyComment),this.state=be.DATA,this.emitCurrentComment(n);break}case pe.EOF:{this._err(lt.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=be.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case pe.HYPHEN_MINUS:{this.state=be.COMMENT_END_DASH;break}case pe.LESS_THAN_SIGN:{n.data+="<",this.state=be.COMMENT_LESS_THAN_SIGN;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),n.data+=di;break}case pe.EOF:{this._err(lt.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case pe.EXCLAMATION_MARK:{n.data+="!",this.state=be.COMMENT_LESS_THAN_SIGN_BANG;break}case pe.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=be.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===pe.HYPHEN_MINUS?this.state=be.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=be.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===pe.HYPHEN_MINUS?this.state=be.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=be.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==pe.GREATER_THAN_SIGN&&e!==pe.EOF&&this._err(lt.nestedComment),this.state=be.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case pe.HYPHEN_MINUS:{this.state=be.COMMENT_END;break}case pe.EOF:{this._err(lt.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=be.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case pe.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentComment(n);break}case pe.EXCLAMATION_MARK:{this.state=be.COMMENT_END_BANG;break}case pe.HYPHEN_MINUS:{n.data+="-";break}case pe.EOF:{this._err(lt.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=be.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case pe.HYPHEN_MINUS:{n.data+="--!",this.state=be.COMMENT_END_DASH;break}case pe.GREATER_THAN_SIGN:{this._err(lt.incorrectlyClosedComment),this.state=be.DATA,this.emitCurrentComment(n);break}case pe.EOF:{this._err(lt.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=be.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:{this.state=be.BEFORE_DOCTYPE_NAME;break}case pe.GREATER_THAN_SIGN:{this.state=be.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case pe.EOF:{this._err(lt.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(lt.missingWhitespaceBeforeDoctypeName),this.state=be.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Z0(e))this._createDoctypeToken(String.fromCharCode(V1(e))),this.state=be.DOCTYPE_NAME;else switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:break;case pe.NULL:{this._err(lt.unexpectedNullCharacter),this._createDoctypeToken(di),this.state=be.DOCTYPE_NAME;break}case pe.GREATER_THAN_SIGN:{this._err(lt.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=be.DATA;break}case pe.EOF:{this._err(lt.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=be.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:{this.state=be.AFTER_DOCTYPE_NAME;break}case pe.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentDoctype(n);break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),n.name+=di;break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Z0(e)?V1(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:break;case pe.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentDoctype(n);break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(za.PUBLIC,!1)?this.state=be.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(za.SYSTEM,!1)?this.state=be.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(lt.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:{this.state=be.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case pe.QUOTATION_MARK:{this._err(lt.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=be.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case pe.APOSTROPHE:{this._err(lt.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=be.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case pe.GREATER_THAN_SIGN:{this._err(lt.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=be.DATA,this.emitCurrentDoctype(n);break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(lt.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:break;case pe.QUOTATION_MARK:{n.publicId="",this.state=be.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case pe.APOSTROPHE:{n.publicId="",this.state=be.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case pe.GREATER_THAN_SIGN:{this._err(lt.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=be.DATA,this.emitCurrentDoctype(n);break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(lt.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case pe.QUOTATION_MARK:{this.state=be.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),n.publicId+=di;break}case pe.GREATER_THAN_SIGN:{this._err(lt.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=be.DATA;break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case pe.APOSTROPHE:{this.state=be.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),n.publicId+=di;break}case pe.GREATER_THAN_SIGN:{this._err(lt.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=be.DATA;break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:{this.state=be.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case pe.GREATER_THAN_SIGN:{this.state=be.DATA,this.emitCurrentDoctype(n);break}case pe.QUOTATION_MARK:{this._err(lt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case pe.APOSTROPHE:{this._err(lt.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(lt.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:break;case pe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=be.DATA;break}case pe.QUOTATION_MARK:{n.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case pe.APOSTROPHE:{n.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(lt.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:{this.state=be.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case pe.QUOTATION_MARK:{this._err(lt.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case pe.APOSTROPHE:{this._err(lt.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case pe.GREATER_THAN_SIGN:{this._err(lt.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=be.DATA,this.emitCurrentDoctype(n);break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(lt.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:break;case pe.QUOTATION_MARK:{n.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case pe.APOSTROPHE:{n.systemId="",this.state=be.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case pe.GREATER_THAN_SIGN:{this._err(lt.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=be.DATA,this.emitCurrentDoctype(n);break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(lt.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case pe.QUOTATION_MARK:{this.state=be.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),n.systemId+=di;break}case pe.GREATER_THAN_SIGN:{this._err(lt.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=be.DATA;break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case pe.APOSTROPHE:{this.state=be.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter),n.systemId+=di;break}case pe.GREATER_THAN_SIGN:{this._err(lt.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=be.DATA;break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case pe.SPACE:case pe.LINE_FEED:case pe.TABULATION:case pe.FORM_FEED:break;case pe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=be.DATA;break}case pe.EOF:{this._err(lt.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(lt.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=be.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case pe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=be.DATA;break}case pe.NULL:{this._err(lt.unexpectedNullCharacter);break}case pe.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case pe.RIGHT_SQUARE_BRACKET:{this.state=be.CDATA_SECTION_BRACKET;break}case pe.EOF:{this._err(lt.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===pe.RIGHT_SQUARE_BRACKET?this.state=be.CDATA_SECTION_END:(this._emitChars("]"),this.state=be.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case pe.GREATER_THAN_SIGN:{this.state=be.DATA;break}case pe.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=be.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(pe.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&AN(this.preprocessor.peek(1))?be.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){AN(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===pe.SEMICOLON&&this._err(lt.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const ak=new Set([D.DD,D.DT,D.LI,D.OPTGROUP,D.OPTION,D.P,D.RB,D.RP,D.RT,D.RTC]),TN=new Set([...ak,D.CAPTION,D.COLGROUP,D.TBODY,D.TD,D.TFOOT,D.TH,D.THEAD,D.TR]),c_=new Set([D.APPLET,D.CAPTION,D.HTML,D.MARQUEE,D.OBJECT,D.TABLE,D.TD,D.TEMPLATE,D.TH]),Dde=new Set([...c_,D.OL,D.UL]),Cde=new Set([...c_,D.BUTTON]),DN=new Set([D.ANNOTATION_XML,D.MI,D.MN,D.MO,D.MS,D.MTEXT]),CN=new Set([D.DESC,D.FOREIGN_OBJECT,D.TITLE]),Nde=new Set([D.TR,D.TEMPLATE,D.HTML]),Lde=new Set([D.TBODY,D.TFOOT,D.THEAD,D.TEMPLATE,D.HTML]),Mde=new Set([D.TABLE,D.TEMPLATE,D.HTML]),Pde=new Set([D.TD,D.TH]);class Rde{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=D.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===D.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Rt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Rt.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(QE,Rt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Pde,Rt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Mde,Rt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(Lde,Rt.HTML)}clearBackToTableRowContext(){this.clearBackTo(Nde,Rt.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===D.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===D.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Rt.HTML:{if(i===e)return!0;if(n.has(i))return!1;break}case Rt.SVG:{if(CN.has(i))return!1;break}case Rt.MATHML:{if(DN.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,c_)}hasInListItemScope(e){return this.hasInDynamicScope(e,Dde)}hasInButtonScope(e){return this.hasInDynamicScope(e,Cde)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Rt.HTML:{if(QE.has(n))return!0;if(c_.has(n))return!1;break}case Rt.SVG:{if(CN.has(n))return!1;break}case Rt.MATHML:{if(DN.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Rt.HTML)switch(this.tagIDs[n]){case e:return!0;case D.TABLE:case D.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Rt.HTML)switch(this.tagIDs[e]){case D.TBODY:case D.THEAD:case D.TFOOT:return!0;case D.TABLE:case D.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Rt.HTML)switch(this.tagIDs[n]){case e:return!0;case D.OPTION:case D.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&ak.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&TN.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&TN.has(this.currentTagId);)this.pop()}}const Cx=3;var Xu;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Xu||(Xu={}));const NN={type:Xu.Marker};class Ide{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const u=this.entries[o];if(u.type===Xu.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===s&&this.treeAdapter.getNamespaceURI(l)===a){const d=this.treeAdapter.getAttrList(l);d.length===i&&r.push({idx:o,attrs:d})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<Cx)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<Cx)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(u=>i.get(u.name)===u.value)&&(s+=1,s>=Cx&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(NN)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:Xu.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Xu.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(NN);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===Xu.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===Xu.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===Xu.Element&&n.element===e)}}const sd={createDocument(){return{nodeName:"#document",mode:zo.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};sd.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(sd.isTextNode(n)){n.value+=e;return}}sd.appendChild(t,sd.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&sd.isTextNode(r)?r.value+=e:sd.insertBefore(t,sd.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},ok="html",kde="about:legacy-compat",Fde="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",uk=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Ode=[...uk,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Bde=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),lk=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Ude=[...lk,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function LN(t,e){return e.some(n=>t.startsWith(n))}function jde(t){return t.name===ok&&t.publicId===null&&(t.systemId===null||t.systemId===kde)}function zde(t){if(t.name!==ok)return zo.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===Fde)return zo.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),Bde.has(n))return zo.QUIRKS;let r=e===null?Ode:uk;if(LN(n,r))return zo.QUIRKS;if(r=e===null?lk:Ude,LN(n,r))return zo.LIMITED_QUIRKS}return zo.NO_QUIRKS}const MN={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Hde="definitionurl",Vde="definitionURL",Wde=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),Gde=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Rt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Rt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Rt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Rt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Rt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Rt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Rt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Rt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Rt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Rt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Rt.XMLNS}]]),qde=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),$de=new Set([D.B,D.BIG,D.BLOCKQUOTE,D.BODY,D.BR,D.CENTER,D.CODE,D.DD,D.DIV,D.DL,D.DT,D.EM,D.EMBED,D.H1,D.H2,D.H3,D.H4,D.H5,D.H6,D.HEAD,D.HR,D.I,D.IMG,D.LI,D.LISTING,D.MENU,D.META,D.NOBR,D.OL,D.P,D.PRE,D.RUBY,D.S,D.SMALL,D.SPAN,D.STRONG,D.STRIKE,D.SUB,D.SUP,D.TABLE,D.TT,D.U,D.UL,D.VAR]);function Kde(t){const e=t.tagID;return e===D.FONT&&t.attrs.some(({name:r})=>r===Nh.COLOR||r===Nh.SIZE||r===Nh.FACE)||$de.has(e)}function ck(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===Hde){t.attrs[e].name=Vde;break}}function dk(t){for(let e=0;e<t.attrs.length;e++){const n=Wde.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function sS(t){for(let e=0;e<t.attrs.length;e++){const n=Gde.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function Yde(t){const e=qde.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Q_(t.tagName))}function Xde(t,e){return e===Rt.MATHML&&(t===D.MI||t===D.MO||t===D.MN||t===D.MS||t===D.MTEXT)}function Zde(t,e,n){if(e===Rt.MATHML&&t===D.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Nh.ENCODING){const i=n[r].value.toLowerCase();return i===MN.TEXT_HTML||i===MN.APPLICATION_XML}}return e===Rt.SVG&&(t===D.FOREIGN_OBJECT||t===D.DESC||t===D.TITLE)}function Jde(t,e,n,r){return(!r||r===Rt.HTML)&&Zde(t,e,n)||(!r||r===Rt.MATHML)&&Xde(t,e)}const Qde="hidden",ehe=8,the=3;var Te;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Te||(Te={}));const nhe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},hk=new Set([D.TABLE,D.TBODY,D.TFOOT,D.THEAD,D.TR]),PN={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:sd,onParseError:null};class fk{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=Te.INITIAL,this.originalInsertionMode=Te.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...PN,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Tde(this.options,this),this.activeFormattingElements=new Ide(this.treeAdapter),this.fragmentContextID=r?Q_(this.treeAdapter.getTagName(r)):D.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Rde(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...PN,...n};e??(e=r.treeAdapter.createElement(Ke.TEMPLATE,Rt.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Rt.HTML,[]),s=new this(r,i,e);return s.fragmentContextID===D.TEMPLATE&&s.tmplInsertionModeStack.unshift(Te.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const s=(i=e.location)!==null&&i!==void 0?i:nhe,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(e,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Rt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,Rt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Te.TEXT}switchToPlaintextParsing(){this.insertionMode=Te.TEXT,this.originalInsertionMode=Te.IN_BODY,this.tokenizer.state=Wa.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===Ke.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Rt.HTML))switch(this.fragmentContextID){case D.TITLE:case D.TEXTAREA:{this.tokenizer.state=Wa.RCDATA;break}case D.STYLE:case D.XMP:case D.IFRAME:case D.NOEMBED:case D.NOFRAMES:case D.NOSCRIPT:{this.tokenizer.state=Wa.RAWTEXT;break}case D.SCRIPT:{this.tokenizer.state=Wa.SCRIPT_DATA;break}case D.PLAINTEXT:{this.tokenizer.state=Wa.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,Rt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,Rt.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Ke.HTML,Rt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,D.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:u,endCol:l,endOffset:d}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:u,endCol:l,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),s=n.type===Er.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===D.SVG&&this.treeAdapter.getTagName(n)===Ke.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Rt.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===D.MGLYPH||e.tagID===D.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Rt.HTML)}_processToken(e){switch(e.type){case Er.CHARACTER:{this.onCharacter(e);break}case Er.NULL_CHARACTER:{this.onNullCharacter(e);break}case Er.COMMENT:{this.onComment(e);break}case Er.DOCTYPE:{this.onDoctype(e);break}case Er.START_TAG:{this._processStartTag(e);break}case Er.END_TAG:{this.onEndTag(e);break}case Er.EOF:{this.onEof(e);break}case Er.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return Jde(e,i,s,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===Xu.Marker||this.openElements.contains(i.element)),r=n===-1?e-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Te.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(D.P),this.openElements.popUntilTagNamePopped(D.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case D.TR:{this.insertionMode=Te.IN_ROW;return}case D.TBODY:case D.THEAD:case D.TFOOT:{this.insertionMode=Te.IN_TABLE_BODY;return}case D.CAPTION:{this.insertionMode=Te.IN_CAPTION;return}case D.COLGROUP:{this.insertionMode=Te.IN_COLUMN_GROUP;return}case D.TABLE:{this.insertionMode=Te.IN_TABLE;return}case D.BODY:{this.insertionMode=Te.IN_BODY;return}case D.FRAMESET:{this.insertionMode=Te.IN_FRAMESET;return}case D.SELECT:{this._resetInsertionModeForSelect(e);return}case D.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case D.HTML:{this.insertionMode=this.headElement?Te.AFTER_HEAD:Te.BEFORE_HEAD;return}case D.TD:case D.TH:{if(e>0){this.insertionMode=Te.IN_CELL;return}break}case D.HEAD:{if(e>0){this.insertionMode=Te.IN_HEAD;return}break}}this.insertionMode=Te.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===D.TEMPLATE)break;if(r===D.TABLE){this.insertionMode=Te.IN_SELECT_IN_TABLE;return}}this.insertionMode=Te.IN_SELECT}_isElementCausesFosterParenting(e){return hk.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case D.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Rt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case D.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return Ede[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Pfe(this,e);return}switch(this.insertionMode){case Te.INITIAL:{U0(this,e);break}case Te.BEFORE_HTML:{pm(this,e);break}case Te.BEFORE_HEAD:{mm(this,e);break}case Te.IN_HEAD:{gm(this,e);break}case Te.IN_HEAD_NO_SCRIPT:{vm(this,e);break}case Te.AFTER_HEAD:{_m(this,e);break}case Te.IN_BODY:case Te.IN_CAPTION:case Te.IN_CELL:case Te.IN_TEMPLATE:{mk(this,e);break}case Te.TEXT:case Te.IN_SELECT:case Te.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case Te.IN_TABLE:case Te.IN_TABLE_BODY:case Te.IN_ROW:{Nx(this,e);break}case Te.IN_TABLE_TEXT:{bk(this,e);break}case Te.IN_COLUMN_GROUP:{d_(this,e);break}case Te.AFTER_BODY:{h_(this,e);break}case Te.AFTER_AFTER_BODY:{_v(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Mfe(this,e);return}switch(this.insertionMode){case Te.INITIAL:{U0(this,e);break}case Te.BEFORE_HTML:{pm(this,e);break}case Te.BEFORE_HEAD:{mm(this,e);break}case Te.IN_HEAD:{gm(this,e);break}case Te.IN_HEAD_NO_SCRIPT:{vm(this,e);break}case Te.AFTER_HEAD:{_m(this,e);break}case Te.TEXT:{this._insertCharacters(e);break}case Te.IN_TABLE:case Te.IN_TABLE_BODY:case Te.IN_ROW:{Nx(this,e);break}case Te.IN_COLUMN_GROUP:{d_(this,e);break}case Te.AFTER_BODY:{h_(this,e);break}case Te.AFTER_AFTER_BODY:{_v(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){ew(this,e);return}switch(this.insertionMode){case Te.INITIAL:case Te.BEFORE_HTML:case Te.BEFORE_HEAD:case Te.IN_HEAD:case Te.IN_HEAD_NO_SCRIPT:case Te.AFTER_HEAD:case Te.IN_BODY:case Te.IN_TABLE:case Te.IN_CAPTION:case Te.IN_COLUMN_GROUP:case Te.IN_TABLE_BODY:case Te.IN_ROW:case Te.IN_CELL:case Te.IN_SELECT:case Te.IN_SELECT_IN_TABLE:case Te.IN_TEMPLATE:case Te.IN_FRAMESET:case Te.AFTER_FRAMESET:{ew(this,e);break}case Te.IN_TABLE_TEXT:{j0(this,e);break}case Te.AFTER_BODY:{lhe(this,e);break}case Te.AFTER_AFTER_BODY:case Te.AFTER_AFTER_FRAMESET:{che(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Te.INITIAL:{dhe(this,e);break}case Te.BEFORE_HEAD:case Te.IN_HEAD:case Te.IN_HEAD_NO_SCRIPT:case Te.AFTER_HEAD:{this._err(e,lt.misplacedDoctype);break}case Te.IN_TABLE_TEXT:{j0(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,lt.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?Rfe(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Te.INITIAL:{U0(this,e);break}case Te.BEFORE_HTML:{hhe(this,e);break}case Te.BEFORE_HEAD:{phe(this,e);break}case Te.IN_HEAD:{wu(this,e);break}case Te.IN_HEAD_NO_SCRIPT:{vhe(this,e);break}case Te.AFTER_HEAD:{yhe(this,e);break}case Te.IN_BODY:{ca(this,e);break}case Te.IN_TABLE:{zp(this,e);break}case Te.IN_TABLE_TEXT:{j0(this,e);break}case Te.IN_CAPTION:{mfe(this,e);break}case Te.IN_COLUMN_GROUP:{uS(this,e);break}case Te.IN_TABLE_BODY:{n2(this,e);break}case Te.IN_ROW:{r2(this,e);break}case Te.IN_CELL:{_fe(this,e);break}case Te.IN_SELECT:{Ak(this,e);break}case Te.IN_SELECT_IN_TABLE:{xfe(this,e);break}case Te.IN_TEMPLATE:{Efe(this,e);break}case Te.AFTER_BODY:{Afe(this,e);break}case Te.IN_FRAMESET:{Sfe(this,e);break}case Te.AFTER_FRAMESET:{Dfe(this,e);break}case Te.AFTER_AFTER_BODY:{Nfe(this,e);break}case Te.AFTER_AFTER_FRAMESET:{Lfe(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?Ife(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Te.INITIAL:{U0(this,e);break}case Te.BEFORE_HTML:{fhe(this,e);break}case Te.BEFORE_HEAD:{mhe(this,e);break}case Te.IN_HEAD:{ghe(this,e);break}case Te.IN_HEAD_NO_SCRIPT:{_he(this,e);break}case Te.AFTER_HEAD:{xhe(this,e);break}case Te.IN_BODY:{t2(this,e);break}case Te.TEXT:{sfe(this,e);break}case Te.IN_TABLE:{jm(this,e);break}case Te.IN_TABLE_TEXT:{j0(this,e);break}case Te.IN_CAPTION:{gfe(this,e);break}case Te.IN_COLUMN_GROUP:{vfe(this,e);break}case Te.IN_TABLE_BODY:{tw(this,e);break}case Te.IN_ROW:{wk(this,e);break}case Te.IN_CELL:{yfe(this,e);break}case Te.IN_SELECT:{Sk(this,e);break}case Te.IN_SELECT_IN_TABLE:{bfe(this,e);break}case Te.IN_TEMPLATE:{wfe(this,e);break}case Te.AFTER_BODY:{Dk(this,e);break}case Te.IN_FRAMESET:{Tfe(this,e);break}case Te.AFTER_FRAMESET:{Cfe(this,e);break}case Te.AFTER_AFTER_BODY:{_v(this,e);break}}}onEof(e){switch(this.insertionMode){case Te.INITIAL:{U0(this,e);break}case Te.BEFORE_HTML:{pm(this,e);break}case Te.BEFORE_HEAD:{mm(this,e);break}case Te.IN_HEAD:{gm(this,e);break}case Te.IN_HEAD_NO_SCRIPT:{vm(this,e);break}case Te.AFTER_HEAD:{_m(this,e);break}case Te.IN_BODY:case Te.IN_TABLE:case Te.IN_CAPTION:case Te.IN_COLUMN_GROUP:case Te.IN_TABLE_BODY:case Te.IN_ROW:case Te.IN_CELL:case Te.IN_SELECT:case Te.IN_SELECT_IN_TABLE:{yk(this,e);break}case Te.TEXT:{afe(this,e);break}case Te.IN_TABLE_TEXT:{j0(this,e);break}case Te.IN_TEMPLATE:{Tk(this,e);break}case Te.AFTER_BODY:case Te.IN_FRAMESET:case Te.AFTER_FRAMESET:case Te.AFTER_AFTER_BODY:case Te.AFTER_AFTER_FRAMESET:{oS(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===pe.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case Te.IN_HEAD:case Te.IN_HEAD_NO_SCRIPT:case Te.AFTER_HEAD:case Te.TEXT:case Te.IN_COLUMN_GROUP:case Te.IN_SELECT:case Te.IN_SELECT_IN_TABLE:case Te.IN_FRAMESET:case Te.AFTER_FRAMESET:{this._insertCharacters(e);break}case Te.IN_BODY:case Te.IN_CAPTION:case Te.IN_CELL:case Te.IN_TEMPLATE:case Te.AFTER_BODY:case Te.AFTER_AFTER_BODY:case Te.AFTER_AFTER_FRAMESET:{pk(this,e);break}case Te.IN_TABLE:case Te.IN_TABLE_BODY:case Te.IN_ROW:{Nx(this,e);break}case Te.IN_TABLE_TEXT:{xk(this,e);break}}}}function rhe(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):_k(t,e),n}function ihe(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function she(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let s=0,a=i;a!==n;s++,a=i){i=t.openElements.getCommonAncestor(a);const o=t.activeFormattingElements.getElementEntry(a),u=o&&s>=the;!o||u?(u&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(a)):(a=ahe(t,o),r===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(a,r),r=a)}return r}function ahe(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function ohe(t,e,n){const r=t.treeAdapter.getTagName(e),i=Q_(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const s=t.treeAdapter.getNamespaceURI(e);i===D.TEMPLATE&&s===Rt.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function uhe(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,s,i.tagID)}function aS(t,e){for(let n=0;n<ehe;n++){const r=rhe(t,e);if(!r)break;const i=ihe(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const s=she(t,i,r.element),a=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(s),a&&ohe(t,a,s),uhe(t,i,r)}}function ew(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function lhe(t,e){t._appendCommentNode(e,t.openElements.items[0])}function che(t,e){t._appendCommentNode(e,t.document)}function oS(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],a=t.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&t._setEndLocation(s,e)}}}}function dhe(t,e){t._setDocumentType(e);const n=e.forceQuirks?zo.QUIRKS:zde(e);jde(e)||t._err(e,lt.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=Te.BEFORE_HTML}function U0(t,e){t._err(e,lt.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,zo.QUIRKS),t.insertionMode=Te.BEFORE_HTML,t._processToken(e)}function hhe(t,e){e.tagID===D.HTML?(t._insertElement(e,Rt.HTML),t.insertionMode=Te.BEFORE_HEAD):pm(t,e)}function fhe(t,e){const n=e.tagID;(n===D.HTML||n===D.HEAD||n===D.BODY||n===D.BR)&&pm(t,e)}function pm(t,e){t._insertFakeRootElement(),t.insertionMode=Te.BEFORE_HEAD,t._processToken(e)}function phe(t,e){switch(e.tagID){case D.HTML:{ca(t,e);break}case D.HEAD:{t._insertElement(e,Rt.HTML),t.headElement=t.openElements.current,t.insertionMode=Te.IN_HEAD;break}default:mm(t,e)}}function mhe(t,e){const n=e.tagID;n===D.HEAD||n===D.BODY||n===D.HTML||n===D.BR?mm(t,e):t._err(e,lt.endTagWithoutMatchingOpenElement)}function mm(t,e){t._insertFakeElement(Ke.HEAD,D.HEAD),t.headElement=t.openElements.current,t.insertionMode=Te.IN_HEAD,t._processToken(e)}function wu(t,e){switch(e.tagID){case D.HTML:{ca(t,e);break}case D.BASE:case D.BASEFONT:case D.BGSOUND:case D.LINK:case D.META:{t._appendElement(e,Rt.HTML),e.ackSelfClosing=!0;break}case D.TITLE:{t._switchToTextParsing(e,Wa.RCDATA);break}case D.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Wa.RAWTEXT):(t._insertElement(e,Rt.HTML),t.insertionMode=Te.IN_HEAD_NO_SCRIPT);break}case D.NOFRAMES:case D.STYLE:{t._switchToTextParsing(e,Wa.RAWTEXT);break}case D.SCRIPT:{t._switchToTextParsing(e,Wa.SCRIPT_DATA);break}case D.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Te.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Te.IN_TEMPLATE);break}case D.HEAD:{t._err(e,lt.misplacedStartTagForHeadElement);break}default:gm(t,e)}}function ghe(t,e){switch(e.tagID){case D.HEAD:{t.openElements.pop(),t.insertionMode=Te.AFTER_HEAD;break}case D.BODY:case D.BR:case D.HTML:{gm(t,e);break}case D.TEMPLATE:{Gh(t,e);break}default:t._err(e,lt.endTagWithoutMatchingOpenElement)}}function Gh(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==D.TEMPLATE&&t._err(e,lt.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(D.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,lt.endTagWithoutMatchingOpenElement)}function gm(t,e){t.openElements.pop(),t.insertionMode=Te.AFTER_HEAD,t._processToken(e)}function vhe(t,e){switch(e.tagID){case D.HTML:{ca(t,e);break}case D.BASEFONT:case D.BGSOUND:case D.HEAD:case D.LINK:case D.META:case D.NOFRAMES:case D.STYLE:{wu(t,e);break}case D.NOSCRIPT:{t._err(e,lt.nestedNoscriptInHead);break}default:vm(t,e)}}function _he(t,e){switch(e.tagID){case D.NOSCRIPT:{t.openElements.pop(),t.insertionMode=Te.IN_HEAD;break}case D.BR:{vm(t,e);break}default:t._err(e,lt.endTagWithoutMatchingOpenElement)}}function vm(t,e){const n=e.type===Er.EOF?lt.openElementsLeftAfterEof:lt.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=Te.IN_HEAD,t._processToken(e)}function yhe(t,e){switch(e.tagID){case D.HTML:{ca(t,e);break}case D.BODY:{t._insertElement(e,Rt.HTML),t.framesetOk=!1,t.insertionMode=Te.IN_BODY;break}case D.FRAMESET:{t._insertElement(e,Rt.HTML),t.insertionMode=Te.IN_FRAMESET;break}case D.BASE:case D.BASEFONT:case D.BGSOUND:case D.LINK:case D.META:case D.NOFRAMES:case D.SCRIPT:case D.STYLE:case D.TEMPLATE:case D.TITLE:{t._err(e,lt.abandonedHeadElementChild),t.openElements.push(t.headElement,D.HEAD),wu(t,e),t.openElements.remove(t.headElement);break}case D.HEAD:{t._err(e,lt.misplacedStartTagForHeadElement);break}default:_m(t,e)}}function xhe(t,e){switch(e.tagID){case D.BODY:case D.HTML:case D.BR:{_m(t,e);break}case D.TEMPLATE:{Gh(t,e);break}default:t._err(e,lt.endTagWithoutMatchingOpenElement)}}function _m(t,e){t._insertFakeElement(Ke.BODY,D.BODY),t.insertionMode=Te.IN_BODY,e2(t,e)}function e2(t,e){switch(e.type){case Er.CHARACTER:{mk(t,e);break}case Er.WHITESPACE_CHARACTER:{pk(t,e);break}case Er.COMMENT:{ew(t,e);break}case Er.START_TAG:{ca(t,e);break}case Er.END_TAG:{t2(t,e);break}case Er.EOF:{yk(t,e);break}}}function pk(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function mk(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function bhe(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function Ehe(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function whe(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Rt.HTML),t.insertionMode=Te.IN_FRAMESET)}function Ahe(t,e){t.openElements.hasInButtonScope(D.P)&&t._closePElement(),t._insertElement(e,Rt.HTML)}function She(t,e){t.openElements.hasInButtonScope(D.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&QE.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Rt.HTML)}function The(t,e){t.openElements.hasInButtonScope(D.P)&&t._closePElement(),t._insertElement(e,Rt.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function Dhe(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(D.P)&&t._closePElement(),t._insertElement(e,Rt.HTML),n||(t.formElement=t.openElements.current))}function Che(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===D.LI&&i===D.LI||(n===D.DD||n===D.DT)&&(i===D.DD||i===D.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==D.ADDRESS&&i!==D.DIV&&i!==D.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(D.P)&&t._closePElement(),t._insertElement(e,Rt.HTML)}function Nhe(t,e){t.openElements.hasInButtonScope(D.P)&&t._closePElement(),t._insertElement(e,Rt.HTML),t.tokenizer.state=Wa.PLAINTEXT}function Lhe(t,e){t.openElements.hasInScope(D.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(D.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Rt.HTML),t.framesetOk=!1}function Mhe(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(Ke.A);n&&(aS(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,Rt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Phe(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Rt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Rhe(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(D.NOBR)&&(aS(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Rt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Ihe(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Rt.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function khe(t,e){t.treeAdapter.getDocumentMode(t.document)!==zo.QUIRKS&&t.openElements.hasInButtonScope(D.P)&&t._closePElement(),t._insertElement(e,Rt.HTML),t.framesetOk=!1,t.insertionMode=Te.IN_TABLE}function gk(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Rt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function vk(t){const e=ik(t,Nh.TYPE);return e!=null&&e.toLowerCase()===Qde}function Fhe(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Rt.HTML),vk(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function Ohe(t,e){t._appendElement(e,Rt.HTML),e.ackSelfClosing=!0}function Bhe(t,e){t.openElements.hasInButtonScope(D.P)&&t._closePElement(),t._appendElement(e,Rt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Uhe(t,e){e.tagName=Ke.IMG,e.tagID=D.IMG,gk(t,e)}function jhe(t,e){t._insertElement(e,Rt.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Wa.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Te.TEXT}function zhe(t,e){t.openElements.hasInButtonScope(D.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Wa.RAWTEXT)}function Hhe(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Wa.RAWTEXT)}function RN(t,e){t._switchToTextParsing(e,Wa.RAWTEXT)}function Vhe(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Rt.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Te.IN_TABLE||t.insertionMode===Te.IN_CAPTION||t.insertionMode===Te.IN_TABLE_BODY||t.insertionMode===Te.IN_ROW||t.insertionMode===Te.IN_CELL?Te.IN_SELECT_IN_TABLE:Te.IN_SELECT}function Whe(t,e){t.openElements.currentTagId===D.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Rt.HTML)}function Ghe(t,e){t.openElements.hasInScope(D.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Rt.HTML)}function qhe(t,e){t.openElements.hasInScope(D.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(D.RTC),t._insertElement(e,Rt.HTML)}function $he(t,e){t._reconstructActiveFormattingElements(),ck(e),sS(e),e.selfClosing?t._appendElement(e,Rt.MATHML):t._insertElement(e,Rt.MATHML),e.ackSelfClosing=!0}function Khe(t,e){t._reconstructActiveFormattingElements(),dk(e),sS(e),e.selfClosing?t._appendElement(e,Rt.SVG):t._insertElement(e,Rt.SVG),e.ackSelfClosing=!0}function IN(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Rt.HTML)}function ca(t,e){switch(e.tagID){case D.I:case D.S:case D.B:case D.U:case D.EM:case D.TT:case D.BIG:case D.CODE:case D.FONT:case D.SMALL:case D.STRIKE:case D.STRONG:{Phe(t,e);break}case D.A:{Mhe(t,e);break}case D.H1:case D.H2:case D.H3:case D.H4:case D.H5:case D.H6:{She(t,e);break}case D.P:case D.DL:case D.OL:case D.UL:case D.DIV:case D.DIR:case D.NAV:case D.MAIN:case D.MENU:case D.ASIDE:case D.CENTER:case D.FIGURE:case D.FOOTER:case D.HEADER:case D.HGROUP:case D.DIALOG:case D.DETAILS:case D.ADDRESS:case D.ARTICLE:case D.SEARCH:case D.SECTION:case D.SUMMARY:case D.FIELDSET:case D.BLOCKQUOTE:case D.FIGCAPTION:{Ahe(t,e);break}case D.LI:case D.DD:case D.DT:{Che(t,e);break}case D.BR:case D.IMG:case D.WBR:case D.AREA:case D.EMBED:case D.KEYGEN:{gk(t,e);break}case D.HR:{Bhe(t,e);break}case D.RB:case D.RTC:{Ghe(t,e);break}case D.RT:case D.RP:{qhe(t,e);break}case D.PRE:case D.LISTING:{The(t,e);break}case D.XMP:{zhe(t,e);break}case D.SVG:{Khe(t,e);break}case D.HTML:{bhe(t,e);break}case D.BASE:case D.LINK:case D.META:case D.STYLE:case D.TITLE:case D.SCRIPT:case D.BGSOUND:case D.BASEFONT:case D.TEMPLATE:{wu(t,e);break}case D.BODY:{Ehe(t,e);break}case D.FORM:{Dhe(t,e);break}case D.NOBR:{Rhe(t,e);break}case D.MATH:{$he(t,e);break}case D.TABLE:{khe(t,e);break}case D.INPUT:{Fhe(t,e);break}case D.PARAM:case D.TRACK:case D.SOURCE:{Ohe(t,e);break}case D.IMAGE:{Uhe(t,e);break}case D.BUTTON:{Lhe(t,e);break}case D.APPLET:case D.OBJECT:case D.MARQUEE:{Ihe(t,e);break}case D.IFRAME:{Hhe(t,e);break}case D.SELECT:{Vhe(t,e);break}case D.OPTION:case D.OPTGROUP:{Whe(t,e);break}case D.NOEMBED:case D.NOFRAMES:{RN(t,e);break}case D.FRAMESET:{whe(t,e);break}case D.TEXTAREA:{jhe(t,e);break}case D.NOSCRIPT:{t.options.scriptingEnabled?RN(t,e):IN(t,e);break}case D.PLAINTEXT:{Nhe(t,e);break}case D.COL:case D.TH:case D.TD:case D.TR:case D.HEAD:case D.FRAME:case D.TBODY:case D.TFOOT:case D.THEAD:case D.CAPTION:case D.COLGROUP:break;default:IN(t,e)}}function Yhe(t,e){if(t.openElements.hasInScope(D.BODY)&&(t.insertionMode=Te.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function Xhe(t,e){t.openElements.hasInScope(D.BODY)&&(t.insertionMode=Te.AFTER_BODY,Dk(t,e))}function Zhe(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function Jhe(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(D.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(D.FORM):n&&t.openElements.remove(n))}function Qhe(t){t.openElements.hasInButtonScope(D.P)||t._insertFakeElement(Ke.P,D.P),t._closePElement()}function efe(t){t.openElements.hasInListItemScope(D.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(D.LI),t.openElements.popUntilTagNamePopped(D.LI))}function tfe(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function nfe(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function rfe(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function ife(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(Ke.BR,D.BR),t.openElements.pop(),t.framesetOk=!1}function _k(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const s=t.openElements.items[i],a=t.openElements.tagIDs[i];if(r===a&&(r!==D.UNKNOWN||t.treeAdapter.getTagName(s)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(s,a))break}}function t2(t,e){switch(e.tagID){case D.A:case D.B:case D.I:case D.S:case D.U:case D.EM:case D.TT:case D.BIG:case D.CODE:case D.FONT:case D.NOBR:case D.SMALL:case D.STRIKE:case D.STRONG:{aS(t,e);break}case D.P:{Qhe(t);break}case D.DL:case D.UL:case D.OL:case D.DIR:case D.DIV:case D.NAV:case D.PRE:case D.MAIN:case D.MENU:case D.ASIDE:case D.BUTTON:case D.CENTER:case D.FIGURE:case D.FOOTER:case D.HEADER:case D.HGROUP:case D.DIALOG:case D.ADDRESS:case D.ARTICLE:case D.DETAILS:case D.SEARCH:case D.SECTION:case D.SUMMARY:case D.LISTING:case D.FIELDSET:case D.BLOCKQUOTE:case D.FIGCAPTION:{Zhe(t,e);break}case D.LI:{efe(t);break}case D.DD:case D.DT:{tfe(t,e);break}case D.H1:case D.H2:case D.H3:case D.H4:case D.H5:case D.H6:{nfe(t);break}case D.BR:{ife(t);break}case D.BODY:{Yhe(t,e);break}case D.HTML:{Xhe(t,e);break}case D.FORM:{Jhe(t);break}case D.APPLET:case D.OBJECT:case D.MARQUEE:{rfe(t,e);break}case D.TEMPLATE:{Gh(t,e);break}default:_k(t,e)}}function yk(t,e){t.tmplInsertionModeStack.length>0?Tk(t,e):oS(t,e)}function sfe(t,e){var n;e.tagID===D.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function afe(t,e){t._err(e,lt.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Nx(t,e){if(t.openElements.currentTagId!==void 0&&hk.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Te.IN_TABLE_TEXT,e.type){case Er.CHARACTER:{bk(t,e);break}case Er.WHITESPACE_CHARACTER:{xk(t,e);break}}else fg(t,e)}function ofe(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Rt.HTML),t.insertionMode=Te.IN_CAPTION}function ufe(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Rt.HTML),t.insertionMode=Te.IN_COLUMN_GROUP}function lfe(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Ke.COLGROUP,D.COLGROUP),t.insertionMode=Te.IN_COLUMN_GROUP,uS(t,e)}function cfe(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Rt.HTML),t.insertionMode=Te.IN_TABLE_BODY}function dfe(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Ke.TBODY,D.TBODY),t.insertionMode=Te.IN_TABLE_BODY,n2(t,e)}function hfe(t,e){t.openElements.hasInTableScope(D.TABLE)&&(t.openElements.popUntilTagNamePopped(D.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function ffe(t,e){vk(e)?t._appendElement(e,Rt.HTML):fg(t,e),e.ackSelfClosing=!0}function pfe(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Rt.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function zp(t,e){switch(e.tagID){case D.TD:case D.TH:case D.TR:{dfe(t,e);break}case D.STYLE:case D.SCRIPT:case D.TEMPLATE:{wu(t,e);break}case D.COL:{lfe(t,e);break}case D.FORM:{pfe(t,e);break}case D.TABLE:{hfe(t,e);break}case D.TBODY:case D.TFOOT:case D.THEAD:{cfe(t,e);break}case D.INPUT:{ffe(t,e);break}case D.CAPTION:{ofe(t,e);break}case D.COLGROUP:{ufe(t,e);break}default:fg(t,e)}}function jm(t,e){switch(e.tagID){case D.TABLE:{t.openElements.hasInTableScope(D.TABLE)&&(t.openElements.popUntilTagNamePopped(D.TABLE),t._resetInsertionMode());break}case D.TEMPLATE:{Gh(t,e);break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:case D.TBODY:case D.TD:case D.TFOOT:case D.TH:case D.THEAD:case D.TR:break;default:fg(t,e)}}function fg(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,e2(t,e),t.fosterParentingEnabled=n}function xk(t,e){t.pendingCharacterTokens.push(e)}function bk(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function j0(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)fg(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const Ek=new Set([D.CAPTION,D.COL,D.COLGROUP,D.TBODY,D.TD,D.TFOOT,D.TH,D.THEAD,D.TR]);function mfe(t,e){const n=e.tagID;Ek.has(n)?t.openElements.hasInTableScope(D.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(D.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Te.IN_TABLE,zp(t,e)):ca(t,e)}function gfe(t,e){const n=e.tagID;switch(n){case D.CAPTION:case D.TABLE:{t.openElements.hasInTableScope(D.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(D.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Te.IN_TABLE,n===D.TABLE&&jm(t,e));break}case D.BODY:case D.COL:case D.COLGROUP:case D.HTML:case D.TBODY:case D.TD:case D.TFOOT:case D.TH:case D.THEAD:case D.TR:break;default:t2(t,e)}}function uS(t,e){switch(e.tagID){case D.HTML:{ca(t,e);break}case D.COL:{t._appendElement(e,Rt.HTML),e.ackSelfClosing=!0;break}case D.TEMPLATE:{wu(t,e);break}default:d_(t,e)}}function vfe(t,e){switch(e.tagID){case D.COLGROUP:{t.openElements.currentTagId===D.COLGROUP&&(t.openElements.pop(),t.insertionMode=Te.IN_TABLE);break}case D.TEMPLATE:{Gh(t,e);break}case D.COL:break;default:d_(t,e)}}function d_(t,e){t.openElements.currentTagId===D.COLGROUP&&(t.openElements.pop(),t.insertionMode=Te.IN_TABLE,t._processToken(e))}function n2(t,e){switch(e.tagID){case D.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Rt.HTML),t.insertionMode=Te.IN_ROW;break}case D.TH:case D.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(Ke.TR,D.TR),t.insertionMode=Te.IN_ROW,r2(t,e);break}case D.CAPTION:case D.COL:case D.COLGROUP:case D.TBODY:case D.TFOOT:case D.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Te.IN_TABLE,zp(t,e));break}default:zp(t,e)}}function tw(t,e){const n=e.tagID;switch(e.tagID){case D.TBODY:case D.TFOOT:case D.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Te.IN_TABLE);break}case D.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Te.IN_TABLE,jm(t,e));break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:case D.TD:case D.TH:case D.TR:break;default:jm(t,e)}}function r2(t,e){switch(e.tagID){case D.TH:case D.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Rt.HTML),t.insertionMode=Te.IN_CELL,t.activeFormattingElements.insertMarker();break}case D.CAPTION:case D.COL:case D.COLGROUP:case D.TBODY:case D.TFOOT:case D.THEAD:case D.TR:{t.openElements.hasInTableScope(D.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Te.IN_TABLE_BODY,n2(t,e));break}default:zp(t,e)}}function wk(t,e){switch(e.tagID){case D.TR:{t.openElements.hasInTableScope(D.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Te.IN_TABLE_BODY);break}case D.TABLE:{t.openElements.hasInTableScope(D.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Te.IN_TABLE_BODY,tw(t,e));break}case D.TBODY:case D.TFOOT:case D.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(D.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Te.IN_TABLE_BODY,tw(t,e));break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:case D.TD:case D.TH:break;default:jm(t,e)}}function _fe(t,e){const n=e.tagID;Ek.has(n)?(t.openElements.hasInTableScope(D.TD)||t.openElements.hasInTableScope(D.TH))&&(t._closeTableCell(),r2(t,e)):ca(t,e)}function yfe(t,e){const n=e.tagID;switch(n){case D.TD:case D.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Te.IN_ROW);break}case D.TABLE:case D.TBODY:case D.TFOOT:case D.THEAD:case D.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),wk(t,e));break}case D.BODY:case D.CAPTION:case D.COL:case D.COLGROUP:case D.HTML:break;default:t2(t,e)}}function Ak(t,e){switch(e.tagID){case D.HTML:{ca(t,e);break}case D.OPTION:{t.openElements.currentTagId===D.OPTION&&t.openElements.pop(),t._insertElement(e,Rt.HTML);break}case D.OPTGROUP:{t.openElements.currentTagId===D.OPTION&&t.openElements.pop(),t.openElements.currentTagId===D.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Rt.HTML);break}case D.HR:{t.openElements.currentTagId===D.OPTION&&t.openElements.pop(),t.openElements.currentTagId===D.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Rt.HTML),e.ackSelfClosing=!0;break}case D.INPUT:case D.KEYGEN:case D.TEXTAREA:case D.SELECT:{t.openElements.hasInSelectScope(D.SELECT)&&(t.openElements.popUntilTagNamePopped(D.SELECT),t._resetInsertionMode(),e.tagID!==D.SELECT&&t._processStartTag(e));break}case D.SCRIPT:case D.TEMPLATE:{wu(t,e);break}}}function Sk(t,e){switch(e.tagID){case D.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===D.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===D.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===D.OPTGROUP&&t.openElements.pop();break}case D.OPTION:{t.openElements.currentTagId===D.OPTION&&t.openElements.pop();break}case D.SELECT:{t.openElements.hasInSelectScope(D.SELECT)&&(t.openElements.popUntilTagNamePopped(D.SELECT),t._resetInsertionMode());break}case D.TEMPLATE:{Gh(t,e);break}}}function xfe(t,e){const n=e.tagID;n===D.CAPTION||n===D.TABLE||n===D.TBODY||n===D.TFOOT||n===D.THEAD||n===D.TR||n===D.TD||n===D.TH?(t.openElements.popUntilTagNamePopped(D.SELECT),t._resetInsertionMode(),t._processStartTag(e)):Ak(t,e)}function bfe(t,e){const n=e.tagID;n===D.CAPTION||n===D.TABLE||n===D.TBODY||n===D.TFOOT||n===D.THEAD||n===D.TR||n===D.TD||n===D.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(D.SELECT),t._resetInsertionMode(),t.onEndTag(e)):Sk(t,e)}function Efe(t,e){switch(e.tagID){case D.BASE:case D.BASEFONT:case D.BGSOUND:case D.LINK:case D.META:case D.NOFRAMES:case D.SCRIPT:case D.STYLE:case D.TEMPLATE:case D.TITLE:{wu(t,e);break}case D.CAPTION:case D.COLGROUP:case D.TBODY:case D.TFOOT:case D.THEAD:{t.tmplInsertionModeStack[0]=Te.IN_TABLE,t.insertionMode=Te.IN_TABLE,zp(t,e);break}case D.COL:{t.tmplInsertionModeStack[0]=Te.IN_COLUMN_GROUP,t.insertionMode=Te.IN_COLUMN_GROUP,uS(t,e);break}case D.TR:{t.tmplInsertionModeStack[0]=Te.IN_TABLE_BODY,t.insertionMode=Te.IN_TABLE_BODY,n2(t,e);break}case D.TD:case D.TH:{t.tmplInsertionModeStack[0]=Te.IN_ROW,t.insertionMode=Te.IN_ROW,r2(t,e);break}default:t.tmplInsertionModeStack[0]=Te.IN_BODY,t.insertionMode=Te.IN_BODY,ca(t,e)}}function wfe(t,e){e.tagID===D.TEMPLATE&&Gh(t,e)}function Tk(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(D.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):oS(t,e)}function Afe(t,e){e.tagID===D.HTML?ca(t,e):h_(t,e)}function Dk(t,e){var n;if(e.tagID===D.HTML){if(t.fragmentContext||(t.insertionMode=Te.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===D.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else h_(t,e)}function h_(t,e){t.insertionMode=Te.IN_BODY,e2(t,e)}function Sfe(t,e){switch(e.tagID){case D.HTML:{ca(t,e);break}case D.FRAMESET:{t._insertElement(e,Rt.HTML);break}case D.FRAME:{t._appendElement(e,Rt.HTML),e.ackSelfClosing=!0;break}case D.NOFRAMES:{wu(t,e);break}}}function Tfe(t,e){e.tagID===D.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==D.FRAMESET&&(t.insertionMode=Te.AFTER_FRAMESET))}function Dfe(t,e){switch(e.tagID){case D.HTML:{ca(t,e);break}case D.NOFRAMES:{wu(t,e);break}}}function Cfe(t,e){e.tagID===D.HTML&&(t.insertionMode=Te.AFTER_AFTER_FRAMESET)}function Nfe(t,e){e.tagID===D.HTML?ca(t,e):_v(t,e)}function _v(t,e){t.insertionMode=Te.IN_BODY,e2(t,e)}function Lfe(t,e){switch(e.tagID){case D.HTML:{ca(t,e);break}case D.NOFRAMES:{wu(t,e);break}}}function Mfe(t,e){e.chars=di,t._insertCharacters(e)}function Pfe(t,e){t._insertCharacters(e),t.framesetOk=!1}function Ck(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Rt.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function Rfe(t,e){if(Kde(e))Ck(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===Rt.MATHML?ck(e):r===Rt.SVG&&(Yde(e),dk(e)),sS(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function Ife(t,e){if(e.tagID===D.P||e.tagID===D.BR){Ck(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===Rt.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}Ke.AREA,Ke.BASE,Ke.BASEFONT,Ke.BGSOUND,Ke.BR,Ke.COL,Ke.EMBED,Ke.FRAME,Ke.HR,Ke.IMG,Ke.INPUT,Ke.KEYGEN,Ke.LINK,Ke.META,Ke.PARAM,Ke.SOURCE,Ke.TRACK,Ke.WBR;function kfe(t,e){return fk.parse(t,e)}function Ffe(t,e,n){typeof t=="string"&&(n=e,e=t,t=null);const r=fk.getFragmentParser(t,n);return r.tokenizer.write(e,!0),r.getFragment()}const Ofe={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},Bfe="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",Ufe=/-[a-z]/g,jfe=/%c(?:([-+])(\d+))?/g,zfe=/%x/g,Hfe={2:!0,1:!1,0:null},Vfe={};function Wfe(t,e){const n=e||Vfe,r=n.onerror,i=t instanceof ME?t:new ME(t),s=n.fragment?Ffe:kfe,a=String(i),o=s(a,{sourceCodeLocationInfo:!0,onParseError:n.onerror?u:null,scriptingEnabled:!1});return ide(o,{file:i,space:n.space,verbose:n.verbose});function u(l){const d=l.code,f=Gfe(d),m=n[f],p=m??!0,_=typeof p=="number"?p:p?1:0;if(_){const y=Ofe[f],v=new wa(E(y.reason),{place:{start:{line:l.startLine,column:l.startCol,offset:l.startOffset},end:{line:l.endLine,column:l.endCol,offset:l.endOffset}},ruleId:d,source:"hast-util-from-html"});i.path&&(v.file=i.path,v.name=i.path+":"+v.name),v.fatal=Hfe[_],v.note=E(y.description),v.url=y.url===!1?void 0:Bfe+d,r(v)}function E(y){return y.replace(jfe,v).replace(zfe,S);function v(T,L,I){const O=(I?Number.parseInt(I,10):0)*(L==="-"?-1:1),B=a.charAt(l.startOffset+O);return $fe(B)}function S(){return Kfe(a.charCodeAt(l.startOffset))}}}}function Gfe(t){return t.replace(Ufe,qfe)}function qfe(t){return t.charAt(1).toUpperCase()}function $fe(t){return t==="`"?"` ` `":t}function Kfe(t){return"0x"+t.toString(16).toUpperCase()}function Yfe(t){const e=this,{emitParseErrors:n,...r}={...e.data("settings"),...t};e.parser=i;function i(s,a){return Wfe(s,{...r,onerror:n?function(o){a.path&&(o.name=a.path+":"+o.name,o.file=a.path),a.messages.push(o)}:void 0})}}function J0(t){return t?Object.hasOwn(t,"tokenColors"):!1}function bu(t){return t?t.type==="element":!1}function yp(t){return t?t.type==="text":!1}function kN(t,e){return t.tagName==="code"&&bu(e)&&e.tagName!=="pre"||t.tagName==="inlineCode"}function FN(t){return t.tagName==="pre"&&Array.isArray(t.children)&&t.children.length===1&&bu(t.children[0])&&t.children[0].tagName==="code"}function ON(t,e){let r=t.replace(/\\\\/g,"\0");return r=r.replace(/\\({:[a-zA-Z.-]+})$/,"$1"),r.match(/{:([a-zA-Z.-]+)}$/)?.[1]?.replace(new RegExp("\0","g"),"\\")||e}function BN(t,e,n){let r=e(t.data?.meta??t.properties?.metastring??"");const i=r.match(/title="([^"]*)"/),s=i?.[1]??null;r=r.replace(i?.[0]??"","");const a=r.match(/caption="([^"]*)"/),o=a?.[1]??null;r=r.replace(a?.[0]??"","");let u=n;return t.properties&&Array.isArray(t.properties.className)&&typeof t.properties.className[0]=="string"&&t.properties.className[0].startsWith("language-")&&(u=t.properties.className[0].replace("language-","")),{title:s,caption:o,lang:u,meta:r}}function Nk(t){return J0(t)?[t.name]:typeof t=="string"?[t]:Object.values(t).map(e=>typeof e=="string"?e:e.name)}function UN(t){if(Array.isArray(t.properties?.className)&&t.properties.className.includes("line")){const e=t.properties.className.filter(n=>n!=="line");t.properties.className=e.length>0?e:void 0,t.properties["data-line"]=""}}function Xfe(t,e){const n=e.match(/\{[^}]+\}#[a-zA-Z0-9]+/g);if(!n)return null;for(const r of n){const[i,s]=r.split("#");if(!(i&&s))continue;const o=i.match(/\{(.*?)\}/)?.[1];if(o&&XE(o).includes(t))return s}return null}function Zfe({elements:t,elementToWrap:e,innerString:n,rightString:r,leftString:i,rest:s,nextElementContinues:a,index:o,ignoreChars:u}){if(bu(e)&&e.children?.[0]?.type!=="text"||u)return[e,o];let l=o;const d=e.children[0];yp(d)&&(d.value=n);let f=r;const m=i;return s.length>0&&(f+=s.map(p=>p===""?n:n+p).join("")),m.length>0&&t.splice(l,0,{...e,properties:{...e.properties},children:[{type:"text",value:m}]}),f.length>0&&!a&&(l=m.length>0?l+2:l+1,t.splice(l,0,{...e,properties:{...e.properties},children:[{type:"text",value:f}]})),[e,o+1]}function yv({elements:t,nextIndex:e,remainingPart:n}){if(n==="")return!1;const r=t[e],i=Q0(r);if(!i)return!1;const s=i.startsWith(n)||n.startsWith(i);return f_(i,n)===n&&i.startsWith(n)?!0:s?yv({elements:t,nextIndex:e+1,remainingPart:n.replace(i,"")}):!1}function Q0(t){if(t)return gp(t)}function f_(t,e){return e.length===0?"":t.endsWith(e)||t.indexOf(e)>=0?e:f_(t,e.substring(0,e.length-1))}function Lx(t){return t.split("").reverse().join("")}function Jfe(t,e,n=0,r=!1){const i=[];let s="";if(t.children){const a=t.children;for(let o=n;o<a.length;o++){const u=s?e.replace(s,""):e;if(u==="")return i;const l=a[o];if(!l||l.type!=="element"||Object.hasOwn(l.properties??{},"rehype-pretty-code-visited"))continue;const d=Q0(l)||"";if(d===e||s+d===e)return i.push({element:l,index:o}),i;if(e.startsWith(s+d)&&yv({elements:a,nextIndex:o+1,remainingPart:u.replace(d,"")})){i.push({element:a[o],index:o}),s+=d;continue}const f=f_(d,u);if(f&&u.startsWith(f)){const p=u.replace(f,"");if(p!==""&&Q0(a[o+1])&&!yv({elements:a,nextIndex:o+1,remainingPart:p}))continue;const _=d.split(f),[E,y,...v]=_;if(y||E||v.length>0){const S=d+(Q0(a[o+1])?Q0(a[o+1]):""),T=f_(S,u),L=S.indexOf(T);if(e.endsWith(f)||e.startsWith(f)){const I=y.replace(f,""),O=f,B=d.substring(0,L),V=yv({elements:a,nextIndex:o+1,remainingPart:p}),[M,R]=Zfe({elements:a,elementToWrap:a[o],innerString:O,rightString:I,leftString:B,rest:v,nextElementContinues:V,index:o,ignoreChars:r});s+=f,i.push({element:M,index:R})}}}}}return i}function Qfe(t,e,n,r,i){if(!e||e.length===0)return;const[{element:s}]=e;if(r){s.properties&&(s.properties["rehype-pretty-code-visited"]="");return}if(e.length>1){t.children.splice(e[0].index,e.length,{type:"element",tagName:"mark",properties:{"data-highlighted-chars-mark":""},children:e.map(({element:l})=>l)});const a=t.children[e[0].index];if(!bu(a))return;const o=a.children.reduce((l,d)=>{const f=bu(d)?d.children[0]:null;return yp(f)?l+f.value:l},""),u=n.idsMap.get(o);a.properties=a.properties||{},a.properties["data-highlighted-chars"]="",a.properties["data-chars-id"]=u,a.tagName="mark",i?.(a,u)}else{const[{element:a}]=e,o=a.children[0];if(!yp(o))return;const u=n.idsMap.get(o.value);a.properties=a.properties||{},a.properties["rehype-pretty-code-visited"]="",a.properties["data-highlighted-chars"]="",a.properties["data-chars-id"]=u,a.tagName="mark",a.children=[{type:"element",tagName:"span",properties:{style:a.properties.style},children:a.children}],a.properties.style=void 0,i?.(a,u)}}function epe(t,e,n,r){const{ranges:i=[]}=n,s=gp(t);e.forEach((a,o)=>{if(a&&s?.includes(a)){let u=gp(t),l=0;for(;u.includes(a);){const d=i[o]||[],f=`${a}-${o}`;n.counterMap.set(f,(n.counterMap.get(f)||0)+1);const m=d.length>0&&!d.includes(n.counterMap.get(f)??-1),p=Jfe(t,a,l,m);if(p.length===0)break;Qfe(t,p,n,m,r),l=Math.max(p[p.length-1].index-2,0),u=t.children.map(_=>{const E=bu(_)?_.properties:{};if(E&&!Object.hasOwn(E,"rehype-pretty-code-visited")&&!Object.hasOwn(E,"data-highlighted-chars-mark"))return gp(_)}).join("")}}}),t.children.forEach(a=>{bu(a)&&Object.hasOwn(a.properties,"rehype-pretty-code-visited")&&(a.properties["rehype-pretty-code-visited"]=void 0)})}function jN(t,{tree:e,lang:n,title:r,caption:i,inline:s=!1,keepBackground:a=!0,grid:o=!0,lineNumbersMaxDigits:u=1,theme:l,onVisitTitle:d,onVisitCaption:f}){t.tagName=s?"span":"figure",t.properties["data-rehype-pretty-code-figure"]="";const m=t.children[0]?.data;t.children=[e].map(p=>{const _=p.children[0],E=Nk(l),y=E.join(" ");if(!(bu(_)&&_.properties))return[];const v=_.children[0];if(Array.isArray(_.properties.className)&&_.properties.className.includes("shiki")){const T=_.properties.className.filter(L=>L!=="shiki"&&L!=="shiki-themes"&&(typeof L=="string"?!E.includes(L):!0));_.properties.className=T.length>0?T:void 0}if(a||(_.properties.style=void 0),_.properties["data-language"]=n,_.properties["data-theme"]=y,!(bu(v)&&v.properties))return[];if(v.properties["data-language"]=n,v.properties["data-theme"]=y,v.data=m,s)return a&&(v.properties.style=_.properties.style),v;o&&(v.properties.style?v.properties.style+="display: grid;":v.properties.style="display: grid;"),Object.hasOwn(v.properties,"data-line-numbers")&&(v.properties["data-line-numbers-max-digits"]=u.toString().length);const S=[];if(r){const T={type:"element",tagName:i?"div":"figcaption",properties:{"data-rehype-pretty-code-title":"","data-language":n,"data-theme":y},children:[{type:"text",value:r}]};d?.(T),S.push(T)}if(S.push(_),i){const T={type:"element",tagName:"figcaption",properties:{"data-rehype-pretty-code-caption":"","data-language":n,"data-theme":y},children:[{type:"text",value:i}]};f?.(T),S.push(T)}return S}).flatMap(p=>p)}var zN=new Map,qf=H_().use(Yfe,{fragment:!0}),tpe=npe;function npe(t={}){const{grid:e=!0,theme:n="github-dark-dimmed",keepBackground:r=!0,defaultLang:i="",tokensMap:s={},filterMetaString:a=T=>T,getHighlighter:o=Wce,transformers:u,onVisitLine:l,onVisitHighlightedLine:d,onVisitHighlightedChars:f,onVisitTitle:m,onVisitCaption:p}=t,_=JSON.stringify(n);let E=zN.get(_);E||(E=o({themes:J0(n)||typeof n=="string"?[n]:Object.values(n),langs:["plaintext"]}),zN.set(_,E));const y=typeof i=="string"?i:i.block||"",v=typeof i=="string"?i:i.inline||"";function S(T,L){const I=!J0(n)&&typeof n=="object"?n:null,O=J0(n)||typeof n=="string"?n:null;return{lang:T,meta:{__raw:L},transformers:u,defaultColor:typeof n=="string"?n:!1,...I?{themes:I}:{theme:O}}}return async T=>{const L=new Set,I=await E;if(I){Vo(T,"element",(O,B,V)=>{if(kN(O,V)){const M=O.children[0];if(!yp(M))return;const R=M.value;if(!R)return;const k=ON(R,v);k&&k[0]!=="."&&L.add(k)}if(FN(O)){const M=O.children[0];if(!bu(M))return;const{lang:R}=BN(M,a,y);R&&L.add(R)}});try{await Promise.allSettled(Array.from(L).map(O=>{try{return I.loadLanguage(O)}catch(B){return Promise.reject(B)}}))}catch(O){console.error(O)}Vo(T,"element",(O,B,V)=>{if(kN(O,V)){const M=O.children[0];if(!yp(M))return;const R=M.value;if(!R)return;const k=/\\{:[a-zA-Z.-]+}$/.test(R),H=k?R.replace(/\\({:[a-zA-Z.-]+})$/,"$1"):R.replace(/{:[a-zA-Z.-]+}$/,"");M.value=H;const q=k?"":ON(R,v),Y=q[0]!==".";if(!q)return;let ae;if(Y)try{ae=qf.parse(I.codeToHtml(H,S(q)))}catch{ae=qf.parse(I.codeToHtml(H,S("plaintext")))}else{const he=Nk(n),oe=typeof n=="object"&&!J0(n),Q=oe?Object.keys(n):null,xe=he.map(W=>W?I.getTheme(W).settings.find(({scope:ee})=>ee?.includes(s[q.slice(1)]??q.slice(1)))?.settings.foreground??"inherit":"inherit");oe&&Q?ae=qf.parse(`<pre><code><span style="${Q.map((W,ee)=>`--shiki-${W}:${xe[ee]}`).join(";")}">${H}</span></code></pre>`):ae=qf.parse(`<pre><code><span style="color:${xe[0]}">${H}</span></code></pre>`)}Vo(ae,"element",UN),jN(O,{tree:ae,lang:Y?q:".token",inline:!0,keepBackground:r,theme:n})}if(FN(O)){const M=O.children[0];if(!bu(M))return;const R=M.children[0],{title:k,caption:H,meta:q,lang:Y}=BN(M,a,y);if(!Y||Y==="math")return;const ae=[];if(q){const Z=q.matchAll(/\B\{(.*?)\}\B/g);for(const de of Z)de[1]&&ae.push(...XE(de[1]))}let he=0;const oe=new Map,Q=[],xe=[],W=new Map,ee=q?[...q.matchAll(/(?<delimiter>["/])(?<chars>.*?)\k<delimiter>(?<charsIdAndOrRange>\S*)/g)]:void 0;if(ae.forEach(Z=>{const de=Xfe(Z,q);de&&oe.set(Z,de)}),Array.isArray(ee)&&ee.forEach(Z=>{const{chars:de,charsIdAndOrRange:Ae}=Z.groups;if(Q.push(de),Ae==="")xe.push([]);else{const[Pe,ke]=Ae.split("#");Pe&&xe.push(XE(Pe)),ke&&W.set(de,ke)}}),!yp(R))return;const z=R.value.replace(/\n$/,"");let U;try{U=qf.parse(I.codeToHtml(z,S(Y,q)))}catch{U=qf.parse(I.codeToHtml(z,S("plaintext",q)))}let ce=0;const _e={ranges:xe,idsMap:W,counterMap:new Map};Vo(U,"element",Z=>{if(Z.tagName==="code"&&/srebmuNeniLwohs(?!(.*)(\/))/.test(Lx(q))){Z.properties&&(Z.properties["data-line-numbers"]="");const Ae=Lx(q).match(/(?:\}(\d+){)?srebmuNeniLwohs(?!(.*)(\/))/)?.[1];if(Ae){const Pe=Ae?Number(Lx(Ae))-1:0;he=Pe,Z.properties&&(Z.properties.style=`counter-set: line ${Pe};`)}}if(Array.isArray(Z.properties?.className)&&Z.properties?.className?.[0]==="line"){if(e&&gp(Z)===""&&(Z.children=[{type:"text",value:" "}]),UN(Z),l?.(Z),ce++,ae.includes(ce)){Z.properties["data-highlighted-line"]="";const de=oe.get(ce);de&&(Z.properties["data-highlighted-line-id"]=de),d?.(Z,de)}epe(Z,Q,_e,f),he++}}),jN(O,{tree:U,lang:Y,title:k,caption:H,keepBackground:r,grid:e,lineNumbersMaxDigits:he,theme:n,onVisitTitle:m,onVisitCaption:p})}})}}}const ah=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],ad={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...ah,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...ah],h2:[["className","sr-only"]],img:[...ah,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...ah,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...ah],table:[...ah],ul:[...ah,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},od={}.hasOwnProperty;function rpe(t,e){let n={type:"root",children:[]};const r={schema:e?{...ad,...e}:ad,stack:[]},i=Lk(r,t);return i&&(Array.isArray(i)?i.length===1?n=i[0]:n.children=i:n=i),n}function Lk(t,e){if(e&&typeof e=="object"){const n=e;switch(typeof n.type=="string"?n.type:""){case"comment":return ipe(t,n);case"doctype":return spe(t,n);case"element":return ape(t,n);case"root":return ope(t,n);case"text":return upe(t,n)}}}function ipe(t,e){if(t.schema.allowComments){const n=typeof e.value=="string"?e.value:"",r=n.indexOf("-->"),s={type:"comment",value:r<0?n:n.slice(0,r)};return pg(s,e),s}}function spe(t,e){if(t.schema.allowDoctypes){const n={type:"doctype"};return pg(n,e),n}}function ape(t,e){const n=typeof e.tagName=="string"?e.tagName:"";t.stack.push(n);const r=Mk(t,e.children),i=lpe(t,e.properties);t.stack.pop();let s=!1;if(n&&n!=="*"&&(!t.schema.tagNames||t.schema.tagNames.includes(n))&&(s=!0,t.schema.ancestors&&od.call(t.schema.ancestors,n))){const o=t.schema.ancestors[n];let u=-1;for(s=!1;++u<o.length;)t.stack.includes(o[u])&&(s=!0)}if(!s)return t.schema.strip&&!t.schema.strip.includes(n)?r:void 0;const a={type:"element",tagName:n,properties:i,children:r};return pg(a,e),a}function ope(t,e){const r={type:"root",children:Mk(t,e.children)};return pg(r,e),r}function upe(t,e){const r={type:"text",value:typeof e.value=="string"?e.value:""};return pg(r,e),r}function Mk(t,e){const n=[];if(Array.isArray(e)){const r=e;let i=-1;for(;++i<r.length;){const s=Lk(t,r[i]);s&&(Array.isArray(s)?n.push(...s):n.push(s))}}return n}function lpe(t,e){const n=t.stack[t.stack.length-1],r=t.schema.attributes,i=t.schema.required,s=r&&od.call(r,n)?r[n]:void 0,a=r&&od.call(r,"*")?r["*"]:void 0,o=e&&typeof e=="object"?e:{},u={};let l;for(l in o)if(od.call(o,l)){const d=o[l];let f=HN(t,VN(s,l),l,d);f==null&&(f=HN(t,VN(a,l),l,d)),f!=null&&(u[l]=f)}if(i&&od.call(i,n)){const d=i[n];for(l in d)od.call(d,l)&&!od.call(u,l)&&(u[l]=d[l])}return u}function HN(t,e,n,r){return e?Array.isArray(r)?cpe(t,e,n,r):Pk(t,e,n,r):void 0}function cpe(t,e,n,r){let i=-1;const s=[];for(;++i<r.length;){const a=Pk(t,e,n,r[i]);(typeof a=="number"||typeof a=="string")&&s.push(a)}return s}function Pk(t,e,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&dpe(t,n,r)){if(typeof e=="object"&&e.length>1){let i=!1,s=0;for(;++s<e.length;){const a=e[s];if(a&&typeof a=="object"&&"flags"in a){if(a.test(String(r))){i=!0;break}}else if(a===r){i=!0;break}}if(!i)return}return t.schema.clobber&&t.schema.clobberPrefix&&t.schema.clobber.includes(n)?t.schema.clobberPrefix+r:r}}function dpe(t,e,n){const r=t.schema.protocols&&od.call(t.schema.protocols,e)?t.schema.protocols[e]:void 0;if(!r||r.length===0)return!0;const i=String(n),s=i.indexOf(":"),a=i.indexOf("?"),o=i.indexOf("#"),u=i.indexOf("/");if(s<0||u>-1&&s>u||a>-1&&s>a||o>-1&&s>o)return!0;let l=-1;for(;++l<r.length;){const d=r[l];if(s===d.length&&i.slice(0,d.length)===d)return!0}return!1}function pg(t,e){const n=s6(e);e.data&&(t.data=nc(e.data)),n&&(t.position=n)}function VN(t,e){let n,r=-1;if(t)for(;++r<t.length;){const i=t[r],s=typeof i=="string"?i:i[0];if(s===e)return i;s==="data*"&&(n=i)}if(e.length>4&&e.slice(0,4).toLowerCase()==="data")return n}function hpe(t){return function(e){return rpe(e,t)}}function fpe(t){const e=this,n={...e.data("settings"),...t};e.compiler=r;function r(i){return z6(i,n)}}function ppe(){return t=>{Vo(t,"element",e=>{const n=e.tagName==="figure"&&e.properties?.["data-rehype-pretty-code-figure"]!==void 0,r=e.tagName==="pre";if(n||r){const i=n?e.children?.find(s=>s.tagName==="pre"):e;if(i){const s=i.children?.find(a=>a.tagName==="code");if(s){const a=f=>f.type==="text"?f.value||"":f.children?f.children.map(a).join(""):"",o=a(s),u=n?e:i;u.properties||(u.properties={}),u.properties["data-code-content"]=o;const l=u.properties.className,d=Array.isArray(l)?l:l?[String(l)]:[];d.includes("code-block-wrapper")||(u.properties.className=[...d,"code-block-wrapper"])}}}})}}const mpe={...ad,attributes:{...ad.attributes,code:[["className","data-line","data-line-numbers","data-language"]],div:[["className","data-code-content"]],span:[["className","data-line","data-highlighted-line","data-highlighted-chars","style"]],pre:[["className","data-language","data-theme","data-code-content"]],figure:[["className","data-rehype-pretty-code-figure","data-code-content"]],figcaption:[["className","data-rehype-pretty-code-title"]],img:[...ad.attributes?.img||[],["loading"]],a:[...ad.attributes?.a||[],["target","rel"]]},tagNames:[...ad.tagNames||[],"input","figure","figcaption"],protocols:{...ad.protocols,src:["http","https","data"],href:["http","https","mailto"]}};function Rk(t="dark"){return H_().use(xI).use(qI).use(kae).use(boe,{allowDangerousHtml:!1}).use(Coe).use(Ioe,{behavior:"wrap",properties:{className:["heading-anchor"],ariaLabel:"Link to heading"}}).use(Hoe,{target:"_blank",rel:["noopener","noreferrer"]}).use(tpe,{keepBackground:!1,theme:{light:"github-light",dark:"github-dark-dimmed"},defaultLang:"plaintext",onVisitLine(e){(!e.properties.className||e.properties.className.length===0)&&(e.properties.className=["line"])},onVisitHighlightedLine(e){e.properties.className||(e.properties.className=[]),e.properties.className.push("highlighted")},onVisitHighlightedChars(e){e.properties.className=["word"]}}).use(ppe).use(hpe,mpe).use(fpe)}Rk();async function gpe(t,e="dark"){try{if(!t||typeof t!="string")return"";const r=await Rk(e).process(t);return String(r)}catch(n){return console.error("Error processing markdown:",n),""}}async function vpe(t){try{return!t||typeof t!="string"?null:await H_().use(xI).use(qI).parse(t)}catch(e){return console.error("Error parsing markdown:",e),null}}function _pe({code:t}){const{t:e}=Hr(),[n,r]=ne.useState(!1),i=async()=>{try{await navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),1500)}catch(s){console.error("Failed to copy code:",s)}};return b.jsx("button",{onClick:i,"aria-label":e(n?"markdown.copied":"markdown.copyCode"),className:"code-copy-button absolute top-[var(--space-8)] right-[var(--space-8)] p-[var(--space-8)] rounded-[var(--radius-md)] bg-[var(--surface-strong)] hover:bg-[var(--surface)] text-[var(--text-muted)] hover:text-[var(--text)] transition-all duration-200 opacity-0 group-hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-[var(--bg)]",title:e(n?"markdown.copied":"markdown.copyCode"),children:n?b.jsx(OL,{className:"h-[var(--space-16)] w-[var(--space-16)] text-green-400","aria-hidden":"true"}):b.jsx(BL,{className:"h-[var(--space-16)] w-[var(--space-16)]","aria-hidden":"true"})})}function xp({content:t,className:e=""}){const{theme:n}=vK(),[r,i]=ne.useState(""),[s,a]=ne.useState(!0),[o,u]=ne.useState(null),l=ne.useRef(null),d=ne.useRef([]);return ne.useEffect(()=>{(async()=>{try{if(a(!0),u(null),!t){i("");return}const m=await gpe(t,n);i(m)}catch(m){console.error("Error rendering markdown:",m),u(m instanceof Error?m.message:"Failed to render markdown"),i("")}finally{a(!1)}})()},[t,n]),ne.useEffect(()=>!l.current||!r?void 0:(d.current.forEach(m=>{try{m.unmount()}catch{}}),d.current=[],l.current.querySelectorAll(".code-block-wrapper").forEach(m=>{const p=m.getAttribute("data-code-content");if(!p)return;m.classList.add("group","relative");const _=document.createElement("div");_.className="copy-button-container",m.appendChild(_);const E=mL.createRoot(_);E.render(b.jsx(_pe,{code:p})),d.current.push(E)}),()=>{d.current.forEach(m=>{try{m.unmount()}catch{}}),d.current=[]}),[r]),s?b.jsx("div",{className:`${e}`,children:b.jsxs("div",{className:"animate-pulse stack [--stack-space:var(--space-16)]",children:[b.jsx("div",{className:"h-[var(--space-16)] bg-[var(--surface-strong)] rounded-[var(--radius-sm)] w-3/4"}),b.jsx("div",{className:"h-[var(--space-16)] bg-[var(--surface-strong)] rounded-[var(--radius-sm)] w-full"}),b.jsx("div",{className:"h-[var(--space-16)] bg-[var(--surface-strong)] rounded-[var(--radius-sm)] w-4/5"})]})}):o?b.jsxs("div",{className:`text-red-400 text-[length:var(--font-100)] p-[var(--space-16)] bg-red-400/10 rounded-[var(--radius-md)] ${e}`,children:["Error rendering markdown: ",o]}):r?b.jsx("div",{ref:l,className:`prose prose-invert max-w-none ${e}`,dangerouslySetInnerHTML:{__html:r},style:{scrollMarginTop:"80px"}},r.substring(0,50)):b.jsx("div",{className:`text-[var(--text-muted)] italic text-[length:var(--font-100)] p-[var(--space-16)] ${e}`,children:"No content to display"})}function lS({title:t,slug:e,excerpt:n,content:r,image:i,created_at:s,read_time:a}){const{t:o,language:u}=Hr(),l=_=>{try{const E=u==="am"?"hy-AM":u;return new Intl.DateTimeFormat(E,{year:"numeric",month:"short",day:"numeric"}).format(new Date(_))}catch{return o("blog.unknownDate")}},f=r?(()=>{if(!r)return n;const _=r.replace(/[[#*`()]/g,"").replace(/\n/g," ").trim();return _.length>150?`${_.substring(0,150)}...`:_})():n,m=!!i,p=l(s);return b.jsxs(zs,{className:"group h-full flex flex-col",children:[b.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-[var(--radius-md)] mb-[var(--space-16)]",children:[m?b.jsx("img",{src:i??"",alt:t,width:1280,height:720,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500",loading:"lazy",decoding:"async"}):b.jsx("div",{className:"w-full h-full bg-[var(--surface-strong)]","aria-hidden":"true"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),b.jsxs("div",{className:"flex justify-between items-center text-[length:var(--font-100)] text-[var(--text-muted)] mb-[var(--space-12)]",children:[b.jsx("span",{children:p}),b.jsx("span",{children:a})]}),b.jsx("h2",{className:"text-[length:var(--font-500)] font-semibold text-[var(--text)] mb-[var(--space-8)] group-hover:text-accent transition-colors line-clamp-2",children:t}),b.jsx("div",{className:"text-[var(--text-muted)] mb-[var(--space-16)] flex-grow",children:r?b.jsx(xp,{content:f,className:"text-[length:var(--font-200)] line-clamp-3"}):b.jsx("p",{className:"text-[length:var(--font-200)] line-clamp-3",children:n})}),b.jsxs(hs,{to:`/blog/${e}`,className:"inline-flex items-center text-accent hover:text-white transition-colors font-medium text-[length:var(--font-200)] mt-auto focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)] rounded-full",children:[b.jsx(At,{translationKey:"blog.readMore",shimmerWidth:"100px"}),b.jsx("svg",{className:"w-4 h-4 ml-[var(--space-8)] transform group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}const Ik=Wi({title:Wt().min(1,"Title is required").max(255,"Title too long"),description:Wt().min(1,"Description is required").max(1e3,"Description too long"),image:Wt().url("Invalid image URL").optional().or(rv("")),tags:ei(Wt().min(1,"Tag cannot be empty")).max(10,"Too many tags"),live_url:Wt().url("Invalid live URL").optional().or(rv("")),github_url:Wt().url("Invalid GitHub URL").optional().or(rv("")),order_index:Ih().int().min(0,"Order must be non-negative").optional(),featured:OM().optional()}),ype=Ik,xpe=Ik.partial();function kk(){const[t,e]=ne.useState([]),[n,r]=ne.useState(!0),[i,s]=ne.useState(null),a=ne.useCallback(async()=>{try{r(!0),s(null);const{data:f,error:m}=await Hn.from("projects").select("*").order("order_index",{ascending:!0});if(m)throw m;e(f||[])}catch(f){console.error("Error loading projects:",f),s(f instanceof Error?f.message:"Failed to load projects")}finally{r(!1)}},[]),o=ne.useCallback(async f=>{try{const m=ype.parse(f),p=`temp-${Date.now()}`,_={id:p,...m,tags:m.tags??[],order_index:m.order_index??0,featured:m.featured??!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};e(v=>[...v,_]);const{data:E,error:y}=await Hn.from("projects").insert(m).select().single();if(y)throw y;e(v=>v.map(S=>S.id===p?E:S))}catch(m){throw e(p=>p.filter(_=>!_.id.startsWith("temp-"))),console.error("Error creating project:",m),m}},[]),u=ne.useCallback(async(f,m)=>{try{const p=xpe.parse(m);e(y=>y.map(v=>v.id===f?{...v,...p}:v));const{data:_,error:E}=await Hn.from("projects").update(p).eq("id",f).select().single();if(E)throw E;e(y=>y.map(v=>v.id===f?_:v))}catch(p){throw await a(),console.error("Error updating project:",p),p}},[a]),l=ne.useCallback(async f=>{try{e(p=>p.filter(_=>_.id!==f));const{error:m}=await Hn.from("projects").delete().eq("id",f);if(m)throw m}catch(m){throw await a(),console.error("Error deleting project:",m),m}},[a]),d=ne.useCallback(async()=>{await a()},[a]);return ne.useEffect(()=>{a()},[a]),{projects:t,isLoading:n,error:i,createProject:o,updateProject:u,deleteProject:l,refreshProjects:d}}function bpe(){const{t,language:e}=Hr(),{projects:n,isLoading:r,error:i}=kk(),{blogPosts:s,isLoading:a,error:o}=z_(e),{isFeatureEnabled:u}=wd(),l=n.filter(_=>_.featured).slice(0,2),d=s.slice(0,3),f=u("featured_projects_section"),m=u("latest_articles_section"),p=u("case_studies_section");return b.jsxs(b.Fragment,{children:[b.jsx(Vee,{}),b.jsx(Gee,{}),b.jsx(rte,{}),b.jsx(ste,{}),p&&b.jsx(lte,{}),f&&b.jsx("section",{className:"py-[var(--space-64)] section-surface",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 section-inner",children:[b.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-[var(--space-16)] mb-[var(--space-24)]",children:[b.jsx("h2",{className:"text-[length:var(--font-700)] md:text-[length:var(--font-800)] font-semibold text-[var(--text)] font-display",children:b.jsx(At,{translationKey:"pages.home.featuredProjects",as:"span",shimmerWidth:"250px"})}),b.jsx(hs,{to:"/work",className:"text-accent hover:text-white transition-colors text-[length:var(--font-200)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)] rounded-full",children:b.jsx(At,{translationKey:"viewAll",shimmerWidth:"80px"})})]}),r?b.jsx("div",{className:"flex justify-center",children:b.jsx(kh,{})}):i?b.jsx("div",{className:"text-center text-[var(--text-muted)] text-[length:var(--font-200)]",children:b.jsxs("p",{children:[t("errors.projectsLoadFailed"),": ",i]})}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-[var(--space-24)]",children:l.map((_,E)=>b.jsx(sI,{..._,image:_.image??""},_.id||E))})]})}),m&&b.jsx("section",{className:"py-[var(--space-64)] section-surface",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 section-inner",children:[b.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-[var(--space-16)] mb-[var(--space-24)]",children:[b.jsx("h2",{className:"text-[length:var(--font-700)] md:text-[length:var(--font-800)] font-semibold text-[var(--text)] font-display",children:b.jsx(At,{translationKey:"pages.home.latestArticles",as:"span",shimmerWidth:"200px"})}),b.jsx(hs,{to:"/blog",className:"text-accent hover:text-white transition-colors text-[length:var(--font-200)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)] rounded-full",children:b.jsx(At,{translationKey:"viewAll",shimmerWidth:"80px"})})]}),a?b.jsx("div",{className:"flex justify-center",children:b.jsx(kh,{})}):o?b.jsx("div",{className:"text-center text-[var(--text-muted)] text-[length:var(--font-200)]",children:b.jsxs("p",{children:[t("errors.blogLoadFailed"),": ",o]})}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-[var(--space-24)]",children:d.map((_,E)=>b.jsx(lS,{..._,image:_.image??"https://images.unsplash.com/photo-1517694712202-14819c9cb6e1?w=500&h=300&fit=crop"},_.id||E))})]})})]})}function po({children:t,className:e="",ariaLabel:n="Page layout"}){return b.jsxs("section",{className:`relative min-h-screen bg-[var(--bg)] pt-[calc(var(--space-64)+var(--space-48))] pb-[var(--space-64)] overflow-hidden ${e}`,"aria-label":n,children:[b.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,rgba(255,255,255,0.04)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.04)_1px,transparent_1px)] bg-[size:2rem_2rem]"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-[var(--bg)] to-transparent"}),b.jsx("div",{className:"max-w-6xl mx-auto px-6 lg:px-8 relative z-10",children:t})]})}function i2({icon:t,title:e,subtitle:n}){return b.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 mb-12",children:[b.jsx("div",{className:"relative p-4 bg-[var(--surface)] rounded-full backdrop-blur-sm border border-[var(--border)]",children:b.jsx(t,{className:"h-8 w-8 text-accent","aria-hidden":"true"})}),b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-[length:var(--font-800)] md:text-[length:var(--font-900)] font-bold text-[var(--text)] font-display mb-2 text-balance",children:e}),n&&b.jsx("p",{className:"text-[length:var(--font-300)] text-[var(--text-muted)] max-w-2xl mx-auto",children:n})]})]})}function Epe(t=6){const e=ne.useRef(null);function n(i){const s=e.current;if(!s)return;const a=s.getBoundingClientRect(),o=(i.clientX-a.left)/a.width,l=((i.clientY-a.top)/a.height-.5)*-t,d=(o-.5)*t;s.style.transform=`rotateX(${l}deg) rotateY(${d}deg) translateZ(0)`}function r(){const i=e.current;i&&(i.style.transform="rotateX(0deg) rotateY(0deg)")}return{ref:e,onMove:n,onLeave:r}}function wpe({src:t,alt:e,width:n=720,height:r=900}){const i=Epe(6),s=Oi(),a=s?{}:{onMouseMove:i.onMove,onMouseLeave:i.onLeave};return b.jsx(Xt.div,{initial:s?!1:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:s?0:.6,ease:[.16,1,.3,1],delay:s?0:.1},className:"group rounded-3xl border border-white/10 bg-white/[0.02] overflow-hidden shadow-[0_0_0_1px_rgba(255,255,255,0.04)]",children:b.jsxs("div",{ref:i.ref,...a,className:"relative",style:{transition:"transform 300ms cubic-bezier(.2,.8,.2,1)"},children:[b.jsx("img",{src:t,alt:e,width:n,height:r,loading:"eager",className:"block w-full h-full object-cover"}),b.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 group-hover:opacity-20"}),b.jsx("div",{className:"pointer-events-none absolute inset-0",style:{maskImage:"linear-gradient(120deg, transparent 20%, white 50%, transparent 80%)",WebkitMaskImage:"linear-gradient(120deg, transparent 20%, white 50%, transparent 80%)",transform:"translateX(-120%)"}})]})})}const WN={duration:.5,ease:[.22,1,.36,1]};function Mx({title:t,children:e,delay:n=0}){const r=Oi();return b.jsxs(Xt.article,{initial:r?!1:{opacity:0,y:18},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{...WN,delay:r?0:n,duration:r?0:WN.duration},className:"rounded-[var(--radius-lg)] p-6 bg-[var(--surface)] border border-[var(--border)] backdrop-blur hover:-translate-y-1 hover:bg-[var(--surface-strong)] transition-[transform,background-color,border-color] duration-300 will-change-transform",children:[b.jsx("h3",{className:"text-[var(--text)] font-semibold tracking-[var(--tracking-tight)] mb-4",children:t}),b.jsx("div",{className:"text-[var(--text-muted)] leading-[var(--leading-body)]",children:e})]})}function Ape(){const t=Array.from({length:6}),e=Oi();return b.jsxs("div",{className:"pointer-events-none absolute inset-0 group-hover:opacity-100 opacity-60 transition-opacity duration-500",children:[t.map((n,r)=>b.jsx("div",{className:"absolute w-1.5 h-1.5 rounded-full bg-white/40 blur-[1px] group-hover:bg-white/60 transition-colors duration-300",style:{left:`${10+r*14}%`,top:`${20+r%3*18}%`,animation:e?"none":`float${r} 10s ease-in-out ${r*.8}s infinite alternate`}},r)),b.jsx("style",{children:Array.from({length:6}).map((n,r)=>`@keyframes float${r}{from{transform:translateY(0)}to{transform:translateY(${4+r%3}px)}}`).join(`
`)})]})}function Spe({text:t,speed:e=50,delay:n=0}){const[r,i]=ne.useState(""),[s,a]=ne.useState(0),o=Oi();return ne.useEffect(()=>{if(o){i(t),a(t.length);return}if(s<t.length){const u=setTimeout(()=>{i(l=>l+t[s]),a(l=>l+1)},e);return()=>clearTimeout(u)}},[s,t,e,o]),b.jsxs(Xt.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:o?0:n,duration:o?0:.2},children:[r,b.jsx(Xt.span,{animate:o?{opacity:1}:{opacity:[1,0,1]},transition:{duration:o?0:.8,repeat:o?0:1/0},className:"inline-block w-0.5 h-6 bg-current ml-1"})]})}function Tpe({className:t}){const{t:e}=Hr(),n=Oi(),r=[{icon:Dw,label:e("about.quickFacts.location")||"Location",value:"Armenia, Yerevan"},{icon:Rh,label:e("about.quickFacts.experience")||"Experience",value:"5+ years"},{icon:$L,label:e("about.quickFacts.focus")||"Focus",value:"QA Automation"},{icon:FL,label:e("about.quickFacts.availability")||"Availability",value:e("about.quickFacts.availabilityStatus")||"Open to opportunities"}];return b.jsxs(zs,{className:t,children:[b.jsx("h3",{className:"text-lg font-semibold text-[var(--text)] mb-4",children:b.jsx(At,{translationKey:"about.quickFacts.title",shimmerWidth:"120px"})}),b.jsx("div",{className:"space-y-3",children:r.map((i,s)=>{const a=i.icon;return b.jsxs(Xt.div,{initial:n?!1:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{duration:n?0:.4,delay:n?0:.4+s*.05},className:"flex items-start gap-3",children:[b.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-accent/10 border border-accent/20 flex items-center justify-center mt-0.5",children:b.jsx(a,{className:"w-4 h-4 text-accent","aria-hidden":"true"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("div",{className:"text-xs text-[var(--text-muted)] uppercase tracking-wider mb-0.5",children:i.label}),b.jsx("div",{className:"text-sm text-[var(--text)] font-medium",children:i.value})]})]},s)})})]})}function Dpe({items:t,isLoading:e=!1}){const n=t??[],r=Oi();function i(a){const o=(a??"").toLowerCase();return o.includes("native")?"bg-emerald-500/20 text-emerald-300 border-emerald-400/30":o.includes("proficient")||o.includes("fluent")?"bg-sky-500/20 text-sky-300 border-sky-400/30":o.includes("intermediate")?"bg-amber-500/20 text-amber-300 border-amber-400/30":o.includes("basic")||o.includes("beginner")?"bg-zinc-500/20 text-zinc-300 border-zinc-400/30":"bg-[var(--surface-strong)] text-[var(--text-muted)] border-[var(--border)]"}function s({name:a,level:o}){return b.jsxs("div",{className:"inline-flex items-center gap-2 px-2.5 py-1.5 rounded-full bg-[var(--surface)] border border-[var(--border)] hover:border-accent/40 transition-colors whitespace-nowrap",children:[b.jsx("span",{className:"text-[var(--text)] whitespace-nowrap",children:a}),o&&b.jsx("span",{className:Rp("text-xs px-2 py-0.5 rounded-full border whitespace-nowrap",i(o)),children:o})]})}return b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-semibold text-[var(--text)] mb-4 flex items-center gap-2",children:[b.jsx(Sw,{className:"w-5 h-5 text-accent","aria-hidden":"true"}),b.jsx(At,{translationKey:"about.languages.title",shimmerWidth:"150px"})]}),e?b.jsx("div",{className:"space-y-2",children:[0,1].map(a=>b.jsx("div",{className:"h-8 bg-[var(--surface-strong)] rounded-full animate-pulse"},a))}):b.jsx("div",{className:"space-y-2","aria-label":"language badges",children:(n.length>0?n:[{name:"Languages coming soon."}]).map((a,o)=>b.jsx(Xt.div,{initial:r?!1:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:r?0:.35,delay:r?0:o*.03},children:b.jsx(s,{name:a.name,level:a.level??void 0})},o))})]})}function Cpe({professionalJourney:t,philosophy:e,toolbox:n,languages:r,portraitUrl:i,isLoading:s=!1}){const{t:a}=Hr(),o=Oi(),u=t.length>0?t.join(`

`):a("about.fallback.journey"),l=e.length>0?e.join(`

`):a("about.fallback.philosophy"),d=n.length>0?n.join(`

`):a("about.fallback.toolbox"),f=i||nv.portrait;return b.jsx("section",{id:"about",className:"scroll-mt-24",children:b.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-12 lg:gap-8",children:[b.jsxs("aside",{className:"lg:col-span-5 lg:sticky lg:top-24 space-y-6 self-start",children:[b.jsxs(Xt.div,{initial:o?!1:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:o?0:.6,ease:[.16,1,.3,1],delay:o?0:.1},children:[b.jsx(wpe,{src:f,alt:a("about.portraitAlt")}),b.jsx(Ape,{})]}),b.jsx(Xt.div,{initial:o?!1:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:o?0:.6,delay:o?0:.3},children:b.jsx(Tpe,{})}),b.jsx(Xt.div,{initial:o?!1:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:o?0:.6,delay:o?0:.35},className:"bg-[var(--surface)] backdrop-blur-sm rounded-xl p-6 border border-[var(--border)] hover:border-accent/30 transition-colors",children:b.jsx(Dpe,{items:r,isLoading:s})})]}),b.jsxs("main",{className:"lg:col-span-7 space-y-6",children:[b.jsx(Xt.h2,{initial:o?!1:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:o?0:.5,ease:[.22,1,.36,1],delay:o?0:.15},className:"text-2xl md:text-3xl font-semibold text-slate-100 bg-gradient-to-r from-slate-100 to-slate-300 bg-clip-text text-transparent",children:b.jsx(Spe,{text:a("about.headline"),speed:30,delay:.5})}),b.jsx(Xt.div,{initial:o?!1:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:o?0:.6,delay:o?0:.2},children:b.jsx(Mx,{title:b.jsx(At,{translationKey:"about.professionalJourney",shimmerWidth:"200px"}),delay:.2,children:s?b.jsx("div",{className:"space-y-2",children:[0,1,2].map(m=>b.jsx("div",{className:"h-4 bg-[var(--surface-strong)] rounded animate-pulse"},m))}):b.jsx(xp,{content:u,className:"text-[var(--text-muted)]"})})}),b.jsx(Xt.div,{initial:o?!1:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:o?0:.6,delay:o?0:.26},children:b.jsx(Mx,{title:b.jsx(At,{translationKey:"about.philosophy",shimmerWidth:"150px"}),delay:.26,children:s?b.jsx("div",{className:"space-y-2",children:[0,1].map(m=>b.jsx("div",{className:"h-4 bg-[var(--surface-strong)] rounded animate-pulse"},m))}):b.jsx(xp,{content:l,className:"text-[var(--text-muted)]"})})}),b.jsx(Xt.div,{initial:o?!1:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:o?0:.6,delay:o?0:.32},children:b.jsx(Mx,{title:b.jsx(At,{translationKey:"about.toolbox",shimmerWidth:"120px"}),delay:.32,children:s?b.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3].map(m=>b.jsx("span",{className:"h-6 w-16 rounded-full bg-[var(--surface-strong)] animate-pulse"},m))}):b.jsx(xp,{content:d,className:"text-[var(--text-muted)]"})})})]})]})})}function s2({icon:t,title:e,subtitle:n}){return b.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 mb-8",children:[b.jsx("div",{className:"p-3 bg-[var(--surface)] rounded-full backdrop-blur-sm border border-[var(--border)]",children:b.jsx(t,{className:"h-6 w-6 text-accent","aria-hidden":"true"})}),b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:"text-[length:var(--font-700)] md:text-[length:var(--font-800)] font-semibold text-[var(--text)] font-display text-balance",children:e}),n&&b.jsx("p",{className:"text-[length:var(--font-200)] text-[var(--text-muted)] max-w-xl mx-auto",children:n})]})]})}const Npe=12,Fk="[missing:";function Lpe(t){const e=[];for(let n=1;n<=Npe;n+=1){const r=t(`about.keyResults.${n}`);!r||r.startsWith(Fk)||e.push({summary:r})}return e}function Mpe({items:t,isLoading:e=!1}){const{t:n}=Hr(),r=(t??[]).filter(u=>u.summary.trim().length>0),i=r.length>0?[]:Lpe(n),s=n("about.keyResults.empty"),a=s.startsWith(Fk)?"Key results coming soon.":s,o=Oi();return b.jsxs("section",{id:"key-results",className:"scroll-mt-24",children:[b.jsx(s2,{icon:XT,title:b.jsx(At,{translationKey:"about.keyResults.title",shimmerWidth:"180px"})}),b.jsxs("div",{className:"relative rounded-[var(--radius-2xl)] border border-[var(--border)] bg-[var(--surface-strong)] p-6 shadow-[0_30px_80px_rgba(7,10,18,0.3)]",children:[b.jsx("div",{className:"absolute inset-0 rounded-[var(--radius-2xl)] bg-[radial-gradient(circle_at_top,var(--color-accent),transparent_60%)] opacity-10 pointer-events-none","aria-hidden":"true"}),b.jsx("div",{className:"relative",children:e?b.jsx("div",{className:"space-y-2",children:[0,1,2].map(u=>b.jsx("div",{className:"h-5 bg-[var(--surface-strong)] rounded animate-pulse"},u))}):b.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:(r.length>0?r:i.length>0?i:[{summary:a}]).map((u,l)=>b.jsxs(Xt.li,{initial:o?!1:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:o?0:.4,delay:o?0:l*.03},className:"flex items-start gap-3",children:[b.jsx("span",{className:"mt-1 text-accent flex-shrink-0",children:b.jsx(XT,{className:"w-5 h-5","aria-hidden":"true"})}),b.jsx("div",{className:"flex-1 text-[var(--text-muted)] text-sm leading-relaxed",children:b.jsx(xp,{content:u.summary,className:"mb-0 text-[var(--text-muted)] text-sm"})})]},l))})})]})]})}function Ppe(){const[t,e]=ne.useState(0),n=Oi();return ne.useEffect(()=>{const r=()=>{const i=window.scrollY,s=document.documentElement.scrollHeight-window.innerHeight,a=i/s*100;e(a)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),b.jsxs("div",{className:"fixed right-4 top-1/2 -translate-y-1/2 z-40",children:[b.jsx("div",{className:"w-1 h-32 bg-white/10 rounded-full overflow-hidden",children:b.jsx(Xt.div,{className:"w-full bg-gradient-to-b from-accent to-white/60 rounded-full",style:{height:`${t}%`},transition:{duration:n?0:.1}})}),b.jsx(Xt.div,{className:"absolute -right-2 top-0 w-2 h-2 bg-accent rounded-full",style:{top:`${t}%`},transition:{duration:n?0:.1}})]})}function Rpe(){const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return b.jsxs("div",{className:"fixed bottom-[var(--space-24)] right-[var(--space-24)] z-40 flex flex-col gap-[var(--space-12)]",children:[b.jsx(Xt.button,{onClick:t,className:"w-[var(--size-tap)] h-[var(--size-tap)] bg-[var(--surface)] backdrop-blur-md border border-[var(--border)] rounded-full flex items-center justify-center text-[var(--text)] hover:bg-[var(--surface-strong)] transition-colors duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]","aria-label":"Scroll to top",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:b.jsx(EB,{className:"w-[var(--space-20)] h-[var(--space-20)]","aria-hidden":"true"})}),b.jsx(Xt.div,{whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},children:b.jsx(hs,{to:"/",className:"w-[var(--size-tap)] h-[var(--size-tap)] bg-[var(--surface)] backdrop-blur-md border border-[var(--border)] rounded-full flex items-center justify-center text-[var(--text)] hover:bg-[var(--surface-strong)] transition-colors duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]","aria-label":"Go to home",children:b.jsx(VL,{className:"w-[var(--space-20)] h-[var(--space-20)]","aria-hidden":"true"})})})]})}function a2(){const[t,e]=ne.useState([]);return ne.useEffect(()=>{(()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){e([]);return}const a=[];for(let o=0;o<12;o++)a.push({id:o,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*2+.5,opacity:Math.random()*.2+.08,speedX:(Math.random()-.5)*.3,speedY:(Math.random()-.5)*.3});e(a)})();const i=setInterval(()=>{e(s=>s.map(a=>{let o=a.x+a.speedX,u=a.y+a.speedY;return o=o>window.innerWidth?0:o<0?window.innerWidth:o,u=u>window.innerHeight?0:u<0?window.innerHeight:u,{...a,x:o,y:u}}))},70);return()=>clearInterval(i)},[]),b.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:t.map(n=>b.jsx(Xt.div,{className:"absolute rounded-full bg-white",style:{left:n.x,top:n.y,width:n.size,height:n.size,opacity:n.opacity},animate:{opacity:[n.opacity,n.opacity*.3,n.opacity]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}},n.id))})}function Ipe({enabled:t=!1}){return ne.useEffect(()=>{if(!t)return;const e=new(window.AudioContext||window.webkitAudioContext),n=(i,s=.1)=>{const a=e.createOscillator(),o=e.createGain();a.connect(o),o.connect(e.destination),a.frequency.setValueAtTime(i,e.currentTime),a.type="sine",o.gain.setValueAtTime(.1,e.currentTime),o.gain.exponentialRampToValueAtTime(.01,e.currentTime+s),a.start(e.currentTime),a.stop(e.currentTime+s)},r=(i,s)=>{document.querySelectorAll(i).forEach(o=>{o.addEventListener("mouseenter",()=>n(s,.05))})};return r("button",800),r('[role="button"]',800),r("a",600),r(".hover\\:scale-110",700),()=>{e.close()}},[t]),null}function kpe({enabled:t=!1}){const[e,n]=ne.useState(0),[r,i]=ne.useState(0);return ne.useEffect(()=>{if(!t)return;let s=0,a=performance.now(),o;const u=l=>{if(s++,l-a>=1e3){const d=Math.round(s*1e3/(l-a)),f=(l-a)/s;n(d),i(Math.round(f*100)/100),s=0,a=l}o=requestAnimationFrame(u)};return o=requestAnimationFrame(u),()=>{o&&cancelAnimationFrame(o)}},[t]),t?b.jsx("div",{className:"fixed bottom-6 left-6 z-50 bg-black/80 backdrop-blur-md border border-white/20 rounded-lg p-3 text-xs text-white",children:b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{children:["FPS: ",b.jsx("span",{className:"text-accent",children:e})]}),b.jsxs("div",{children:["Frame: ",b.jsxs("span",{className:"text-accent",children:[r,"ms"]})]}),b.jsx("div",{className:`text-xs ${e>=55?"text-green-400":e>=30?"text-yellow-400":"text-red-400"}`,children:e>=55?"Excellent":e>=30?"Good":"Poor"})]})}):null}const Px=[{id:"about",labelKey:"pages.about",icon:A_},{id:"experience",labelKey:"experience.title",icon:Rh},{id:"education",labelKey:"pages.education",icon:Aw},{id:"skills",labelKey:"pages.skills",icon:Tw}];function Fpe(){const[t,e]=ne.useState("about"),[n,r]=ne.useState(!1),i=ne.useRef(null),s=Oi();ne.useEffect(()=>{const o={root:null,rootMargin:"-50% 0px -50% 0px",threshold:0};return i.current=new IntersectionObserver(u=>{u.forEach(l=>{l.isIntersecting&&e(l.target.id)})},o),Px.forEach(u=>{const l=document.getElementById(u.id);l&&i.current&&i.current.observe(l)}),()=>{i.current&&i.current.disconnect()}},[]);const a=o=>{const u=document.getElementById(o);if(u){const d=u.offsetTop-100;window.scrollTo({top:d,behavior:"smooth"})}r(!1)};return b.jsx(Xt.nav,{initial:s?!1:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:s?0:.5},className:"fixed bottom-6 left-6 z-40",children:b.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full border border-white/20 px-4 py-2",children:[b.jsx("div",{className:"hidden md:flex items-center space-x-1",children:Px.map(o=>{const u=o.icon,l=t===o.id;return b.jsxs(Xt.button,{onClick:()=>a(o.id),className:`relative px-4 py-2 rounded-full transition-colors duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)] ${l?"text-white bg-accent/20":"text-gray-400 hover:text-white hover:bg-white/10"}`,whileHover:s?void 0:{scale:1.05},whileTap:s?void 0:{scale:.95},children:[b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(u,{className:"h-4 w-4","aria-hidden":"true"}),b.jsx("span",{className:"text-sm font-medium",children:b.jsx(At,{translationKey:o.labelKey,shimmerWidth:"100px"})})]}),l&&b.jsx(Xt.div,{layoutId:"activeSection",className:"absolute inset-0 bg-accent/20 rounded-full",initial:!1,transition:s?{duration:0}:{type:"spring",stiffness:500,damping:30}})]},o.id)})}),b.jsxs("div",{className:"md:hidden",children:[b.jsxs(Xt.button,{onClick:()=>r(!n),className:"flex items-center space-x-2 px-3 py-2 text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]",whileTap:s?void 0:{scale:.95},children:[b.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center space-y-1",children:[b.jsx(Xt.div,{animate:{rotate:n?45:0,y:n?6:0},className:"w-full h-0.5 bg-white"}),b.jsx(Xt.div,{animate:{opacity:n?0:1},className:"w-full h-0.5 bg-white"}),b.jsx(Xt.div,{animate:{rotate:n?-45:0,y:n?-6:0},className:"w-full h-0.5 bg-white"})]}),b.jsx("span",{className:"text-sm font-medium",children:b.jsx(At,{translationKey:"pages.sections",shimmerWidth:"100px"})})]}),b.jsx(Xt.div,{initial:!1,animate:{height:n?"auto":0,opacity:n?1:0,pointerEvents:n?"auto":"none"},transition:{duration:s?0:.3},className:"absolute bottom-full left-0 mb-2 w-48 z-50",children:b.jsx("div",{className:"space-y-1 bg-slate-900/80 backdrop-blur-md rounded-lg border border-white/20 p-2 shadow-xl",children:Px.map(o=>{const u=o.icon,l=t===o.id;return b.jsxs(Xt.button,{onClick:()=>a(o.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)] ${l?"text-white bg-accent/20":"text-gray-400 hover:text-white hover:bg-white/10"}`,whileHover:s?void 0:{scale:1.02},whileTap:s?void 0:{scale:.98},children:[b.jsx(u,{className:"h-4 w-4","aria-hidden":"true"}),b.jsx("span",{className:"text-sm font-medium",children:b.jsx(At,{translationKey:o.labelKey,shimmerWidth:"100px"})})]},o.id)})})})]})]})})}function Ope({role:t,company:e,period:n,description:r,achievements:i,baseKey:s}){const{t:a}=Hr(),o=Oi(),u=m=>m.startsWith("[missing:"),l=(m,p)=>{if(!s)return p;const _=a(`${s}.${m}`);return u(_)?p:_},d=s?Array.from({length:10},(m,p)=>a(`${s}.achievements.${p+1}`)).filter(m=>!u(m)):[],f=d.length>0?d:i;return b.jsx(Xt.div,{initial:o?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:o?0:.6,ease:[.16,1,.3,1]},viewport:{once:!0},children:b.jsxs(zs,{className:"group hover:bg-[var(--surface-strong)] transition-[background-color,border-color,box-shadow] duration-500",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 sm:gap-4 mb-4",children:[b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"text-lg font-semibold text-[var(--text)] group-hover:text-accent transition-colors duration-300",children:l("role",t)}),b.jsx("p",{className:"text-accent font-medium text-sm mt-0.5",children:l("company",e)})]}),b.jsx("span",{className:"text-[var(--text-muted)] bg-[var(--surface)] border border-[var(--border)] px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap self-start",children:l("period",n)})]}),b.jsx("p",{className:"text-[var(--text-muted)] text-sm mb-4 leading-relaxed",children:l("description",r)}),f.length>0&&b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wide mb-3",children:b.jsx(At,{translationKey:"experience.keyAchievements",shimmerWidth:"150px"})}),b.jsx("ul",{className:"space-y-2",children:f.map((m,p)=>b.jsxs(Xt.li,{initial:o?!1:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:o?0:.4,delay:o?0:p*.1},viewport:{once:!0},className:"flex items-start gap-2.5 text-[var(--text-muted)] text-sm group-hover:text-[var(--text)] transition-colors duration-300",children:[b.jsx("div",{className:"flex-shrink-0 w-1.5 h-1.5 bg-accent rounded-full mt-2 group-hover:scale-125 transition-transform duration-300"}),b.jsx("span",{className:"leading-relaxed",children:m})]},p))})]})]})})}const GN=Wi({role:Wt().min(1,"Role is required").max(100,"Role must be less than 100 characters"),company:Wt().min(1,"Company is required").max(100,"Company must be less than 100 characters"),period:Wt().min(1,"Period is required").max(50,"Period must be less than 50 characters"),description:Wt().min(1,"Description is required").max(1e3,"Description must be less than 1000 characters"),achievements:ei(Wt().min(1,"Achievement cannot be empty")).optional().default([]),order_index:Ih().int().min(0).optional().default(0)}),Bpe="en";function Upe(t={}){const{language:e}=Hr(),n=t.language??e,[r,i]=ne.useState([]),[s,a]=ne.useState(!0),[o,u]=ne.useState(null),l=ne.useCallback(async()=>{try{a(!0),u(null);const{data:_,error:E}=await Hn.from("experiences").select("*").order("order_index",{ascending:!0});if(E)throw E;const{data:y,error:v}=await Hn.from("experience_translations").select("*").eq("language",n);if(v)throw v;const S=new Map((y||[]).map(L=>[L.experience_id,L])),T=(_||[]).map(L=>{const I=S.get(L.id);return I?{...L,role:I.role,company:I.company,period:I.period,description:I.description,achievements:I.achievements??L.achievements}:L});i(T)}catch(_){const E=_ instanceof Error?_.message:"Failed to load experience records";console.error("Error loading experiences:",_),u(E)}finally{a(!1)}},[n]),d=async(_,E,y)=>{const v={experience_id:_,language:y,role:E.role,company:E.company,period:E.period,description:E.description,achievements:E.achievements??[]},{error:S}=await Hn.from("experience_translations").upsert(v,{onConflict:"experience_id,language"});if(S)throw S},f=async(_,E=n)=>{try{const y=GN.parse(_),{data:v,error:S}=await Hn.from("experiences").insert(y).select().single();if(S)throw S;return await d(v.id,y,E),i(T=>[...T,{...v,...y}].sort((L,I)=>L.order_index-I.order_index)),v}catch(y){const v=y instanceof Error?y.message:"Failed to create experience record";throw console.error("Error creating experience:",y),new Error(v)}},m=async(_,E,y=n)=>{try{const v=GN.partial().parse(E),S={order_index:v.order_index};y===Bpe&&(S.role=v.role,S.company=v.company,S.period=v.period,S.description=v.description,S.achievements=v.achievements);const{data:T,error:L}=await Hn.from("experiences").update(S).eq("id",_).select().single();if(L)throw L;return v.role&&v.company&&v.period&&v.description&&await d(_,v,y),i(I=>I.map(O=>O.id===_?{...O,...v,...T}:O).sort((O,B)=>O.order_index-B.order_index)),T}catch(v){const S=v instanceof Error?v.message:"Failed to update experience record";throw console.error("Error updating experience:",v),new Error(S)}},p=async _=>{try{const{error:E}=await Hn.from("experiences").delete().eq("id",_);if(E)throw E;i(y=>y.filter(v=>v.id!==_))}catch(E){const y=E instanceof Error?E.message:"Failed to delete experience record";throw console.error("Error deleting experience:",E),new Error(y)}};return ne.useEffect(()=>{l()},[l]),{experiences:r,isLoading:s,error:o,createExperience:f,updateExperience:m,deleteExperience:p,refetch:l}}function jpe(){const{experiences:t,isLoading:e,error:n}=Upe(),r=e?[0,1].map(i=>b.jsx("div",{className:"h-40 rounded-xl bg-[var(--surface-strong)] animate-pulse"},i)):n?b.jsx("div",{className:"text-[var(--text-muted)] text-sm",children:"Failed to load experience. Please refresh and try again."}):(t.length>0?t:[{company:"Experience",role:"Details coming soon",period:"YYYY - YYYY",description:"Experience entries will appear here once published.",achievements:[],id:"placeholder"}]).map((i,s)=>b.jsx(Ope,{role:i.role,company:i.company,period:i.period??"YYYY - YYYY",description:i.description??"Experience details coming soon.",achievements:i.achievements??[]},`${i.company}-${i.role}-${s}`));return b.jsx("div",{className:"space-y-6",children:r})}function zpe(){return b.jsx("section",{id:"experience",className:"scroll-mt-24",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[b.jsx(s2,{icon:Rh,title:b.jsx(At,{translationKey:"about.experience.title",shimmerWidth:"180px"}),subtitle:b.jsx(At,{translationKey:"about.experience.subtitle",as:"span",shimmerWidth:"300px"})}),b.jsx(jpe,{})]})})}function Hpe({degree:t,school:e,year:n,description:r}){const i=Oi();return b.jsx(Xt.div,{initial:i?!1:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:i?0:.6,ease:[.16,1,.3,1]},viewport:{once:!0},children:b.jsxs(zs,{className:"group hover:bg-[var(--surface-strong)] transition-[background-color,border-color,box-shadow] duration-500",children:[b.jsxs("div",{className:"flex justify-between items-start mb-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold text-[var(--text)] group-hover:text-accent transition-colors duration-300",children:t}),b.jsx("p",{className:"text-accent font-medium mt-1",children:e})]}),b.jsx("span",{className:"text-[var(--text-muted)] bg-[var(--surface)] border border-[var(--border)] px-3 py-1 rounded-full text-sm",children:n})]}),b.jsx("p",{className:"text-[var(--text-muted)] leading-relaxed group-hover:text-[var(--text)] transition-colors duration-300",children:r}),b.jsx("div",{className:"mt-6 pt-4 border-t border-[var(--border)]",children:b.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--text-muted)]",children:[b.jsx("div",{className:"w-2 h-2 bg-accent rounded-full group-hover:scale-125 transition-transform duration-300"}),b.jsx("span",{children:"Bachelor's Degree"})]})})]})})}const qN=Wi({degree:Wt().min(1,"Degree is required").max(200,"Degree must be less than 200 characters"),school:Wt().min(1,"School is required").max(200,"School must be less than 200 characters"),year:Wt().min(1,"Year is required").max(50,"Year must be less than 50 characters"),description:Wt().min(1,"Description is required").max(500,"Description must be less than 500 characters"),order_index:Ih().int().min(0).optional().default(0)}),Vpe="en";function Wpe(t={}){const{language:e}=Hr(),n=t.language??e,[r,i]=ne.useState([]),[s,a]=ne.useState(!0),[o,u]=ne.useState(null),l=ne.useCallback(async()=>{try{a(!0),u(null);const{data:_,error:E}=await Hn.from("education").select("*").order("order_index",{ascending:!0});if(E)throw E;const{data:y,error:v}=await Hn.from("education_translations").select("*").eq("language",n);if(v)throw v;const S=new Map((y||[]).map(L=>[L.education_id,L])),T=(_||[]).map(L=>{const I=S.get(L.id);return I?{...L,degree:I.degree,school:I.school,year:I.year,description:I.description}:L});i(T)}catch(_){const E=_ instanceof Error?_.message:"Failed to load education records";console.error("Error loading education:",_),u(E)}finally{a(!1)}},[n]),d=async(_,E,y)=>{const v={education_id:_,language:y,degree:E.degree,school:E.school,year:E.year,description:E.description},{error:S}=await Hn.from("education_translations").upsert(v,{onConflict:"education_id,language"});if(S)throw S},f=async(_,E=n)=>{try{const y=qN.parse(_),{data:v,error:S}=await Hn.from("education").insert(y).select().single();if(S)throw S;return await d(v.id,y,E),i(T=>[...T,{...v,...y}].sort((L,I)=>L.order_index-I.order_index)),v}catch(y){const v=y instanceof Error?y.message:"Failed to create education record";throw console.error("Error creating education:",y),new Error(v)}},m=async(_,E,y=n)=>{try{const v=qN.partial().parse(E),S={order_index:v.order_index};y===Vpe&&(S.degree=v.degree,S.school=v.school,S.year=v.year,S.description=v.description);const{data:T,error:L}=await Hn.from("education").update(S).eq("id",_).select().single();if(L)throw L;return v.degree&&v.school&&v.year&&v.description&&await d(_,v,y),i(I=>I.map(O=>O.id===_?{...O,...v,...T}:O).sort((O,B)=>O.order_index-B.order_index)),T}catch(v){const S=v instanceof Error?v.message:"Failed to update education record";throw console.error("Error updating education:",v),new Error(S)}},p=async _=>{try{const{error:E}=await Hn.from("education").delete().eq("id",_);if(E)throw E;i(y=>y.filter(v=>v.id!==_))}catch(E){const y=E instanceof Error?E.message:"Failed to delete education record";throw console.error("Error deleting education:",E),new Error(y)}};return ne.useEffect(()=>{l()},[l]),{education:r,isLoading:s,error:o,createEducation:f,updateEducation:m,deleteEducation:p,refetch:l}}function Gpe(){const{education:t,isLoading:e,error:n}=Wpe(),r=e?[0,1].map(i=>b.jsx("div",{className:"h-32 rounded-xl bg-[var(--surface-strong)] animate-pulse"},i)):n?b.jsx("div",{className:"text-[var(--text-muted)] text-sm",children:"Failed to load education. Please refresh and try again."}):(t.length>0?t:[{degree:"Degree",school:"School",year:"YYYY",description:"Education details will appear here once published.",id:"placeholder"}]).map((i,s)=>b.jsx(Hpe,{degree:i.degree,school:i.school,year:i.year,description:i.description},`${i.school}-${i.degree}-${s}`));return b.jsx("div",{className:"space-y-6",children:r})}function qpe(){return b.jsx("section",{id:"education",className:"scroll-mt-24",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[b.jsx(s2,{icon:Aw,title:b.jsx(At,{translationKey:"about.education.title",shimmerWidth:"180px"}),subtitle:b.jsx(At,{translationKey:"about.education.subtitle",as:"span",shimmerWidth:"300px"})}),b.jsx(Gpe,{})]})})}const $N=Wi({title:Wt().min(1,"Title is required").max(100,"Title must be less than 100 characters"),description:Wt().min(1,"Description is required").max(500,"Description must be less than 500 characters"),icon:Wt().min(1,"Icon is required").max(50,"Icon must be less than 50 characters"),category:Wt().min(1,"Category is required").default("General"),level:Ih().int().min(0,"Level must be at least 0").max(100,"Level must be at most 100"),order_index:Ih().int().min(0).optional().default(0)}),$pe="en";function Kpe(t={}){const{language:e}=Hr(),n=t.language??e,[r,i]=ne.useState([]),[s,a]=ne.useState(!0),[o,u]=ne.useState(null),l=ne.useCallback(async()=>{try{a(!0),u(null);const{data:_,error:E}=await Hn.from("skills").select("*").order("order_index",{ascending:!0});if(E)throw E;const{data:y,error:v}=await Hn.from("skill_translations").select("*").eq("language",n);if(v)throw v;const S=new Map((y||[]).map(L=>[L.skill_id,L])),T=(_||[]).map(L=>{const I=S.get(L.id);return I?{...L,title:I.title,description:I.description}:L});i(T)}catch(_){const E=_ instanceof Error?_.message:"Failed to load skills";console.error("Error loading skills:",_),u(E)}finally{a(!1)}},[n]),d=async(_,E,y)=>{const v={skill_id:_,language:y,title:E.title,description:E.description},{error:S}=await Hn.from("skill_translations").upsert(v,{onConflict:"skill_id,language"});if(S)throw S},f=async(_,E=n)=>{try{const y=$N.parse(_),{data:v,error:S}=await Hn.from("skills").insert(y).select().single();if(S)throw S;return await d(v.id,y,E),i(T=>[...T,{...v,...y}].sort((L,I)=>L.order_index-I.order_index)),v}catch(y){const v=y instanceof Error?y.message:"Failed to create skill record";throw console.error("Error creating skill:",y),new Error(v)}},m=async(_,E,y=n)=>{try{const v=$N.partial().parse(E),S={icon:v.icon,level:v.level,order_index:v.order_index,category:v.category};y===$pe&&(S.title=v.title,S.description=v.description);const{data:T,error:L}=await Hn.from("skills").update(S).eq("id",_).select().single();if(L)throw L;return v.title&&v.description&&await d(_,v,y),i(I=>I.map(O=>O.id===_?{...O,...v,...T}:O).sort((O,B)=>O.order_index-B.order_index)),T}catch(v){const S=v instanceof Error?v.message:"Failed to update skill record";throw console.error("Error updating skill:",v),new Error(S)}},p=async _=>{try{const{error:E}=await Hn.from("skills").delete().eq("id",_);if(E)throw E;i(y=>y.filter(v=>v.id!==_))}catch(E){const y=E instanceof Error?E.message:"Failed to delete skill record";throw console.error("Error deleting skill:",E),new Error(y)}};return ne.useEffect(()=>{l()},[l]),{skills:r,isLoading:s,error:o,createSkill:f,updateSkill:m,deleteSkill:p,refetch:l}}function Ype(){const{skills:t,isLoading:e,error:n}=Kpe(),r=t.reduce((a,o)=>{const u=o.category||"core";return a[u]||(a[u]=[]),a[u].push(o.title),a},{}),i=Object.entries(r),s=e?b.jsx("div",{className:"space-y-4",children:[0,1].map(a=>b.jsx("div",{className:"h-10 rounded-lg bg-[var(--surface-strong)] animate-pulse"},a))}):n?b.jsx("div",{className:"text-[var(--text-muted)] text-sm",children:"Failed to load skills. Please refresh and try again."}):b.jsx("div",{className:"space-y-8",children:(i.length>0?i:[["core",["Skills coming soon."]]]).map(([a,o])=>b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-[var(--text)] capitalize",children:a}),b.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:o.map((u,l)=>b.jsx("span",{className:"text-xs px-2.5 py-1 rounded-full bg-[var(--surface)] border border-[var(--border)] text-[var(--text-muted)]",children:u},`${a}-${l}`))})]},a))});return b.jsx("section",{id:"skills",className:"scroll-mt-24",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[b.jsx(s2,{icon:Tw,title:b.jsx(At,{translationKey:"about.skills.title",shimmerWidth:"120px"}),subtitle:b.jsx(At,{translationKey:"about.skills.subtitle",as:"span",shimmerWidth:"300px"})}),s]})})}const Xpe={titleKey:"pages.about.title",subtitleKey:"pages.about.subtitle"},Zpe={professionalJourney:["TODO: Summarize your senior-level journey (scope, domains, years).","TODO: Highlight a cross-team initiative and ownership area."],philosophy:["TODO: State your engineering philosophy and quality bar.","TODO: Mention how you balance speed, reliability, and user impact."],toolbox:["React","TypeScript","Node.js","CI/CD","Testing Automation"]},Jpe=[{summary:"TODO: Reduce p95 latency by 35% for checkout.",metrics:{p95_ms_delta:-350},year:2024}],Qpe=[{name:"English",level:"C1"}],e0e=[{company:"<Company>",role:"Senior <Role>",start:"YYYY-MM",end:"Present",location:"<City, Country>",summary:"TODO: Define scope, team size, and area of ownership.",bullets:["TODO: Action verb + scope + tech + measurable outcome + business value."],tech:["React","TypeScript","Node.js"]}],t0e=[{school:"<University>",degree:"<Degree>",start:"YYYY",end:"YYYY",details:["TODO: Add relevant coursework, thesis, or honors."]}],n0e={core:["React","TypeScript","Node.js"],platforms:["AWS"],tooling:["CI/CD","Docker","Playwright"],soft:["Mentorship","Stakeholder Management","Technical Leadership"]},r0e={github:"<https://github.com/>",linkedin:"<https://linkedin.com/in/>",website:"<https://example.com>"},Ok={header:Xpe,aboutMe:Zpe,keyResults:Jpe,languages:Qpe,experience:e0e,education:t0e,skills:n0e,links:r0e},i0e=Dh(Wt(),jw([Ih(),Wt()])),Bk=Wi({summary:Wt().min(1),metrics:i0e.optional(),year:jw([Ih(),Wt()]).optional()}),Uk=Wi({header:Wi({titleKey:Wt().optional(),subtitleKey:Wt().optional()}).optional(),aboutMe:Wi({professionalJourney:ei(Wt()).default([]),philosophy:ei(Wt()).default([]),toolbox:ei(Wt()).default([])}),keyResults:ei(Bk).default([]),languages:ei(Wi({name:Wt().min(1),level:Wt().optional()})).default([]),experience:ei(Wi({company:Wt().min(1),role:Wt().min(1),start:Wt().min(1),end:Wt().min(1),location:Wt().optional(),summary:Wt().optional(),bullets:ei(Wt()).default([]),tech:ei(Wt()).default([])})).default([]),education:ei(Wi({school:Wt().min(1),degree:Wt().min(1),start:Wt().optional(),end:Wt().optional(),details:ei(Wt()).optional()})).default([]),skills:Wi({core:ei(Wt()).default([]),platforms:ei(Wt()).default([]),tooling:ei(Wt()).default([]),soft:ei(Wt()).default([])}).default({core:[],platforms:[],tooling:[],soft:[]}),links:Dh(Wt(),Wt()).default({})});Wi({name:Wt().min(1),title:Wt().min(1),contact:Wi({email:Wt().min(1),location:Wt().min(1),links:Dh(Wt(),Wt()).default({})}),summary:ei(Wt()).default([]),keyResults:ei(Bk).default([]),experience:ei(Wi({company:Wt().min(1),role:Wt().min(1),start:Wt().min(1),end:Wt().min(1),location:Wt().optional(),summary:Wt().optional(),bullets:ei(Wt()).default([]),tech:ei(Wt()).default([])})).default([]),skills:Dh(Wt(),ei(Wt())).default({}),education:ei(Wi({school:Wt().min(1),degree:Wt().min(1),start:Wt().optional(),end:Wt().optional(),details:ei(Wt()).optional()})).default([]),languages:ei(Wi({name:Wt().min(1),level:Wt().optional()})).default([])});const Jc=Uk.parse(Ok),KN=(t,e)=>t.length>0?t:[e];function jk(t){const e=[...Jc.aboutMe.professionalJourney,...Jc.aboutMe.philosophy].filter(Boolean);return{name:"<Full Name>",title:"Senior Software Engineer",contact:{email:"<email@domain>",location:"<City, Country>",links:Jc.links??{}},summary:KN(e,"TODO: Add a senior summary emphasizing scope, leadership, and impact."),keyResults:Jc.keyResults,experience:(Jc.experience??[]).map(n=>({...n,bullets:KN(n.bullets??[],"TODO: Add impact bullet with metrics (e.g., reduced p95 latency by 42%).")})),skills:Jc.skills??{},education:Jc.education??[],languages:Jc.languages??[]}}function zk(t){const e=Object.entries(t.contact.links||{}).map(([o,u])=>`[${o}](${u})`).join("  "),n=t.keyResults.length>0?t.keyResults.map(o=>{const u=o.metrics?` (${Object.entries(o.metrics).map(([d,f])=>`${d}: ${f}`).join(", ")})`:"",l=o.year?` (${o.year})`:"";return`- ${o.summary}${u}${l}`}).join(`
`):"- TODO: Add measurable key results.",r=t.experience.map(o=>{const u=`${o.start}${o.end}`,l=o.location?`  ${o.location}`:"",d=o.summary?`${o.summary}

`:"",f=o.bullets.map(p=>`- ${p}`).join(`
`),m=o.tech.length?`

_Tech:_ ${o.tech.join(", ")}`:"";return`**${o.role}**, ${o.company}  ${u}${l}

${d}${f}${m}`}).join(`

`),i=Object.entries(t.skills).map(([o,u])=>`- **${o}:** ${u.join(", ")}`).join(`
`),s=t.education.map(o=>{const u=o.start||o.end?` (${o.start??""}${o.start&&o.end?"":""}${o.end??""})`:"",l=o.details?.length?`
  - ${o.details.join(`
  - `)}`:"";return`- **${o.degree}**, ${o.school}${u}${l}`}).join(`
`),a=t.languages.map(o=>`- ${o.name}${o.level?`: ${o.level}`:""}`).join(`
`);return`# ${t.name}

**${t.title}**  ${t.contact.location}  ${t.contact.email}

${e}

## Summary
${t.summary.map(o=>`- ${o}`).join(`
`)}

## Key Results
${n}

## Experience
${r||"- TODO: Add experience entries."}

## Skills
${i||"- TODO: Add skills."}

## Education
${s||"- TODO: Add education."}

## Languages
${a||"- TODO: Add languages."}
`}async function s0e(){const t=jk(),e=zk(t),n=new Blob([e],{type:"text/markdown"}),r=URL.createObjectURL(n);try{const i=document.createElement("a");i.href=r,i.download="CV.md",document.body.appendChild(i),i.click(),document.body.removeChild(i)}finally{URL.revokeObjectURL(r)}}function Or(t){"@babel/helpers - typeof";return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(t)}var Eu=Uint8Array,mo=Uint16Array,cS=Int32Array,dS=new Eu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hS=new Eu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YN=new Eu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hk=function(t,e){for(var n=new mo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new cS(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Vk=Hk(dS,2),a0e=Vk.b,nw=Vk.r;a0e[28]=258,nw[258]=28;var o0e=Hk(hS,0),XN=o0e.r,rw=new mo(32768);for(var ii=0;ii<32768;++ii){var Qc=(ii&43690)>>1|(ii&21845)<<1;Qc=(Qc&52428)>>2|(Qc&13107)<<2,Qc=(Qc&61680)>>4|(Qc&3855)<<4,rw[ii]=((Qc&65280)>>8|(Qc&255)<<8)>>1}var ym=(function(t,e,n){for(var r=t.length,i=0,s=new mo(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new mo(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new mo(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var l=i<<4|t[i],d=e-t[i],f=a[t[i]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)o[rw[f]>>u]=l}else for(o=new mo(r),i=0;i<r;++i)t[i]&&(o[i]=rw[a[t[i]-1]++]>>15-t[i]);return o}),Bh=new Eu(288);for(var ii=0;ii<144;++ii)Bh[ii]=8;for(var ii=144;ii<256;++ii)Bh[ii]=9;for(var ii=256;ii<280;++ii)Bh[ii]=7;for(var ii=280;ii<288;++ii)Bh[ii]=8;var p_=new Eu(32);for(var ii=0;ii<32;++ii)p_[ii]=5;var u0e=ym(Bh,9,0),l0e=ym(p_,5,0),Wk=function(t){return(t+7)/8|0},c0e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Eu(t.subarray(e,n))},Hl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},z0=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Rx=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:qk,l:0};if(i==1){var a=new Eu(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(I,O){return I.f-O.f}),n.push({s:-1,f:25001});var o=n[0],u=n[1],l=0,d=1,f=2;for(n[0]={s:-1,f:o.f+u.f,l:o,r:u};d!=i-1;)o=n[n[l].f<n[f].f?l++:f++],u=n[l!=d&&n[l].f<n[f].f?l++:f++],n[d++]={s:-1,f:o.f+u.f,l:o,r:u};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var p=new mo(m+1),_=iw(n[d-1],p,0);if(_>e){var r=0,E=0,y=_-e,v=1<<y;for(s.sort(function(O,B){return p[B.s]-p[O.s]||O.f-B.f});r<i;++r){var S=s[r].s;if(p[S]>e)E+=v-(1<<_-p[S]),p[S]=e;else break}for(E>>=y;E>0;){var T=s[r].s;p[T]<e?E-=1<<e-p[T]++-1:++r}for(;r>=0&&E;--r){var L=s[r].s;p[L]==e&&(--p[L],++E)}_=e}return{t:new Eu(p),l:_}},iw=function(t,e,n){return t.s==-1?Math.max(iw(t.l,e,n+1),iw(t.r,e,n+1)):e[t.s]=n},ZN=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new mo(++e),r=0,i=t[0],s=1,a=function(u){n[r++]=u},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},H0=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Gk=function(t,e,n){var r=n.length,i=Wk(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},JN=function(t,e,n,r,i,s,a,o,u,l,d){Hl(e,d++,n),++i[256];for(var f=Rx(i,15),m=f.t,p=f.l,_=Rx(s,15),E=_.t,y=_.l,v=ZN(m),S=v.c,T=v.n,L=ZN(E),I=L.c,O=L.n,B=new mo(19),V=0;V<S.length;++V)++B[S[V]&31];for(var V=0;V<I.length;++V)++B[I[V]&31];for(var M=Rx(B,7),R=M.t,k=M.l,H=19;H>4&&!R[YN[H-1]];--H);var q=l+5<<3,Y=H0(i,Bh)+H0(s,p_)+a,ae=H0(i,m)+H0(s,E)+a+14+3*H+H0(B,R)+2*B[16]+3*B[17]+7*B[18];if(u>=0&&q<=Y&&q<=ae)return Gk(e,d,t.subarray(u,u+l));var he,oe,Q,xe;if(Hl(e,d,1+(ae<Y)),d+=2,ae<Y){he=ym(m,p,0),oe=m,Q=ym(E,y,0),xe=E;var W=ym(R,k,0);Hl(e,d,T-257),Hl(e,d+5,O-1),Hl(e,d+10,H-4),d+=14;for(var V=0;V<H;++V)Hl(e,d+3*V,R[YN[V]]);d+=3*H;for(var ee=[S,I],z=0;z<2;++z)for(var U=ee[z],V=0;V<U.length;++V){var ce=U[V]&31;Hl(e,d,W[ce]),d+=R[ce],ce>15&&(Hl(e,d,U[V]>>5&127),d+=U[V]>>12)}}else he=u0e,oe=Bh,Q=l0e,xe=p_;for(var V=0;V<o;++V){var _e=r[V];if(_e>255){var ce=_e>>18&31;z0(e,d,he[ce+257]),d+=oe[ce+257],ce>7&&(Hl(e,d,_e>>23&31),d+=dS[ce]);var Z=_e&31;z0(e,d,Q[Z]),d+=xe[Z],Z>3&&(z0(e,d,_e>>5&8191),d+=hS[Z])}else z0(e,d,he[_e]),d+=oe[_e]}return z0(e,d,he[256]),d+oe[256]},d0e=new cS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qk=new Eu(0),h0e=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Eu(r+a+5*(1+Math.ceil(a/7e3))+i),u=o.subarray(r,o.length-i),l=s.l,d=(s.r||0)&7;if(e){d&&(u[0]=s.r>>3);for(var f=d0e[e-1],m=f>>13,p=f&8191,_=(1<<n)-1,E=s.p||new mo(32768),y=s.h||new mo(_+1),v=Math.ceil(n/3),S=2*v,T=function(jt){return(t[jt]^t[jt+1]<<v^t[jt+2]<<S)&_},L=new cS(25e3),I=new mo(288),O=new mo(32),B=0,V=0,M=s.i||0,R=0,k=s.w||0,H=0;M+2<a;++M){var q=T(M),Y=M&32767,ae=y[q];if(E[Y]=ae,y[q]=Y,k<=M){var he=a-M;if((B>7e3||R>24576)&&(he>423||!l)){d=JN(t,u,0,L,I,O,V,R,H,M-H,d),R=B=V=0,H=M;for(var oe=0;oe<286;++oe)I[oe]=0;for(var oe=0;oe<30;++oe)O[oe]=0}var Q=2,xe=0,W=p,ee=Y-ae&32767;if(he>2&&q==T(M-ee))for(var z=Math.min(m,he)-1,U=Math.min(32767,M),ce=Math.min(258,he);ee<=U&&--W&&Y!=ae;){if(t[M+Q]==t[M+Q-ee]){for(var _e=0;_e<ce&&t[M+_e]==t[M+_e-ee];++_e);if(_e>Q){if(Q=_e,xe=ee,_e>z)break;for(var Z=Math.min(ee,_e-2),de=0,oe=0;oe<Z;++oe){var Ae=M-ee+oe&32767,Pe=E[Ae],ke=Ae-Pe&32767;ke>de&&(de=ke,ae=Ae)}}}Y=ae,ae=E[Y],ee+=Y-ae&32767}if(xe){L[R++]=268435456|nw[Q]<<18|XN[xe];var ot=nw[Q]&31,Dt=XN[xe]&31;V+=dS[ot]+hS[Dt],++I[257+ot],++O[Dt],k=M+Q,++B}else L[R++]=t[M],++I[t[M]]}}for(M=Math.max(M,k);M<a;++M)L[R++]=t[M],++I[t[M]];d=JN(t,u,l,L,I,O,V,R,H,M-H,d),l||(s.r=d&7|u[d/8|0]<<3,d-=7,s.h=y,s.p=E,s.i=M,s.w=k)}else{for(var M=s.w||0;M<a+l;M+=65535){var yt=M+65535;yt>=a&&(u[d/8|0]=l,yt=a),d=Gk(u,d+1,t.subarray(M,yt))}s.i=a}return c0e(o,0,r+Wk(d)+i)},$k=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},f0e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Eu(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return h0e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Kk=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},p0e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=$k();i.p(e.dictionary),Kk(t,2,i.d())}};function sw(t,e){e||(e={});var n=$k();n.p(t);var r=f0e(t,e,e.dictionary?6:2,4);return p0e(r,e),Kk(r,r.length-4,n.d()),r}var m0e=typeof TextDecoder<"u"&&new TextDecoder,g0e=0;try{m0e.decode(qk,{stream:!0}),g0e=1}catch{}function v0e(t){if(Array.isArray(t))return t}function _0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);u=!0);}catch(d){l=!0,i=d}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y0e(t,e){if(t){if(typeof t=="string")return QN(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QN(t,e):void 0}}function x0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e4(t,e){return v0e(t)||_0e(t,e)||y0e(t,e)||x0e()}function t4(t,e="utf8"){return new TextDecoder(e).decode(t)}const b0e=new TextEncoder;function E0e(t){return b0e.encode(t)}const w0e=1024*8,A0e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Ix={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class fS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=w0e,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof fS)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Ix[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===A0e&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const u=new Ix[n](o.buffer);return this.offset+=r,u.reverse(),u}const a=new Ix[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return t4(this.readBytes(e))}decodeText(e=1,n="utf8"){return t4(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(E0e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xp(t){let e=t.length;for(;--e>=0;)t[e]=0}const S0e=3,T0e=258,Yk=29,D0e=256,C0e=D0e+1+Yk,Xk=30,N0e=512,L0e=new Array((C0e+2)*2);Xp(L0e);const M0e=new Array(Xk*2);Xp(M0e);const P0e=new Array(N0e);Xp(P0e);const R0e=new Array(T0e-S0e+1);Xp(R0e);const I0e=new Array(Yk);Xp(I0e);const k0e=new Array(Xk);Xp(k0e);const F0e=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var aw=F0e;const O0e=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},B0e=new Uint32Array(O0e()),U0e=(t,e,n,r)=>{const i=B0e,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var Vu=U0e,ow={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zk={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const j0e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var z0e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)j0e(n,r)&&(t[r]=n[r])}}return t},H0e=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},Jk={assign:z0e,flattenChunks:H0e};let Qk=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Qk=!1}const zm=new Uint8Array(256);for(let t=0;t<256;t++)zm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;zm[254]=zm[254]=1;var V0e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const W0e=(t,e)=>{if(e<65534&&t.subarray&&Qk)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var G0e=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=zm[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return W0e(s,i)},q0e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+zm[t[n]]>e?n:e},uw={string2buf:V0e,buf2string:G0e,utf8border:q0e};function $0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var K0e=$0e;const W1=16209,Y0e=16191;var X0e=function(e,n){let r,i,s,a,o,u,l,d,f,m,p,_,E,y,v,S,T,L,I,O,B,V,M,R;const k=e.state;r=e.next_in,M=e.input,i=r+(e.avail_in-5),s=e.next_out,R=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),u=k.dmax,l=k.wsize,d=k.whave,f=k.wnext,m=k.window,p=k.hold,_=k.bits,E=k.lencode,y=k.distcode,v=(1<<k.lenbits)-1,S=(1<<k.distbits)-1;e:do{_<15&&(p+=M[r++]<<_,_+=8,p+=M[r++]<<_,_+=8),T=E[p&v];t:for(;;){if(L=T>>>24,p>>>=L,_-=L,L=T>>>16&255,L===0)R[s++]=T&65535;else if(L&16){I=T&65535,L&=15,L&&(_<L&&(p+=M[r++]<<_,_+=8),I+=p&(1<<L)-1,p>>>=L,_-=L),_<15&&(p+=M[r++]<<_,_+=8,p+=M[r++]<<_,_+=8),T=y[p&S];n:for(;;){if(L=T>>>24,p>>>=L,_-=L,L=T>>>16&255,L&16){if(O=T&65535,L&=15,_<L&&(p+=M[r++]<<_,_+=8,_<L&&(p+=M[r++]<<_,_+=8)),O+=p&(1<<L)-1,O>u){e.msg="invalid distance too far back",k.mode=W1;break e}if(p>>>=L,_-=L,L=s-a,O>L){if(L=O-L,L>d&&k.sane){e.msg="invalid distance too far back",k.mode=W1;break e}if(B=0,V=m,f===0){if(B+=l-L,L<I){I-=L;do R[s++]=m[B++];while(--L);B=s-O,V=R}}else if(f<L){if(B+=l+f-L,L-=f,L<I){I-=L;do R[s++]=m[B++];while(--L);if(B=0,f<I){L=f,I-=L;do R[s++]=m[B++];while(--L);B=s-O,V=R}}}else if(B+=f-L,L<I){I-=L;do R[s++]=m[B++];while(--L);B=s-O,V=R}for(;I>2;)R[s++]=V[B++],R[s++]=V[B++],R[s++]=V[B++],I-=3;I&&(R[s++]=V[B++],I>1&&(R[s++]=V[B++]))}else{B=s-O;do R[s++]=R[B++],R[s++]=R[B++],R[s++]=R[B++],I-=3;while(I>2);I&&(R[s++]=R[B++],I>1&&(R[s++]=R[B++]))}}else if((L&64)===0){T=y[(T&65535)+(p&(1<<L)-1)];continue n}else{e.msg="invalid distance code",k.mode=W1;break e}break}}else if((L&64)===0){T=E[(T&65535)+(p&(1<<L)-1)];continue t}else if(L&32){k.mode=Y0e;break e}else{e.msg="invalid literal/length code",k.mode=W1;break e}break}}while(r<i&&s<o);I=_>>3,r-=I,_-=I<<3,p&=(1<<_)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),k.hold=p,k.bits=_};const $f=15,n4=852,r4=592,i4=0,kx=1,s4=2,Z0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),J0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Q0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eme=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),tme=(t,e,n,r,i,s,a,o)=>{const u=o.bits;let l=0,d=0,f=0,m=0,p=0,_=0,E=0,y=0,v=0,S=0,T,L,I,O,B,V=null,M;const R=new Uint16Array($f+1),k=new Uint16Array($f+1);let H=null,q,Y,ae;for(l=0;l<=$f;l++)R[l]=0;for(d=0;d<r;d++)R[e[n+d]]++;for(p=u,m=$f;m>=1&&R[m]===0;m--);if(p>m&&(p=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<m&&R[f]===0;f++);for(p<f&&(p=f),y=1,l=1;l<=$f;l++)if(y<<=1,y-=R[l],y<0)return-1;if(y>0&&(t===i4||m!==1))return-1;for(k[1]=0,l=1;l<$f;l++)k[l+1]=k[l]+R[l];for(d=0;d<r;d++)e[n+d]!==0&&(a[k[e[n+d]]++]=d);if(t===i4?(V=H=a,M=20):t===kx?(V=Z0e,H=J0e,M=257):(V=Q0e,H=eme,M=0),S=0,d=0,l=f,B=s,_=p,E=0,I=-1,v=1<<p,O=v-1,t===kx&&v>n4||t===s4&&v>r4)return 1;for(;;){q=l-E,a[d]+1<M?(Y=0,ae=a[d]):a[d]>=M?(Y=H[a[d]-M],ae=V[a[d]-M]):(Y=96,ae=0),T=1<<l-E,L=1<<_,f=L;do L-=T,i[B+(S>>E)+L]=q<<24|Y<<16|ae|0;while(L!==0);for(T=1<<l-1;S&T;)T>>=1;if(T!==0?(S&=T-1,S+=T):S=0,d++,--R[l]===0){if(l===m)break;l=e[n+a[d]]}if(l>p&&(S&O)!==I){for(E===0&&(E=p),B+=f,_=l-E,y=1<<_;_+E<m&&(y-=R[_+E],!(y<=0));)_++,y<<=1;if(v+=1<<_,t===kx&&v>n4||t===s4&&v>r4)return 1;I=S&O,i[I]=p<<24|_<<16|B-s|0}}return S!==0&&(i[B+S]=l-E<<24|64<<16|0),o.bits=p,0};var xm=tme;const nme=0,eF=1,tF=2,{Z_FINISH:a4,Z_BLOCK:rme,Z_TREES:G1,Z_OK:Uh,Z_STREAM_END:ime,Z_NEED_DICT:sme,Z_STREAM_ERROR:Wo,Z_DATA_ERROR:nF,Z_MEM_ERROR:rF,Z_BUF_ERROR:ame,Z_DEFLATED:o4}=Zk,o2=16180,u4=16181,l4=16182,c4=16183,d4=16184,h4=16185,f4=16186,p4=16187,m4=16188,g4=16189,m_=16190,Vl=16191,Fx=16192,v4=16193,Ox=16194,_4=16195,y4=16196,x4=16197,b4=16198,q1=16199,$1=16200,E4=16201,w4=16202,A4=16203,S4=16204,T4=16205,Bx=16206,D4=16207,C4=16208,ci=16209,iF=16210,sF=16211,ome=852,ume=592,lme=15,cme=lme,N4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function dme(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<o2||e.mode>sF?1:0},aF=t=>{if(qh(t))return Wo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=o2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ome),e.distcode=e.distdyn=new Int32Array(ume),e.sane=1,e.back=-1,Uh},oF=t=>{if(qh(t))return Wo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,aF(t)},uF=(t,e)=>{let n;if(qh(t))return Wo;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Wo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,oF(t))},lF=(t,e)=>{if(!t)return Wo;const n=new dme;t.state=n,n.strm=t,n.window=null,n.mode=o2;const r=uF(t,e);return r!==Uh&&(t.state=null),r},hme=t=>lF(t,cme);let L4=!0,Ux,jx;const fme=t=>{if(L4){Ux=new Int32Array(512),jx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(xm(eF,t.lens,0,288,Ux,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;xm(tF,t.lens,0,32,jx,0,t.work,{bits:5}),L4=!1}t.lencode=Ux,t.lenbits=9,t.distcode=jx,t.distbits=5},cF=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},pme=(t,e)=>{let n,r,i,s,a,o,u,l,d,f,m,p,_,E,y=0,v,S,T,L,I,O,B,V;const M=new Uint8Array(4);let R,k;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qh(t)||!t.output||!t.input&&t.avail_in!==0)return Wo;n=t.state,n.mode===Vl&&(n.mode=Fx),a=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,l=n.hold,d=n.bits,f=o,m=u,V=Uh;e:for(;;)switch(n.mode){case o2:if(n.wrap===0){n.mode=Fx;break}for(;d<16;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,M[0]=l&255,M[1]=l>>>8&255,n.check=Vu(n.check,M,2,0),l=0,d=0,n.mode=u4;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=ci;break}if((l&15)!==o4){t.msg="unknown compression method",n.mode=ci;break}if(l>>>=4,d-=4,B=(l&15)+8,n.wbits===0&&(n.wbits=B),B>15||B>n.wbits){t.msg="invalid window size",n.mode=ci;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=l&512?g4:Vl,l=0,d=0;break;case u4:for(;d<16;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if(n.flags=l,(n.flags&255)!==o4){t.msg="unknown compression method",n.mode=ci;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ci;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,n.check=Vu(n.check,M,2,0)),l=0,d=0,n.mode=l4;case l4:for(;d<32;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,M[2]=l>>>16&255,M[3]=l>>>24&255,n.check=Vu(n.check,M,4,0)),l=0,d=0,n.mode=c4;case c4:for(;d<16;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,n.check=Vu(n.check,M,2,0)),l=0,d=0,n.mode=d4;case d4:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(M[0]=l&255,M[1]=l>>>8&255,n.check=Vu(n.check,M,2,0)),l=0,d=0}else n.head&&(n.head.extra=null);n.mode=h4;case h4:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(B=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),B)),n.flags&512&&n.wrap&4&&(n.check=Vu(n.check,r,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=f4;case f4:if(n.flags&2048){if(o===0)break e;p=0;do B=r[s+p++],n.head&&B&&n.length<65536&&(n.head.name+=String.fromCharCode(B));while(B&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Vu(n.check,r,p,s)),o-=p,s+=p,B)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=p4;case p4:if(n.flags&4096){if(o===0)break e;p=0;do B=r[s+p++],n.head&&B&&n.length<65536&&(n.head.comment+=String.fromCharCode(B));while(B&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=Vu(n.check,r,p,s)),o-=p,s+=p,B)break e}else n.head&&(n.head.comment=null);n.mode=m4;case m4:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if(n.wrap&4&&l!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ci;break}l=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Vl;break;case g4:for(;d<32;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}t.adler=n.check=N4(l),l=0,d=0,n.mode=m_;case m_:if(n.havedict===0)return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=o,n.hold=l,n.bits=d,sme;t.adler=n.check=1,n.mode=Vl;case Vl:if(e===rme||e===G1)break e;case Fx:if(n.last){l>>>=d&7,d-=d&7,n.mode=Bx;break}for(;d<3;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}switch(n.last=l&1,l>>>=1,d-=1,l&3){case 0:n.mode=v4;break;case 1:if(fme(n),n.mode=q1,e===G1){l>>>=2,d-=2;break e}break;case 2:n.mode=y4;break;case 3:t.msg="invalid block type",n.mode=ci}l>>>=2,d-=2;break;case v4:for(l>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ci;break}if(n.length=l&65535,l=0,d=0,n.mode=Ox,e===G1)break e;case Ox:n.mode=_4;case _4:if(p=n.length,p){if(p>o&&(p=o),p>u&&(p=u),p===0)break e;i.set(r.subarray(s,s+p),a),o-=p,s+=p,u-=p,a+=p,n.length-=p;break}n.mode=Vl;break;case y4:for(;d<14;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if(n.nlen=(l&31)+257,l>>>=5,d-=5,n.ndist=(l&31)+1,l>>>=5,d-=5,n.ncode=(l&15)+4,l>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ci;break}n.have=0,n.mode=x4;case x4:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}n.lens[H[n.have++]]=l&7,l>>>=3,d-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},V=xm(nme,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,V){t.msg="invalid code lengths set",n.mode=ci;break}n.have=0,n.mode=b4;case b4:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[l&(1<<n.lenbits)-1],v=y>>>24,S=y>>>16&255,T=y&65535,!(v<=d);){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if(T<16)l>>>=v,d-=v,n.lens[n.have++]=T;else{if(T===16){for(k=v+2;d<k;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if(l>>>=v,d-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=ci;break}B=n.lens[n.have-1],p=3+(l&3),l>>>=2,d-=2}else if(T===17){for(k=v+3;d<k;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}l>>>=v,d-=v,B=0,p=3+(l&7),l>>>=3,d-=3}else{for(k=v+7;d<k;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}l>>>=v,d-=v,B=0,p=11+(l&127),l>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ci;break}for(;p--;)n.lens[n.have++]=B}}if(n.mode===ci)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ci;break}if(n.lenbits=9,R={bits:n.lenbits},V=xm(eF,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,V){t.msg="invalid literal/lengths set",n.mode=ci;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},V=xm(tF,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,V){t.msg="invalid distances set",n.mode=ci;break}if(n.mode=q1,e===G1)break e;case q1:n.mode=$1;case $1:if(o>=6&&u>=258){t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=o,n.hold=l,n.bits=d,X0e(t,m),a=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,l=n.hold,d=n.bits,n.mode===Vl&&(n.back=-1);break}for(n.back=0;y=n.lencode[l&(1<<n.lenbits)-1],v=y>>>24,S=y>>>16&255,T=y&65535,!(v<=d);){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if(S&&(S&240)===0){for(L=v,I=S,O=T;y=n.lencode[O+((l&(1<<L+I)-1)>>L)],v=y>>>24,S=y>>>16&255,T=y&65535,!(L+v<=d);){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}l>>>=L,d-=L,n.back+=L}if(l>>>=v,d-=v,n.back+=v,n.length=T,S===0){n.mode=T4;break}if(S&32){n.back=-1,n.mode=Vl;break}if(S&64){t.msg="invalid literal/length code",n.mode=ci;break}n.extra=S&15,n.mode=E4;case E4:if(n.extra){for(k=n.extra;d<k;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=w4;case w4:for(;y=n.distcode[l&(1<<n.distbits)-1],v=y>>>24,S=y>>>16&255,T=y&65535,!(v<=d);){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if((S&240)===0){for(L=v,I=S,O=T;y=n.distcode[O+((l&(1<<L+I)-1)>>L)],v=y>>>24,S=y>>>16&255,T=y&65535,!(L+v<=d);){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}l>>>=L,d-=L,n.back+=L}if(l>>>=v,d-=v,n.back+=v,S&64){t.msg="invalid distance code",n.mode=ci;break}n.offset=T,n.extra=S&15,n.mode=A4;case A4:if(n.extra){for(k=n.extra;d<k;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ci;break}n.mode=S4;case S4:if(u===0)break e;if(p=m-u,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ci;break}p>n.wnext?(p-=n.wnext,_=n.wsize-p):_=n.wnext-p,p>n.length&&(p=n.length),E=n.window}else E=i,_=a-n.offset,p=n.length;p>u&&(p=u),u-=p,n.length-=p;do i[a++]=E[_++];while(--p);n.length===0&&(n.mode=$1);break;case T4:if(u===0)break e;i[a++]=n.length,u--,n.mode=$1;break;case Bx:if(n.wrap){for(;d<32;){if(o===0)break e;o--,l|=r[s++]<<d,d+=8}if(m-=u,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Vu(n.check,i,m,a-m):aw(n.check,i,m,a-m)),m=u,n.wrap&4&&(n.flags?l:N4(l))!==n.check){t.msg="incorrect data check",n.mode=ci;break}l=0,d=0}n.mode=D4;case D4:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,l+=r[s++]<<d,d+=8}if(n.wrap&4&&l!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ci;break}l=0,d=0}n.mode=C4;case C4:V=ime;break e;case ci:V=nF;break e;case iF:return rF;case sF:default:return Wo}return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=o,n.hold=l,n.bits=d,(n.wsize||m!==t.avail_out&&n.mode<ci&&(n.mode<Bx||e!==a4))&&cF(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Vu(n.check,i,m,t.next_out-m):aw(n.check,i,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Vl?128:0)+(n.mode===q1||n.mode===Ox?256:0),(f===0&&m===0||e===a4)&&V===Uh&&(V=ame),V},mme=t=>{if(qh(t))return Wo;let e=t.state;return e.window&&(e.window=null),t.state=null,Uh},gme=(t,e)=>{if(qh(t))return Wo;const n=t.state;return(n.wrap&2)===0?Wo:(n.head=e,e.done=!1,Uh)},vme=(t,e)=>{const n=e.length;let r,i,s;return qh(t)||(r=t.state,r.wrap!==0&&r.mode!==m_)?Wo:r.mode===m_&&(i=1,i=aw(i,e,n,0),i!==r.check)?nF:(s=cF(t,e,n,n),s?(r.mode=iF,rF):(r.havedict=1,Uh))};var _me=oF,yme=uF,xme=aF,bme=hme,Eme=lF,wme=pme,Ame=mme,Sme=gme,Tme=vme,Dme="pako inflate (from Nodeca project)",Gl={inflateReset:_me,inflateReset2:yme,inflateResetKeep:xme,inflateInit:bme,inflateInit2:Eme,inflate:wme,inflateEnd:Ame,inflateGetHeader:Sme,inflateSetDictionary:Tme,inflateInfo:Dme};function Cme(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Nme=Cme;const dF=Object.prototype.toString,{Z_NO_FLUSH:Lme,Z_FINISH:Mme,Z_OK:Hm,Z_STREAM_END:zx,Z_NEED_DICT:Hx,Z_STREAM_ERROR:Pme,Z_DATA_ERROR:M4,Z_MEM_ERROR:Rme}=Zk;function mg(t){this.options=Jk.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K0e,this.strm.avail_out=0;let n=Gl.inflateInit2(this.strm,e.windowBits);if(n!==Hm)throw new Error(ow[n]);if(this.header=new Nme,Gl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=uw.string2buf(e.dictionary):dF.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Gl.inflateSetDictionary(this.strm,e.dictionary),n!==Hm)))throw new Error(ow[n])}mg.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Mme:Lme,dF.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Gl.inflate(n,a),s===Hx&&i&&(s=Gl.inflateSetDictionary(n,i),s===Hm?s=Gl.inflate(n,a):s===M4&&(s=Hx));n.avail_in>0&&s===zx&&n.state.wrap>0&&t[n.next_in]!==0;)Gl.inflateReset(n),s=Gl.inflate(n,a);switch(s){case Pme:case M4:case Hx:case Rme:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===zx))if(this.options.to==="string"){let u=uw.utf8border(n.output,n.next_out),l=n.next_out-u,d=uw.buf2string(n.output,u);n.next_out=l,n.avail_out=r-l,l&&n.output.set(n.output.subarray(u,u+l),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Hm&&o===0)){if(s===zx)return s=Gl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};mg.prototype.onData=function(t){this.chunks.push(t)};mg.prototype.onEnd=function(t){t===Hm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jk.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ime(t,e){const n=new mg(e);if(n.push(t),n.err)throw n.msg||ow[n.err];return n.result}var kme=mg,Fme=Ime,Ome={Inflate:kme,inflate:Fme};const{Inflate:Bme,inflate:Ume}=Ome;var P4=Bme,jme=Ume;const hF=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;hF[t]=e}const R4=4294967295;function zme(t,e,n){let r=t;for(let i=0;i<n;i++)r=hF[(r^e[i])&255]^r>>>8;return r}function Hme(t,e){return(zme(R4,t,e)^R4)>>>0}function I4(t,e,n){const r=t.readUint32(),i=Hme(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function fF(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function pF(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function mF(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function gF(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function vF(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+Vme(e[s-i],n[s],n[s-i])&255}}function Vme(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function Wme(t,e,n,r,i,s){switch(t){case 0:fF(e,n,i);break;case 1:pF(e,n,i,s);break;case 2:mF(e,n,r,i);break;case 3:gF(e,n,r,i,s);break;case 4:vF(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Gme=new Uint16Array([255]),qme=new Uint8Array(Gme.buffer),$me=qme[0]===255;function Kme(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,u=new Uint8Array(r*n*o);let l=0;for(let d=0;d<7;d++){const f=a[d],m=Math.ceil((n-f.x)/f.xStep),p=Math.ceil((r-f.y)/f.yStep);if(m<=0||p<=0)continue;const _=m*o,E=new Uint8Array(_);for(let y=0;y<p;y++){const v=e[l++],S=e.subarray(l,l+_);l+=_;const T=new Uint8Array(_);Wme(v,S,T,E,_,o),E.set(T);for(let L=0;L<m;L++){const I=f.x+L*f.xStep,O=f.y+y*f.yStep;if(!(I>=n||O>=r))for(let B=0;B<o;B++)u[(O*n+I)*o+B]=T[L*o+B]}}}if(s===16){const d=new Uint16Array(u.buffer);if($me)for(let f=0;f<d.length;f++)d[f]=Yme(d[f]);return d}else return u}function Yme(t){return(t&255)<<8|t>>8&255}const Xme=new Uint16Array([255]),Zme=new Uint8Array(Xme.buffer),Jme=Zme[0]===255,Qme=new Uint8Array(0);function k4(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),u=new Uint8Array(r*o);let l=Qme,d=0,f,m;for(let p=0;p<r;p++){switch(f=e.subarray(d+1,d+1+o),m=u.subarray(p*o,(p+1)*o),e[d]){case 0:fF(f,m,o);break;case 1:pF(f,m,o,a);break;case 2:mF(f,m,l,o);break;case 3:gF(f,m,l,o,a);break;case 4:vF(f,m,l,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}l=m,d+=o+1}if(s===16){const p=new Uint16Array(u.buffer);if(Jme)for(let _=0;_<p.length;_++)p[_]=ege(p[_]);return p}else return u}function ege(t){return(t&255)<<8|t>>8&255}const xv=Uint8Array.of(137,80,78,71,13,10,26,10);function F4(t){if(!tge(t.readBytes(xv.length)))throw new Error("wrong PNG signature")}function tge(t){if(t.length<xv.length)return!1;for(let e=0;e<xv.length;e++)if(t[e]!==xv[e])return!1;return!0}const nge="tEXt",rge=0,_F=new TextDecoder("latin1");function ige(t){if(age(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const sge=/^[\u0000-\u00FF]*$/;function age(t){if(!sge.test(t))throw new Error("invalid latin1 text")}function oge(t,e,n){const r=yF(e);t[r]=uge(e,n-r.length-1)}function yF(t){for(t.mark();t.readByte()!==rge;);const e=t.offset;t.reset();const n=_F.decode(t.readBytes(e-t.offset-1));return t.skip(1),ige(n),n}function uge(t,e){return _F.decode(t.readBytes(e))}const lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Vx={UNKNOWN:-1,DEFLATE:0},O4={UNKNOWN:-1,ADAPTIVE:0},Wx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},K1={NONE:0,BACKGROUND:1,PREVIOUS:2},Gx={SOURCE:0,OVER:1};class lge extends fS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new P4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Vx.UNKNOWN,this._filterMethod=O4.UNKNOWN,this._interlaceMethod=Wx.UNKNOWN,this._colorType=lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(F4(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(F4(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case nge:oge(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?I4(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?I4(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=cge(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case lo.GREYSCALE:r=1;break;case lo.TRUECOLOUR:r=3;break;case lo.INDEXED_COLOUR:r=1;break;case lo.GREYSCALE_ALPHA:r=2;break;case lo.TRUECOLOUR_ALPHA:r=4;break;case lo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Vx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case lo.GREYSCALE:case lo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case lo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case lo.UNKNOWN:case lo.GREYSCALE_ALPHA:case lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=yF(this),r=this.readUint8();if(r!==Vx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:jme(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=k4({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case K1.NONE:break;case K1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case K1.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(s,a)=>{const o=((s+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,u=(s*n.width+a)*this._png.channels;return{index:o,frameIndex:u}};switch(n.blendOp){case Gx.SOURCE:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:u}=i(s,a);for(let l=0;l<this._png.channels;l++)e.data[o+l]=n.data[u+l]}break;case Gx.OVER:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:u}=i(s,a);for(let l=0;l<this._png.channels;l++){const d=n.data[u+this._png.channels-1]/r,f=l%(this._png.channels-1)===0?1:n.data[u+l],m=Math.floor(d*f+(1-d)*e.data[o+l]);e.data[o+l]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==O4.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Wx.NO_INTERLACE)this._png.data=k4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Wx.ADAM7)this._png.data=Kme({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:K1.NONE,blendOp:Gx.SOURCE,data:e}),this._inflator=new P4,this._writingDataChunks=!1}}function cge(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var B4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(B4||(B4={}));function dge(t,e){return new lge(t,e).decode()}var zn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function qx(){zn.console&&typeof zn.console.log=="function"&&zn.console.log.apply(zn.console,arguments)}var Gr={log:qx,warn:function(t){zn.console&&(typeof zn.console.warn=="function"?zn.console.warn.apply(zn.console,arguments):qx.call(null,arguments))},error:function(t){zn.console&&(typeof zn.console.error=="function"?zn.console.error.apply(zn.console,arguments):qx(t))}};function $x(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){hh(r.response,e,n)},r.onerror=function(){Gr.error("could not download file")},r.send()}function U4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Y1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var hh=zn.saveAs||((typeof window>"u"?"undefined":Or(window))!=="object"||window!==zn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=zn.URL||zn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?U4(i.href)?$x(t,e,n):Y1(i,i.target="_blank"):Y1(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Y1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(U4(t))$x(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Y1(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Or(s)!=="object"&&(Gr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return $x(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(zn.HTMLElement)||zn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Or(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var u=zn.URL||zn.webkitURL,l=u.createObjectURL(t);r?r.location=l:location.href=l,r=null,setTimeout(function(){u.revokeObjectURL(l)},4e4)}});function xF(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),l.length==1&&(l="0"+l),"#"+o+u+l}}var bv=zn.atob.bind(zn),j4=zn.btoa.bind(zn);function Kx(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=na(n,r,i,s,e[0],7,-680876936),s=na(s,n,r,i,e[1],12,-389564586),i=na(i,s,n,r,e[2],17,606105819),r=na(r,i,s,n,e[3],22,-1044525330),n=na(n,r,i,s,e[4],7,-176418897),s=na(s,n,r,i,e[5],12,1200080426),i=na(i,s,n,r,e[6],17,-1473231341),r=na(r,i,s,n,e[7],22,-45705983),n=na(n,r,i,s,e[8],7,1770035416),s=na(s,n,r,i,e[9],12,-1958414417),i=na(i,s,n,r,e[10],17,-42063),r=na(r,i,s,n,e[11],22,-1990404162),n=na(n,r,i,s,e[12],7,1804603682),s=na(s,n,r,i,e[13],12,-40341101),i=na(i,s,n,r,e[14],17,-1502002290),n=ra(n,r=na(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ra(s,n,r,i,e[6],9,-1069501632),i=ra(i,s,n,r,e[11],14,643717713),r=ra(r,i,s,n,e[0],20,-373897302),n=ra(n,r,i,s,e[5],5,-701558691),s=ra(s,n,r,i,e[10],9,38016083),i=ra(i,s,n,r,e[15],14,-660478335),r=ra(r,i,s,n,e[4],20,-405537848),n=ra(n,r,i,s,e[9],5,568446438),s=ra(s,n,r,i,e[14],9,-1019803690),i=ra(i,s,n,r,e[3],14,-187363961),r=ra(r,i,s,n,e[8],20,1163531501),n=ra(n,r,i,s,e[13],5,-1444681467),s=ra(s,n,r,i,e[2],9,-51403784),i=ra(i,s,n,r,e[7],14,1735328473),n=ia(n,r=ra(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=ia(s,n,r,i,e[8],11,-2022574463),i=ia(i,s,n,r,e[11],16,1839030562),r=ia(r,i,s,n,e[14],23,-35309556),n=ia(n,r,i,s,e[1],4,-1530992060),s=ia(s,n,r,i,e[4],11,1272893353),i=ia(i,s,n,r,e[7],16,-155497632),r=ia(r,i,s,n,e[10],23,-1094730640),n=ia(n,r,i,s,e[13],4,681279174),s=ia(s,n,r,i,e[0],11,-358537222),i=ia(i,s,n,r,e[3],16,-722521979),r=ia(r,i,s,n,e[6],23,76029189),n=ia(n,r,i,s,e[9],4,-640364487),s=ia(s,n,r,i,e[12],11,-421815835),i=ia(i,s,n,r,e[15],16,530742520),n=sa(n,r=ia(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=sa(s,n,r,i,e[7],10,1126891415),i=sa(i,s,n,r,e[14],15,-1416354905),r=sa(r,i,s,n,e[5],21,-57434055),n=sa(n,r,i,s,e[12],6,1700485571),s=sa(s,n,r,i,e[3],10,-1894986606),i=sa(i,s,n,r,e[10],15,-1051523),r=sa(r,i,s,n,e[1],21,-2054922799),n=sa(n,r,i,s,e[8],6,1873313359),s=sa(s,n,r,i,e[15],10,-30611744),i=sa(i,s,n,r,e[6],15,-1560198380),r=sa(r,i,s,n,e[13],21,1309151649),n=sa(n,r,i,s,e[4],6,-145523070),s=sa(s,n,r,i,e[11],10,-1120210379),i=sa(i,s,n,r,e[2],15,718787259),r=sa(r,i,s,n,e[9],21,-343485551),t[0]=fd(n,t[0]),t[1]=fd(r,t[1]),t[2]=fd(i,t[2]),t[3]=fd(s,t[3])}function u2(t,e,n,r,i,s){return e=fd(fd(e,t),fd(r,s)),fd(e<<i|e>>>32-i,n)}function na(t,e,n,r,i,s,a){return u2(e&n|~e&r,t,e,i,s,a)}function ra(t,e,n,r,i,s,a){return u2(e&r|n&~r,t,e,i,s,a)}function ia(t,e,n,r,i,s,a){return u2(e^n^r,t,e,i,s,a)}function sa(t,e,n,r,i,s,a){return u2(n^(e|~r),t,e,i,s,a)}function bF(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Kx(r,hge(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Kx(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Kx(r,i),r}function hge(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var z4="0123456789abcdef".split("");function fge(t){for(var e="",n=0;n<4;n++)e+=z4[t>>8*n+4&15]+z4[t>>8*n&15];return e}function pge(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function lw(t){return bF(t).map(pge).join("")}var mge=(function(t){for(var e=0;e<t.length;e++)t[e]=fge(t[e]);return t.join("")})(bF("hello"))!="5d41402abc4b2a76b9719d911017c592";function fd(t,e){if(mge){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function cw(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],u=0;u<256;u++)o[u]=u;var l=0;for(u=0;u<256;u++){var d=o[u];l=(l+d+a.charCodeAt(u))%256,o[u]=o[l],o[l]=d}n=t,r=o}else o=r;var f=e.length,m=0,p=0,_="";for(u=0;u<f;u++)p=(p+(d=o[m=(m+1)%256]))%256,o[m]=o[p],o[p]=d,a=o[(o[m]+o[p])%256],_+=String.fromCharCode(e.charCodeAt(u)^a);return _}var H4={print:4,modify:8,copy:16,"annot-forms":32};function Qf(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(H4.perm!==void 0)throw new Error("Invalid permission: "+o);i+=H4[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=lw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=cw(this.encryptionKey,this.padding)}function ep(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function V4(t){if(Or(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){zn.console&&Gr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function g_(t){if(!(this instanceof g_))return new g_(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function EF(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function yh(t,e,n,r,i){if(!(this instanceof yh))return new yh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,EF.call(this,r,i)}function cp(t,e,n,r,i){if(!(this instanceof cp))return new cp(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,EF.call(this,r,i)}function Sn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,u=16,l="S",d=null;Or(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),l=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=V4;var _="1.3",E=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(C){_=C};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var v=p.__private__.getPageFormat=function(C){return y[C]};i=i||"a4";var S="compat",T="advanced",L=S;function I(){this.saveGraphicsState(),le(new cn(Ze,0,0,-Ze,0,La()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),l="n",L=T}function O(){this.restoreGraphicsState(),l="S",L=S}var B=p.__private__.combineFontStyleAndFontWeight=function(C,K){if(C=="bold"&&K=="normal"||C=="bold"&&K==400||C=="normal"&&K=="italic"||C=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(C=K==400||K==="normal"?C==="italic"?"italic":"normal":K!=700&&K!=="bold"||C!=="normal"?(K==700?"bold":K)+""+C:"bold"),C};p.advancedAPI=function(C){var K=L===S;return K&&I.call(this),typeof C!="function"||(C(this),K&&O.call(this)),this},p.compatAPI=function(C){var K=L===T;return K&&O.call(this),typeof C!="function"||(C(this),K&&I.call(this)),this},p.isAdvancedAPI=function(){return L===T};var V,M=function(C){if(L!==T)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=p.roundToPrecision=p.__private__.roundToPrecision=function(C,K){var ye=e||K;if(isNaN(C)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(ye).replace(/0+$/,"")};V=p.hpf=p.__private__.hpf=typeof u=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,u)}:u==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return R(C,16)};var k=p.f2=p.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return R(C,2)},H=p.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return R(C,3)},q=p.scale=p.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return L===S?C*Ze:L===T?C:void 0},Y=function(C){return q((function(K){return L===S?La()-K:L===T?K:void 0})(C))};p.__private__.setPrecision=p.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(e=parseInt(C,10))};var ae,he="00000000000000000000000000000000",oe=p.__private__.getFileId=function(){return he},Q=p.__private__.setFileId=function(C){return he=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Rn=new Qf(d.userPermissions,d.userPassword,d.ownerPassword,he)),he};p.setFileId=function(C){return Q(C),this},p.getFileId=function(){return oe()};var xe=p.__private__.convertDateToPDFDate=function(C){var K=C.getTimezoneOffset(),ye=K<0?"+":"-",Me=Math.floor(Math.abs(K/60)),je=Math.abs(K%60),mt=[ye,ce(Me),"'",ce(je),"'"].join("");return["D:",C.getFullYear(),ce(C.getMonth()+1),ce(C.getDate()),ce(C.getHours()),ce(C.getMinutes()),ce(C.getSeconds()),mt].join("")},W=p.__private__.convertPDFDateToDate=function(C){var K=parseInt(C.substr(2,4),10),ye=parseInt(C.substr(6,2),10)-1,Me=parseInt(C.substr(8,2),10),je=parseInt(C.substr(10,2),10),mt=parseInt(C.substr(12,2),10),Ct=parseInt(C.substr(14,2),10);return new Date(K,ye,Me,je,mt,Ct,0)},ee=p.__private__.setCreationDate=function(C){var K;if(C===void 0&&(C=new Date),C instanceof Date)K=xe(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=C}return ae=K},z=p.__private__.getCreationDate=function(C){var K=ae;return C==="jsDate"&&(K=W(ae)),K};p.setCreationDate=function(C){return ee(C),this},p.getCreationDate=function(C){return z(C)};var U,ce=p.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},_e=p.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},Z=0,de=[],Ae=[],Pe=0,ke=[],ot=[],Dt=!1,yt=Ae;p.__private__.setCustomOutputDestination=function(C){Dt=!0,yt=C};var jt=function(C){Dt||(yt=C)};p.__private__.resetCustomOutputDestination=function(){Dt=!1,yt=Ae};var le=p.__private__.out=function(C){return C=C.toString(),Pe+=C.length+1,yt.push(C),yt},pt=p.__private__.write=function(C){return le(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},rn=p.__private__.getArrayBuffer=function(C){for(var K=C.length,ye=new ArrayBuffer(K),Me=new Uint8Array(ye);K--;)Me[K]=C.charCodeAt(K);return ye},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ee};var ct=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(C){return ct=L===T?C/Ze:C,this};var zt,Mt=p.__private__.getFontSize=p.getFontSize=function(){return L===S?ct:ct*Ze},xt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(C){return xt=C,this},p.__private__.getR2L=p.getR2L=function(){return xt};var se,G=p.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))zt=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');zt=C}else zt=parseInt(C,10)};p.__private__.getZoomMode=function(){return zt};var De,ge=p.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');se=C};p.__private__.getPageMode=function(){return se};var Ce=p.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');De=C};p.__private__.getLayoutMode=function(){return De},p.__private__.setDisplayMode=p.setDisplayMode=function(C,K,ye){return G(C),Ce(K),ge(ye),this};var Le={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(C){if(Object.keys(Le).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Le[C]},p.__private__.getDocumentProperties=function(){return Le},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(C){for(var K in Le)Le.hasOwnProperty(K)&&C[K]&&(Le[K]=C[K]);return this},p.__private__.setDocumentProperty=function(C,K){if(Object.keys(Le).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Le[C]=K};var Ve,Ze,st,Yt,et,ft={},Tt={},Nt=[],nt={},qt={},we={},gt={},vt=null,bt=0,Qe=[],rt=new V4(p),Ht=t.hotfixes||[],un={},qn={},Fn=[],cn=function C(K,ye,Me,je,mt,Ct){if(!(this instanceof C))return new C(K,ye,Me,je,mt,Ct);isNaN(K)&&(K=1),isNaN(ye)&&(ye=0),isNaN(Me)&&(Me=0),isNaN(je)&&(je=1),isNaN(mt)&&(mt=0),isNaN(Ct)&&(Ct=0),this._matrix=[K,ye,Me,je,mt,Ct]};Object.defineProperty(cn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(cn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(cn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(cn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(cn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(cn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(cn.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(cn.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(cn.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(cn.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(cn.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(cn.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(cn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(cn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(cn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(cn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),cn.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(C)},cn.prototype.multiply=function(C){var K=C.sx*this.sx+C.shy*this.shx,ye=C.sx*this.shy+C.shy*this.sy,Me=C.shx*this.sx+C.sy*this.shx,je=C.shx*this.shy+C.sy*this.sy,mt=C.tx*this.sx+C.ty*this.shx+this.tx,Ct=C.tx*this.shy+C.ty*this.sy+this.ty;return new cn(K,ye,Me,je,mt,Ct)},cn.prototype.decompose=function(){var C=this.sx,K=this.shy,ye=this.shx,Me=this.sy,je=this.tx,mt=this.ty,Ct=Math.sqrt(C*C+K*K),fn=(C/=Ct)*ye+(K/=Ct)*Me;ye-=C*fn,Me-=K*fn;var bn=Math.sqrt(ye*ye+Me*Me);return fn/=bn,C*(Me/=bn)<K*(ye/=bn)&&(C=-C,K=-K,fn=-fn,Ct=-Ct),{scale:new cn(Ct,0,0,bn,0,0),translate:new cn(1,0,0,1,je,mt),rotate:new cn(C,K,-K,C,0,0),skew:new cn(1,0,fn,1,0,0)}},cn.prototype.toString=function(C){return this.join(" ")},cn.prototype.inversed=function(){var C=this.sx,K=this.shy,ye=this.shx,Me=this.sy,je=this.tx,mt=this.ty,Ct=1/(C*Me-K*ye),fn=Me*Ct,bn=-K*Ct,Un=-ye*Ct,Wn=C*Ct;return new cn(fn,bn,Un,Wn,-fn*je-Un*mt,-bn*je-Wn*mt)},cn.prototype.applyToPoint=function(C){var K=C.x*this.sx+C.y*this.shx+this.tx,ye=C.x*this.shy+C.y*this.sy+this.ty;return new Da(K,ye)},cn.prototype.applyToRectangle=function(C){var K=this.applyToPoint(C),ye=this.applyToPoint(new Da(C.x+C.w,C.y+C.h));return new pl(K.x,K.y,ye.x-K.x,ye.y-K.y)},cn.prototype.clone=function(){var C=this.sx,K=this.shy,ye=this.shx,Me=this.sy,je=this.tx,mt=this.ty;return new cn(C,K,ye,Me,je,mt)},p.Matrix=cn;var Vr=p.matrixMult=function(C,K){return K.multiply(C)},Ne=new cn(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ne;var Be=function(C,K){if(!qt[C]){var ye=(K instanceof yh?"Sh":"P")+(Object.keys(nt).length+1).toString(10);K.id=ye,qt[C]=ye,nt[ye]=K,rt.publish("addPattern",K)}};p.ShadingPattern=yh,p.TilingPattern=cp,p.addShadingPattern=function(C,K){return M("addShadingPattern()"),Be(C,K),this},p.beginTilingPattern=function(C){M("beginTilingPattern()"),Ca(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},p.endTilingPattern=function(C,K){M("endTilingPattern()"),K.stream=ot[U].join(`
`),Be(C,K),rt.publish("endTilingPattern",K),Fn.pop().restore()};var Xe,ht=p.__private__.newObject=function(){var C=Pt();return Zt(C,!0),C},Pt=p.__private__.newObjectDeferred=function(){return Z++,de[Z]=function(){return Pe},Z},Zt=function(C,K){return K=typeof K=="boolean"&&K,de[C]=Pe,K&&le(C+" 0 obj"),C},dn=p.__private__.newAdditionalObject=function(){var C={objId:Pt(),content:""};return ke.push(C),C},Qt=Pt(),en=Pt(),Jt=p.__private__.decodeColorString=function(C){var K=C.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var ye=parseFloat(K[0]);K=[ye,ye,ye,"r"]}for(var Me="#",je=0;je<3;je++)Me+=("0"+Math.floor(255*parseFloat(K[je])).toString(16)).slice(-2);return Me},Kt=p.__private__.encodeColorString=function(C){var K;typeof C=="string"&&(C={ch1:C});var ye=C.ch1,Me=C.ch2,je=C.ch3,mt=C.ch4,Ct=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var fn=new xF(ye);if(fn.ok)ye=fn.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var bn=parseInt(ye.substr(1),16);ye=bn>>16&255,Me=bn>>8&255,je=255&bn}if(Me===void 0||mt===void 0&&ye===Me&&Me===je)K=typeof ye=="string"?ye+" "+Ct[0]:C.precision===2?k(ye/255)+" "+Ct[0]:H(ye/255)+" "+Ct[0];else if(mt===void 0||Or(mt)==="object"){if(mt&&!isNaN(mt.a)&&mt.a===0)return["1.","1.","1.",Ct[1]].join(" ");K=typeof ye=="string"?[ye,Me,je,Ct[1]].join(" "):C.precision===2?[k(ye/255),k(Me/255),k(je/255),Ct[1]].join(" "):[H(ye/255),H(Me/255),H(je/255),Ct[1]].join(" ")}else K=typeof ye=="string"?[ye,Me,je,mt,Ct[2]].join(" "):C.precision===2?[k(ye),k(Me),k(je),k(mt),Ct[2]].join(" "):[H(ye),H(Me),H(je),H(mt),Ct[2]].join(" ");return K},An=p.__private__.getFilters=function(){return a},Cn=p.__private__.putStream=function(C){var K=(C=C||{}).data||"",ye=C.filters||An(),Me=C.alreadyAppliedFilters||[],je=C.addLength1||!1,mt=K.length,Ct=C.objectId,fn=function(Ui){return Ui};if(d!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(fn=Rn.encryptor(Ct,0));var bn={};ye===!0&&(ye=["FlateEncode"]);var Un=C.additionalKeyValues||[],Wn=(bn=Sn.API.processDataByFilters!==void 0?Sn.API.processDataByFilters(K,ye):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(bn.data.length!==0&&(Un.push({key:"Length",value:bn.data.length}),je===!0&&Un.push({key:"Length1",value:mt})),Wn.length!=0)if(Wn.split("/").length-1==1)Un.push({key:"Filter",value:Wn});else{Un.push({key:"Filter",value:"["+Wn+"]"});for(var pr=0;pr<Un.length;pr+=1)if(Un[pr].key==="DecodeParms"){for(var ni=[],Di=0;Di<bn.reverseChain.split("/").length-1;Di+=1)ni.push("null");ni.push(Un[pr].value),Un[pr].value="["+ni.join(" ")+"]"}}le("<<");for(var Br=0;Br<Un.length;Br++)le("/"+Un[Br].key+" "+Un[Br].value);le(">>"),bn.data.length!==0&&(le("stream"),le(fn(bn.data)),le("endstream"))},Dr=p.__private__.putPage=function(C){var K=C.number,ye=C.data,Me=C.objId,je=C.contentsObjId;Zt(Me,!0),le("<</Type /Page"),le("/Parent "+C.rootDictionaryObjId+" 0 R"),le("/Resources "+C.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(V(C.mediaBox.bottomLeftX))+" "+parseFloat(V(C.mediaBox.bottomLeftY))+" "+V(C.mediaBox.topRightX)+" "+V(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&le("/CropBox ["+V(C.cropBox.bottomLeftX)+" "+V(C.cropBox.bottomLeftY)+" "+V(C.cropBox.topRightX)+" "+V(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&le("/BleedBox ["+V(C.bleedBox.bottomLeftX)+" "+V(C.bleedBox.bottomLeftY)+" "+V(C.bleedBox.topRightX)+" "+V(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&le("/TrimBox ["+V(C.trimBox.bottomLeftX)+" "+V(C.trimBox.bottomLeftY)+" "+V(C.trimBox.topRightX)+" "+V(C.trimBox.topRightY)+"]"),C.artBox!==null&&le("/ArtBox ["+V(C.artBox.bottomLeftX)+" "+V(C.artBox.bottomLeftY)+" "+V(C.artBox.topRightX)+" "+V(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&le("/UserUnit "+C.userUnit),rt.publish("putPage",{objId:Me,pageContext:Qe[K],pageNumber:K,page:ye}),le("/Contents "+je+" 0 R"),le(">>"),le("endobj");var mt=ye.join(`
`);return L===T&&(mt+=`
Q`),Zt(je,!0),Cn({data:mt,filters:An(),objectId:je}),le("endobj"),Me},Jn=p.__private__.putPages=function(){var C,K,ye=[];for(C=1;C<=bt;C++)Qe[C].objId=Pt(),Qe[C].contentsObjId=Pt();for(C=1;C<=bt;C++)ye.push(Dr({number:C,data:ot[C],objId:Qe[C].objId,contentsObjId:Qe[C].contentsObjId,mediaBox:Qe[C].mediaBox,cropBox:Qe[C].cropBox,bleedBox:Qe[C].bleedBox,trimBox:Qe[C].trimBox,artBox:Qe[C].artBox,userUnit:Qe[C].userUnit,rootDictionaryObjId:Qt,resourceDictionaryObjId:en}));Zt(Qt,!0),le("<</Type /Pages");var Me="/Kids [";for(K=0;K<bt;K++)Me+=ye[K]+" 0 R ";le(Me+"]"),le("/Count "+bt),le(">>"),le("endobj"),rt.publish("postPutPages")},$n=function(C){rt.publish("putFont",{font:C,out:le,newObject:ht,putStream:Cn}),C.isAlreadyPutted!==!0&&(C.objectNumber=ht(),le("<<"),le("/Type /Font"),le("/BaseFont /"+ep(C.postScriptName)),le("/Subtype /Type1"),typeof C.encoding=="string"&&le("/Encoding /"+C.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},gr=function(C){C.objectNumber=ht();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[V(C.x),V(C.y),V(C.x+C.width),V(C.y+C.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var ye=C.pages[1].join(`
`);Cn({data:ye,additionalKeyValues:K,objectId:C.objectNumber}),le("endobj")},gs=function(C,K){K||(K=21);var ye=ht(),Me=(function(Ct,fn){var bn,Un=[],Wn=1/(fn-1);for(bn=0;bn<1;bn+=Wn)Un.push(bn);if(Un.push(1),Ct[0].offset!=0){var pr={offset:0,color:Ct[0].color};Ct.unshift(pr)}if(Ct[Ct.length-1].offset!=1){var ni={offset:1,color:Ct[Ct.length-1].color};Ct.push(ni)}for(var Di="",Br=0,Ui=0;Ui<Un.length;Ui++){for(bn=Un[Ui];bn>Ct[Br+1].offset;)Br++;var mi=Ct[Br].offset,ss=(bn-mi)/(Ct[Br+1].offset-mi),Ko=Ct[Br].color,Za=Ct[Br+1].color;Di+=_e(Math.round((1-ss)*Ko[0]+ss*Za[0]).toString(16))+_e(Math.round((1-ss)*Ko[1]+ss*Za[1]).toString(16))+_e(Math.round((1-ss)*Ko[2]+ss*Za[2]).toString(16))}return Di.trim()})(C.colors,K),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+K+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Cn({data:Me,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),le("endobj"),C.objectNumber=ht(),le("<< /ShadingType "+C.type),le("/ColorSpace /DeviceRGB");var mt="/Coords ["+V(parseFloat(C.coords[0]))+" "+V(parseFloat(C.coords[1]))+" ";C.type===2?mt+=V(parseFloat(C.coords[2]))+" "+V(parseFloat(C.coords[3])):mt+=V(parseFloat(C.coords[2]))+" "+V(parseFloat(C.coords[3]))+" "+V(parseFloat(C.coords[4]))+" "+V(parseFloat(C.coords[5])),le(mt+="]"),C.matrix&&le("/Matrix ["+C.matrix.toString()+"]"),le("/Function "+ye+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Hs=function(C,K){var ye=Pt(),Me=ht();K.push({resourcesOid:ye,objectOid:Me}),C.objectNumber=Me;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+C.boundingBox.map(V).join(" ")+"]"}),je.push({key:"XStep",value:V(C.xStep)}),je.push({key:"YStep",value:V(C.yStep)}),je.push({key:"Resources",value:ye+" 0 R"}),C.matrix&&je.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Cn({data:C.stream,additionalKeyValues:je,objectId:C.objectNumber}),le("endobj")},Rs=function(C){for(var K in C.objectNumber=ht(),le("<<"),C)switch(K){case"opacity":le("/ca "+k(C[K]));break;case"stroke-opacity":le("/CA "+k(C[K]))}le(">>"),le("endobj")},tr=function(C){Zt(C.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var K in le("/Font <<"),ft)ft.hasOwnProperty(K)&&(f===!1||f===!0&&m.hasOwnProperty(K))&&le("/"+K+" "+ft[K].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(nt).length>0){for(var K in le("/Shading <<"),nt)nt.hasOwnProperty(K)&&nt[K]instanceof yh&&nt[K].objectNumber>=0&&le("/"+K+" "+nt[K].objectNumber+" 0 R");rt.publish("putShadingPatternDict"),le(">>")}})(),(function(K){if(Object.keys(nt).length>0){for(var ye in le("/Pattern <<"),nt)nt.hasOwnProperty(ye)&&nt[ye]instanceof p.TilingPattern&&nt[ye].objectNumber>=0&&nt[ye].objectNumber<K&&le("/"+ye+" "+nt[ye].objectNumber+" 0 R");rt.publish("putTilingPatternDict"),le(">>")}})(C.objectOid),(function(){if(Object.keys(we).length>0){var K;for(K in le("/ExtGState <<"),we)we.hasOwnProperty(K)&&we[K].objectNumber>=0&&le("/"+K+" "+we[K].objectNumber+" 0 R");rt.publish("putGStateDict"),le(">>")}})(),(function(){for(var K in le("/XObject <<"),un)un.hasOwnProperty(K)&&un[K].objectNumber>=0&&le("/"+K+" "+un[K].objectNumber+" 0 R");rt.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},re=function(C){Tt[C.fontName]=Tt[C.fontName]||{},Tt[C.fontName][C.fontStyle]=C.id},Ue=function(C,K,ye,Me,je){var mt={id:"F"+(Object.keys(ft).length+1).toString(10),postScriptName:C,fontName:K,fontStyle:ye,encoding:Me,isStandardFont:je||!1,metadata:{}};return rt.publish("addFont",{font:mt,instance:this}),ft[mt.id]=mt,re(mt),mt.id},Ge=p.__private__.pdfEscape=p.pdfEscape=function(C,K){return(function(ye,Me){var je,mt,Ct,fn,bn,Un,Wn,pr,ni;if(Ct=(Me=Me||{}).sourceEncoding||"Unicode",bn=Me.outputEncoding,(Me.autoencode||bn)&&ft[Ve].metadata&&ft[Ve].metadata[Ct]&&ft[Ve].metadata[Ct].encoding&&(fn=ft[Ve].metadata[Ct].encoding,!bn&&ft[Ve].encoding&&(bn=ft[Ve].encoding),!bn&&fn.codePages&&(bn=fn.codePages[0]),typeof bn=="string"&&(bn=fn[bn]),bn)){for(Wn=!1,Un=[],je=0,mt=ye.length;je<mt;je++)(pr=bn[ye.charCodeAt(je)])?Un.push(String.fromCharCode(pr)):Un.push(ye[je]),Un[je].charCodeAt(0)>>8&&(Wn=!0);ye=Un.join("")}for(je=ye.length;Wn===void 0&&je!==0;)ye.charCodeAt(je-1)>>8&&(Wn=!0),je--;if(!Wn)return ye;for(Un=Me.noBOM?[]:[254,255],je=0,mt=ye.length;je<mt;je++){if((ni=(pr=ye.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+ye+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Un.push(ni),Un.push(pr-(ni<<8))}return String.fromCharCode.apply(void 0,Un)})(C,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ye=p.__private__.beginPage=function(C){ot[++bt]=[],Qe[bt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},Ft(bt),jt(ot[U])},ze=function(C,K){var ye,Me,je;switch(n=K||n,typeof C=="string"&&(ye=v(C.toLowerCase()),Array.isArray(ye)&&(Me=ye[0],je=ye[1])),Array.isArray(C)&&(Me=C[0]*Ze,je=C[1]*Ze),isNaN(Me)&&(Me=i[0],je=i[1]),(Me>14400||je>14400)&&(Gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),je=Math.min(14400,je)),i=[Me,je],n.substr(0,1)){case"l":je>Me&&(i=[je,Me]);break;case"p":Me>je&&(i=[je,Me])}Ye(i),In(Ta),le(hl),Td!==0&&le(Td+" J"),Dd!==0&&le(Dd+" j"),rt.publish("addPage",{pageNumber:bt})},Et=function(C){C>0&&C<=bt&&(ot.splice(C,1),Qe.splice(C,1),bt--,U>bt&&(U=bt),this.setPage(U))},Ft=function(C){C>0&&C<=bt&&(U=C)},Ot=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ot.length-1},tn=function(C,K,ye){var Me,je=void 0;return ye=ye||{},C=C!==void 0?C:ft[Ve].fontName,K=K!==void 0?K:ft[Ve].fontStyle,Me=C.toLowerCase(),Tt[Me]!==void 0&&Tt[Me][K]!==void 0?je=Tt[Me][K]:Tt[C]!==void 0&&Tt[C][K]!==void 0?je=Tt[C][K]:ye.disableWarning===!1&&Gr.warn("Unable to look up font label for font '"+C+"', '"+K+"'. Refer to getFontList() for available fonts."),je||ye.noFallback||(je=Tt.times[K])==null&&(je=Tt.times.normal),je},It=p.__private__.putInfo=function(){var C=ht(),K=function(Me){return Me};for(var ye in d!==null&&(K=Rn.encryptor(C,0)),le("<<"),le("/Producer ("+Ge(K("jsPDF "+Sn.version))+")"),Le)Le.hasOwnProperty(ye)&&Le[ye]&&le("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+Ge(K(Le[ye]))+")");le("/CreationDate ("+Ge(K(ae))+")"),le(">>"),le("endobj")},mn=p.__private__.putCatalog=function(C){var K=(C=C||{}).rootDictionaryObjId||Qt;switch(ht(),le("<<"),le("/Type /Catalog"),le("/Pages "+K+" 0 R"),zt||(zt="fullwidth"),zt){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+zt;ye.substr(ye.length-1)==="%"&&(zt=parseInt(zt)/100),typeof zt=="number"&&le("/OpenAction [3 0 R /XYZ null null "+k(zt)+"]")}switch(De||(De="continuous"),De){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}se&&le("/PageMode /"+se),rt.publish("putCatalog"),le(">>"),le("endobj")},xn=p.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(Z+1)),le("/Root "+Z+" 0 R"),le("/Info "+(Z-1)+" 0 R"),d!==null&&le("/Encrypt "+Rn.oid+" 0 R"),le("/ID [ <"+he+"> <"+he+"> ]"),le(">>")},_n=p.__private__.putHeader=function(){le("%PDF-"+_),le("%")},sr=p.__private__.putXRef=function(){var C="0000000000";le("xref"),le("0 "+(Z+1)),le("0000000000 65535 f ");for(var K=1;K<=Z;K++)typeof de[K]=="function"?le((C+de[K]()).slice(-10)+" 00000 n "):de[K]!==void 0?le((C+de[K]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},ar=p.__private__.buildDocument=function(){var C;Z=0,Pe=0,Ae=[],de=[],ke=[],Qt=Pt(),en=Pt(),jt(Ae),rt.publish("buildDocument"),_n(),Jn(),(function(){rt.publish("putAdditionalObjects");for(var ye=0;ye<ke.length;ye++){var Me=ke[ye];Zt(Me.objId,!0),le(Me.content),le("endobj")}rt.publish("postPutAdditionalObjects")})(),C=[],(function(){for(var ye in ft)ft.hasOwnProperty(ye)&&(f===!1||f===!0&&m.hasOwnProperty(ye))&&$n(ft[ye])})(),(function(){var ye;for(ye in we)we.hasOwnProperty(ye)&&Rs(we[ye])})(),(function(){for(var ye in un)un.hasOwnProperty(ye)&&gr(un[ye])})(),(function(ye){var Me;for(Me in nt)nt.hasOwnProperty(Me)&&(nt[Me]instanceof yh?gs(nt[Me]):nt[Me]instanceof cp&&Hs(nt[Me],ye))})(C),rt.publish("putResources"),C.forEach(tr),tr({resourcesOid:en,objectOid:Number.MAX_SAFE_INTEGER}),rt.publish("postPutResources"),d!==null&&(Rn.oid=ht(),le("<<"),le("/Filter /Standard"),le("/V "+Rn.v),le("/R "+Rn.r),le("/U <"+Rn.toHexString(Rn.U)+">"),le("/O <"+Rn.toHexString(Rn.O)+">"),le("/P "+Rn.P),le(">>"),le("endobj")),It(),mn();var K=Pe;return sr(),xn(),le("startxref"),le(""+K),le("%%EOF"),jt(ot[U]),Ae.join(`
`)},hr=p.__private__.getBlob=function(C){return new Blob([rn(C)],{type:"application/pdf"})},lr=p.output=p.__private__.output=(Xe=function(C,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",C){case void 0:return ar();case"save":p.save(K.filename);break;case"arraybuffer":return rn(ar());case"blob":return hr(ar());case"bloburi":case"bloburl":if(zn.URL!==void 0&&typeof zn.URL.createObjectURL=="function")return zn.URL&&zn.URL.createObjectURL(hr(ar()))||void 0;Gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",Me=ar();try{ye=j4(Me)}catch{ye=j4(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+K.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zn)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(je=K.pdfObjectUrl,mt="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",fn=zn.open();return fn!==null&&fn.document.write(Ct),fn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zn)==="[object Window]"){var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',Un=zn.open();if(Un!==null){Un.document.write(bn);var Wn=this;Un.document.documentElement.querySelector("#pdfViewer").onload=function(){Un.document.title=K.filename,Un.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Wn.output("bloburl"))}}return Un}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',ni=zn.open();if(ni!==null&&(ni.document.write(pr),ni.document.title=K.filename),ni||typeof safari>"u")return ni;break;case"datauri":case"dataurl":return zn.document.location.href=this.output("datauristring",K);default:return null}},Xe.foo=function(){try{return Xe.apply(this,arguments)}catch(ye){var C=ye.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var K="Error in function "+C.split(`
`)[0].split("<")[0]+": "+ye.message;if(!zn.console)throw new Error(K);zn.console.error(K,ye),zn.alert&&alert(K)}},Xe.foo.bar=Xe,Xe.foo),ln=function(C){return Array.isArray(Ht)===!0&&Ht.indexOf(C)>-1};switch(r){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=ln("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ze=r}var Rn=null;ee(),Q();var Vn=p.__private__.getPageInfo=p.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qe[C].objId,pageNumber:C,pageContext:Qe[C]}},Bi=p.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Qe)if(Qe[K].objId===C)break;return Vn(K)},Aa=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Qe[U].objId,pageNumber:U,pageContext:Qe[U]}};p.addPage=function(){return ze.apply(this,arguments),this},p.setPage=function(){return Ft.apply(this,arguments),jt.call(this,ot[U]),this},p.insertPage=function(C){return this.addPage(),this.movePage(U,C),this},p.movePage=function(C,K){var ye,Me;if(C>K){ye=ot[C],Me=Qe[C];for(var je=C;je>K;je--)ot[je]=ot[je-1],Qe[je]=Qe[je-1];ot[K]=ye,Qe[K]=Me,this.setPage(K)}else if(C<K){ye=ot[C],Me=Qe[C];for(var mt=C;mt<K;mt++)ot[mt]=ot[mt+1],Qe[mt]=Qe[mt+1];ot[K]=ye,Qe[K]=Me,this.setPage(K)}return this},p.deletePage=function(){return Et.apply(this,arguments),this},p.__private__.text=p.text=function(C,K,ye,Me,je){var mt,Ct,fn,bn,Un,Wn,pr,ni,Di,Br=(Me=Me||{}).scope||this;if(typeof C=="number"&&typeof K=="number"&&(typeof ye=="string"||Array.isArray(ye))){var Ui=ye;ye=K,K=C,C=Ui}if(arguments[3]instanceof cn==0?(fn=arguments[4],bn=arguments[5],Or(pr=arguments[3])==="object"&&pr!==null||(typeof fn=="string"&&(bn=fn,fn=null),typeof pr=="string"&&(bn=pr,pr=null),typeof pr=="number"&&(fn=pr,pr=null),Me={flags:pr,angle:fn,align:bn})):(M("The transform parameter of text() with a Matrix value"),Di=je),isNaN(K)||isNaN(ye)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Br;var mi,ss="",Ko=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:Ws,Za=Br.internal.scaleFactor;function Yo(_r){return _r=_r.split("	").join(Array(Me.TabLen||9).join(" ")),Ge(_r,pr)}function vl(_r){for(var Cr,ai=_r.concat(),Ci=[],eo=ai.length;eo--;)typeof(Cr=ai.shift())=="string"?Ci.push(Cr):Array.isArray(_r)&&(Cr.length===1||Cr[1]===void 0&&Cr[2]===void 0)?Ci.push(Cr[0]):Ci.push([Cr[0],Cr[1],Cr[2]]);return Ci}function xc(_r,Cr){var ai;if(typeof _r=="string")ai=Cr(_r)[0];else if(Array.isArray(_r)){for(var Ci,eo,Md=_r.concat(),Sc=[],eu=Md.length;eu--;)typeof(Ci=Md.shift())=="string"?Sc.push(Cr(Ci)[0]):Array.isArray(Ci)&&typeof Ci[0]=="string"&&(eo=Cr(Ci[0],Ci[1],Ci[2]),Sc.push([eo[0],eo[1],eo[2]]));ai=Sc}return ai}var Cu=!1,_l=!0;if(typeof C=="string")Cu=!0;else if(Array.isArray(C)){var Nu=C.concat();Ct=[];for(var Lu,as=Nu.length;as--;)(typeof(Lu=Nu.shift())!="string"||Array.isArray(Lu)&&typeof Lu[0]!="string")&&(_l=!1);Cu=_l}if(Cu===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var yl=ct/Br.internal.scaleFactor,xl=yl*(Ko-1);switch(Me.baseline){case"bottom":ye-=xl;break;case"top":ye+=yl-xl;break;case"hanging":ye+=yl-2*xl;break;case"middle":ye+=yl/2-xl}if((Wn=Me.maxWidth||0)>0&&(typeof C=="string"?C=Br.splitTextToSize(C,Wn):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(_r,Cr){return _r.concat(Br.splitTextToSize(Cr,Wn))},[]))),mt={text:C,x:K,y:ye,options:Me,mutex:{pdfEscape:Ge,activeFontKey:Ve,fonts:ft,activeFontSize:ct}},rt.publish("preProcessText",mt),C=mt.text,fn=(Me=mt.options).angle,Di instanceof cn==0&&fn&&typeof fn=="number"){fn*=Math.PI/180,Me.rotationDirection===0&&(fn=-fn),L===T&&(fn=-fn);var Nd=Math.cos(fn),Ld=Math.sin(fn);Di=new cn(Nd,Ld,-Ld,Nd,0,0)}else fn&&fn instanceof cn&&(Di=fn);L!==T||Di||(Di=Ne),(Un=Me.charSpace||Gs)!==void 0&&(ss+=V(q(Un))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ni=Me.horizontalScale)!==void 0&&(ss+=V(100*ni)+` Tz
`),Me.lang;var Is=-1,Ja=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,wo=Br.internal.getCurrentPageInfo().pageContext;switch(Ja){case 0:case!1:case"fill":Is=0;break;case 1:case!0:case"stroke":Is=1;break;case 2:case"fillThenStroke":Is=2;break;case 3:case"invisible":Is=3;break;case 4:case"fillAndAddForClipping":Is=4;break;case 5:case"strokeAndAddPathForClipping":Is=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Is=6;break;case 7:case"addToPathForClipping":Is=7}var Xh=wo.usedRenderingMode!==void 0?wo.usedRenderingMode:-1;Is!==-1?ss+=Is+` Tr
`:Xh!==-1&&(ss+=`0 Tr
`),Is!==-1&&(wo.usedRenderingMode=Is),bn=Me.align||"left";var ha,Mu=ct*Ko,bc=Br.internal.pageSize.getWidth(),Ec=ft[Ve];Un=Me.charSpace||Gs,Wn=Me.maxWidth||0,pr=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var Xo=[],Ma=function(_r){return Br.getStringUnitWidth(_r,{font:Ec,charSpace:Un,fontSize:ct,doKerning:!1})*ct/Za};if(Object.prototype.toString.call(C)==="[object Array]"){var fa;Ct=vl(C),bn!=="left"&&(ha=Ct.map(Ma));var pa,Pu=0;if(bn==="right"){K-=ha[0],C=[],as=Ct.length;for(var Ao=0;Ao<as;Ao++)Ao===0?(pa=da(K),fa=qo(ye)):(pa=q(Pu-ha[Ao]),fa=-Mu),C.push([Ct[Ao],pa,fa]),Pu=ha[Ao]}else if(bn==="center"){K-=ha[0]/2,C=[],as=Ct.length;for(var Zo=0;Zo<as;Zo++)Zo===0?(pa=da(K),fa=qo(ye)):(pa=q((Pu-ha[Zo])/2),fa=-Mu),C.push([Ct[Zo],pa,fa]),Pu=ha[Zo]}else if(bn==="left"){C=[],as=Ct.length;for(var Jo=0;Jo<as;Jo++)C.push(Ct[Jo])}else if(bn==="justify"&&Ec.encoding==="Identity-H"){C=[],as=Ct.length,Wn=Wn!==0?Wn:bc;for(var So=0,gi=0;gi<as;gi++)if(fa=gi===0?qo(ye):-Mu,pa=gi===0?da(K):So,gi<as-1){var bl=q((Wn-ha[gi])/(Ct[gi].split(" ").length-1)),To=Ct[gi].split(" ");C.push([To[0]+" ",pa,fa]),So=0;for(var Qa=1;Qa<To.length;Qa++){var El=(Ma(To[Qa-1]+" "+To[Qa])-Ma(To[Qa]))*Za+bl;Qa==To.length-1?C.push([To[Qa],El,0]):C.push([To[Qa]+" ",El,0]),So-=El}}else C.push([Ct[gi],pa,fa]);C.push(["",So,0])}else{if(bn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],as=Ct.length,Wn=Wn!==0?Wn:bc,gi=0;gi<as;gi++){fa=gi===0?qo(ye):-Mu,pa=gi===0?da(K):0;var wl=Ct[gi].split(" ").length-1,wc=wl>0?(Wn-ha[gi])/wl:0;gi<as-1?Xo.push(V(q(wc))):Xo.push(0),C.push([Ct[gi],pa,fa])}}}(typeof Me.R2L=="boolean"?Me.R2L:xt)===!0&&(C=xc(C,function(_r,Cr,ai){return[_r.split("").reverse().join(""),Cr,ai]})),mt={text:C,x:K,y:ye,options:Me,mutex:{pdfEscape:Ge,activeFontKey:Ve,fonts:ft,activeFontSize:ct}},rt.publish("postProcessText",mt),C=mt.text,mi=mt.mutex.isHex||!1;var Ac=ft[Ve].encoding;Ac!=="WinAnsiEncoding"&&Ac!=="StandardEncoding"||(C=xc(C,function(_r,Cr,ai){return[Yo(_r),Cr,ai]})),Ct=vl(C),C=[];for(var Qo,Ru,Iu,Al=Array.isArray(Ct[0])?1:0,ku="",Sl=function(_r,Cr,ai){var Ci="";return ai instanceof cn?(ai=typeof Me.angle=="number"?Vr(ai,new cn(1,0,0,1,_r,Cr)):Vr(new cn(1,0,0,1,_r,Cr),ai),L===T&&(ai=Vr(new cn(1,0,0,-1,0,0),ai)),Ci=ai.join(" ")+` Tm
`):Ci=V(_r)+" "+V(Cr)+` Td
`,Ci},si=0;si<Ct.length;si++){switch(ku="",Al){case 1:Iu=(mi?"<":"(")+Ct[si][0]+(mi?">":")"),Qo=parseFloat(Ct[si][1]),Ru=parseFloat(Ct[si][2]);break;case 0:Iu=(mi?"<":"(")+Ct[si]+(mi?">":")"),Qo=da(K),Ru=qo(ye)}Xo!==void 0&&Xo[si]!==void 0&&(ku=Xo[si]+` Tw
`),si===0?C.push(ku+Sl(Qo,Ru,Di)+Iu):Al===0?C.push(ku+Iu):Al===1&&C.push(ku+Sl(Qo,Ru,Di)+Iu)}C=Al===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var qs=`BT
/`;return qs+=Ve+" "+ct+` Tf
`,qs+=V(ct*Ko)+` TL
`,qs+=Xa+`
`,qs+=ss,qs+=C,le(qs+="ET"),m[Ve]=!0,Br};var pi=p.__private__.clip=p.clip=function(C){return le(C==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return pi("evenodd")},p.__private__.discardPath=p.discardPath=function(){return le("n"),this};var vs=p.__private__.isValidStyle=function(C){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(K=!0),K};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(C){return vs(C)&&(l=C),this};var fr=p.__private__.getStyle=p.getStyle=function(C){var K=l;switch(C){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=C}return K},On=p.close=function(){return le("h"),this};p.stroke=function(){return le("S"),this},p.fill=function(C){return Si("f",C),this},p.fillEvenOdd=function(C){return Si("f*",C),this},p.fillStroke=function(C){return Si("B",C),this},p.fillStrokeEvenOdd=function(C){return Si("B*",C),this};var Si=function(C,K){Or(K)==="object"?Tu(K,C):le(C)},Kr=function(C){C===null||L===T&&C===void 0||(C=fr(C),le(C))};function Ti(C,K,ye,Me,je){var mt=new cp(K||this.boundingBox,ye||this.xStep,Me||this.yStep,this.gState,je||this.matrix);mt.stream=this.stream;var Ct=C+"$$"+this.cloneIndex+++"$$";return Be(Ct,mt),mt}var Tu=function(C,K){var ye=qt[C.key],Me=nt[ye];if(Me instanceof yh)le("q"),le(Sa(K)),Me.gState&&p.setGState(Me.gState),le(C.matrix.toString()+" cm"),le("/"+ye+" sh"),le("Q");else if(Me instanceof cp){var je=new cn(1,0,0,-1,0,La());C.matrix&&(je=je.multiply(C.matrix||Ne),ye=Ti.call(Me,C.key,C.boundingBox,C.xStep,C.yStep,je).id),le("q"),le("/Pattern cs"),le("/"+ye+" scn"),Me.gState&&p.setGState(Me.gState),le(K),le("Q")}},Sa=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},pc=p.moveTo=function(C,K){return le(V(q(C))+" "+V(Y(K))+" m"),this},mc=p.lineTo=function(C,K){return le(V(q(C))+" "+V(Y(K))+" l"),this},Vs=p.curveTo=function(C,K,ye,Me,je,mt){return le([V(q(C)),V(Y(K)),V(q(ye)),V(Y(Me)),V(q(je)),V(Y(mt)),"c"].join(" ")),this};p.__private__.line=p.line=function(C,K,ye,Me,je){if(isNaN(C)||isNaN(K)||isNaN(ye)||isNaN(Me)||!vs(je))throw new Error("Invalid arguments passed to jsPDF.line");return L===S?this.lines([[ye-C,Me-K]],C,K,[1,1],je||"S"):this.lines([[ye-C,Me-K]],C,K,[1,1]).stroke()},p.__private__.lines=p.lines=function(C,K,ye,Me,je,mt){var Ct,fn,bn,Un,Wn,pr,ni,Di,Br,Ui,mi,ss;if(typeof C=="number"&&(ss=ye,ye=K,K=C,C=ss),Me=Me||[1,1],mt=mt||!1,isNaN(K)||isNaN(ye)||!Array.isArray(C)||!Array.isArray(Me)||!vs(je)||typeof mt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pc(K,ye),Ct=Me[0],fn=Me[1],Un=C.length,Ui=K,mi=ye,bn=0;bn<Un;bn++)(Wn=C[bn]).length===2?(Ui=Wn[0]*Ct+Ui,mi=Wn[1]*fn+mi,mc(Ui,mi)):(pr=Wn[0]*Ct+Ui,ni=Wn[1]*fn+mi,Di=Wn[2]*Ct+Ui,Br=Wn[3]*fn+mi,Ui=Wn[4]*Ct+Ui,mi=Wn[5]*fn+mi,Vs(pr,ni,Di,Br,Ui,mi));return mt&&On(),Kr(je),this},p.path=function(C){for(var K=0;K<C.length;K++){var ye=C[K],Me=ye.c;switch(ye.op){case"m":pc(Me[0],Me[1]);break;case"l":mc(Me[0],Me[1]);break;case"c":Vs.apply(this,Me);break;case"h":On()}}return this},p.__private__.rect=p.rect=function(C,K,ye,Me,je){if(isNaN(C)||isNaN(K)||isNaN(ye)||isNaN(Me)||!vs(je))throw new Error("Invalid arguments passed to jsPDF.rect");return L===S&&(Me=-Me),le([V(q(C)),V(Y(K)),V(q(ye)),V(q(Me)),"re"].join(" ")),Kr(je),this},p.__private__.triangle=p.triangle=function(C,K,ye,Me,je,mt,Ct){if(isNaN(C)||isNaN(K)||isNaN(ye)||isNaN(Me)||isNaN(je)||isNaN(mt)||!vs(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-C,Me-K],[je-ye,mt-Me],[C-je,K-mt]],C,K,[1,1],Ct,!0),this},p.__private__.roundedRect=p.roundedRect=function(C,K,ye,Me,je,mt,Ct){if(isNaN(C)||isNaN(K)||isNaN(ye)||isNaN(Me)||isNaN(je)||isNaN(mt)||!vs(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var fn=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*ye),mt=Math.min(mt,.5*Me),this.lines([[ye-2*je,0],[je*fn,0,je,mt-mt*fn,je,mt],[0,Me-2*mt],[0,mt*fn,-je*fn,mt,-je,mt],[2*je-ye,0],[-je*fn,0,-je,-mt*fn,-je,-mt],[0,2*mt-Me],[0,-mt*fn,je*fn,-mt,je,-mt]],C+je,K,[1,1],Ct,!0),this},p.__private__.ellipse=p.ellipse=function(C,K,ye,Me,je){if(isNaN(C)||isNaN(K)||isNaN(ye)||isNaN(Me)||!vs(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var mt=4/3*(Math.SQRT2-1)*ye,Ct=4/3*(Math.SQRT2-1)*Me;return pc(C+ye,K),Vs(C+ye,K-Ct,C+mt,K-Me,C,K-Me),Vs(C-mt,K-Me,C-ye,K-Ct,C-ye,K),Vs(C-ye,K+Ct,C-mt,K+Me,C,K+Me),Vs(C+mt,K+Me,C+ye,K+Ct,C+ye,K),Kr(je),this},p.__private__.circle=p.circle=function(C,K,ye,Me){if(isNaN(C)||isNaN(K)||isNaN(ye)||!vs(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,K,ye,ye,Me)},p.setFont=function(C,K,ye){return ye&&(K=B(K,ye)),Ve=tn(C,K,{disableWarning:!1}),this};var xo=p.__private__.getFont=p.getFont=function(){return ft[tn.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var C,K,ye={};for(C in Tt)if(Tt.hasOwnProperty(C))for(K in ye[C]=[],Tt[C])Tt[C].hasOwnProperty(K)&&ye[C].push(K);return ye},p.addFont=function(C,K,ye,Me,je){var mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&mt.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&mt.indexOf(arguments[3])==-1&&(ye=B(ye,Me)),Ue.call(this,C,K,ye,je=je||"Identity-H")};var Ws,Ta=t.lineWidth||.200025,dl=p.__private__.getLineWidth=p.getLineWidth=function(){return Ta},In=p.__private__.setLineWidth=p.setLineWidth=function(C){return Ta=C,le(V(q(C))+" w"),this};p.__private__.setLineDash=Sn.API.setLineDash=Sn.API.setLineDashPattern=function(C,K){if(C=C||[],K=K||0,isNaN(K)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(ye){return V(q(ye))}).join(" "),K=V(q(K)),le("["+C+"] "+K+" d"),this};var bo=p.__private__.getLineHeight=p.getLineHeight=function(){return ct*Ws};p.__private__.getLineHeight=p.getLineHeight=function(){return ct*Ws};var Zp=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Ws=C),this},Kh=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ws};Zp(t.lineHeight);var da=p.__private__.getHorizontalCoordinate=function(C){return q(C)},qo=p.__private__.getVerticalCoordinate=function(C){return L===T?C:Qe[U].mediaBox.topRightY-Qe[U].mediaBox.bottomLeftY-q(C)},Yh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(C){return V(da(C))},gc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(C){return V(qo(C))},hl=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Jt(hl)},p.__private__.setStrokeColor=p.setDrawColor=function(C,K,ye,Me){return hl=Kt({ch1:C,ch2:K,ch3:ye,ch4:Me,pdfColorType:"draw",precision:2}),le(hl),this};var Sd=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Jt(Sd)},p.__private__.setFillColor=p.setFillColor=function(C,K,ye,Me){return Sd=Kt({ch1:C,ch2:K,ch3:ye,ch4:Me,pdfColorType:"fill",precision:2}),le(Sd),this};var Xa=t.textColor||"0 g",fl=p.__private__.getTextColor=p.getTextColor=function(){return Jt(Xa)};p.__private__.setTextColor=p.setTextColor=function(C,K,ye,Me){return Xa=Kt({ch1:C,ch2:K,ch3:ye,ch4:Me,pdfColorType:"text",precision:3}),this};var Gs=t.charSpace,vc=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Gs||0)};p.__private__.setCharSpace=p.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Gs=C,this};var Td=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(C){var K=p.CapJoinStyles[C];if(K===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Td=K,le(K+" J"),this};var Dd=0;p.__private__.setLineJoin=p.setLineJoin=function(C){var K=p.CapJoinStyles[C];if(K===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dd=K,le(K+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(V(q(C))+" M"),this},p.GState=g_,p.setGState=function(C){(C=typeof C=="string"?we[gt[C]]:_c(null,C)).equals(vt)||(le("/"+C.id+" gs"),vt=C)};var _c=function(C,K){if(!C||!gt[C]){var ye=!1;for(var Me in we)if(we.hasOwnProperty(Me)&&we[Me].equals(K)){ye=!0;break}if(ye)K=we[Me];else{var je="GS"+(Object.keys(we).length+1).toString(10);we[je]=K,K.id=je}return C&&(gt[C]=K.id),rt.publish("addGState",K),K}};p.addGState=function(C,K){return _c(C,K),this},p.saveGraphicsState=function(){return le("q"),Nt.push({key:Ve,size:ct,color:Xa}),this},p.restoreGraphicsState=function(){le("Q");var C=Nt.pop();return Ve=C.key,ct=C.size,Xa=C.color,vt=null,this},p.setCurrentTransformationMatrix=function(C){return le(C.toString()+" cm"),this},p.comment=function(C){return le("#"+C),this};var Da=function(C,K){var ye=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(mt){isNaN(mt)||(ye=parseFloat(mt))}});var Me=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(mt){isNaN(mt)||(Me=parseFloat(mt))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(mt){je=mt.toString()}}),this},pl=function(C,K,ye,Me){Da.call(this,C,K),this.type="rect";var je=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(Ct){isNaN(Ct)||(je=parseFloat(Ct))}});var mt=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return mt},set:function(Ct){isNaN(Ct)||(mt=parseFloat(Ct))}}),this},ml=function(){this.page=bt,this.currentPage=U,this.pages=ot.slice(0),this.pagesContext=Qe.slice(0),this.x=st,this.y=Yt,this.matrix=et,this.width=Du(U),this.height=gl(U),this.outputDestination=yt,this.id="",this.objectNumber=-1};ml.prototype.restore=function(){bt=this.page,U=this.currentPage,Qe=this.pagesContext,ot=this.pages,st=this.x,Yt=this.y,et=this.matrix,Cd(U,this.width),Na(U,this.height),yt=this.outputDestination};var Ca=function(C,K,ye,Me,je){Fn.push(new ml),bt=U=0,ot=[],st=C,Yt=K,et=je,Ye([ye,Me])};for(var $o in p.beginFormObject=function(C,K,ye,Me,je){return Ca(C,K,ye,Me,je),this},p.endFormObject=function(C){return(function(K){if(qn[K])Fn.pop().restore();else{var ye=new ml,Me="Xo"+(Object.keys(un).length+1).toString(10);ye.id=Me,qn[K]=Me,un[Me]=ye,rt.publish("addFormObject",ye),Fn.pop().restore()}})(C),this},p.doFormObject=function(C,K){var ye=un[qn[C]];return le("q"),le(K.toString()+" cm"),le("/"+ye.id+" Do"),le("Q"),this},p.getFormObject=function(C){var K=un[qn[C]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},p.save=function(C,K){return C=C||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(hh(hr(ar()),C),typeof hh.unload=="function"&&zn.setTimeout&&setTimeout(hh.unload,911),this):new Promise(function(ye,Me){try{var je=hh(hr(ar()),C);typeof hh.unload=="function"&&zn.setTimeout&&setTimeout(hh.unload,911),ye(je)}catch(mt){Me(mt.message)}})},Sn.API)Sn.API.hasOwnProperty($o)&&($o==="events"&&Sn.API.events.length?(function(C,K){var ye,Me,je;for(je=K.length-1;je!==-1;je--)ye=K[je][0],Me=K[je][1],C.subscribe.apply(C,[ye].concat(typeof Me=="function"?[Me]:Me))})(rt,Sn.API.events):p[$o]=Sn.API[$o]);function Du(C){return Qe[C].mediaBox.topRightX-Qe[C].mediaBox.bottomLeftX}function Cd(C,K){Qe[C].mediaBox.topRightX=K+Qe[C].mediaBox.bottomLeftX}function gl(C){return Qe[C].mediaBox.topRightY-Qe[C].mediaBox.bottomLeftY}function Na(C,K){Qe[C].mediaBox.topRightY=K+Qe[C].mediaBox.bottomLeftY}var Eo=p.getPageWidth=function(C){return Du(C=C||U)/Ze},_s=p.setPageWidth=function(C,K){Cd(C,K*Ze)},La=p.getPageHeight=function(C){return gl(C=C||U)/Ze},yc=p.setPageHeight=function(C,K){Na(C,K*Ze)};return p.internal={pdfEscape:Ge,getStyle:fr,getFont:xo,getFontSize:Mt,getCharSpace:vc,getTextColor:fl,getLineHeight:bo,getLineHeightFactor:Kh,getLineWidth:dl,write:pt,getHorizontalCoordinate:da,getVerticalCoordinate:qo,getCoordinateString:Yh,getVerticalCoordinateString:gc,collections:{},newObject:ht,newAdditionalObject:dn,newObjectDeferred:Pt,newObjectDeferredBegin:Zt,getFilters:An,putStream:Cn,events:rt,scaleFactor:Ze,pageSize:{getWidth:function(){return Eo(U)},setWidth:function(C){_s(U,C)},getHeight:function(){return La(U)},setHeight:function(C){yc(U,C)}},encryptionOptions:d,encryption:Rn,getEncryptor:function(C){return d!==null?Rn.encryptor(C,0):function(K){return K}},output:lr,getNumberOfPages:Ot,get pages(){return ot},out:le,f2:k,f3:H,getPageInfo:Vn,getPageInfoByObjId:Bi,getCurrentPageInfo:Aa,getPDFVersion:E,Point:Da,Rectangle:pl,Matrix:cn,hasHotfix:ln},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Eo(U)},set:function(C){_s(U,C)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return La(U)},set:function(C){yc(U,C)},enumerable:!0,configurable:!0}),(function(C){for(var K=0,ye=Ee.length;K<ye;K++){var Me=Ue.call(this,C[K][0],C[K][1],C[K][2],Ee[K][3],!0);f===!1&&(m[Me]=!0);var je=C[K][0].split("-");re({id:Me,fontName:je[0],fontStyle:je[1]||""})}rt.publish("addFonts",{fonts:ft,dictionary:Tt})}).call(p,Ee),Ve="F1",ze(i,n),rt.publish("initialized"),p}Qf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Qf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qf.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Qf.prototype.processOwnerPassword=function(t,e){return cw(lw(e).substr(0,5),t)},Qf.prototype.encryptor=function(t,e){var n=lw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return cw(n,r)}},g_.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Or(t)!==Or(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Sn.API={events:[]},Sn.version="4.0.0";var Ri=Sn.API,pS=1,$h=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yn=function(t){return t.toFixed(2)},ed=function(t){return t.toFixed(5)};Ri.__acroform__={};var Ya=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},W4=function(t){return t*pS},qu=function(t){var e=new AF,n=vn.internal.getHeight(t)||0,r=vn.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Yn(r)),Number(Yn(n))],e},gge=Ri.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},vge=Ri.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},_ge=Ri.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Gi=Ri.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _ge(t,e-1)},qi=Ri.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return gge(t,e-1)},$i=Ri.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vge(t,e-1)},yge=Ri.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(s+o)||0,u.upperRight_X=n(i+a)||0,u.upperRight_Y=r(s)||0,[Number(Yn(u.lowerLeft_X)),Number(Yn(u.lowerLeft_Y)),Number(Yn(u.upperRight_X)),Number(Yn(u.upperRight_Y))]},xge=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=dw(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Yn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=qu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},dw=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var s=n,a=vn.internal.getHeight(t)||0;a=a<0?-a:a;var o=vn.internal.getWidth(t)||0;o=o<0?-o:o;var u=function(k,H,q){if(k+1<i.length){var Y=H+" "+i[k+1][0];return X1(Y,t,q).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var l,d,f=X1("3",t,s).height,m=t.multiline?a-s:(a-f)/2,p=m+=2,_=0,E=0,y=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+X1(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var v="",S=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var L=!1;if(i[T].length!==1&&y!==i[T].length-1){if((f+2)*(S+2)+2>a)continue e;v+=i[T][y],L=!0,E=T,T--}else{v=(v+=i[T][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var I=parseInt(T),O=u(I,v,s),B=T>=i.length-1;if(O&&!B){v+=" ",y=0;continue}if(O||B){if(B)E=I;else if(t.multiline&&(f+2)*(S+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(S+2)+2>a)continue e;E=I}}for(var V="",M=_;M<=E;M++){var R=i[M];if(t.multiline){if(M===E){V+=R[y]+" ",y=(y+1)%R.length;continue}if(M===_){V+=R[R.length-1]+" ";continue}}V+=R[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,d=X1(V,t,s).width,t.textAlign){case"right":l=o-d-2;break;case"center":l=(o-d)/2;break;default:l=2}e+=Yn(l)+" "+Yn(p)+` Td
`,e+="("+$h(V)+`) Tj
`,e+=-Yn(l)+` 0 Td
`,p=-(s+2),d=0,_=L?E:E+1,S++,v=""}break}return r.text=e,r.fontSize=s,r},X1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},bge={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ege=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},wge=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Au.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(bge)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new SF,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Ege(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],u=[],l=o.Rect;if(o.Rect&&(o.Rect=yge(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=vn.createDefaultAppearanceStream(o),Or(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=l,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=xge(o);u.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var p=o.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var _=p[a];typeof _=="function"&&(_=_.call(i,o)),f+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,o)),f+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);f+=">>"}u.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:o.objId}),i.internal.out("endobj")}s&&(function(E,y){for(var v in E)if(E.hasOwnProperty(v)){var S=v,T=E[v];y.internal.newObjectDeferredBegin(T.objId,!0),Or(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete E[S]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},wF=Ri.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Or(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+$h(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Yx=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+$h(r(t))+")"},Qu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qu.prototype.toString=function(){return this.objId+" 0 R"},Qu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Qu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:wF(i,this.objId,this.scope)}):i instanceof Qu?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var AF=function(){Qu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ya(AF,Qu);var SF=function(){Qu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+$h(n(t))+")"}},set:function(n){t=n}})};Ya(SF,Qu);var Au=function t(){Qu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gi(e,3)},set:function(v){v?this.F=qi(e,3):this.F=$i(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof v_)return;s="FieldObject"+t.FieldNum++}var v=function(S){return S};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+$h(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/pS:l},set:function(v){l=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof v_||this instanceof Lh))return Yx(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ls==0?Yx(m,this.objId,this.scope):m},set:function(v){v=v.toString(),m=this instanceof Ls==0?v.substr(0,1)==="("?Kf(v.substr(1,v.length-2)):Kf(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls==1?Kf(m.substr(1,m.length-1)):m},set:function(v){v=v.toString(),m=this instanceof Ls==1?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ls==0?Yx(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Ls==0?v.substr(0,1)==="("?Kf(v.substr(1,v.length-2)):Kf(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ls==1?Kf(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Ls==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(v){v=!!v,E=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(v){_=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,1)},set:function(v){v?this.Ff=qi(this.Ff,1):this.Ff=$i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,2)},set:function(v){v?this.Ff=qi(this.Ff,2):this.Ff=$i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,3)},set:function(v){v?this.Ff=qi(this.Ff,3):this.Ff=$i(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Ya(Au,Qu);var bp=function(){Au.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wF(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,a,o){o||(o=1);for(var u,l=[];u=a.exec(s);)l.push(u[o]);return l})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,18)},set:function(n){n?this.Ff=qi(this.Ff,18):this.Ff=$i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=qi(this.Ff,19):this.Ff=$i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,20)},set:function(n){n?(this.Ff=qi(this.Ff,20),e.sort()):this.Ff=$i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,22)},set:function(n){n?this.Ff=qi(this.Ff,22):this.Ff=$i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,23)},set:function(n){n?this.Ff=qi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,27)},set:function(n){n?this.Ff=qi(this.Ff,27):this.Ff=$i(this.Ff,27)}}),this.hasAppearanceStream=!1};Ya(bp,Au);var Ep=function(){bp.call(this),this.fontName="helvetica",this.combo=!1};Ya(Ep,bp);var wp=function(){Ep.call(this),this.combo=!0};Ya(wp,Ep);var Ev=function(){wp.call(this),this.edit=!0};Ya(Ev,wp);var Ls=function(){Au.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,15)},set:function(n){n?this.Ff=qi(this.Ff,15):this.Ff=$i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,16)},set:function(n){n?this.Ff=qi(this.Ff,16):this.Ff=$i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,17)},set:function(n){n?this.Ff=qi(this.Ff,17):this.Ff=$i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,26)},set:function(n){n?this.Ff=qi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+$h(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Or(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ya(Ls,Au);var wv=function(){Ls.call(this),this.pushButton=!0};Ya(wv,Ls);var Ap=function(){Ls.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ya(Ap,Ls);var v_=function(){var t,e;Au.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+$h(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Or(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ya(v_,Au),Ap.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ap.prototype.createOption=function(t){var e=new v_;return e.Parent=this,e.optionName=t,this.Kids.push(e),Age.call(this.scope,e),e};var Av=function(){Ls.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vn.CheckBox.createAppearanceStream()};Ya(Av,Ls);var Lh=function(){Au.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,13)},set:function(e){e?this.Ff=qi(this.Ff,13):this.Ff=$i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,21)},set:function(e){e?this.Ff=qi(this.Ff,21):this.Ff=$i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,23)},set:function(e){e?this.Ff=qi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,24)},set:function(e){e?this.Ff=qi(this.Ff,24):this.Ff=$i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,25)},set:function(e){e?this.Ff=qi(this.Ff,25):this.Ff=$i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,26)},set:function(e){e?this.Ff=qi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ya(Lh,Au);var Sv=function(){Lh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gi(this.Ff,14)},set:function(t){t?this.Ff=qi(this.Ff,14):this.Ff=$i(this.Ff,14)}}),this.password=!0};Ya(Sv,Lh);var vn={CheckBox:{createAppearanceStream:function(){return{N:{On:vn.CheckBox.YesNormal},D:{On:vn.CheckBox.YesPushDown,Off:vn.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=dw(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Yn(vn.internal.getWidth(t))+" "+Yn(vn.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Yn(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=qu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=vn.internal.getHeight(t),a=vn.internal.getWidth(t),o=dw(t,t.caption);return i.push("1 g"),i.push("0 0 "+Yn(a)+" "+Yn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Yn(a-1)+" "+Yn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Yn(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yn(vn.internal.getWidth(t))+" "+Yn(vn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:vn.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=vn.RadioButton.Circle.YesNormal,e.D[t]=vn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=vn.internal.getWidth(t)<=vn.internal.getHeight(t)?vn.internal.getWidth(t)/4:vn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=vn.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ed(vn.internal.getWidth(t)/2)+" "+ed(vn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=vn.internal.getWidth(t)<=vn.internal.getHeight(t)?vn.internal.getWidth(t)/4:vn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*vn.internal.Bezier_C).toFixed(5)),a=Number((r*vn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ed(vn.internal.getWidth(t)/2)+" "+ed(vn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ed(vn.internal.getWidth(t)/2)+" "+ed(vn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=vn.internal.getWidth(t)<=vn.internal.getHeight(t)?vn.internal.getWidth(t)/4:vn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*vn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ed(vn.internal.getWidth(t)/2)+" "+ed(vn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:vn.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=vn.RadioButton.Cross.YesNormal,e.D[t]=vn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=vn.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Yn(vn.internal.getWidth(t)-2)+" "+Yn(vn.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Yn(r.x1.x)+" "+Yn(r.x1.y)+" m"),n.push(Yn(r.x2.x)+" "+Yn(r.x2.y)+" l"),n.push(Yn(r.x4.x)+" "+Yn(r.x4.y)+" m"),n.push(Yn(r.x3.x)+" "+Yn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=vn.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Yn(vn.internal.getWidth(t))+" "+Yn(vn.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Yn(vn.internal.getWidth(t)-2)+" "+Yn(vn.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Yn(n.x1.x)+" "+Yn(n.x1.y)+" m"),r.push(Yn(n.x2.x)+" "+Yn(n.x2.y)+" l"),r.push(Yn(n.x4.x)+" "+Yn(n.x4.y)+" m"),r.push(Yn(n.x3.x)+" "+Yn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yn(vn.internal.getWidth(t))+" "+Yn(vn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};vn.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=vn.internal.getWidth(t),n=vn.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},vn.internal.getWidth=function(t){var e=0;return Or(t)==="object"&&(e=W4(t.Rect[2])),e},vn.internal.getHeight=function(t){var e=0;return Or(t)==="object"&&(e=W4(t.Rect[3])),e};var Age=Ri.addField=function(t){if(wge(this,t),!(t instanceof Au))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ri.AcroFormChoiceField=bp,Ri.AcroFormListBox=Ep,Ri.AcroFormComboBox=wp,Ri.AcroFormEditBox=Ev,Ri.AcroFormButton=Ls,Ri.AcroFormPushButton=wv,Ri.AcroFormRadioButton=Ap,Ri.AcroFormCheckBox=Av,Ri.AcroFormTextField=Lh,Ri.AcroFormPasswordField=Sv,Ri.AcroFormAppearance=vn,Ri.AcroForm={ChoiceField:bp,ListBox:Ep,ComboBox:wp,EditBox:Ev,Button:Ls,PushButton:wv,RadioButton:Ap,CheckBox:Av,TextField:Lh,PasswordField:Sv,Appearance:vn},Sn.AcroForm={ChoiceField:bp,ListBox:Ep,ComboBox:wp,EditBox:Ev,Button:Ls,PushButton:wv,RadioButton:Ap,CheckBox:Av,TextField:Lh,PasswordField:Sv,Appearance:vn};Sn.AcroForm;function TF(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(k,H){var q,Y,ae,he,oe,Q=n;if((H=H||n)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(O(k))for(oe in r)for(ae=r[oe],q=0;q<ae.length;q+=1){for(he=!0,Y=0;Y<ae[q].length;Y+=1)if(ae[q][Y]!==void 0&&ae[q][Y]!==k[Y]){he=!1;break}if(he===!0){Q=oe;break}}else for(oe in r)for(ae=r[oe],q=0;q<ae.length;q+=1){for(he=!0,Y=0;Y<ae[q].length;Y+=1)if(ae[q][Y]!==void 0&&ae[q][Y]!==k.charCodeAt(Y)){he=!1;break}if(he===!0){Q=oe;break}}return Q===n&&H!==n&&(Q=H),Q},s=function k(H){for(var q=this.internal.write,Y=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:H.width}),he.push({key:"Height",value:H.height}),H.colorSpace===v.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===v.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var oe="",Q=0,xe=H.transparency.length;Q<xe;Q++)oe+=H.transparency[Q]+" "+H.transparency[Q]+" ";he.push({key:"Mask",value:"["+oe+"]"})}H.sMask!==void 0&&he.push({key:"SMask",value:H.objectId+1+" 0 R"});var W=H.filter!==void 0?["/"+H.filter]:void 0;if(Y({data:H.data,additionalKeyValues:he,alreadyAppliedFilters:W,objectId:H.objectId}),q("endobj"),"sMask"in H&&H.sMask!==void 0){var ee,z=(ee=H.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:H.bitsPerComponent,U={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:H.sMask};"filter"in H&&(U.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(H.width),U.filter=H.filter),k.call(this,U)}if(H.colorSpace===v.INDEXED){var ce=this.internal.newObject();Y({data:V(new Uint8Array(H.palette)),objectId:ce}),q("endobj")}},a=function(){var k=this.internal.collections[e+"images"];for(var H in k)s.call(this,k[H])},o=function(){var k,H=this.internal.collections[e+"images"],q=this.internal.write;for(var Y in H)q("/I"+(k=H[Y]).index,k.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var k=this.internal.collections[e+"images"];return u.call(this),k},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(k){return typeof t["process"+k.toUpperCase()]=="function"},m=function(k){return Or(k)==="object"&&k.nodeType===1},p=function(k,H){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var q=""+k.getAttribute("src");if(q.indexOf("data:image/")===0)return bv(unescape(q).split("base64,").pop());var Y=t.loadFile(q,!0);if(Y!==void 0)return Y}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ae;switch(H){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return bv(k.toDataURL(ae,1).split("base64,").pop())}},_=function(k){var H=this.internal.collections[e+"images"];if(H){for(var q in H)if(k===H[q].alias)return H[q]}},E=function(k,H,q){return k||H||(k=-96,H=-96),k<0&&(k=-1*q.width*72/k/this.internal.scaleFactor),H<0&&(H=-1*q.height*72/H/this.internal.scaleFactor),k===0&&(k=H*q.width/q.height),H===0&&(H=k*q.height/q.width),[k,H]},y=function(k,H,q,Y,ae,he){var oe=E.call(this,q,Y,ae),Q=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,W=l.call(this);if(q=oe[0],Y=oe[1],W[ae.index]=ae,he){he*=Math.PI/180;var ee=Math.cos(he),z=Math.sin(he),U=function(_e){return _e.toFixed(4)},ce=[U(ee),U(z),U(-1*z),U(ee),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,Q(k),xe(H+Y),"cm"].join(" ")),this.internal.write(ce.join(" ")),this.internal.write([Q(q),"0","0",Q(Y),"0","0","cm"].join(" "))):this.internal.write([Q(q),"0","0",Q(Y),Q(k),xe(H+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(k){var H,q,Y=0;if(typeof k=="string")for(q=k.length,H=0;H<q;H++)Y=(Y<<5)-Y+k.charCodeAt(H),Y|=0;else if(O(k))for(q=k.byteLength/2,H=0;H<q;H++)Y=(Y<<5)-Y+k[H],Y|=0;return Y},L=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var H=!0;return k.length===0&&(H=!1),k.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(H=!1),H},I=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var H=k.indexOf(",");return H<0?null:k.substring(0,H).trim().endsWith("base64")?k.substring(H+1):null};t.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},B=t.__addimage__.binaryStringToUint8Array=function(k){for(var H=k.length,q=new Uint8Array(H),Y=0;Y<H;Y++)q[Y]=k.charCodeAt(Y);return q},V=t.__addimage__.arrayBufferToBinaryString=function(k){for(var H="",q=O(k)?k:new Uint8Array(k),Y=0;Y<q.length;Y+=8192)H+=String.fromCharCode.apply(null,q.subarray(Y,Y+8192));return H};t.addImage=function(){var k,H,q,Y,ae,he,oe,Q,xe;if(typeof arguments[1]=="number"?(H=n,q=arguments[1],Y=arguments[2],ae=arguments[3],he=arguments[4],oe=arguments[5],Q=arguments[6],xe=arguments[7]):(H=arguments[1],q=arguments[2],Y=arguments[3],ae=arguments[4],he=arguments[5],oe=arguments[6],Q=arguments[7],xe=arguments[8]),Or(k=arguments[0])==="object"&&!m(k)&&"imageData"in k){var W=k;k=W.imageData,H=W.format||H||n,q=W.x||q||0,Y=W.y||Y||0,ae=W.w||W.width||ae,he=W.h||W.height||he,oe=W.alias||oe,Q=W.compression||Q,xe=W.rotation||W.angle||xe}var ee=this.internal.getFilters();if(Q===void 0&&ee.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(q)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var z=M.call(this,k,H,oe,Q);return y.call(this,q,Y,ae,he,z,xe),this};var M=function(k,H,q,Y){var ae,he,oe;if(typeof k=="string"&&i(k)===n){k=unescape(k);var Q=R(k,!1);(Q!==""||(Q=t.loadFile(k,!0))!==void 0)&&(k=Q)}if(m(k)&&(k=p(k,H)),H=i(k,H),!f(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((oe=q)==null||oe.length===0)&&(q=(function(xe){return typeof xe=="string"||O(xe)?T(xe):O(xe.data)?T(xe.data):null})(k)),(ae=_.call(this,q))||(k instanceof Uint8Array||H==="RGBA"||(he=k,k=B(k)),ae=this["process"+H.toUpperCase()](k,d.call(this),q,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in t.image_compression?xe:S.NONE})(Y),he)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},R=t.__addimage__.convertBase64ToBinaryString=function(k,H){H=typeof H!="boolean"||H;var q,Y="";if(typeof k=="string"){var ae;q=(ae=I(k))!==null&&ae!==void 0?ae:k;try{Y=bv(q)}catch(he){if(H)throw L(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};t.getImageProperties=function(k){var H,q,Y="";if(m(k)&&(k=p(k)),typeof k=="string"&&i(k)===n&&((Y=R(k,!1))===""&&(Y=t.loadFile(k)||""),k=Y),q=i(k),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(k instanceof Uint8Array||(k=B(k)),!(H=this["process"+q.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=q,H}})(Sn.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Sn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),l=n.pageContext.annotations,d=!1,f=0;f<l.length&&!d;f++)switch((r=l[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<l.length;m++){r=l[m];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(E.objId),S=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(v(r.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+p(v(S))+") >>",E.content=s;var T=E.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+T,r.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(E.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var L=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var I=this.annotations._nameMap[r.options.name];r.options.pageNumber=I.page,r.options.top=I.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var O=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+O+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(n),y:l(r),w:u(n+i),h:l(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,u=this.getTextWidth(n),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(l*d)}else o=u,a=l;return this.text(n,r,i,s),i+=.2*l,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-l,o,a,s),u},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Sn.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},o=t.__arabicParser__.isArabicEndLetter=function(E){return a(E)&&s(E)&&e[E.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(E){return a(E)&&i.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return a(E)&&s(E)&&e[E.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return a(E)&&s(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return a(E)&&s(E)&&e[E.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return a(E)&&s(E)&&e[E.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(E){var y=0,v=n,S="",T=0;for(y=0;y<E.length;y+=1)v[E.charCodeAt(y)]!==void 0?(T++,typeof(v=v[E.charCodeAt(y)])=="number"&&(S+=String.fromCharCode(v),v=n,T=0),y===E.length-1&&(v=n,S+=E.charAt(y-(T-1)),y-=T-1,T=0)):(v=n,S+=E.charAt(y-T),y-=T,T=0);return S};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(E,y,v){return a(E)?s(E)===!1?-1:!l(E)||!a(y)&&!a(v)||!a(v)&&o(y)||o(E)&&!a(y)||o(E)&&u(y)||o(E)&&o(y)?0:d(E)&&a(y)&&!o(y)&&a(v)&&l(v)?3:o(E)||!a(v)?1:2:-1},p=function(E){var y=0,v=0,S=0,T="",L="",I="",O=(E=E||"").split("\\s+"),B=[];for(y=0;y<O.length;y+=1){for(B.push(""),v=0;v<O[y].length;v+=1)T=O[y][v],L=O[y][v-1],I=O[y][v+1],a(T)?(S=m(T,L,I),B[y]+=S!==-1?String.fromCharCode(e[T.charCodeAt(0)][S]):T):B[y]+=T;B[y]=f(B[y])}return B.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var E,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var S=0;for(v=[],S=0;S<y.length;S+=1)Array.isArray(y[S])?v.push([p(y[S][0]),y[S][1],y[S][2]]):v.push([p(y[S])]);E=v}else E=p(y);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",_])})(Sn.API),Sn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Sn.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(E){l=E}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(E){d=E}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(E){f=E}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(E){_=E}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,l){r.call(this);var d=(l=l||{}).fontSize||this.getFontSize(),f=l.font||this.getFont(),m=l.scaleFactor||this.internal.scaleFactor,p=0,_=0,E=0,y=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var v=l.maxWidth;v>0?typeof u=="string"?u=this.splitTextToSize(u,v):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(T,L){return T.concat(y.splitTextToSize(L,v))},[])):u=Array.isArray(u)?u:[u];for(var S=0;S<u.length;S++)p<(E=this.getStringUnitWidth(u[S],{font:f})*d)&&(p=E);return p!==0&&(_=u.length),{w:p/=m,h:Math.max((_*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var l=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===u.lineNumber?(u.x=(l.x||0)+(l.width||0),u.y=l.y||0):l.y+l.height+u.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=f.top,p&&m&&(this.printHeaderRow(u.lineNumber,!0),u.y+=m[0].height)):u.y=l.y+l.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-d,u.y+d,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+d,{align:"center",baseline:"top",maxWidth:u.width-d-d}):this.text(u.text,u.x+d,u.y+d,{align:"left",baseline:"top",maxWidth:u.width-d-d})),this.internal.__cell__.lastCell=u,this};t.table=function(u,l,d,f,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,_,E,y,v=[],S=[],T=[],L={},I={},O=[],B=[],V=(m=m||{}).autoSize||!1,M=m.printHeaders!==!1,R=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,k=m.margins||Object.assign({width:this.getPageWidth()},e),H=typeof m.padding=="number"?m.padding:3,q=m.headerBackgroundColor||"#c8c8c8",Y=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=Y,this.setFontSize(R),f==null)S=v=Object.keys(d[0]),T=v.map(function(){return"left"});else if(Array.isArray(f)&&Or(f[0])==="object")for(v=f.map(function(W){return W.name}),S=f.map(function(W){return W.prompt||W.name||""}),T=f.map(function(W){return W.align||"left"}),p=0;p<f.length;p+=1)I[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(S=v=f,T=v.map(function(){return"left"}));if(V||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(L[y=v[p]]=d.map(function(W){return W[y]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(S[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=L[y],this.setFont(void 0,"normal"),E=0;E<_.length;E+=1)O.push(this.getTextDimensions(_[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[y]=Math.max.apply(null,O)+H+H,O=[]}if(M){var ae={};for(p=0;p<v.length;p+=1)ae[v[p]]={},ae[v[p]].text=S[p],ae[v[p]].align=T[p];var he=o.call(this,ae,I);B=v.map(function(W){return new s(u,l,I[W],he,ae[W].text,void 0,ae[W].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var oe=f.reduce(function(W,ee){return W[ee.name]=ee.align,W},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var Q=o.call(this,d[p],I);for(E=0;E<v.length;E+=1){var xe=d[p][v[E]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:E,data:xe},this),a.call(this,new s(u,l,I[v[E]],Q,xe,p+2,oe[v[E]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=l,this};var o=function(u,l){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(u).map(function(p){var _=u[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,l[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+d+d},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),l&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=u;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(_)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}})(Sn.API);var DF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},CF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],hw=TF(CF),NF=[100,200,300,400,500,600,700,800,900],Sge=TF(NF);function Xx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return DF[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof hw[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function G4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Tge={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},q4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function K4(t){return t.trimLeft()}function Dge(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Cge(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Z1,Y4,X4,Yf,J1,Z4,J4,Q4,Zx=["times"];function eL(t,e,n,r,i){var s=4,a=nL;switch(i){case Sn.API.image_compression.FAST:s=1,a=tL;break;case Sn.API.image_compression.MEDIUM:s=6,a=rL;break;case Sn.API.image_compression.SLOW:s=9,a=iL}t=(function(u,l,d,f){for(var m,p=u.length/l,_=new Uint8Array(u.length+p),E=[Nge,tL,nL,rL,iL],y=0;y<p;y+=1){var v=y*l,S=u.subarray(v,v+l);if(f)_.set(f(S,d,m),v+y);else{for(var T=E.length,L=[],I=0;I<T;I+=1)L[I]=E[I](S,d,m);var O=Mge(L.concat());_.set(L[O],v+y)}m=S}return _})(t,e,Math.ceil(n*r/8),a);var o=sw(t,{level:s});return Sn.API.__addimage__.arrayBufferToBinaryString(o)}function Nge(t){var e=Array.apply([],t);return e.unshift(0),e}function tL(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function nL(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function rL(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function iL(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=Lge(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function Lge(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function Mge(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Jx(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return LF(t,i)>>s&a}function sL(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,u=(e&o)<<a;(function(l,d,f){if(d+1<l.byteLength)l.setUint16(d,f,!1);else{var m=f>>8&255;l.setUint8(d,m)}})(t,s,LF(t,s)&~(o<<a)&65535|u)}function LF(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Pge(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,u=null;s&&(o=e,u=a,e+=3*a);var l=!0,d=[],f=0,m=null,p=0,_=null;for(this.width=n,this.height=r;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],1&E||(m=null),p=E>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,L=t[e++],I=L>>6&1,O=1<<1+(7&L),B=o,V=u,M=!1;L>>7&&(M=!0,B=e,V=O,e+=3*O);var R=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}d.push({x:y,y:v,width:S,height:T,has_local_palette:M,palette_offset:B,palette_size:V,data_offset:R,data_length:e-R,transparent_index:m,interlaced:!!I,delay:f,disposal:p});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return _},this.frameInfo=function(H){if(H<0||H>=d.length)throw new Error("Frame index out of range.");return d[H]},this.decodeAndBlitFrameBGRA=function(H,q){var Y=this.frameInfo(H),ae=Y.width*Y.height,he=new Uint8Array(ae);aL(t,Y.data_offset,he,ae);var oe=Y.palette_offset,Q=Y.transparent_index;Q===null&&(Q=256);var xe=Y.width,W=n-xe,ee=xe,z=4*(Y.y*n+Y.x),U=4*((Y.y+Y.height)*n+Y.x),ce=z,_e=4*W;Y.interlaced===!0&&(_e+=4*n*7);for(var Z=8,de=0,Ae=he.length;de<Ae;++de){var Pe=he[de];if(ee===0&&(ee=xe,(ce+=_e)>=U&&(_e=4*W+4*n*(Z-1),ce=z+(xe+W)*(Z<<1),Z>>=1)),Pe===Q)ce+=4;else{var ke=t[oe+3*Pe],ot=t[oe+3*Pe+1],Dt=t[oe+3*Pe+2];q[ce++]=Dt,q[ce++]=ot,q[ce++]=ke,q[ce++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(H,q){var Y=this.frameInfo(H),ae=Y.width*Y.height,he=new Uint8Array(ae);aL(t,Y.data_offset,he,ae);var oe=Y.palette_offset,Q=Y.transparent_index;Q===null&&(Q=256);var xe=Y.width,W=n-xe,ee=xe,z=4*(Y.y*n+Y.x),U=4*((Y.y+Y.height)*n+Y.x),ce=z,_e=4*W;Y.interlaced===!0&&(_e+=4*n*7);for(var Z=8,de=0,Ae=he.length;de<Ae;++de){var Pe=he[de];if(ee===0&&(ee=xe,(ce+=_e)>=U&&(_e=4*W+4*n*(Z-1),ce=z+(xe+W)*(Z<<1),Z>>=1)),Pe===Q)ce+=4;else{var ke=t[oe+3*Pe],ot=t[oe+3*Pe+1],Dt=t[oe+3*Pe+2];q[ce++]=ke,q[ce++]=ot,q[ce++]=Dt,q[ce++]=255}--ee}}}function aL(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,u=i+1,l=(1<<u)-1,d=0,f=0,m=0,p=t[e++],_=new Int32Array(4096),E=null;;){for(;d<16&&p!==0;)f|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<u)break;var y=f&l;if(f>>=u,d-=u,y!==s){if(y===a)break;for(var v=y<o?y:E,S=0,T=v;T>s;)T=_[T]>>8,++S;var L=T;if(m+S+(v!==y?1:0)>r)return void Gr.log("Warning, gif stream longer than expected.");n[m++]=L;var I=m+=S;for(v!==y&&(n[m++]=L),T=v;S--;)T=_[T],n[--I]=255&T,T>>=8;E!==null&&o<4096&&(_[o++]=E<<8|L,o>=l+1&&u<12&&(++u,l=l<<1|1)),E=y}else o=a+1,l=(1<<(u=i+1))-1,E=null}return m!==r&&Gr.log("Warning, gif stream shorter than expected."),n}function Qx(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),u=new Array(64),l=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),_=new Array(64),E=[],y=0,v=7,S=new Array(64),T=new Array(64),L=new Array(64),I=new Array(256),O=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(z,U){for(var ce=0,_e=0,Z=new Array,de=1;de<=16;de++){for(var Ae=1;Ae<=z[de];Ae++)Z[U[_e]]=[],Z[U[_e]][0]=ce,Z[U[_e]][1]=de,_e++,ce++;ce*=2}return Z}function oe(z){for(var U=z[0],ce=z[1]-1;ce>=0;)U&1<<ce&&(y|=1<<v),ce--,--v<0&&(y==255?(Q(255),Q(0)):Q(y),v=7,y=0)}function Q(z){E.push(z)}function xe(z){Q(z>>8&255),Q(255&z)}function W(z,U,ce,_e,Z){for(var de,Ae=Z[0],Pe=Z[240],ke=(function(ct,zt){var Mt,xt,se,G,De,ge,Ce,Le,Ve,Ze,st=0;for(Ve=0;Ve<8;++Ve){Mt=ct[st],xt=ct[st+1],se=ct[st+2],G=ct[st+3],De=ct[st+4],ge=ct[st+5],Ce=ct[st+6];var Yt=Mt+(Le=ct[st+7]),et=Mt-Le,ft=xt+Ce,Tt=xt-Ce,Nt=se+ge,nt=se-ge,qt=G+De,we=G-De,gt=Yt+qt,vt=Yt-qt,bt=ft+Nt,Qe=ft-Nt;ct[st]=gt+bt,ct[st+4]=gt-bt;var rt=.707106781*(Qe+vt);ct[st+2]=vt+rt,ct[st+6]=vt-rt;var Ht=.382683433*((gt=we+nt)-(Qe=Tt+et)),un=.5411961*gt+Ht,qn=1.306562965*Qe+Ht,Fn=.707106781*(bt=nt+Tt),cn=et+Fn,Vr=et-Fn;ct[st+5]=Vr+un,ct[st+3]=Vr-un,ct[st+1]=cn+qn,ct[st+7]=cn-qn,st+=8}for(st=0,Ve=0;Ve<8;++Ve){Mt=ct[st],xt=ct[st+8],se=ct[st+16],G=ct[st+24],De=ct[st+32],ge=ct[st+40],Ce=ct[st+48];var Ne=Mt+(Le=ct[st+56]),Be=Mt-Le,Xe=xt+Ce,ht=xt-Ce,Pt=se+ge,Zt=se-ge,dn=G+De,Qt=G-De,en=Ne+dn,Jt=Ne-dn,Kt=Xe+Pt,An=Xe-Pt;ct[st]=en+Kt,ct[st+32]=en-Kt;var Cn=.707106781*(An+Jt);ct[st+16]=Jt+Cn,ct[st+48]=Jt-Cn;var Dr=.382683433*((en=Qt+Zt)-(An=ht+Be)),Jn=.5411961*en+Dr,$n=1.306562965*An+Dr,gr=.707106781*(Kt=Zt+ht),gs=Be+gr,Hs=Be-gr;ct[st+40]=Hs+Jn,ct[st+24]=Hs-Jn,ct[st+8]=gs+$n,ct[st+56]=gs-$n,st++}for(Ve=0;Ve<64;++Ve)Ze=ct[Ve]*zt[Ve],p[Ve]=Ze>0?Ze+.5|0:Ze-.5|0;return p})(z,U),ot=0;ot<64;++ot)_[B[ot]]=ke[ot];var Dt=_[0]-ce;ce=_[0],Dt==0?oe(_e[0]):(oe(_e[m[de=32767+Dt]]),oe(f[de]));for(var yt=63;yt>0&&_[yt]==0;)yt--;if(yt==0)return oe(Ae),ce;for(var jt,le=1;le<=yt;){for(var pt=le;_[le]==0&&le<=yt;)++le;var rn=le-pt;if(rn>=16){jt=rn>>4;for(var Ee=1;Ee<=jt;++Ee)oe(Pe);rn&=15}de=32767+_[le],oe(Z[(rn<<4)+m[de]]),oe(f[de]),le++}return yt!=63&&oe(Ae),ce}function ee(z){z=Math.min(Math.max(z,1),100),s!=z&&((function(U){for(var ce=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],_e=0;_e<64;_e++){var Z=a((ce[_e]*U+50)/100);Z=Math.min(Math.max(Z,1),255),o[B[_e]]=Z}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var Pe=a((de[Ae]*U+50)/100);Pe=Math.min(Math.max(Pe,1),255),u[B[Ae]]=Pe}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ot=0,Dt=0;Dt<8;Dt++)for(var yt=0;yt<8;yt++)l[ot]=1/(o[B[ot]]*ke[Dt]*ke[yt]*8),d[ot]=1/(u[B[ot]]*ke[Dt]*ke[yt]*8),ot++})(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),s=z)}this.encode=function(z,U){U&&ee(U),E=new Array,y=0,v=7,xe(65496),xe(65504),xe(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),xe(1),xe(1),Q(0),Q(0),(function(){xe(65499),xe(132),Q(0);for(var xt=0;xt<64;xt++)Q(o[xt]);Q(1);for(var se=0;se<64;se++)Q(u[se])})(),(function(xt,se){xe(65472),xe(17),Q(8),xe(se),xe(xt),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)})(z.width,z.height),(function(){xe(65476),xe(418),Q(0);for(var xt=0;xt<16;xt++)Q(V[xt+1]);for(var se=0;se<=11;se++)Q(M[se]);Q(16);for(var G=0;G<16;G++)Q(R[G+1]);for(var De=0;De<=161;De++)Q(k[De]);Q(1);for(var ge=0;ge<16;ge++)Q(H[ge+1]);for(var Ce=0;Ce<=11;Ce++)Q(q[Ce]);Q(17);for(var Le=0;Le<16;Le++)Q(Y[Le+1]);for(var Ve=0;Ve<=161;Ve++)Q(ae[Ve])})(),xe(65498),xe(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var ce=0,_e=0,Z=0;y=0,v=7,this.encode.displayName="_encode_";for(var de,Ae,Pe,ke,ot,Dt,yt,jt,le,pt=z.data,rn=z.width,Ee=z.height,ct=4*rn,zt=0;zt<Ee;){for(de=0;de<ct;){for(ot=ct*zt+de,yt=-1,jt=0,le=0;le<64;le++)Dt=ot+(jt=le>>3)*ct+(yt=4*(7&le)),zt+jt>=Ee&&(Dt-=ct*(zt+1+jt-Ee)),de+yt>=ct&&(Dt-=de+yt-ct+4),Ae=pt[Dt++],Pe=pt[Dt++],ke=pt[Dt++],S[le]=(O[Ae]+O[Pe+256|0]+O[ke+512|0]>>16)-128,T[le]=(O[Ae+768|0]+O[Pe+1024|0]+O[ke+1280|0]>>16)-128,L[le]=(O[Ae+1280|0]+O[Pe+1536|0]+O[ke+1792|0]>>16)-128;ce=W(S,l,ce,e,r),_e=W(T,d,_e,n,i),Z=W(L,d,Z,n,i),de+=32}zt+=8}if(v>=0){var Mt=[];Mt[1]=v+1,Mt[0]=(1<<v+1)-1,oe(Mt)}return xe(65497),new Uint8Array(E)},t=t||50,(function(){for(var z=String.fromCharCode,U=0;U<256;U++)I[U]=z(U)})(),e=he(V,M),n=he(H,q),r=he(R,k),i=he(Y,ae),(function(){for(var z=1,U=2,ce=1;ce<=15;ce++){for(var _e=z;_e<U;_e++)m[32767+_e]=ce,f[32767+_e]=[],f[32767+_e][1]=ce,f[32767+_e][0]=_e;for(var Z=-(U-1);Z<=-z;Z++)m[32767+Z]=ce,f[32767+Z]=[],f[32767+Z][1]=ce,f[32767+Z][0]=U-1+Z;z<<=1,U<<=1}})(),(function(){for(var z=0;z<256;z++)O[z]=19595*z,O[z+256|0]=38470*z,O[z+512|0]=7471*z+32768,O[z+768|0]=-11059*z,O[z+1024|0]=-21709*z,O[z+1280|0]=32768*z+8421375,O[z+1536|0]=-27439*z,O[z+1792|0]=-5329*z})(),ee(t)}function fu(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oL(t){function e(M){if(!M)throw Error("assert :P")}function n(M,R,k){for(var H=0;4>H;H++)if(M[R+H]!=k.charCodeAt(H))return!0;return!1}function r(M,R,k,H,q){for(var Y=0;Y<q;Y++)M[R+Y]=k[H+Y]}function i(M,R,k,H){for(var q=0;q<H;q++)M[R+q]=k}function s(M){return new Int32Array(M)}function a(M,R){for(var k=[],H=0;H<M;H++)k.push(new R);return k}function o(M,R){var k=[];return(function H(q,Y,ae){for(var he=ae[Y],oe=0;oe<he&&(q.push(ae.length>Y+1?[]:new R),!(ae.length<Y+1));oe++)H(q[oe],Y+1,ae)})(k,0,M),k}var u=function(){var M=this;function R(x,A){for(var P=1<<A-1>>>0;x&P;)P>>>=1;return P?(x&P-1)+P:x}function k(x,A,P,j,$){e(!(j%P));do x[A+(j-=P)]=$;while(0<j)}function H(x,A,P,j,$){if(e(2328>=$),512>=$)var J=s(512);else if((J=s($))==null)return 0;return(function(te,ie,ue,me,Re,We){var ve,Fe,He=ie,dt=1<<ue,$e=s(16),at=s(16);for(e(Re!=0),e(me!=null),e(te!=null),e(0<ue),Fe=0;Fe<Re;++Fe){if(15<me[Fe])return 0;++$e[me[Fe]]}if($e[0]==Re)return 0;for(at[1]=0,ve=1;15>ve;++ve){if($e[ve]>1<<ve)return 0;at[ve+1]=at[ve]+$e[ve]}for(Fe=0;Fe<Re;++Fe)ve=me[Fe],0<me[Fe]&&(We[at[ve]++]=Fe);if(at[15]==1)return(me=new q).g=0,me.value=We[0],k(te,He,1,dt,me),dt;var ut,_t=-1,wt=dt-1,En=0,an=1,Gn=1,pn=1<<ue;for(Fe=0,ve=1,Re=2;ve<=ue;++ve,Re<<=1){if(an+=Gn<<=1,0>(Gn-=$e[ve]))return 0;for(;0<$e[ve];--$e[ve])(me=new q).g=ve,me.value=We[Fe++],k(te,He+En,Re,pn,me),En=R(En,ve)}for(ve=ue+1,Re=2;15>=ve;++ve,Re<<=1){if(an+=Gn<<=1,0>(Gn-=$e[ve]))return 0;for(;0<$e[ve];--$e[ve]){if(me=new q,(En&wt)!=_t){for(He+=pn,ut=1<<(_t=ve)-ue;15>_t&&!(0>=(ut-=$e[_t]));)++_t,ut<<=1;dt+=pn=1<<(ut=_t-ue),te[ie+(_t=En&wt)].g=ut+ue,te[ie+_t].value=He-ie-_t}me.g=ve-ue,me.value=We[Fe++],k(te,He+(En>>ue),Re,pn,me),En=R(En,ve)}}return an!=2*at[15]-1?0:dt})(x,A,P,j,$,J)}function q(){this.value=this.g=0}function Y(){this.value=this.g=0}function ae(){this.G=a(5,q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ma,Y)}function he(x,A,P,j){e(x!=null),e(A!=null),e(2147483648>j),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=A,x.pa=P,x.Jd=A,x.Yc=P+j,x.Zc=4<=j?P+j-4+1:P,Ae(x)}function oe(x,A){for(var P=0;0<A--;)P|=ke(x,128)<<A;return P}function Q(x,A){var P=oe(x,A);return Pe(x)?-P:P}function xe(x,A,P,j){var $,J=0;for(e(x!=null),e(A!=null),e(4294967288>j),x.Sb=j,x.Ra=0,x.u=0,x.h=0,4<j&&(j=4),$=0;$<j;++$)J+=A[P+$]<<8*$;x.Ra=J,x.bb=j,x.oa=A,x.pa=P}function W(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Pu-8>>>0,++x.bb,x.u-=8;_e(x)&&(x.h=1,x.u=0)}function ee(x,A){if(e(0<=A),!x.h&&A<=pa){var P=ce(x)&fa[A];return x.u+=A,W(x),P}return x.h=1,x.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ce(x){return x.Ra>>>(x.u&Pu-1)>>>0}function _e(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Pu}function Z(x,A){x.u=A,x.h=_e(x)}function de(x){x.u>=Ao&&(e(x.u>=Ao),W(x))}function Ae(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function Pe(x){return oe(x,1)}function ke(x,A){var P=x.Ca;0>x.b&&Ae(x);var j=x.b,$=P*A>>>8,J=(x.I>>>j>$)+0;for(J?(P-=$,x.I-=$+1<<j>>>0):P=$+1,j=P,$=0;256<=j;)$+=8,j>>=8;return j=7^$+Zo[j],x.b-=j,x.Ca=(P<<j)-1,J}function ot(x,A,P){x[A+0]=P>>24&255,x[A+1]=P>>16&255,x[A+2]=P>>8&255,x[A+3]=255&P}function Dt(x,A){return x[A+0]|x[A+1]<<8}function yt(x,A){return Dt(x,A)|x[A+2]<<16}function jt(x,A){return Dt(x,A)|Dt(x,A+2)<<16}function le(x,A){var P=1<<A;return e(x!=null),e(0<A),x.X=s(P),x.X==null?0:(x.Mb=32-A,x.Xa=A,1)}function pt(x,A){e(x!=null),e(A!=null),e(x.Xa==A.Xa),r(A.X,0,x.X,0,1<<A.Xa)}function rn(){this.X=[],this.Xa=this.Mb=0}function Ee(x,A,P,j){e(P!=null),e(j!=null);var $=P[0],J=j[0];return $==0&&($=(x*J+A/2)/A),J==0&&(J=(A*$+x/2)/x),0>=$||0>=J?0:(P[0]=$,j[0]=J,1)}function ct(x,A){return x+(1<<A)-1>>>A}function zt(x,A){return((4278255360&x)+(4278255360&A)>>>0&4278255360)+((16711935&x)+(16711935&A)>>>0&16711935)>>>0}function Mt(x,A){M[A]=function(P,j,$,J,te,ie,ue){var me;for(me=0;me<te;++me){var Re=M[x](ie[ue+me-1],$,J+me);ie[ue+me]=zt(P[j+me],Re)}}}function xt(){this.ud=this.hd=this.jd=0}function se(x,A){return((4278124286&(x^A))>>>1)+(x&A)>>>0}function G(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function De(x,A){return G(x+(x-A+.5>>1))}function ge(x,A,P){return Math.abs(A-P)-Math.abs(x-P)}function Ce(x,A,P,j,$,J,te){for(j=J[te-1],P=0;P<$;++P)J[te+P]=j=zt(x[A+P],j)}function Le(x,A,P,j,$){var J;for(J=0;J<P;++J){var te=x[A+J],ie=te>>8&255,ue=16711935&(ue=(ue=16711935&te)+((ie<<16)+ie));j[$+J]=(4278255360&te)+ue>>>0}}function Ve(x,A){A.jd=255&x,A.hd=x>>8&255,A.ud=x>>16&255}function Ze(x,A,P,j,$,J){var te;for(te=0;te<j;++te){var ie=A[P+te],ue=ie>>>8,me=ie,Re=255&(Re=(Re=ie>>>16)+((x.jd<<24>>24)*(ue<<24>>24)>>>5));me=255&(me=(me+=(x.hd<<24>>24)*(ue<<24>>24)>>>5)+((x.ud<<24>>24)*(Re<<24>>24)>>>5)),$[J+te]=(4278255360&ie)+(Re<<16)+me}}function st(x,A,P,j,$){M[A]=function(J,te,ie,ue,me,Re,We,ve,Fe){for(ue=We;ue<ve;++ue)for(We=0;We<Fe;++We)me[Re++]=$(ie[j(J[te++])])},M[x]=function(J,te,ie,ue,me,Re,We){var ve=8>>J.b,Fe=J.Ea,He=J.K[0],dt=J.w;if(8>ve)for(J=(1<<J.b)-1,dt=(1<<ve)-1;te<ie;++te){var $e,at=0;for($e=0;$e<Fe;++$e)$e&J||(at=j(ue[me++])),Re[We++]=$(He[at&dt]),at>>=ve}else M["VP8LMapColor"+P](ue,me,He,dt,Re,We,te,ie,Fe)}}function Yt(x,A,P,j,$){for(P=A+P;A<P;){var J=x[A++];j[$++]=J>>16&255,j[$++]=J>>8&255,j[$++]=255&J}}function et(x,A,P,j,$){for(P=A+P;A<P;){var J=x[A++];j[$++]=J>>16&255,j[$++]=J>>8&255,j[$++]=255&J,j[$++]=J>>24&255}}function ft(x,A,P,j,$){for(P=A+P;A<P;){var J=(te=x[A++])>>16&240|te>>12&15,te=240&te|te>>28&15;j[$++]=J,j[$++]=te}}function Tt(x,A,P,j,$){for(P=A+P;A<P;){var J=(te=x[A++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;j[$++]=J,j[$++]=te}}function Nt(x,A,P,j,$){for(P=A+P;A<P;){var J=x[A++];j[$++]=255&J,j[$++]=J>>8&255,j[$++]=J>>16&255}}function nt(x,A,P,j,$,J){if(J==0)for(P=A+P;A<P;)ot(j,((J=x[A++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),$+=32;else r(j,$,x,A,P)}function qt(x,A){M[A][0]=M[x+"0"],M[A][1]=M[x+"1"],M[A][2]=M[x+"2"],M[A][3]=M[x+"3"],M[A][4]=M[x+"4"],M[A][5]=M[x+"5"],M[A][6]=M[x+"6"],M[A][7]=M[x+"7"],M[A][8]=M[x+"8"],M[A][9]=M[x+"9"],M[A][10]=M[x+"10"],M[A][11]=M[x+"11"],M[A][12]=M[x+"12"],M[A][13]=M[x+"13"],M[A][14]=M[x+"0"],M[A][15]=M[x+"0"]}function we(x){return x==Cc||x==Cl||x==Fd||x==Od}function gt(){this.eb=[],this.size=this.A=this.fb=0}function vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gt,this.f.kb=new vt,this.sd=null}function Qe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ht(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function un(x,A){var P=x.T,j=A.ba.f.RGBA,$=j.eb,J=j.fb+x.ka*j.A,te=Ks[A.ba.S],ie=x.y,ue=x.O,me=x.f,Re=x.N,We=x.ea,ve=x.W,Fe=A.cc,He=A.dc,dt=A.Mc,$e=A.Nc,at=x.ka,ut=x.ka+x.T,_t=x.U,wt=_t+1>>1;for(at==0?te(ie,ue,null,null,me,Re,We,ve,me,Re,We,ve,$,J,null,null,_t):(te(A.ec,A.fc,ie,ue,Fe,He,dt,$e,me,Re,We,ve,$,J-j.A,$,J,_t),++P);at+2<ut;at+=2)Fe=me,He=Re,dt=We,$e=ve,Re+=x.Rc,ve+=x.Rc,J+=2*j.A,te(ie,(ue+=2*x.fa)-x.fa,ie,ue,Fe,He,dt,$e,me,Re,We,ve,$,J-j.A,$,J,_t);return ue+=x.fa,x.j+ut<x.o?(r(A.ec,A.fc,ie,ue,_t),r(A.cc,A.dc,me,Re,wt),r(A.Mc,A.Nc,We,ve,wt),P--):1&ut||te(ie,ue,null,null,me,Re,We,ve,me,Re,We,ve,$,J+j.A,null,null,_t),P}function qn(x,A,P){var j=x.F,$=[x.J];if(j!=null){var J=x.U,te=A.ba.S,ie=te==kd||te==Fd;A=A.ba.f.RGBA;var ue=[0],me=x.ka;ue[0]=x.T,x.Kb&&(me==0?--ue[0]:(--me,$[0]-=x.width),x.j+x.ka+x.T==x.o&&(ue[0]=x.o-x.j-me));var Re=A.eb;me=A.fb+me*A.A,x=Rd(j,$[0],x.width,J,ue,Re,me+(ie?0:3),A.A),e(P==ue),x&&we(te)&&Dl(Re,me,ie,J,ue,A.A)}return 0}function Fn(x){var A=x.ma,P=A.ba.S,j=11>P,$=P==Fu||P==Id||P==kd||P==Mr||P==12||we(P);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!bc(A.Oa,x,$?11:12))return 0;if($&&we(P)&&vl(),x.da)alert("todo:use_scaling");else{if(j){if(A.Ib=Ht,x.Kb){if(P=x.U+1>>1,A.memory=s(x.U+2*P),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+x.U,A.Mc=A.cc,A.Nc=A.dc+P,A.Ib=un,vl()}}else alert("todo:EmitYUV");$&&(A.Jb=qn,j&&Za())}if(j&&!os){for(x=0;256>x;++x)Ys[x]=89858*(x-128)+to>>tu,Xs[x]=-22014*(x-128)+to,Pc[x]=-45773*(x-128),Pl[x]=113618*(x-128)+to>>tu;for(x=Tr;x<Nr;++x)A=76283*(x-16)+to>>tu,rf[x-Tr]=It(A,255),Eg[x-Tr]=It(A+8>>4,15);os=1}return 1}function cn(x){var A=x.ma,P=x.U,j=x.T;return e(!(1&x.ka)),0>=P||0>=j?0:(P=A.Ib(x,A),A.Jb!=null&&A.Jb(x,A,P),A.Dc+=P,1)}function Vr(x){x.ma.memory=null}function Ne(x,A,P,j){return ee(x,8)!=47?0:(A[0]=ee(x,14)+1,P[0]=ee(x,14)+1,j[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function Be(x,A){if(4>x)return x+1;var P=x-2>>1;return(2+(1&x)<<P)+ee(A,P)+1}function Xe(x,A){return 120<A?A-120:1<=(P=((P=c2[A-1])>>4)*x+(8-(15&P)))?P:1;var P}function ht(x,A,P){var j=ce(P),$=x[A+=255&j].g-8;return 0<$&&(Z(P,P.u+8),j=ce(P),A+=x[A].value,A+=j&(1<<$)-1),Z(P,P.u+x[A].g),x[A].value}function Pt(x,A,P){return P.g+=x.g,P.value+=x.value<<A>>>0,e(8>=P.g),x.g}function Zt(x,A,P){var j=x.xc;return e((A=j==0?0:x.vc[x.md*(P>>j)+(A>>j)])<x.Wb),x.Ya[A]}function dn(x,A,P,j){var $=x.ab,J=x.c*A,te=x.C;A=te+A;var ie=P,ue=j;for(j=x.Ta,P=x.Ua;0<$--;){var me=x.gc[$],Re=te,We=A,ve=ie,Fe=ue,He=(ue=j,ie=P,me.Ea);switch(e(Re<We),e(We<=me.nc),me.hc){case 2:gi(ve,Fe,(We-Re)*He,ue,ie);break;case 0:var dt=Re,$e=We,at=ue,ut=ie,_t=(pn=me).Ea;dt==0&&(Jo(ve,Fe,null,null,1,at,ut),Ce(ve,Fe+1,0,0,_t-1,at,ut+1),Fe+=_t,ut+=_t,++dt);for(var wt=1<<pn.b,En=wt-1,an=ct(_t,pn.b),Gn=pn.K,pn=pn.w+(dt>>pn.b)*an;dt<$e;){var or=Gn,oi=pn,Kn=1;for(So(ve,Fe,at,ut-_t,1,at,ut);Kn<_t;){var on=(Kn&~En)+wt;on>_t&&(on=_t),(0,wl[or[oi++]>>8&15])(ve,Fe+ +Kn,at,ut+Kn-_t,on-Kn,at,ut+Kn),Kn=on}Fe+=_t,ut+=_t,++dt&En||(pn+=an)}We!=me.nc&&r(ue,ie-He,ue,ie+(We-Re-1)*He,He);break;case 1:for(He=ve,$e=Fe,_t=(ve=me.Ea)-(ut=ve&~(at=(Fe=1<<me.b)-1)),dt=ct(ve,me.b),wt=me.K,me=me.w+(Re>>me.b)*dt;Re<We;){for(En=wt,an=me,Gn=new xt,pn=$e+ut,or=$e+ve;$e<pn;)Ve(En[an++],Gn),wc(Gn,He,$e,Fe,ue,ie),$e+=Fe,ie+=Fe;$e<or&&(Ve(En[an++],Gn),wc(Gn,He,$e,_t,ue,ie),$e+=_t,ie+=_t),++Re&at||(me+=dt)}break;case 3:if(ve==ue&&Fe==ie&&0<me.b){for($e=ue,ve=He=ie+(We-Re)*He-(ut=(We-Re)*ct(me.Ea,me.b)),Fe=ue,at=ie,dt=[],ut=(_t=ut)-1;0<=ut;--ut)dt[ut]=Fe[at+ut];for(ut=_t-1;0<=ut;--ut)$e[ve+ut]=dt[ut];bl(me,Re,We,ue,He,ue,ie)}else bl(me,Re,We,ve,Fe,ue,ie)}ie=j,ue=P}ue!=P&&r(j,P,ie,ue,J)}function Qt(x,A){var P=x.V,j=x.Ba+x.c*x.C,$=A-x.C;if(e(A<=x.l.o),e(16>=$),0<$){var J=x.l,te=x.Ta,ie=x.Ua,ue=J.width;if(dn(x,$,P,j),$=ie=[ie],e((P=x.C)<(j=A)),e(J.v<J.va),j>J.o&&(j=J.o),P<J.j){var me=J.j-P;P=J.j,$[0]+=me*ue}if(P>=j?P=0:($[0]+=4*J.v,J.ka=P-J.j,J.U=J.va-J.v,J.T=j-P,P=1),P){if(ie=ie[0],11>(P=x.ca).S){var Re=P.f.RGBA,We=(j=P.S,$=J.U,J=J.T,me=Re.eb,Re.A),ve=J;for(Re=Re.fb+x.Ma*Re.A;0<ve--;){var Fe=te,He=ie,dt=$,$e=me,at=Re;switch(j){case Qh:Ac(Fe,He,dt,$e,at);break;case Fu:Qo(Fe,He,dt,$e,at);break;case Cc:Qo(Fe,He,dt,$e,at),Dl($e,at,0,dt,1,0);break;case vg:Al(Fe,He,dt,$e,at);break;case Id:nt(Fe,He,dt,$e,at,1);break;case Cl:nt(Fe,He,dt,$e,at,1),Dl($e,at,0,dt,1,0);break;case kd:nt(Fe,He,dt,$e,at,0);break;case Fd:nt(Fe,He,dt,$e,at,0),Dl($e,at,1,dt,1,0);break;case Mr:Ru(Fe,He,dt,$e,at);break;case Od:Ru(Fe,He,dt,$e,at),Qp($e,at,dt,1,0);break;case ef:Iu(Fe,He,dt,$e,at);break;default:e(0)}ie+=ue,Re+=We}x.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=P.height)}}x.C=A,e(x.C<=x.i)}function en(x){var A;if(0<x.ua)return 0;for(A=0;A<x.Wb;++A){var P=x.Ya[A].G,j=x.Ya[A].H;if(0<P[1][j[1]+0].g||0<P[2][j[2]+0].g||0<P[3][j[3]+0].g)return 0}return 1}function Jt(x,A,P,j,$,J){if(x.Z!=0){var te=x.qd,ie=x.rd;for(e(ys[x.Z]!=null);A<P;++A)ys[x.Z](te,ie,j,$,j,$,J),te=j,ie=$,$+=J;x.qd=te,x.rd=ie}}function Kt(x,A){var P=x.l.ma,j=P.Z==0||P.Z==1?x.l.j:x.C;if(j=x.C<j?j:x.C,e(A<=x.l.o),A>j){var $=x.l.width,J=P.ca,te=P.tb+$*j,ie=x.V,ue=x.Ba+x.c*j,me=x.gc;e(x.ab==1),e(me[0].hc==3),Qa(me[0],j,A,ie,ue,J,te),Jt(P,j,A,J,te,$)}x.C=x.Ma=A}function An(x,A,P,j,$,J,te){var ie=x.$/j,ue=x.$%j,me=x.m,Re=x.s,We=P+x.$,ve=We;$=P+j*$;var Fe=P+j*J,He=280+Re.ua,dt=x.Pb?ie:16777216,$e=0<Re.ua?Re.Wa:null,at=Re.wc,ut=We<Fe?Zt(Re,ue,ie):null;e(x.C<J),e(Fe<=$);var _t=!1;e:for(;;){for(;_t||We<Fe;){var wt=0;if(ie>=dt){var En=We-P;e((dt=x).Pb),dt.wd=dt.m,dt.xd=En,0<dt.s.ua&&pt(dt.s.Wa,dt.s.vb),dt=ie+nf}if(ue&at||(ut=Zt(Re,ue,ie)),e(ut!=null),ut.Qb&&(A[We]=ut.qb,_t=!0),!_t)if(de(me),ut.jc){wt=me,En=A;var an=We,Gn=ut.pd[ce(wt)&Ma-1];e(ut.jc),256>Gn.g?(Z(wt,wt.u+Gn.g),En[an]=Gn.value,wt=0):(Z(wt,wt.u+Gn.g-256),e(256<=Gn.value),wt=Gn.value),wt==0&&(_t=!0)}else wt=ht(ut.G[0],ut.H[0],me);if(me.h)break;if(_t||256>wt){if(!_t)if(ut.nd)A[We]=(ut.qb|wt<<8)>>>0;else{if(de(me),_t=ht(ut.G[1],ut.H[1],me),de(me),En=ht(ut.G[2],ut.H[2],me),an=ht(ut.G[3],ut.H[3],me),me.h)break;A[We]=(an<<24|_t<<16|wt<<8|En)>>>0}if(_t=!1,++We,++ue>=j&&(ue=0,++ie,te!=null&&ie<=J&&!(ie%16)&&te(x,ie),$e!=null))for(;ve<We;)wt=A[ve++],$e.X[(506832829*wt&4294967295)>>>$e.Mb]=wt}else if(280>wt){if(wt=Be(wt-256,me),En=ht(ut.G[4],ut.H[4],me),de(me),En=Xe(j,En=Be(En,me)),me.h)break;if(We-P<En||$-We<wt)break e;for(an=0;an<wt;++an)A[We+an]=A[We+an-En];for(We+=wt,ue+=wt;ue>=j;)ue-=j,++ie,te!=null&&ie<=J&&!(ie%16)&&te(x,ie);if(e(We<=$),ue&at&&(ut=Zt(Re,ue,ie)),$e!=null)for(;ve<We;)wt=A[ve++],$e.X[(506832829*wt&4294967295)>>>$e.Mb]=wt}else{if(!(wt<He))break e;for(_t=wt-280,e($e!=null);ve<We;)wt=A[ve++],$e.X[(506832829*wt&4294967295)>>>$e.Mb]=wt;wt=We,e(!(_t>>>(En=$e).Xa)),A[wt]=En.X[_t],_t=!0}_t||e(me.h==_e(me))}if(x.Pb&&me.h&&We<$)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&pt(x.s.vb,x.s.Wa);else{if(me.h)break e;te?.(x,ie>J?J:ie),x.a=0,x.$=We-P}return 1}return x.a=3,0}function Cn(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var A=x.Wa;A!=null&&(A.X=null),x.vb=null,e(x!=null)}function Dr(){var x=new Un;return x==null?null:(x.a=0,x.xb=Lc,qt("Predictor","VP8LPredictors"),qt("Predictor","VP8LPredictors_C"),qt("PredictorAdd","VP8LPredictorsAdd"),qt("PredictorAdd","VP8LPredictorsAdd_C"),gi=Le,wc=Ze,Ac=Yt,Qo=et,Ru=ft,Iu=Tt,Al=Nt,M.VP8LMapColor32b=To,M.VP8LMapColor8b=El,x)}function Jn(x,A,P,j,$){var J=1,te=[x],ie=[A],ue=j.m,me=j.s,Re=null,We=0;e:for(;;){if(P)for(;J&&ee(ue,1);){var ve=te,Fe=ie,He=j,dt=1,$e=He.m,at=He.gc[He.ab],ut=ee($e,2);if(He.Oc&1<<ut)J=0;else{switch(He.Oc|=1<<ut,at.hc=ut,at.Ea=ve[0],at.nc=Fe[0],at.K=[null],++He.ab,e(4>=He.ab),ut){case 0:case 1:at.b=ee($e,3)+2,dt=Jn(ct(at.Ea,at.b),ct(at.nc,at.b),0,He,at.K),at.K=at.K[0];break;case 3:var _t,wt=ee($e,8)+1,En=16<wt?0:4<wt?1:2<wt?2:3;if(ve[0]=ct(at.Ea,En),at.b=En,_t=dt=Jn(wt,1,0,He,at.K)){var an,Gn=wt,pn=at,or=1<<(8>>pn.b),oi=s(or);if(oi==null)_t=0;else{var Kn=pn.K[0],on=pn.w;for(oi[0]=pn.K[0][0],an=1;an<1*Gn;++an)oi[an]=zt(Kn[on+an],oi[an-1]);for(;an<4*or;++an)oi[an]=0;pn.K[0]=null,pn.K[0]=oi,_t=1}}dt=_t;break;case 2:break;default:e(0)}J=dt}}if(te=te[0],ie=ie[0],J&&ee(ue,1)&&!(J=1<=(We=ee(ue,4))&&11>=We)){j.a=3;break e}var $t;if($t=J)t:{var vi,Bn,rr,Ur=j,Yi=te,Ni=ie,ri=We,ji=P,Xi=Ur.m,Yr=Ur.s,cr=[null],yr=1,Xr=0,xr=yg[ri];n:for(;;){if(ji&&ee(Xi,1)){var ui=ee(Xi,3)+2,li=ct(Yi,ui),Pr=ct(Ni,ui),xs=li*Pr;if(!Jn(li,Pr,0,Ur,cr))break n;for(cr=cr[0],Yr.xc=ui,vi=0;vi<xs;++vi){var Lr=cr[vi]>>8&65535;cr[vi]=Lr,Lr>=yr&&(yr=Lr+1)}}if(Xi.h)break n;for(Bn=0;5>Bn;++Bn){var Rr=Nl[Bn];!Bn&&0<ri&&(Rr+=1<<ri),Xr<Rr&&(Xr=Rr)}var Li=a(yr*xr,q),us=yr,Zs=a(us,ae);if(Zs==null)var _i=null;else e(65536>=us),_i=Zs;var yi=s(Xr);if(_i==null||yi==null||Li==null){Ur.a=1;break n}var bs=Li;for(vi=rr=0;vi<yr;++vi){var Ir=_i[vi],Es=Ir.G,Ia=Ir.H,no=0,Zi=1,xi=0;for(Bn=0;5>Bn;++Bn){Rr=Nl[Bn],Es[Bn]=bs,Ia[Bn]=rr,!Bn&&0<ri&&(Rr+=1<<ri);i:{var Uu,ru=Rr,Rc=Ur,No=yi,Ag=bs,d0=rr,Wr=0,ro=Rc.m,h0=ee(ro,1);if(i(No,0,0,ru),h0){var f0=ee(ro,1)+1,sf=ee(ro,1),af=ee(ro,sf==0?1:8);No[af]=1,f0==2&&(No[af=ee(ro,8)]=1);var Lo=1}else{var Zr=s(19),Mi=ee(ro,4)+4;if(19<Mi){Rc.a=3;var bi=0;break i}for(Uu=0;Uu<Mi;++Uu)Zr[l2[Uu]]=ee(ro,3);var Ic=void 0,iu=void 0,kc=Rc,m2=Zr,zi=ru,of=No,Hd=0,Mo=kc.m,io=8,ma=a(128,q);r:for(;H(ma,0,7,m2,19);){if(ee(Mo,1)){var Vd=2+2*ee(Mo,3);if((Ic=2+ee(Mo,Vd))>zi)break r}else Ic=zi;for(iu=0;iu<zi&&Ic--;){de(Mo);var uf=ma[0+(127&ce(Mo))];Z(Mo,Mo.u+uf.g);var ju=uf.value;if(16>ju)of[iu++]=ju,ju!=0&&(io=ju);else{var Sg=ju==16,p0=ju-16,Tg=tf[p0],m0=ee(Mo,Bd[p0])+Tg;if(iu+m0>zi)break r;for(var Dg=Sg?io:0;0<m0--;)of[iu++]=Dg}}Hd=1;break r}Hd||(kc.a=3),Lo=Hd}(Lo=Lo&&!ro.h)&&(Wr=H(Ag,d0,8,No,ru)),Lo&&Wr!=0?bi=Wr:(Rc.a=3,bi=0)}if(bi==0)break n;if(Zi&&_g[Bn]==1&&(Zi=bs[rr].g==0),no+=bs[rr].g,rr+=bi,3>=Bn){var Fc,lf=yi[0];for(Fc=1;Fc<Rr;++Fc)yi[Fc]>lf&&(lf=yi[Fc]);xi+=lf}}if(Ir.nd=Zi,Ir.Qb=0,Zi&&(Ir.qb=(Es[3][Ia[3]+0].value<<24|Es[1][Ia[1]+0].value<<16|Es[2][Ia[2]+0].value)>>>0,no==0&&256>Es[0][Ia[0]+0].value&&(Ir.Qb=1,Ir.qb+=Es[0][Ia[0]+0].value<<8)),Ir.jc=!Ir.Qb&&6>xi,Ir.jc){var Wd,ga=Ir;for(Wd=0;Wd<Ma;++Wd){var su=Wd,so=ga.pd[su],Il=ga.G[0][ga.H[0]+su];256<=Il.value?(so.g=Il.g+256,so.value=Il.value):(so.g=0,so.value=0,su>>=Pt(Il,8,so),su>>=Pt(ga.G[1][ga.H[1]+su],16,so),su>>=Pt(ga.G[2][ga.H[2]+su],0,so),Pt(ga.G[3][ga.H[3]+su],24,so))}}}Yr.vc=cr,Yr.Wb=yr,Yr.Ya=_i,Yr.yc=Li,$t=1;break t}$t=0}if(!(J=$t)){j.a=3;break e}if(0<We){if(me.ua=1<<We,!le(me.Wa,We)){j.a=1,J=0;break e}}else me.ua=0;var cf=j,df=te,Cg=ie,hf=cf.s,ff=hf.xc;if(cf.c=df,cf.i=Cg,hf.md=ct(df,ff),hf.wc=ff==0?-1:(1<<ff)-1,P){j.xb=Co;break e}if((Re=s(te*ie))==null){j.a=1,J=0;break e}J=(J=An(j,Re,0,te,ie,ie,null))&&!ue.h;break e}return J?($!=null?$[0]=Re:(e(Re==null),e(P)),j.$=0,P||Cn(me)):Cn(me),J}function $n(x,A){var P=x.c*x.i,j=P+A+16*A;return e(x.c<=A),x.V=s(j),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+P+A,1)}function gr(x,A){var P=x.C,j=A-P,$=x.V,J=x.Ba+x.c*P;for(e(A<=x.l.o);0<j;){var te=16<j?16:j,ie=x.l.ma,ue=x.l.width,me=ue*te,Re=ie.ca,We=ie.tb+ue*P,ve=x.Ta,Fe=x.Ua;dn(x,te,$,J),e0(ve,Fe,Re,We,me),Jt(ie,P,P+te,Re,We,ue),j-=te,$+=te*x.c,P+=te}e(P==A),x.C=x.Ma=A}function gs(){this.ub=this.yd=this.td=this.Rb=0}function Hs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Rs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function tr(){this.Yb=(function(){var x=[];return(function A(P,j,$){for(var J=$[j],te=0;te<J&&(P.push($.length>j+1?[]:0),!($.length<j+1));te++)A(P[te],j+1,$)})(x,0,[3,11]),x})()}function re(){this.jb=s(3),this.Wc=o([4,8],tr),this.Xc=o([4,17],tr)}function Ue(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ge(){this.ld=this.La=this.dd=this.tc=0}function Ye(){this.Na=this.la=0}function ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Et(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ft(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ge),this.Y=0,this.ya=Array(new Et),this.aa=0,this.l=new mn}function Ot(){this.y=s(16),this.f=s(8),this.ea=s(8)}function tn(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new gs,this.Kc=new Hs,this.ed=new Ue,this.Qa=new Rs,this.Ic=this.$c=this.Aa=0,this.D=new Ft,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,z),this.ia=0,this.pb=a(4,ze),this.Pa=new re,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ot),this.Hd=0,this.rb=Array(new Ye),this.sb=0,this.wa=Array(new Ge),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Et),this.L=this.aa=0,this.gd=o([4,2],Ge),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function It(x,A){return 0>x?0:x>A?A:x}function mn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xn(){var x=new tn;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Ll||(Ll=hr)),x}function _n(x,A,P){return x.a==0&&(x.a=A,x.sc=P,x.cb=0),0}function sr(x,A,P){return 3<=P&&x[A+0]==157&&x[A+1]==1&&x[A+2]==42}function ar(x,A){if(x==null)return 0;if(x.a=0,x.sc="OK",A==null)return _n(x,2,"null VP8Io passed to VP8GetHeaders()");var P=A.data,j=A.w,$=A.ha;if(4>$)return _n(x,7,"Truncated header.");var J=P[j+0]|P[j+1]<<8|P[j+2]<<16,te=x.Od;if(te.Rb=!(1&J),te.td=J>>1&7,te.yd=J>>4&1,te.ub=J>>5,3<te.td)return _n(x,3,"Incorrect keyframe parameters.");if(!te.yd)return _n(x,4,"Frame not displayable.");j+=3,$-=3;var ie=x.Kc;if(te.Rb){if(7>$)return _n(x,7,"cannot parse picture header");if(!sr(P,j,$))return _n(x,3,"Bad code word");ie.c=16383&(P[j+4]<<8|P[j+3]),ie.Td=P[j+4]>>6,ie.i=16383&(P[j+6]<<8|P[j+5]),ie.Ud=P[j+6]>>6,j+=7,$-=7,x.za=ie.c+15>>4,x.Ub=ie.i+15>>4,A.width=ie.c,A.height=ie.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((J=x.Pa).jb,0,255,J.jb.length),e((J=x.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,i(J.Zb,0,0,J.Zb.length),i(J.Lb,0,0,J.Lb)}if(te.ub>$)return _n(x,7,"bad partition length");he(J=x.m,P,j,te.ub),j+=te.ub,$-=te.ub,te.Rb&&(ie.Ld=Pe(J),ie.Kd=Pe(J)),ie=x.Qa;var ue,me=x.Pa;if(e(J!=null),e(ie!=null),ie.Cb=Pe(J),ie.Cb){if(ie.Bb=Pe(J),Pe(J)){for(ie.Fb=Pe(J),ue=0;4>ue;++ue)ie.Zb[ue]=Pe(J)?Q(J,7):0;for(ue=0;4>ue;++ue)ie.Lb[ue]=Pe(J)?Q(J,6):0}if(ie.Bb)for(ue=0;3>ue;++ue)me.jb[ue]=Pe(J)?oe(J,8):255}else ie.Bb=0;if(J.Ka)return _n(x,3,"cannot parse segment header");if((ie=x.ed).zd=Pe(J),ie.Tb=oe(J,6),ie.wb=oe(J,3),ie.Pc=Pe(J),ie.Pc&&Pe(J)){for(me=0;4>me;++me)Pe(J)&&(ie.vd[me]=Q(J,6));for(me=0;4>me;++me)Pe(J)&&(ie.od[me]=Q(J,6))}if(x.L=ie.Tb==0?0:ie.zd?1:2,J.Ka)return _n(x,3,"cannot parse filter header");var Re=$;if($=ue=j,j=ue+Re,ie=Re,x.Xb=(1<<oe(x.m,2))-1,Re<3*(me=x.Xb))P=7;else{for(ue+=3*me,ie-=3*me,Re=0;Re<me;++Re){var We=P[$+0]|P[$+1]<<8|P[$+2]<<16;We>ie&&(We=ie),he(x.Jc[+Re],P,ue,We),ue+=We,ie-=We,$+=3}he(x.Jc[+me],P,ue,ie),P=ue<j?0:5}if(P!=0)return _n(x,P,"cannot parse partitions");for(P=oe(ue=x.m,7),$=Pe(ue)?Q(ue,4):0,j=Pe(ue)?Q(ue,4):0,ie=Pe(ue)?Q(ue,4):0,me=Pe(ue)?Q(ue,4):0,ue=Pe(ue)?Q(ue,4):0,Re=x.Qa,We=0;4>We;++We){if(Re.Cb){var ve=Re.Zb[We];Re.Fb||(ve+=P)}else{if(0<We){x.pb[We]=x.pb[0];continue}ve=P}var Fe=x.pb[We];Fe.Sc[0]=Nc[It(ve+$,127)],Fe.Sc[1]=Ud[It(ve+0,127)],Fe.Eb[0]=2*Nc[It(ve+j,127)],Fe.Eb[1]=101581*Ud[It(ve+ie,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=Nc[It(ve+me,117)],Fe.Qc[1]=Ud[It(ve+ue,127)],Fe.lc=ve+ue}if(!te.Rb)return _n(x,4,"Not a key frame.");for(Pe(J),te=x.Pa,P=0;4>P;++P){for($=0;8>$;++$)for(j=0;3>j;++j)for(ie=0;11>ie;++ie)me=ke(J,h2[P][$][j][ie])?oe(J,8):bg[P][$][j][ie],te.Wc[P][$].Yb[j][ie]=me;for($=0;17>$;++$)te.Xc[P][$]=te.Wc[P][u0[$]]}return x.kc=Pe(J),x.kc&&(x.Bd=oe(J,8)),x.cb=1}function hr(x,A,P,j,$,J,te){var ie=A[$].Yb[P];for(P=0;16>$;++$){if(!ke(x,ie[P+0]))return $;for(;!ke(x,ie[P+1]);)if(ie=A[++$].Yb[0],P=0,$==16)return 16;var ue=A[$+1].Yb;if(ke(x,ie[P+2])){var me=x,Re=0;if(ke(me,(ve=ie)[(We=P)+3]))if(ke(me,ve[We+6])){for(ie=0,We=2*(Re=ke(me,ve[We+8]))+(ve=ke(me,ve[We+9+Re])),Re=0,ve=a0[We];ve[ie];++ie)Re+=Re+ke(me,ve[ie]);Re+=3+(8<<We)}else ke(me,ve[We+7])?(Re=7+2*ke(me,165),Re+=ke(me,145)):Re=5+ke(me,159);else Re=ke(me,ve[We+4])?3+ke(me,ve[We+5]):2;ie=ue[2]}else Re=1,ie=ue[1];ue=te+o0[$],0>(me=x).b&&Ae(me);var We,ve=me.b,Fe=(We=me.Ca>>1)-(me.I>>ve)>>31;--me.b,me.Ca+=Fe,me.Ca|=1,me.I-=(We+1&Fe)<<ve,J[ue]=((Re^Fe)-Fe)*j[(0<$)+0]}return 16}function lr(x){var A=x.rb[x.sb-1];A.la=0,A.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function ln(x,A,P,j,$){$=x[A+P+32*j]+($>>3),x[A+P+32*j]=-256&$?0>$?0:255:$}function Rn(x,A,P,j,$,J){ln(x,A,0,P,j+$),ln(x,A,1,P,j+J),ln(x,A,2,P,j-J),ln(x,A,3,P,j-$)}function Vn(x){return(20091*x>>16)+x}function Bi(x,A,P,j){var $,J=0,te=s(16);for($=0;4>$;++$){var ie=x[A+0]+x[A+8],ue=x[A+0]-x[A+8],me=(35468*x[A+4]>>16)-Vn(x[A+12]),Re=Vn(x[A+4])+(35468*x[A+12]>>16);te[J+0]=ie+Re,te[J+1]=ue+me,te[J+2]=ue-me,te[J+3]=ie-Re,J+=4,A++}for($=J=0;4>$;++$)ie=(x=te[J+0]+4)+te[J+8],ue=x-te[J+8],me=(35468*te[J+4]>>16)-Vn(te[J+12]),ln(P,j,0,0,ie+(Re=Vn(te[J+4])+(35468*te[J+12]>>16))),ln(P,j,1,0,ue+me),ln(P,j,2,0,ue-me),ln(P,j,3,0,ie-Re),J++,j+=32}function Aa(x,A,P,j){var $=x[A+0]+4,J=35468*x[A+4]>>16,te=Vn(x[A+4]),ie=35468*x[A+1]>>16;Rn(P,j,0,$+te,x=Vn(x[A+1]),ie),Rn(P,j,1,$+J,x,ie),Rn(P,j,2,$-J,x,ie),Rn(P,j,3,$-te,x,ie)}function pi(x,A,P,j,$){Bi(x,A,P,j),$&&Bi(x,A+16,P,j+4)}function vs(x,A,P,j){Sl(x,A+0,P,j,1),Sl(x,A+32,P,j+128,1)}function fr(x,A,P,j){var $;for(x=x[A+0]+4,$=0;4>$;++$)for(A=0;4>A;++A)ln(P,j,A,$,x)}function On(x,A,P,j){x[A+0]&&_r(x,A+0,P,j),x[A+16]&&_r(x,A+16,P,j+4),x[A+32]&&_r(x,A+32,P,j+128),x[A+48]&&_r(x,A+48,P,j+128+4)}function Si(x,A,P,j){var $,J=s(16);for($=0;4>$;++$){var te=x[A+0+$]+x[A+12+$],ie=x[A+4+$]+x[A+8+$],ue=x[A+4+$]-x[A+8+$],me=x[A+0+$]-x[A+12+$];J[0+$]=te+ie,J[8+$]=te-ie,J[4+$]=me+ue,J[12+$]=me-ue}for($=0;4>$;++$)te=(x=J[0+4*$]+3)+J[3+4*$],ie=J[1+4*$]+J[2+4*$],ue=J[1+4*$]-J[2+4*$],me=x-J[3+4*$],P[j+0]=te+ie>>3,P[j+16]=me+ue>>3,P[j+32]=te-ie>>3,P[j+48]=me-ue>>3,j+=64}function Kr(x,A,P){var j,$=A-32,J=ks,te=255-x[$-1];for(j=0;j<P;++j){var ie,ue=J,me=te+x[A-1];for(ie=0;ie<P;++ie)x[A+ie]=ue[me+x[$+ie]];A+=32}}function Ti(x,A){Kr(x,A,4)}function Tu(x,A){Kr(x,A,8)}function Sa(x,A){Kr(x,A,16)}function pc(x,A){var P;for(P=0;16>P;++P)r(x,A+32*P,x,A-32,16)}function mc(x,A){var P;for(P=16;0<P;--P)i(x,A,x[A-1],16),A+=32}function Vs(x,A,P){var j;for(j=0;16>j;++j)i(A,P+32*j,x,16)}function xo(x,A){var P,j=16;for(P=0;16>P;++P)j+=x[A-1+32*P]+x[A+P-32];Vs(j>>5,x,A)}function Ws(x,A){var P,j=8;for(P=0;16>P;++P)j+=x[A-1+32*P];Vs(j>>4,x,A)}function Ta(x,A){var P,j=8;for(P=0;16>P;++P)j+=x[A+P-32];Vs(j>>4,x,A)}function dl(x,A){Vs(128,x,A)}function In(x,A,P){return x+2*A+P+2>>2}function bo(x,A){var P,j=A-32;for(j=new Uint8Array([In(x[j-1],x[j+0],x[j+1]),In(x[j+0],x[j+1],x[j+2]),In(x[j+1],x[j+2],x[j+3]),In(x[j+2],x[j+3],x[j+4])]),P=0;4>P;++P)r(x,A+32*P,j,0,j.length)}function Zp(x,A){var P=x[A-1],j=x[A-1+32],$=x[A-1+64],J=x[A-1+96];ot(x,A+0,16843009*In(x[A-1-32],P,j)),ot(x,A+32,16843009*In(P,j,$)),ot(x,A+64,16843009*In(j,$,J)),ot(x,A+96,16843009*In($,J,J))}function Kh(x,A){var P,j=4;for(P=0;4>P;++P)j+=x[A+P-32]+x[A-1+32*P];for(j>>=3,P=0;4>P;++P)i(x,A+32*P,j,4)}function da(x,A){var P=x[A-1+0],j=x[A-1+32],$=x[A-1+64],J=x[A-1-32],te=x[A+0-32],ie=x[A+1-32],ue=x[A+2-32],me=x[A+3-32];x[A+0+96]=In(j,$,x[A-1+96]),x[A+1+96]=x[A+0+64]=In(P,j,$),x[A+2+96]=x[A+1+64]=x[A+0+32]=In(J,P,j),x[A+3+96]=x[A+2+64]=x[A+1+32]=x[A+0+0]=In(te,J,P),x[A+3+64]=x[A+2+32]=x[A+1+0]=In(ie,te,J),x[A+3+32]=x[A+2+0]=In(ue,ie,te),x[A+3+0]=In(me,ue,ie)}function qo(x,A){var P=x[A+1-32],j=x[A+2-32],$=x[A+3-32],J=x[A+4-32],te=x[A+5-32],ie=x[A+6-32],ue=x[A+7-32];x[A+0+0]=In(x[A+0-32],P,j),x[A+1+0]=x[A+0+32]=In(P,j,$),x[A+2+0]=x[A+1+32]=x[A+0+64]=In(j,$,J),x[A+3+0]=x[A+2+32]=x[A+1+64]=x[A+0+96]=In($,J,te),x[A+3+32]=x[A+2+64]=x[A+1+96]=In(J,te,ie),x[A+3+64]=x[A+2+96]=In(te,ie,ue),x[A+3+96]=In(ie,ue,ue)}function Yh(x,A){var P=x[A-1+0],j=x[A-1+32],$=x[A-1+64],J=x[A-1-32],te=x[A+0-32],ie=x[A+1-32],ue=x[A+2-32],me=x[A+3-32];x[A+0+0]=x[A+1+64]=J+te+1>>1,x[A+1+0]=x[A+2+64]=te+ie+1>>1,x[A+2+0]=x[A+3+64]=ie+ue+1>>1,x[A+3+0]=ue+me+1>>1,x[A+0+96]=In($,j,P),x[A+0+64]=In(j,P,J),x[A+0+32]=x[A+1+96]=In(P,J,te),x[A+1+32]=x[A+2+96]=In(J,te,ie),x[A+2+32]=x[A+3+96]=In(te,ie,ue),x[A+3+32]=In(ie,ue,me)}function gc(x,A){var P=x[A+0-32],j=x[A+1-32],$=x[A+2-32],J=x[A+3-32],te=x[A+4-32],ie=x[A+5-32],ue=x[A+6-32],me=x[A+7-32];x[A+0+0]=P+j+1>>1,x[A+1+0]=x[A+0+64]=j+$+1>>1,x[A+2+0]=x[A+1+64]=$+J+1>>1,x[A+3+0]=x[A+2+64]=J+te+1>>1,x[A+0+32]=In(P,j,$),x[A+1+32]=x[A+0+96]=In(j,$,J),x[A+2+32]=x[A+1+96]=In($,J,te),x[A+3+32]=x[A+2+96]=In(J,te,ie),x[A+3+64]=In(te,ie,ue),x[A+3+96]=In(ie,ue,me)}function hl(x,A){var P=x[A-1+0],j=x[A-1+32],$=x[A-1+64],J=x[A-1+96];x[A+0+0]=P+j+1>>1,x[A+2+0]=x[A+0+32]=j+$+1>>1,x[A+2+32]=x[A+0+64]=$+J+1>>1,x[A+1+0]=In(P,j,$),x[A+3+0]=x[A+1+32]=In(j,$,J),x[A+3+32]=x[A+1+64]=In($,J,J),x[A+3+64]=x[A+2+64]=x[A+0+96]=x[A+1+96]=x[A+2+96]=x[A+3+96]=J}function Sd(x,A){var P=x[A-1+0],j=x[A-1+32],$=x[A-1+64],J=x[A-1+96],te=x[A-1-32],ie=x[A+0-32],ue=x[A+1-32],me=x[A+2-32];x[A+0+0]=x[A+2+32]=P+te+1>>1,x[A+0+32]=x[A+2+64]=j+P+1>>1,x[A+0+64]=x[A+2+96]=$+j+1>>1,x[A+0+96]=J+$+1>>1,x[A+3+0]=In(ie,ue,me),x[A+2+0]=In(te,ie,ue),x[A+1+0]=x[A+3+32]=In(P,te,ie),x[A+1+32]=x[A+3+64]=In(j,P,te),x[A+1+64]=x[A+3+96]=In($,j,P),x[A+1+96]=In(J,$,j)}function Xa(x,A){var P;for(P=0;8>P;++P)r(x,A+32*P,x,A-32,8)}function fl(x,A){var P;for(P=0;8>P;++P)i(x,A,x[A-1],8),A+=32}function Gs(x,A,P){var j;for(j=0;8>j;++j)i(A,P+32*j,x,8)}function vc(x,A){var P,j=8;for(P=0;8>P;++P)j+=x[A+P-32]+x[A-1+32*P];Gs(j>>4,x,A)}function Td(x,A){var P,j=4;for(P=0;8>P;++P)j+=x[A+P-32];Gs(j>>3,x,A)}function Dd(x,A){var P,j=4;for(P=0;8>P;++P)j+=x[A-1+32*P];Gs(j>>3,x,A)}function _c(x,A){Gs(128,x,A)}function Da(x,A,P){var j=x[A-P],$=x[A+0],J=3*($-j)+Do[1020+x[A-2*P]-x[A+P]],te=Dc[112+(J+4>>3)];x[A-P]=ks[255+j+Dc[112+(J+3>>3)]],x[A+0]=ks[255+$-te]}function pl(x,A,P,j){var $=x[A+0],J=x[A+P];return Pa[255+x[A-2*P]-x[A-P]]>j||Pa[255+J-$]>j}function ml(x,A,P,j){return 4*Pa[255+x[A-P]-x[A+0]]+Pa[255+x[A-2*P]-x[A+P]]<=j}function Ca(x,A,P,j,$){var J=x[A-3*P],te=x[A-2*P],ie=x[A-P],ue=x[A+0],me=x[A+P],Re=x[A+2*P],We=x[A+3*P];return 4*Pa[255+ie-ue]+Pa[255+te-me]>j?0:Pa[255+x[A-4*P]-J]<=$&&Pa[255+J-te]<=$&&Pa[255+te-ie]<=$&&Pa[255+We-Re]<=$&&Pa[255+Re-me]<=$&&Pa[255+me-ue]<=$}function $o(x,A,P,j){var $=2*j+1;for(j=0;16>j;++j)ml(x,A+j,P,$)&&Da(x,A+j,P)}function Du(x,A,P,j){var $=2*j+1;for(j=0;16>j;++j)ml(x,A+j*P,1,$)&&Da(x,A+j*P,1)}function Cd(x,A,P,j){var $;for($=3;0<$;--$)$o(x,A+=4*P,P,j)}function gl(x,A,P,j){var $;for($=3;0<$;--$)Du(x,A+=4,P,j)}function Na(x,A,P,j,$,J,te,ie){for(J=2*J+1;0<$--;){if(Ca(x,A,P,J,te))if(pl(x,A,P,ie))Da(x,A,P);else{var ue=x,me=A,Re=P,We=ue[me-2*Re],ve=ue[me-Re],Fe=ue[me+0],He=ue[me+Re],dt=ue[me+2*Re],$e=27*(ut=Do[1020+3*(Fe-ve)+Do[1020+We-He]])+63>>7,at=18*ut+63>>7,ut=9*ut+63>>7;ue[me-3*Re]=ks[255+ue[me-3*Re]+ut],ue[me-2*Re]=ks[255+We+at],ue[me-Re]=ks[255+ve+$e],ue[me+0]=ks[255+Fe-$e],ue[me+Re]=ks[255+He-at],ue[me+2*Re]=ks[255+dt-ut]}A+=j}}function Eo(x,A,P,j,$,J,te,ie){for(J=2*J+1;0<$--;){if(Ca(x,A,P,J,te))if(pl(x,A,P,ie))Da(x,A,P);else{var ue=x,me=A,Re=P,We=ue[me-Re],ve=ue[me+0],Fe=ue[me+Re],He=Dc[112+(4+(dt=3*(ve-We))>>3)],dt=Dc[112+(dt+3>>3)],$e=He+1>>1;ue[me-2*Re]=ks[255+ue[me-2*Re]+$e],ue[me-Re]=ks[255+We+dt],ue[me+0]=ks[255+ve-He],ue[me+Re]=ks[255+Fe-$e]}A+=j}}function _s(x,A,P,j,$,J){Na(x,A,P,1,16,j,$,J)}function La(x,A,P,j,$,J){Na(x,A,1,P,16,j,$,J)}function yc(x,A,P,j,$,J){var te;for(te=3;0<te;--te)Eo(x,A+=4*P,P,1,16,j,$,J)}function C(x,A,P,j,$,J){var te;for(te=3;0<te;--te)Eo(x,A+=4,1,P,16,j,$,J)}function K(x,A,P,j,$,J,te,ie){Na(x,A,$,1,8,J,te,ie),Na(P,j,$,1,8,J,te,ie)}function ye(x,A,P,j,$,J,te,ie){Na(x,A,1,$,8,J,te,ie),Na(P,j,1,$,8,J,te,ie)}function Me(x,A,P,j,$,J,te,ie){Eo(x,A+4*$,$,1,8,J,te,ie),Eo(P,j+4*$,$,1,8,J,te,ie)}function je(x,A,P,j,$,J,te,ie){Eo(x,A+4,1,$,8,J,te,ie),Eo(P,j+4,1,$,8,J,te,ie)}function mt(){this.ba=new bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bn(){this.ua=0,this.Wa=new rn,this.vb=new rn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new q}function Un(){this.xb=this.a=0,this.l=new mn,this.ca=new bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bn,this.ab=0,this.gc=a(4,fn),this.Oc=0}function Wn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new mn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function pr(x,A,P,j,$,J,te){for(x=x==null?0:x[A+0],A=0;A<te;++A)$[J+A]=x+P[j+A]&255,x=$[J+A]}function ni(x,A,P,j,$,J,te){var ie;if(x==null)pr(null,null,P,j,$,J,te);else for(ie=0;ie<te;++ie)$[J+ie]=x[A+ie]+P[j+ie]&255}function Di(x,A,P,j,$,J,te){if(x==null)pr(null,null,P,j,$,J,te);else{var ie,ue=x[A+0],me=ue,Re=ue;for(ie=0;ie<te;++ie)me=Re+(ue=x[A+ie])-me,Re=P[j+ie]+(-256&me?0>me?0:255:me)&255,me=ue,$[J+ie]=Re}}function Br(x,A,P,j){var $=A.width,J=A.o;if(e(x!=null&&A!=null),0>P||0>=j||P+j>J)return null;if(!x.Cc){if(x.ga==null){var te;if(x.ga=new Wn,(te=x.ga==null)||(te=A.width*A.o,e(x.Gb.length==0),x.Gb=s(te),x.Uc=0,x.Gb==null?te=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,te=1),te=!te),!te){te=x.ga;var ie=x.Fa,ue=x.P,me=x.qc,Re=x.mb,We=x.nb,ve=ue+1,Fe=me-1,He=te.l;if(e(ie!=null&&Re!=null&&A!=null),ys[0]=null,ys[1]=pr,ys[2]=ni,ys[3]=Di,te.ca=Re,te.tb=We,te.c=A.width,te.i=A.height,e(0<te.c&&0<te.i),1>=me)A=0;else if(te.$a=3&ie[ue+0],te.Z=ie[ue+0]>>2&3,te.Lc=ie[ue+0]>>4&3,ue=ie[ue+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ue)A=0;else if(He.put=cn,He.ac=Fn,He.bc=Vr,He.ma=te,He.width=A.width,He.height=A.height,He.Da=A.Da,He.v=A.v,He.va=A.va,He.j=A.j,He.o=A.o,te.$a)e:{e(te.$a==1),A=Dr();t:for(;;){if(A==null){A=0;break e}if(e(te!=null),te.mc=A,A.c=te.c,A.i=te.i,A.l=te.l,A.l.ma=te,A.l.width=te.c,A.l.height=te.i,A.a=0,xe(A.m,ie,ve,Fe),!Jn(te.c,te.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&en(A.s)?(te.ic=1,ie=A.c*A.i,A.Ta=null,A.Ua=0,A.V=s(ie),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(te.ic=0,A=$n(A,te.c)),!A))break t;A=1;break e}te.mc=null,A=0}else A=Fe>=te.c*te.i;te=!A}if(te)return null;x.ga.Lc!=1?x.Ga=0:j=J-P}e(x.ga!=null),e(P+j<=J);e:{if(A=(ie=x.ga).c,J=ie.l.o,ie.$a==0){if(ve=x.rc,Fe=x.Vc,He=x.Fa,ue=x.P+1+P*A,me=x.mb,Re=x.nb+P*A,e(ue<=x.P+x.qc),ie.Z!=0)for(e(ys[ie.Z]!=null),te=0;te<j;++te)ys[ie.Z](ve,Fe,He,ue,me,Re,A),ve=me,Fe=Re,Re+=A,ue+=A;else for(te=0;te<j;++te)r(me,Re,He,ue,A),ve=me,Fe=Re,Re+=A,ue+=A;x.rc=ve,x.Vc=Fe}else{if(e(ie.mc!=null),A=P+j,e((te=ie.mc)!=null),e(A<=te.i),te.C>=A)A=1;else if(ie.ic||Za(),ie.ic){ie=te.V,ve=te.Ba,Fe=te.c;var dt=te.i,$e=(He=1,ue=te.$/Fe,me=te.$%Fe,Re=te.m,We=te.s,te.$),at=Fe*dt,ut=Fe*A,_t=We.wc,wt=$e<ut?Zt(We,me,ue):null;e($e<=at),e(A<=dt),e(en(We));t:for(;;){for(;!Re.h&&$e<ut;){if(me&_t||(wt=Zt(We,me,ue)),e(wt!=null),de(Re),256>(dt=ht(wt.G[0],wt.H[0],Re)))ie[ve+$e]=dt,++$e,++me>=Fe&&(me=0,++ue<=A&&!(ue%16)&&Kt(te,ue));else{if(!(280>dt)){He=0;break t}dt=Be(dt-256,Re);var En,an=ht(wt.G[4],wt.H[4],Re);if(de(Re),!($e>=(an=Xe(Fe,an=Be(an,Re)))&&at-$e>=dt)){He=0;break t}for(En=0;En<dt;++En)ie[ve+$e+En]=ie[ve+$e+En-an];for($e+=dt,me+=dt;me>=Fe;)me-=Fe,++ue<=A&&!(ue%16)&&Kt(te,ue);$e<ut&&me&_t&&(wt=Zt(We,me,ue))}e(Re.h==_e(Re))}Kt(te,ue>A?A:ue);break t}!He||Re.h&&$e<at?(He=0,te.a=Re.h?5:3):te.$=$e,A=He}else A=An(te,te.V,te.Ba,te.c,te.i,A,gr);if(!A){j=0;break e}}P+j>=J&&(x.Cc=1),j=1}if(!j)return null;if(x.Cc&&((j=x.ga)!=null&&(j.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+P*$}function Ui(x,A,P,j,$,J){for(;0<$--;){var te,ie=x,ue=A+(P?1:0),me=x,Re=A+(P?0:3);for(te=0;te<j;++te){var We=me[Re+4*te];We!=255&&(We*=32897,ie[ue+4*te+0]=ie[ue+4*te+0]*We>>23,ie[ue+4*te+1]=ie[ue+4*te+1]*We>>23,ie[ue+4*te+2]=ie[ue+4*te+2]*We>>23)}A+=J}}function mi(x,A,P,j,$){for(;0<j--;){var J;for(J=0;J<P;++J){var te=x[A+2*J+0],ie=15&(me=x[A+2*J+1]),ue=4369*ie,me=(240&me|me>>4)*ue>>16;x[A+2*J+0]=(240&te|te>>4)*ue>>16&240|(15&te|te<<4)*ue>>16>>4&15,x[A+2*J+1]=240&me|ie}A+=$}}function ss(x,A,P,j,$,J,te,ie){var ue,me,Re=255;for(me=0;me<$;++me){for(ue=0;ue<j;++ue){var We=x[A+ue];J[te+4*ue]=We,Re&=We}A+=P,te+=ie}return Re!=255}function Ko(x,A,P,j,$){var J;for(J=0;J<$;++J)P[j+J]=x[A+J]>>8}function Za(){Dl=Ui,Qp=mi,Rd=ss,e0=Ko}function Yo(x,A,P){M[x]=function(j,$,J,te,ie,ue,me,Re,We,ve,Fe,He,dt,$e,at,ut,_t){var wt,En=_t-1>>1,an=ie[ue+0]|me[Re+0]<<16,Gn=We[ve+0]|Fe[He+0]<<16;e(j!=null);var pn=3*an+Gn+131074>>2;for(A(j[$+0],255&pn,pn>>16,dt,$e),J!=null&&(pn=3*Gn+an+131074>>2,A(J[te+0],255&pn,pn>>16,at,ut)),wt=1;wt<=En;++wt){var or=ie[ue+wt]|me[Re+wt]<<16,oi=We[ve+wt]|Fe[He+wt]<<16,Kn=an+or+Gn+oi+524296,on=Kn+2*(or+Gn)>>3;pn=on+an>>1,an=(Kn=Kn+2*(an+oi)>>3)+or>>1,A(j[$+2*wt-1],255&pn,pn>>16,dt,$e+(2*wt-1)*P),A(j[$+2*wt-0],255&an,an>>16,dt,$e+(2*wt-0)*P),J!=null&&(pn=Kn+Gn>>1,an=on+oi>>1,A(J[te+2*wt-1],255&pn,pn>>16,at,ut+(2*wt-1)*P),A(J[te+2*wt+0],255&an,an>>16,at,ut+(2*wt+0)*P)),an=or,Gn=oi}1&_t||(pn=3*an+Gn+131074>>2,A(j[$+_t-1],255&pn,pn>>16,dt,$e+(_t-1)*P),J!=null&&(pn=3*Gn+an+131074>>2,A(J[te+_t-1],255&pn,pn>>16,at,ut+(_t-1)*P)))}}function vl(){Ks[Qh]=f2,Ks[Fu]=Ou,Ks[vg]=p2,Ks[Id]=Mc,Ks[kd]=Ml,Ks[Mr]=jd,Ks[ef]=l0,Ks[Cc]=Ou,Ks[Cl]=Mc,Ks[Fd]=Ml,Ks[Od]=jd}function xc(x){return x&-16384?0>x?0:255:x>>Bu}function Cu(x,A){return xc((19077*x>>8)+(26149*A>>8)-14234)}function _l(x,A,P){return xc((19077*x>>8)-(6419*A>>8)-(13320*P>>8)+8708)}function Nu(x,A){return xc((19077*x>>8)+(33050*A>>8)-17685)}function Lu(x,A,P,j,$){j[$+0]=Cu(x,P),j[$+1]=_l(x,A,P),j[$+2]=Nu(x,A)}function as(x,A,P,j,$){j[$+0]=Nu(x,A),j[$+1]=_l(x,A,P),j[$+2]=Cu(x,P)}function yl(x,A,P,j,$){var J=_l(x,A,P);A=J<<3&224|Nu(x,A)>>3,j[$+0]=248&Cu(x,P)|J>>5,j[$+1]=A}function xl(x,A,P,j,$){var J=240&Nu(x,A)|15;j[$+0]=240&Cu(x,P)|_l(x,A,P)>>4,j[$+1]=J}function Nd(x,A,P,j,$){j[$+0]=255,Lu(x,A,P,j,$+1)}function Ld(x,A,P,j,$){as(x,A,P,j,$),j[$+3]=255}function Is(x,A,P,j,$){Lu(x,A,P,j,$),j[$+3]=255}function Ja(x,A,P){M[x]=function(j,$,J,te,ie,ue,me,Re,We){for(var ve=Re+(-2&We)*P;Re!=ve;)A(j[$+0],J[te+0],ie[ue+0],me,Re),A(j[$+1],J[te+0],ie[ue+0],me,Re+P),$+=2,++te,++ue,Re+=2*P;1&We&&A(j[$+0],J[te+0],ie[ue+0],me,Re)}}function wo(x,A,P){return P==0?x==0?A==0?6:5:A==0?4:0:P}function Xh(x,A,P,j,$){switch(x>>>30){case 3:Sl(A,P,j,$,0);break;case 2:si(A,P,j,$);break;case 1:_r(A,P,j,$)}}function ha(x,A){var P,j,$=A.M,J=A.Nb,te=x.oc,ie=x.pc+40,ue=x.oc,me=x.pc+584,Re=x.oc,We=x.pc+600;for(P=0;16>P;++P)te[ie+32*P-1]=129;for(P=0;8>P;++P)ue[me+32*P-1]=129,Re[We+32*P-1]=129;for(0<$?te[ie-1-32]=ue[me-1-32]=Re[We-1-32]=129:(i(te,ie-32-1,127,21),i(ue,me-32-1,127,9),i(Re,We-32-1,127,9)),j=0;j<x.za;++j){var ve=A.ya[A.aa+j];if(0<j){for(P=-1;16>P;++P)r(te,ie+32*P-4,te,ie+32*P+12,4);for(P=-1;8>P;++P)r(ue,me+32*P-4,ue,me+32*P+4,4),r(Re,We+32*P-4,Re,We+32*P+4,4)}var Fe=x.Gd,He=x.Hd+j,dt=ve.ad,$e=ve.Hc;if(0<$&&(r(te,ie-32,Fe[He].y,0,16),r(ue,me-32,Fe[He].f,0,8),r(Re,We-32,Fe[He].ea,0,8)),ve.Za){var at=te,ut=ie-32+16;for(0<$&&(j>=x.za-1?i(at,ut,Fe[He].y[15],4):r(at,ut,Fe[He+1].y,0,4)),P=0;4>P;P++)at[ut+128+P]=at[ut+256+P]=at[ut+384+P]=at[ut+0+P];for(P=0;16>P;++P,$e<<=2)at=te,ut=ie+c0[P],Ra[ve.Ob[P]](at,ut),Xh($e,dt,16*+P,at,ut)}else if(at=wo(j,$,ve.Ob[0]),Fs[at](te,ie),$e!=0)for(P=0;16>P;++P,$e<<=2)Xh($e,dt,16*+P,te,ie+c0[P]);for(P=ve.Gc,at=wo(j,$,ve.Dd),$s[at](ue,me),$s[at](Re,We),$e=dt,at=ue,ut=me,255&(ve=0|P)&&(170&ve?qs($e,256,at,ut):Cr($e,256,at,ut)),ve=Re,$e=We,255&(P>>=8)&&(170&P?qs(dt,320,ve,$e):Cr(dt,320,ve,$e)),$<x.Ub-1&&(r(Fe[He].y,0,te,ie+480,16),r(Fe[He].f,0,ue,me+224,8),r(Fe[He].ea,0,Re,We+224,8)),P=8*J*x.B,Fe=x.sa,He=x.ta+16*j+16*J*x.R,dt=x.qa,ve=x.ra+8*j+P,$e=x.Ha,at=x.Ia+8*j+P,P=0;16>P;++P)r(Fe,He+P*x.R,te,ie+32*P,16);for(P=0;8>P;++P)r(dt,ve+P*x.B,ue,me+32*P,8),r($e,at+P*x.B,Re,We+32*P,8)}}function Mu(x,A,P,j,$,J,te,ie,ue){var me=[0],Re=[0],We=0,ve=ue!=null?ue.kd:0,Fe=ue??new Ct;if(x==null||12>P)return 7;Fe.data=x,Fe.w=A,Fe.ha=P,A=[A],P=[P],Fe.gb=[Fe.gb];e:{var He=A,dt=P,$e=Fe.gb;if(e(x!=null),e(dt!=null),e($e!=null),$e[0]=0,12<=dt[0]&&!n(x,He[0],"RIFF")){if(n(x,He[0]+8,"WEBP")){$e=3;break e}var at=jt(x,He[0]+4);if(12>at||4294967286<at){$e=3;break e}if(ve&&at>dt[0]-8){$e=7;break e}$e[0]=at,He[0]+=12,dt[0]-=12}$e=0}if($e!=0)return $e;for(at=0<Fe.gb[0],P=P[0];;){e:{var ut=x;dt=A,$e=P;var _t=me,wt=Re,En=He=[0];if((pn=We=[We])[0]=0,8>$e[0])$e=7;else{if(!n(ut,dt[0],"VP8X")){if(jt(ut,dt[0]+4)!=10){$e=3;break e}if(18>$e[0]){$e=7;break e}var an=jt(ut,dt[0]+8),Gn=1+yt(ut,dt[0]+12);if(2147483648<=Gn*(ut=1+yt(ut,dt[0]+15))){$e=3;break e}En!=null&&(En[0]=an),_t!=null&&(_t[0]=Gn),wt!=null&&(wt[0]=ut),dt[0]+=18,$e[0]-=18,pn[0]=1}$e=0}}if(We=We[0],He=He[0],$e!=0)return $e;if(dt=!!(2&He),!at&&We)return 3;if(J!=null&&(J[0]=!!(16&He)),te!=null&&(te[0]=dt),ie!=null&&(ie[0]=0),te=me[0],He=Re[0],We&&dt&&ue==null){$e=0;break}if(4>P){$e=7;break}if(at&&We||!at&&!We&&!n(x,A[0],"ALPH")){P=[P],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{an=x,$e=A,at=P;var pn=Fe.gb;_t=Fe.na,wt=Fe.P,En=Fe.Sa,Gn=22,e(an!=null),e(at!=null),ut=$e[0];var or=at[0];for(e(_t!=null),e(En!=null),_t[0]=null,wt[0]=null,En[0]=0;;){if($e[0]=ut,at[0]=or,8>or){$e=7;break e}var oi=jt(an,ut+4);if(4294967286<oi){$e=3;break e}var Kn=8+oi+1&-2;if(Gn+=Kn,0<pn&&Gn>pn){$e=3;break e}if(!n(an,ut,"VP8 ")||!n(an,ut,"VP8L")){$e=0;break e}if(or[0]<Kn){$e=7;break e}n(an,ut,"ALPH")||(_t[0]=an,wt[0]=ut+8,En[0]=oi),ut+=Kn,or-=Kn}}if(P=P[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],$e!=0)break}P=[P],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(pn=x,$e=A,at=P,_t=Fe.gb[0],wt=Fe.Ja,En=Fe.xa,an=$e[0],ut=!n(pn,an,"VP8 "),Gn=!n(pn,an,"VP8L"),e(pn!=null),e(at!=null),e(wt!=null),e(En!=null),8>at[0])$e=7;else{if(ut||Gn){if(pn=jt(pn,an+4),12<=_t&&pn>_t-12){$e=3;break e}if(ve&&pn>at[0]-8){$e=7;break e}wt[0]=pn,$e[0]+=8,at[0]-=8,En[0]=Gn}else En[0]=5<=at[0]&&pn[an+0]==47&&!(pn[an+4]>>5),wt[0]=at[0];$e=0}if(P=P[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],A=A[0],$e!=0)break;if(4294967286<Fe.Ja)return 3;if(ie==null||dt||(ie[0]=Fe.xa?2:1),te=[te],He=[He],Fe.xa){if(5>P){$e=7;break}ie=te,ve=He,dt=J,x==null||5>P?x=0:5<=P&&x[A+0]==47&&!(x[A+4]>>5)?(at=[0],pn=[0],_t=[0],xe(wt=new U,x,A,P),Ne(wt,at,pn,_t)?(ie!=null&&(ie[0]=at[0]),ve!=null&&(ve[0]=pn[0]),dt!=null&&(dt[0]=_t[0]),x=1):x=0):x=0}else{if(10>P){$e=7;break}ie=He,x==null||10>P||!sr(x,A+3,P-3)?x=0:(ve=x[A+0]|x[A+1]<<8|x[A+2]<<16,dt=16383&(x[A+7]<<8|x[A+6]),x=16383&(x[A+9]<<8|x[A+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Fe.Ja||!dt||!x?x=0:(te&&(te[0]=dt),ie&&(ie[0]=x),x=1))}if(!x||(te=te[0],He=He[0],We&&(me[0]!=te||Re[0]!=He)))return 3;ue!=null&&(ue[0]=Fe,ue.offset=A-ue.w,e(4294967286>A-ue.w),e(ue.offset==ue.ha-P));break}return $e==0||$e==7&&We&&ue==null?(J!=null&&(J[0]|=Fe.na!=null&&0<Fe.na.length),j!=null&&(j[0]=te),$!=null&&($[0]=He),0):$e}function bc(x,A,P){var j=A.width,$=A.height,J=0,te=0,ie=j,ue=$;if(A.Da=x!=null&&0<x.Da,A.Da&&(ie=x.cd,ue=x.bd,J=x.v,te=x.j,11>P||(J&=-2,te&=-2),0>J||0>te||0>=ie||0>=ue||J+ie>j||te+ue>$))return 0;if(A.v=J,A.j=te,A.va=J+ie,A.o=te+ue,A.U=ie,A.T=ue,A.da=x!=null&&0<x.da,A.da){if(!Ee(ie,ue,P=[x.ib],J=[x.hb]))return 0;A.ib=P[0],A.hb=J[0]}return A.ob=x!=null&&x.ob,A.Kb=x==null||!x.Sd,A.da&&(A.ob=A.ib<3*j/4&&A.hb<3*$/4,A.Kb=0),1}function Ec(x){if(x==null)return 2;if(11>x.S){var A=x.f.RGBA;A.fb+=(x.height-1)*A.A,A.A=-A.A}else A=x.f.kb,x=x.height,A.O+=(x-1)*A.fa,A.fa=-A.fa,A.N+=(x-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(x-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(x-1)*A.lb,A.lb=-A.lb);return 0}function Xo(x,A,P,j){if(j==null||0>=x||0>=A)return 2;if(P!=null){if(P.Da){var $=P.cd,J=P.bd,te=-2&P.v,ie=-2&P.j;if(0>te||0>ie||0>=$||0>=J||te+$>x||ie+J>A)return 2;x=$,A=J}if(P.da){if(!Ee(x,A,$=[P.ib],J=[P.hb]))return 2;x=$[0],A=J[0]}}j.width=x,j.height=A;e:{var ue=j.width,me=j.height;if(x=j.S,0>=ue||0>=me||!(x>=Qh&&13>x))x=2;else{if(0>=j.Rd&&j.sd==null){te=J=$=A=0;var Re=(ie=ue*zd[x])*me;if(11>x||(J=(me+1)/2*(A=(ue+1)/2),x==12&&(te=($=ue)*me)),(me=s(Re+2*J+te))==null){x=1;break e}j.sd=me,11>x?((ue=j.f.RGBA).eb=me,ue.fb=0,ue.A=ie,ue.size=Re):((ue=j.f.kb).y=me,ue.O=0,ue.fa=ie,ue.Fd=Re,ue.f=me,ue.N=0+Re,ue.Ab=A,ue.Cd=J,ue.ea=me,ue.W=0+Re+J,ue.Db=A,ue.Ed=J,x==12&&(ue.F=me,ue.J=0+Re+2*J),ue.Tc=te,ue.lb=$)}if(A=1,$=j.S,J=j.width,te=j.height,$>=Qh&&13>$)if(11>$)x=j.f.RGBA,A&=(ie=Math.abs(x.A))*(te-1)+J<=x.size,A&=ie>=J*zd[$],A&=x.eb!=null;else{x=j.f.kb,ie=(J+1)/2,Re=(te+1)/2,ue=Math.abs(x.fa),me=Math.abs(x.Ab);var We=Math.abs(x.Db),ve=Math.abs(x.lb),Fe=ve*(te-1)+J;A&=ue*(te-1)+J<=x.Fd,A&=me*(Re-1)+ie<=x.Cd,A=(A&=We*(Re-1)+ie<=x.Ed)&ue>=J&me>=ie&We>=ie,A&=x.y!=null,A&=x.f!=null,A&=x.ea!=null,$==12&&(A&=ve>=J,A&=Fe<=x.Tc,A&=x.F!=null)}else A=0;x=A?0:2}}return x!=0||P!=null&&P.fd&&(x=Ec(j)),x}var Ma=64,fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],pa=24,Pu=32,Ao=8,Zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Mt("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(x){return x},M.Predictor2=function(x,A,P){return A[P+0]},M.Predictor3=function(x,A,P){return A[P+1]},M.Predictor4=function(x,A,P){return A[P-1]},M.Predictor5=function(x,A,P){return se(se(x,A[P+1]),A[P+0])},M.Predictor6=function(x,A,P){return se(x,A[P-1])},M.Predictor7=function(x,A,P){return se(x,A[P+0])},M.Predictor8=function(x,A,P){return se(A[P-1],A[P+0])},M.Predictor9=function(x,A,P){return se(A[P+0],A[P+1])},M.Predictor10=function(x,A,P){return se(se(x,A[P-1]),se(A[P+0],A[P+1]))},M.Predictor11=function(x,A,P){var j=A[P+0];return 0>=ge(j>>24&255,x>>24&255,(A=A[P-1])>>24&255)+ge(j>>16&255,x>>16&255,A>>16&255)+ge(j>>8&255,x>>8&255,A>>8&255)+ge(255&j,255&x,255&A)?j:x},M.Predictor12=function(x,A,P){var j=A[P+0];return(G((x>>24&255)+(j>>24&255)-((A=A[P-1])>>24&255))<<24|G((x>>16&255)+(j>>16&255)-(A>>16&255))<<16|G((x>>8&255)+(j>>8&255)-(A>>8&255))<<8|G((255&x)+(255&j)-(255&A)))>>>0},M.Predictor13=function(x,A,P){var j=A[P-1];return(De((x=se(x,A[P+0]))>>24&255,j>>24&255)<<24|De(x>>16&255,j>>16&255)<<16|De(x>>8&255,j>>8&255)<<8|De(255&x,255&j))>>>0};var Jo=M.PredictorAdd0;M.PredictorAdd1=Ce,Mt("Predictor2","PredictorAdd2"),Mt("Predictor3","PredictorAdd3"),Mt("Predictor4","PredictorAdd4"),Mt("Predictor5","PredictorAdd5"),Mt("Predictor6","PredictorAdd6"),Mt("Predictor7","PredictorAdd7"),Mt("Predictor8","PredictorAdd8"),Mt("Predictor9","PredictorAdd9"),Mt("Predictor10","PredictorAdd10"),Mt("Predictor11","PredictorAdd11"),Mt("Predictor12","PredictorAdd12"),Mt("Predictor13","PredictorAdd13");var So=M.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var gi,bl=M.ColorIndexInverseTransform,To=M.MapARGB,Qa=M.VP8LColorIndexInverseTransformAlpha,El=M.MapAlpha,wl=M.VP8LPredictorsAdd=[];wl.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var wc,Ac,Qo,Ru,Iu,Al,ku,Sl,si,qs,_r,Cr,ai,Ci,eo,Md,Sc,eu,Zh,Tc,Jh,Jp,Pd,Tl,Dl,Qp,Rd,e0,t0=s(511),n0=s(2041),r0=s(225),i0=s(767),s0=0,Do=n0,Dc=r0,ks=i0,Pa=t0,Qh=0,Fu=1,vg=2,Id=3,kd=4,Mr=5,ef=6,Cc=7,Cl=8,Fd=9,Od=10,Bd=[2,3,7],tf=[3,3,11],Nl=[280,256,256,256,40],_g=[0,1,1,1,0],l2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],c2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nf=8,Nc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ud=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ll=null,a0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],o0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],d2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],h2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],u0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fs=[],Ra=[],$s=[],Co=1,Lc=2,ys=[],Ks=[];Yo("UpsampleRgbLinePair",Lu,3),Yo("UpsampleBgrLinePair",as,3),Yo("UpsampleRgbaLinePair",Is,4),Yo("UpsampleBgraLinePair",Ld,4),Yo("UpsampleArgbLinePair",Nd,4),Yo("UpsampleRgba4444LinePair",xl,2),Yo("UpsampleRgb565LinePair",yl,2);var f2=M.UpsampleRgbLinePair,p2=M.UpsampleBgrLinePair,Ou=M.UpsampleRgbaLinePair,Mc=M.UpsampleBgraLinePair,Ml=M.UpsampleArgbLinePair,jd=M.UpsampleRgba4444LinePair,l0=M.UpsampleRgb565LinePair,tu=16,to=1<<tu-1,Tr=-227,Nr=482,Bu=6,os=0,Ys=s(256),Pl=s(256),Pc=s(256),Xs=s(256),rf=s(Nr-Tr),Eg=s(Nr-Tr);Ja("YuvToRgbRow",Lu,3),Ja("YuvToBgrRow",as,3),Ja("YuvToRgbaRow",Is,4),Ja("YuvToBgraRow",Ld,4),Ja("YuvToArgbRow",Nd,4),Ja("YuvToRgba4444Row",xl,2),Ja("YuvToRgb565Row",yl,2);var c0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rl=[0,2,8],wg=[8,7,6,4,4,2,2,2,1,1,1,1],nu=1;this.WebPDecodeRGBA=function(x,A,P,j,$){var J=Fu,te=new mt,ie=new bt;te.ba=ie,ie.S=J,ie.width=[ie.width],ie.height=[ie.height];var ue=ie.width,me=ie.height,Re=new Qe;if(Re==null||x==null)var We=2;else e(Re!=null),We=Mu(x,A,P,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(We!=0?ue=0:(ue!=null&&(ue[0]=Re.width[0]),me!=null&&(me[0]=Re.height[0]),ue=1),ue){ie.width=ie.width[0],ie.height=ie.height[0],j!=null&&(j[0]=ie.width),$!=null&&($[0]=ie.height);e:{if(j=new mn,($=new Ct).data=x,$.w=A,$.ha=P,$.kd=1,A=[0],e($!=null),((x=Mu($.data,$.w,$.ha,null,null,null,A,null,$))==0||x==7)&&A[0]&&(x=4),(A=x)==0){if(e(te!=null),j.data=$.data,j.w=$.w+$.offset,j.ha=$.ha-$.offset,j.put=cn,j.ac=Fn,j.bc=Vr,j.ma=te,$.xa){if((x=Dr())==null){te=1;break e}if((function(ve,Fe){var He=[0],dt=[0],$e=[0];t:for(;;){if(ve==null)return 0;if(Fe==null)return ve.a=2,0;if(ve.l=Fe,ve.a=0,xe(ve.m,Fe.data,Fe.w,Fe.ha),!Ne(ve.m,He,dt,$e)){ve.a=3;break t}if(ve.xb=Lc,Fe.width=He[0],Fe.height=dt[0],!Jn(He[0],dt[0],1,ve,null))break t;return 1}return e(ve.a!=0),0})(x,j)){if(j=(A=Xo(j.width,j.height,te.Oa,te.ba))==0){t:{j=x;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((P=j.l)!=null),e(($=P.ma)!=null),j.xb!=0){if(j.ca=$.ba,j.tb=$.tb,e(j.ca!=null),!bc($.Oa,P,Id)){j.a=2;break n}if(!$n(j,P.width)||P.da)break n;if((P.da||we(j.ca.S))&&Za(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&Za()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!le(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!An(j,j.V,j.Ba,j.c,j.i,P.o,Qt))break n;$.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(A=x.a)}else A=x.a}else{if((x=new xn)==null){te=1;break e}if(x.Fa=$.na,x.P=$.P,x.qc=$.Sa,ar(x,j)){if((A=Xo(j.width,j.height,te.Oa,te.ba))==0){if(x.Aa=0,P=te.Oa,e(($=x)!=null),P!=null){if(0<(ue=0>(ue=P.Md)?0:100<ue?255:255*ue/100)){for(me=Re=0;4>me;++me)12>(We=$.pb[me]).lc&&(We.ia=ue*wg[0>We.lc?0:We.lc]>>3),Re|=We.ia;Re&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=P.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(ve,Fe){if(ve==null)return 0;if(Fe==null)return _n(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!ar(ve,Fe))return 0;if(e(ve.cb),Fe.ac==null||Fe.ac(Fe)){Fe.ob&&(ve.L=0);var He=Rl[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Fe.v-He>>4,ve.zb=Fe.j-He>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Fe.o+15+He>>4,ve.Hb=Fe.va+15+He>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var dt=ve.ed;for(He=0;4>He;++He){var $e;if(ve.Qa.Cb){var at=ve.Qa.Lb[He];ve.Qa.Fb||(at+=dt.Tb)}else at=dt.Tb;for($e=0;1>=$e;++$e){var ut=ve.gd[He][$e],_t=at;if(dt.Pc&&(_t+=dt.vd[0],$e&&(_t+=dt.od[0])),0<(_t=0>_t?0:63<_t?63:_t)){var wt=_t;0<dt.wb&&(wt=4<dt.wb?wt>>2:wt>>1)>9-dt.wb&&(wt=9-dt.wb),1>wt&&(wt=1),ut.dd=wt,ut.tc=2*_t+wt,ut.ld=40<=_t?2:15<=_t?1:0}else ut.tc=0;ut.La=$e}}}He=0}else _n(ve,6,"Frame setup failed"),He=ve.a;if(He=He==0){if(He){ve.$c=0,0<ve.Aa||(ve.Ic=nu);t:{He=ve.Ic,dt=4*(wt=ve.za);var En=32*wt,an=wt+1,Gn=0<ve.L?wt*(0<ve.Aa?2:1):0,pn=(ve.Aa==2?2:1)*wt;if((ut=dt+832+($e=3*(16*He+Rl[ve.L])/2*En)+(at=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=ut)He=0;else{if(ut>ve.Vb){if(ve.Vb=0,ve.Ec=s(ut),ve.Fc=0,ve.Ec==null){He=_n(ve,1,"no memory during frame initialization.");break t}ve.Vb=ut}ut=ve.Ec,_t=ve.Fc,ve.Ac=ut,ve.Bc=_t,_t+=dt,ve.Gd=a(En,Ot),ve.Hd=0,ve.rb=a(an+1,Ye),ve.sb=1,ve.wa=Gn?a(Gn,Ge):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=wt),e(!0),ve.oc=ut,ve.pc=_t,_t+=832,ve.ya=a(pn,Et),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=wt),ve.R=16*wt,ve.B=8*wt,wt=(En=Rl[ve.L])*ve.R,En=En/2*ve.B,ve.sa=ut,ve.ta=_t+wt,ve.qa=ve.sa,ve.ra=ve.ta+16*He*ve.R+En,ve.Ha=ve.qa,ve.Ia=ve.ra+8*He*ve.B+En,ve.$c=0,_t+=$e,ve.mb=at?ut:null,ve.nb=at?_t:null,e(_t+at<=ve.Fc+ve.Vb),lr(ve),i(ve.Ac,ve.Bc,0,dt),He=1}}if(He){if(Fe.ka=0,Fe.y=ve.sa,Fe.O=ve.ta,Fe.f=ve.qa,Fe.N=ve.ra,Fe.ea=ve.Ha,Fe.Vd=ve.Ia,Fe.fa=ve.R,Fe.Rc=ve.B,Fe.F=null,Fe.J=0,!s0){for(He=-255;255>=He;++He)t0[255+He]=0>He?-He:He;for(He=-1020;1020>=He;++He)n0[1020+He]=-128>He?-128:127<He?127:He;for(He=-112;112>=He;++He)r0[112+He]=-16>He?-16:15<He?15:He;for(He=-255;510>=He;++He)i0[255+He]=0>He?0:255<He?255:He;s0=1}ku=Si,Sl=pi,qs=vs,_r=fr,Cr=On,si=Aa,ai=_s,Ci=La,eo=K,Md=ye,Sc=yc,eu=C,Zh=Me,Tc=je,Jh=$o,Jp=Du,Pd=Cd,Tl=gl,Ra[0]=Kh,Ra[1]=Ti,Ra[2]=bo,Ra[3]=Zp,Ra[4]=da,Ra[5]=Yh,Ra[6]=qo,Ra[7]=gc,Ra[8]=Sd,Ra[9]=hl,Fs[0]=xo,Fs[1]=Sa,Fs[2]=pc,Fs[3]=mc,Fs[4]=Ws,Fs[5]=Ta,Fs[6]=dl,$s[0]=vc,$s[1]=Tu,$s[2]=Xa,$s[3]=fl,$s[4]=Dd,$s[5]=Td,$s[6]=_c,He=1}else He=0}He&&(He=(function(or,oi){for(or.M=0;or.M<or.Va;++or.M){var Kn,on=or.Jc[or.M&or.Xb],$t=or.m,vi=or;for(Kn=0;Kn<vi.za;++Kn){var Bn=$t,rr=vi,Ur=rr.Ac,Yi=rr.Bc+4*Kn,Ni=rr.zc,ri=rr.ya[rr.aa+Kn];if(rr.Qa.Bb?ri.$b=ke(Bn,rr.Pa.jb[0])?2+ke(Bn,rr.Pa.jb[2]):ke(Bn,rr.Pa.jb[1]):ri.$b=0,rr.kc&&(ri.Ad=ke(Bn,rr.Bd)),ri.Za=!ke(Bn,145)+0,ri.Za){var ji=ri.Ob,Xi=0;for(rr=0;4>rr;++rr){var Yr,cr=Ni[0+rr];for(Yr=0;4>Yr;++Yr){cr=d2[Ur[Yi+Yr]][cr];for(var yr=xg[ke(Bn,cr[0])];0<yr;)yr=xg[2*yr+ke(Bn,cr[yr])];cr=-yr,Ur[Yi+Yr]=cr}r(ji,Xi,Ur,Yi,4),Xi+=4,Ni[0+rr]=cr}}else cr=ke(Bn,156)?ke(Bn,128)?1:3:ke(Bn,163)?2:0,ri.Ob[0]=cr,i(Ur,Yi,cr,4),i(Ni,0,cr,4);ri.Dd=ke(Bn,142)?ke(Bn,114)?ke(Bn,183)?1:3:2:0}if(vi.m.Ka)return _n(or,7,"Premature end-of-partition0 encountered.");for(;or.ja<or.za;++or.ja){if(vi=on,Bn=($t=or).rb[$t.sb-1],Ur=$t.rb[$t.sb+$t.ja],Kn=$t.ya[$t.aa+$t.ja],Yi=$t.kc?Kn.Ad:0)Bn.la=Ur.la=0,Kn.Za||(Bn.Na=Ur.Na=0),Kn.Hc=0,Kn.Gc=0,Kn.ia=0;else{var Xr,xr;if(Bn=Ur,Ur=vi,Yi=$t.Pa.Xc,Ni=$t.ya[$t.aa+$t.ja],ri=$t.pb[Ni.$b],rr=Ni.ad,ji=0,Xi=$t.rb[$t.sb-1],cr=Yr=0,i(rr,ji,0,384),Ni.Za)var ui=0,li=Yi[3];else{yr=s(16);var Pr=Bn.Na+Xi.Na;if(Pr=Ll(Ur,Yi[1],Pr,ri.Eb,0,yr,0),Bn.Na=Xi.Na=(0<Pr)+0,1<Pr)ku(yr,0,rr,ji);else{var xs=yr[0]+3>>3;for(yr=0;256>yr;yr+=16)rr[ji+yr]=xs}ui=1,li=Yi[0]}var Lr=15&Bn.la,Rr=15&Xi.la;for(yr=0;4>yr;++yr){var Li=1&Rr;for(xs=xr=0;4>xs;++xs)Lr=Lr>>1|(Li=(Pr=Ll(Ur,li,Pr=Li+(1&Lr),ri.Sc,ui,rr,ji))>ui)<<7,xr=xr<<2|(3<Pr?3:1<Pr?2:rr[ji+0]!=0),ji+=16;Lr>>=4,Rr=Rr>>1|Li<<7,Yr=(Yr<<8|xr)>>>0}for(li=Lr,ui=Rr>>4,Xr=0;4>Xr;Xr+=2){for(xr=0,Lr=Bn.la>>4+Xr,Rr=Xi.la>>4+Xr,yr=0;2>yr;++yr){for(Li=1&Rr,xs=0;2>xs;++xs)Pr=Li+(1&Lr),Lr=Lr>>1|(Li=0<(Pr=Ll(Ur,Yi[2],Pr,ri.Qc,0,rr,ji)))<<3,xr=xr<<2|(3<Pr?3:1<Pr?2:rr[ji+0]!=0),ji+=16;Lr>>=2,Rr=Rr>>1|Li<<5}cr|=xr<<4*Xr,li|=Lr<<4<<Xr,ui|=(240&Rr)<<Xr}Bn.la=li,Xi.la=ui,Ni.Hc=Yr,Ni.Gc=cr,Ni.ia=43690&cr?0:ri.ia,Yi=!(Yr|cr)}if(0<$t.L&&($t.wa[$t.Y+$t.ja]=$t.gd[Kn.$b][Kn.Za],$t.wa[$t.Y+$t.ja].La|=!Yi),vi.Ka)return _n(or,7,"Premature end-of-file encountered.")}if(lr(or),$t=oi,vi=1,Kn=(on=or).D,Bn=0<on.L&&on.M>=on.zb&&on.M<=on.Va,on.Aa==0)t:{if(Kn.M=on.M,Kn.uc=Bn,ha(on,Kn),vi=1,Kn=(xr=on.D).Nb,Bn=(cr=Rl[on.L])*on.R,Ur=cr/2*on.B,yr=16*Kn*on.R,xs=8*Kn*on.B,Yi=on.sa,Ni=on.ta-Bn+yr,ri=on.qa,rr=on.ra-Ur+xs,ji=on.Ha,Xi=on.Ia-Ur+xs,Rr=(Lr=xr.M)==0,Yr=Lr>=on.Va-1,on.Aa==2&&ha(on,xr),xr.uc)for(Li=(Pr=on).D.M,e(Pr.D.uc),xr=Pr.yb;xr<Pr.Hb;++xr){ui=xr,li=Li;var us=(Zs=(xi=Pr).D).Nb;Xr=xi.R;var Zs=Zs.wa[Zs.Y+ui],_i=xi.sa,yi=xi.ta+16*us*Xr+16*ui,bs=Zs.dd,Ir=Zs.tc;if(Ir!=0)if(e(3<=Ir),xi.L==1)0<ui&&Jp(_i,yi,Xr,Ir+4),Zs.La&&Tl(_i,yi,Xr,Ir),0<li&&Jh(_i,yi,Xr,Ir+4),Zs.La&&Pd(_i,yi,Xr,Ir);else{var Es=xi.B,Ia=xi.qa,no=xi.ra+8*us*Es+8*ui,Zi=xi.Ha,xi=xi.Ia+8*us*Es+8*ui;us=Zs.ld,0<ui&&(Ci(_i,yi,Xr,Ir+4,bs,us),Md(Ia,no,Zi,xi,Es,Ir+4,bs,us)),Zs.La&&(eu(_i,yi,Xr,Ir,bs,us),Tc(Ia,no,Zi,xi,Es,Ir,bs,us)),0<li&&(ai(_i,yi,Xr,Ir+4,bs,us),eo(Ia,no,Zi,xi,Es,Ir+4,bs,us)),Zs.La&&(Sc(_i,yi,Xr,Ir,bs,us),Zh(Ia,no,Zi,xi,Es,Ir,bs,us))}}if(on.ia&&alert("todo:DitherRow"),$t.put!=null){if(xr=16*Lr,Lr=16*(Lr+1),Rr?($t.y=on.sa,$t.O=on.ta+yr,$t.f=on.qa,$t.N=on.ra+xs,$t.ea=on.Ha,$t.W=on.Ia+xs):(xr-=cr,$t.y=Yi,$t.O=Ni,$t.f=ri,$t.N=rr,$t.ea=ji,$t.W=Xi),Yr||(Lr-=cr),Lr>$t.o&&(Lr=$t.o),$t.F=null,$t.J=null,on.Fa!=null&&0<on.Fa.length&&xr<Lr&&($t.J=Br(on,$t,xr,Lr-xr),$t.F=on.mb,$t.F==null&&$t.F.length==0)){vi=_n(on,3,"Could not decode alpha data.");break t}xr<$t.j&&(cr=$t.j-xr,xr=$t.j,e(!(1&cr)),$t.O+=on.R*cr,$t.N+=on.B*(cr>>1),$t.W+=on.B*(cr>>1),$t.F!=null&&($t.J+=$t.width*cr)),xr<Lr&&($t.O+=$t.v,$t.N+=$t.v>>1,$t.W+=$t.v>>1,$t.F!=null&&($t.J+=$t.v),$t.ka=xr-$t.j,$t.U=$t.va-$t.v,$t.T=Lr-xr,vi=$t.put($t))}Kn+1!=on.Ic||Yr||(r(on.sa,on.ta-Bn,Yi,Ni+16*on.R,Bn),r(on.qa,on.ra-Ur,ri,rr+8*on.B,Ur),r(on.Ha,on.Ia-Ur,ji,Xi+8*on.B,Ur))}if(!vi)return _n(or,6,"Output aborted.")}return 1})(ve,Fe)),Fe.bc!=null&&Fe.bc(Fe),He&=1}return He?(ve.cb=0,He):0})(x,j)||(A=x.a)}}else A=x.a}A==0&&te.Oa!=null&&te.Oa.fd&&(A=Ec(te.ba))}te=A}J=te!=0?null:11>J?ie.f.RGBA.eb:ie.f.kb.y}else J=null;return J};var zd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(M,R){for(var k="",H=0;H<4;H++)k+=String.fromCharCode(M[R++]);return k}function d(M,R){return M[R+0]|M[R+1]<<8}function f(M,R){return(M[R+0]|M[R+1]<<8|M[R+2]<<16)>>>0}function m(M,R){return(M[R+0]|M[R+1]<<8|M[R+2]<<16|M[R+3]<<24)>>>0}new u;var p=[0],_=[0],E=[],y=new u,v=t,S=(function(M,R){var k={},H=0,q=!1,Y=0,ae=0;if(k.frames=[],!(function(z,U){for(var ce=0;ce<4;ce++)if(z[U+ce]!="RIFF".charCodeAt(ce))return!0;return!1})(M,R)){for(m(M,R+=4),R+=8;R<M.length;){var he=l(M,R),oe=m(M,R+=4);R+=4;var Q=oe+(1&oe);switch(he){case"VP8 ":case"VP8L":k.frames[H]===void 0&&(k.frames[H]={}),(ee=k.frames[H]).src_off=q?ae:R-8,ee.src_size=Y+oe+8,H++,q&&(q=!1,Y=0,ae=0);break;case"VP8X":(ee=k.header={}).feature_flags=M[R];var xe=R+4;ee.canvas_width=1+f(M,xe),xe+=3,ee.canvas_height=1+f(M,xe),xe+=3;break;case"ALPH":q=!0,Y=Q+8,ae=R-8;break;case"ANIM":(ee=k.header).bgcolor=m(M,R),xe=R+4,ee.loop_count=d(M,xe),xe+=2;break;case"ANMF":var W,ee;(ee=k.frames[H]={}).offset_x=2*f(M,R),R+=3,ee.offset_y=2*f(M,R),R+=3,ee.width=1+f(M,R),R+=3,ee.height=1+f(M,R),R+=3,ee.duration=f(M,R),R+=3,W=M[R++],ee.dispose=1&W,ee.blend=W>>1&1}he!="ANMF"&&(R+=Q)}return k}})(v,0);S.response=v,S.rgbaoutput=!0,S.dataurl=!1;var T=S.header?S.header:null,L=S.frames?S.frames:null;if(T){T.loop_counter=T.loop_count,p=[T.canvas_height],_=[T.canvas_width];for(var I=0;I<L.length&&L[I].blend!=0;I++);}var O=L[0],B=y.WebPDecodeRGBA(v,O.src_off,O.src_size,_,p);O.rgba=B,O.imgwidth=_[0],O.imgheight=p[0];for(var V=0;V<_[0]*p[0]*4;V++)E[V]=B[V];return this.width=_,this.height=p,this.data=E,this}(function(t){var e,n,r,i,s,a,o,u,l,d=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new u,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new a,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new a,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,l=new d}]);var f=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=z;Object.defineProperty(this,"pdf",{get:function(){return U}});var ce=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ce},set:function(le){ce=!!le}});var _e=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return _e},set:function(le){_e=!!le}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(le){isNaN(le)||(Z=le)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(le){isNaN(le)||(de=le)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(le){var pt;typeof le=="number"?pt=[le,le,le,le]:((pt=new Array(4))[0]=le[0],pt[1]=le.length>=2?le[1]:pt[0],pt[2]=le.length>=3?le[2]:pt[0],pt[3]=le.length>=4?le[3]:pt[1]),l.margin=pt}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(le){Ae=le}});var Pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Pe},set:function(le){Pe=le}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(le){ke=le}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(le){le instanceof d&&(l=le)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(le){l.path=le}});var ot=[];Object.defineProperty(this,"ctxStack",{get:function(){return ot},set:function(le){ot=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var pt;pt=m(le),this.ctx.fillStyle=pt.style,this.ctx.isFillTransparent=pt.a===0,this.ctx.fillOpacity=pt.a,this.pdf.setFillColor(pt.r,pt.g,pt.b,{a:pt.a}),this.pdf.setTextColor(pt.r,pt.g,pt.b,{a:pt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var pt=m(le);this.ctx.strokeStyle=pt.style,this.ctx.isStrokeTransparent=pt.a===0,this.ctx.strokeOpacity=pt.a,pt.a===0?this.pdf.setDrawColor(255,255,255):(pt.a,this.pdf.setDrawColor(pt.r,pt.g,pt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var Dt=null,yt=null,jt=null;Object.defineProperty(this,"fontFaces",{get:function(){return jt},set:function(le){Dt=null,yt=null,jt=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var pt;if(this.ctx.font=le,(pt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var rn=pt[1];pt[2];var Ee=pt[3],ct=pt[4];pt[5];var zt=pt[6],Mt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ct)[2];ct=Math.floor(Mt==="px"?parseFloat(ct)*this.pdf.internal.scaleFactor:Mt==="em"?parseFloat(ct)*this.pdf.getFontSize():parseFloat(ct)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ct);var xt=(function(st){var Yt,et,ft=[],Tt=st.trim();if(Tt==="")return Zx;if(Tt in q4)return[q4[Tt]];for(;Tt!=="";){switch(et=null,Yt=(Tt=K4(Tt)).charAt(0)){case'"':case"'":et=Dge(Tt.substring(1),Yt);break;default:et=Cge(Tt)}if(et===null||(ft.push(et[0]),(Tt=K4(et[1]))!==""&&Tt.charAt(0)!==","))return Zx;Tt=Tt.replace(/^,/,"")}return ft})(zt);if(this.fontFaces){var se=(function(st,Yt){var et=st.getFontList(),ft=JSON.stringify(et);if(Dt===null||yt!==ft){var Tt=(function(Nt){var nt=[];return Object.keys(Nt).forEach(function(qt){Nt[qt].forEach(function(we){var gt=null;switch(we){case"bold":gt={family:qt,weight:"bold"};break;case"italic":gt={family:qt,style:"italic"};break;case"bolditalic":gt={family:qt,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:qt}}gt!==null&&(gt.ref={name:qt,style:we},nt.push(gt))})}),nt})(et);Dt=(function(Nt){for(var nt={},qt=0;qt<Nt.length;++qt){var we=Xx(Nt[qt]),gt=we.family,vt=we.stretch,bt=we.style,Qe=we.weight;nt[gt]=nt[gt]||{},nt[gt][vt]=nt[gt][vt]||{},nt[gt][vt][bt]=nt[gt][vt][bt]||{},nt[gt][vt][bt][Qe]=we}return nt})(Tt.concat(Yt)),yt=ft}return Dt})(this.pdf,this.fontFaces),G=xt.map(function(st){return{family:st,stretch:"normal",weight:Ee,style:rn}}),De=(function(st,Yt,et){for(var ft=(et=et||{}).defaultFontFamily||"times",Tt=Object.assign({},Tge,et.genericFontFamilies||{}),Nt=null,nt=null,qt=0;qt<Yt.length;++qt)if(Tt[(Nt=Xx(Yt[qt])).family]&&(Nt.family=Tt[Nt.family]),st.hasOwnProperty(Nt.family)){nt=st[Nt.family];break}if(!(nt=nt||st[ft]))throw new Error("Could not find a font-family for the rule '"+$4(Nt)+"' and default family '"+ft+"'.");if(nt=(function(we,gt){if(gt[we])return gt[we];var vt=hw[we],bt=vt<=hw.normal?-1:1,Qe=G4(gt,CF,vt,bt);if(!Qe)throw new Error("Could not find a matching font-stretch value for "+we);return Qe})(Nt.stretch,nt),nt=(function(we,gt){if(gt[we])return gt[we];for(var vt=DF[we],bt=0;bt<vt.length;++bt)if(gt[vt[bt]])return gt[vt[bt]];throw new Error("Could not find a matching font-style for "+we)})(Nt.style,nt),!(nt=(function(we,gt){if(gt[we])return gt[we];if(we===400&&gt[500])return gt[500];if(we===500&&gt[400])return gt[400];var vt=Sge[we],bt=G4(gt,NF,vt,we<400?-1:1);if(!bt)throw new Error("Could not find a matching font-weight for value "+we);return bt})(Nt.weight,nt)))throw new Error("Failed to resolve a font for the rule '"+$4(Nt)+"'.");return nt})(se,G);this.pdf.setFont(De.ref.name,De.ref.style)}else{var ge="";(Ee==="bold"||parseInt(Ee,10)>=700||rn==="bold")&&(ge="bold"),rn==="italic"&&(ge+="italic"),ge.length===0&&(ge="normal");for(var Ce="",Le={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ve=0;Ve<xt.length;Ve++){if(this.pdf.internal.getFont(xt[Ve],ge,{noFallback:!0,disableWarning:!0})!==void 0){Ce=xt[Ve];break}if(ge==="bolditalic"&&this.pdf.internal.getFont(xt[Ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ce=xt[Ve],ge="bold";else if(this.pdf.internal.getFont(xt[Ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ce=xt[Ve],ge="normal";break}}if(Ce===""){for(var Ze=0;Ze<xt.length;Ze++)if(Le[xt[Ze]]){Ce=Le[xt[Ze]];break}}Ce=Ce===""?"Times":Ce,this.pdf.setFont(Ce,ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};f.prototype.setLineDash=function(z){this.lineDash=z},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){L.call(this,"fill",!1)},f.prototype.stroke=function(){L.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(z,U){if(isNaN(z)||isNaN(U))throw Gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ce=this.ctx.transform.applyToPoint(new a(z,U));this.path.push({type:"mt",x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(z,U)},f.prototype.closePath=function(){var z=new a(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Or(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){z=new a(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(z.x,z.y)},f.prototype.lineTo=function(z,U){if(isNaN(z)||isNaN(U))throw Gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ce=this.ctx.transform.applyToPoint(new a(z,U));this.path.push({type:"lt",x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},f.prototype.quadraticCurveTo=function(z,U,ce,_e){if(isNaN(ce)||isNaN(_e)||isNaN(z)||isNaN(U))throw Gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new a(ce,_e)),de=this.ctx.transform.applyToPoint(new a(z,U));this.path.push({type:"qct",x1:de.x,y1:de.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new a(Z.x,Z.y)},f.prototype.bezierCurveTo=function(z,U,ce,_e,Z,de){if(isNaN(Z)||isNaN(de)||isNaN(z)||isNaN(U)||isNaN(ce)||isNaN(_e))throw Gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new a(Z,de)),Pe=this.ctx.transform.applyToPoint(new a(z,U)),ke=this.ctx.transform.applyToPoint(new a(ce,_e));this.path.push({type:"bct",x1:Pe.x,y1:Pe.y,x2:ke.x,y2:ke.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new a(Ae.x,Ae.y)},f.prototype.arc=function(z,U,ce,_e,Z,de){if(isNaN(z)||isNaN(U)||isNaN(ce)||isNaN(_e)||isNaN(Z))throw Gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new a(z,U));z=Ae.x,U=Ae.y;var Pe=this.ctx.transform.applyToPoint(new a(0,ce)),ke=this.ctx.transform.applyToPoint(new a(0,0));ce=Math.sqrt(Math.pow(Pe.x-ke.x,2)+Math.pow(Pe.y-ke.y,2))}Math.abs(Z-_e)>=2*Math.PI&&(_e=0,Z=2*Math.PI),this.path.push({type:"arc",x:z,y:U,radius:ce,startAngle:_e,endAngle:Z,counterclockwise:de})},f.prototype.arcTo=function(z,U,ce,_e,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(z,U,ce,_e){if(isNaN(z)||isNaN(U)||isNaN(ce)||isNaN(_e))throw Gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,U),this.lineTo(z+ce,U),this.lineTo(z+ce,U+_e),this.lineTo(z,U+_e),this.lineTo(z,U),this.lineTo(z+ce,U),this.lineTo(z,U)},f.prototype.fillRect=function(z,U,ce,_e){if(isNaN(z)||isNaN(U)||isNaN(ce)||isNaN(_e))throw Gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,U,ce,_e),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(z,U,ce,_e){if(isNaN(z)||isNaN(U)||isNaN(ce)||isNaN(_e))throw Gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(z,U,ce,_e),this.stroke())},f.prototype.clearRect=function(z,U,ce,_e){if(isNaN(z)||isNaN(U)||isNaN(ce)||isNaN(_e))throw Gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,U,ce,_e))},f.prototype.save=function(z){z=typeof z!="boolean"||z;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,ce=0;ce<this.pdf.internal.getNumberOfPages();ce++)this.pdf.setPage(ce+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var _e=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=_e}},f.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,ce=0;ce<this.pdf.internal.getNumberOfPages();ce++)this.pdf.setPage(ce+1),this.pdf.internal.out("Q");this.pdf.setPage(U),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(z){var U,ce,_e,Z;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))U=0,ce=0,_e=0,Z=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(de!==null)U=parseInt(de[1]),ce=parseInt(de[2]),_e=parseInt(de[3]),Z=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)U=parseInt(de[1]),ce=parseInt(de[2]),_e=parseInt(de[3]),Z=parseFloat(de[4]);else{if(Z=1,typeof z=="string"&&z.charAt(0)!=="#"){var Ae=new xF(z);z=Ae.ok?Ae.toHex():"#000000"}z.length===4?(U=z.substring(1,2),U+=U,ce=z.substring(2,3),ce+=ce,_e=z.substring(3,4),_e+=_e):(U=z.substring(1,3),ce=z.substring(3,5),_e=z.substring(5,7)),U=parseInt(U,16),ce=parseInt(ce,16),_e=parseInt(_e,16)}}return{r:U,g:ce,b:_e,a:Z,style:z}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(z,U,ce,_e){if(isNaN(U)||isNaN(ce)||typeof z!="string")throw Gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(_e=isNaN(_e)?void 0:_e,!p.call(this)){var Z=Q(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;H.call(this,{text:z,x:U,y:ce,scale:de,angle:Z,align:this.textAlign,maxWidth:_e})}},f.prototype.strokeText=function(z,U,ce,_e){if(isNaN(U)||isNaN(ce)||typeof z!="string")throw Gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){_e=isNaN(_e)?void 0:_e;var Z=Q(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;H.call(this,{text:z,x:U,y:ce,scale:de,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:_e})}},f.prototype.measureText=function(z){if(typeof z!="string")throw Gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,ce=this.pdf.internal.scaleFactor,_e=U.internal.getFontSize(),Z=U.getStringUnitWidth(z)*_e/U.internal.scaleFactor;return new function(de){var Ae=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this}({width:Z*=Math.round(96*ce/72*1e4)/1e4})},f.prototype.scale=function(z,U){if(isNaN(z)||isNaN(U))throw Gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ce=new u(z,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(ce)},f.prototype.rotate=function(z){if(isNaN(z))throw Gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new u(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(z,U){if(isNaN(z)||isNaN(U))throw Gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ce=new u(1,0,0,1,z,U);this.ctx.transform=this.ctx.transform.multiply(ce)},f.prototype.transform=function(z,U,ce,_e,Z,de){if(isNaN(z)||isNaN(U)||isNaN(ce)||isNaN(_e)||isNaN(Z)||isNaN(de))throw Gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new u(z,U,ce,_e,Z,de);this.ctx.transform=this.ctx.transform.multiply(Ae)},f.prototype.setTransform=function(z,U,ce,_e,Z,de){z=isNaN(z)?1:z,U=isNaN(U)?0:U,ce=isNaN(ce)?0:ce,_e=isNaN(_e)?1:_e,Z=isNaN(Z)?0:Z,de=isNaN(de)?0:de,this.ctx.transform=new u(z,U,ce,_e,Z,de)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(z,U,ce,_e,Z,de,Ae,Pe,ke){var ot=this.pdf.getImageProperties(z),Dt=1,yt=1,jt=1,le=1;_e!==void 0&&Pe!==void 0&&(jt=Pe/_e,le=ke/Z,Dt=ot.width/_e*Pe/_e,yt=ot.height/Z*ke/Z),de===void 0&&(de=U,Ae=ce,U=0,ce=0),_e!==void 0&&Pe===void 0&&(Pe=_e,ke=Z),_e===void 0&&Pe===void 0&&(Pe=ot.width,ke=ot.height);var pt=this.ctx.transform.decompose(),rn=Q(pt.rotate.shx),Ee=new u,ct=(Ee=(Ee=(Ee=Ee.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new o(de-U*jt,Ae-ce*le,_e*Dt,Z*yt));if(this.autoPaging){for(var zt,Mt=y.call(this,ct),xt=[],se=0;se<Mt.length;se+=1)xt.indexOf(Mt[se])===-1&&xt.push(Mt[se]);T(xt);for(var G=xt[0],De=xt[xt.length-1],ge=G;ge<De+1;ge++){this.pdf.setPage(ge);var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=ge===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=ge===1?0:Ve+(ge-2)*Ze;if(this.ctx.clip_path.length!==0){var Yt=this.path;zt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(zt,this.posX+this.margin[3],-st+Le+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=Yt}var et=JSON.parse(JSON.stringify(ct));et=S([et],this.posX+this.margin[3],-st+Le+this.ctx.prevPageLastElemOffset)[0];var ft=(ge>G||ge<De)&&E.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,Ze,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",et.x,et.y,et.w,et.h,null,null,rn),ft&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(z,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,rn)};var y=function(z,U,ce){var _e=[];U=U||this.pdf.internal.pageSize.width,ce=ce||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":_e.push(Math.floor((z.y+Z)/ce)+1);break;case"arc":_e.push(Math.floor((z.y+Z-z.radius)/ce)+1),_e.push(Math.floor((z.y+Z+z.radius)/ce)+1);break;case"qct":var de=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);_e.push(Math.floor((de.y+Z)/ce)+1),_e.push(Math.floor((de.y+de.h+Z)/ce)+1);break;case"bct":var Ae=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);_e.push(Math.floor((Ae.y+Z)/ce)+1),_e.push(Math.floor((Ae.y+Ae.h+Z)/ce)+1);break;case"rect":_e.push(Math.floor((z.y+Z)/ce)+1),_e.push(Math.floor((z.y+z.h+Z)/ce)+1)}for(var Pe=0;Pe<_e.length;Pe+=1)for(;this.pdf.internal.getNumberOfPages()<_e[Pe];)v.call(this);return _e},v=function(){var z=this.fillStyle,U=this.strokeStyle,ce=this.font,_e=this.lineCap,Z=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=U,this.font=ce,this.lineCap=_e,this.lineWidth=Z,this.lineJoin=de},S=function(z,U,ce){for(var _e=0;_e<z.length;_e++)switch(z[_e].type){case"bct":z[_e].x2+=U,z[_e].y2+=ce;case"qct":z[_e].x1+=U,z[_e].y1+=ce;default:z[_e].x+=U,z[_e].y+=ce}return z},T=function(z){return z.sort(function(U,ce){return U-ce})},L=function(z,U){var ce=this.fillStyle,_e=this.strokeStyle,Z=this.lineCap,de=this.lineWidth,Ae=Math.abs(de*this.ctx.transform.scaleX),Pe=this.lineJoin;if(this.autoPaging){for(var ke,ot,Dt=JSON.parse(JSON.stringify(this.path)),yt=JSON.parse(JSON.stringify(this.path)),jt=[],le=0;le<yt.length;le++)if(yt[le].x!==void 0)for(var pt=y.call(this,yt[le]),rn=0;rn<pt.length;rn+=1)jt.indexOf(pt[rn])===-1&&jt.push(pt[rn]);for(var Ee=0;Ee<jt.length;Ee++)for(;this.pdf.internal.getNumberOfPages()<jt[Ee];)v.call(this);T(jt);for(var ct=jt[0],zt=jt[jt.length-1],Mt=ct;Mt<zt+1;Mt++){this.pdf.setPage(Mt),this.fillStyle=ce,this.strokeStyle=_e,this.lineCap=Z,this.lineWidth=Ae,this.lineJoin=Pe;var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],se=Mt===1?this.posY+this.margin[0]:this.margin[0],G=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ge=Mt===1?0:G+(Mt-2)*De;if(this.ctx.clip_path.length!==0){var Ce=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ke,this.posX+this.margin[3],-ge+se+this.ctx.prevPageLastElemOffset),I.call(this,z,!0),this.path=Ce}if(ot=JSON.parse(JSON.stringify(Dt)),this.path=S(ot,this.posX+this.margin[3],-ge+se+this.ctx.prevPageLastElemOffset),U===!1||Mt===0){var Le=(Mt>ct||Mt<zt)&&E.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,De,null).clip().discardPath()),I.call(this,z,U),Le&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Dt}else this.lineWidth=Ae,I.call(this,z,U),this.lineWidth=de},I=function(z,U){if((z!=="stroke"||U||!_.call(this))&&(z==="stroke"||U||!p.call(this))){for(var ce,_e,Z=[],de=this.path,Ae=0;Ae<de.length;Ae++){var Pe=de[Ae];switch(Pe.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:Pe,deltas:[],abs:[]});break;case"lt":var ke=Z.length;if(de[Ae-1]&&!isNaN(de[Ae-1].x)&&(ce=[Pe.x-de[Ae-1].x,Pe.y-de[Ae-1].y],ke>0)){for(;ke>=0;ke--)if(Z[ke-1].close!==!0&&Z[ke-1].begin!==!0){Z[ke-1].deltas.push(ce),Z[ke-1].abs.push(Pe);break}}break;case"bct":ce=[Pe.x1-de[Ae-1].x,Pe.y1-de[Ae-1].y,Pe.x2-de[Ae-1].x,Pe.y2-de[Ae-1].y,Pe.x-de[Ae-1].x,Pe.y-de[Ae-1].y],Z[Z.length-1].deltas.push(ce);break;case"qct":var ot=de[Ae-1].x+2/3*(Pe.x1-de[Ae-1].x),Dt=de[Ae-1].y+2/3*(Pe.y1-de[Ae-1].y),yt=Pe.x+2/3*(Pe.x1-Pe.x),jt=Pe.y+2/3*(Pe.y1-Pe.y),le=Pe.x,pt=Pe.y;ce=[ot-de[Ae-1].x,Dt-de[Ae-1].y,yt-de[Ae-1].x,jt-de[Ae-1].y,le-de[Ae-1].x,pt-de[Ae-1].y],Z[Z.length-1].deltas.push(ce);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(Pe)}}_e=U?null:z==="stroke"?"stroke":"fill";for(var rn=!1,Ee=0;Ee<Z.length;Ee++)if(Z[Ee].arc)for(var ct=Z[Ee].abs,zt=0;zt<ct.length;zt++){var Mt=ct[zt];Mt.type==="arc"?V.call(this,Mt.x,Mt.y,Mt.radius,Mt.startAngle,Mt.endAngle,Mt.counterclockwise,void 0,U,!rn):q.call(this,Mt.x,Mt.y),rn=!0}else if(Z[Ee].close===!0)this.pdf.internal.out("h"),rn=!1;else if(Z[Ee].begin!==!0){var xt=Z[Ee].start.x,se=Z[Ee].start.y;Y.call(this,Z[Ee].deltas,xt,se),rn=!0}_e&&M.call(this,_e),U&&R.call(this)}},O=function(z){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ce=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-ce;case"top":return z+U-ce;case"hanging":return z+U-2*ce;case"middle":return z+U/2-ce;default:return z}},B=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(U,ce){this.colorStops.push([U,ce])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(z,U,ce,_e,Z,de,Ae,Pe,ke){for(var ot=he.call(this,ce,_e,Z,de),Dt=0;Dt<ot.length;Dt++){var yt=ot[Dt];Dt===0&&(ke?k.call(this,yt.x1+z,yt.y1+U):q.call(this,yt.x1+z,yt.y1+U)),ae.call(this,z,U,yt.x2,yt.y2,yt.x3,yt.y3,yt.x4,yt.y4)}Pe?R.call(this):M.call(this,Ae)},M=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(z,U){this.pdf.internal.out(n(z)+" "+r(U)+" m")},H=function(z){var U;switch(z.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var ce,_e,Z,de=this.pdf.getTextDimensions(z.text),Ae=O.call(this,z.y),Pe=B.call(this,Ae)-de.h,ke=this.ctx.transform.applyToPoint(new a(z.x,Ae));if(this.autoPaging){var ot=this.ctx.transform.decompose(),Dt=new u;Dt=(Dt=(Dt=Dt.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale);for(var yt=this.ctx.transform.applyToRectangle(new o(z.x,Ae,de.w,de.h)),jt=Dt.applyToRectangle(new o(z.x,Pe,de.w,de.h)),le=y.call(this,jt),pt=[],rn=0;rn<le.length;rn+=1)pt.indexOf(le[rn])===-1&&pt.push(le[rn]);T(pt);for(var Ee=pt[0],ct=pt[pt.length-1],zt=Ee;zt<ct+1;zt++){this.pdf.setPage(zt);var Mt=zt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],se=this.pdf.internal.pageSize.height-this.margin[2],G=se-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],ge=De-this.margin[3],Ce=zt===1?0:xt+(zt-2)*G;if(this.ctx.clip_path.length!==0){var Le=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ce,this.posX+this.margin[3],-1*Ce+Mt),I.call(this,"fill",!0),this.path=Le}var Ve=S([JSON.parse(JSON.stringify(jt))],this.posX+this.margin[3],-Ce+Mt+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*z.scale),Z=this.lineWidth,this.lineWidth=Z*z.scale);var Ze=this.autoPaging!=="text";if(Ze||Ve.y+Ve.h<=se){if(Ze||Ve.y>=Mt&&Ve.x<=De){var st=Ze?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||De-Ve.x)[0],Yt=S([JSON.parse(JSON.stringify(yt))],this.posX+this.margin[3],-Ce+Mt+this.ctx.prevPageLastElemOffset)[0],et=Ze&&(zt>Ee||zt<ct)&&E.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,G,null).clip().discardPath()),this.pdf.text(st,Yt.x,Yt.y,{angle:z.angle,align:U,renderingMode:z.renderingMode}),et&&this.pdf.restoreGraphicsState()}}else Ve.y<se&&(this.ctx.prevPageLastElemOffset+=se-Ve.y);z.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Z)}}else z.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*z.scale),Z=this.lineWidth,this.lineWidth=Z*z.scale),this.pdf.text(z.text,ke.x+this.posX,ke.y+this.posY,{angle:z.angle,align:U,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Z)},q=function(z,U,ce,_e){ce=ce||0,_e=_e||0,this.pdf.internal.out(n(z+ce)+" "+r(U+_e)+" l")},Y=function(z,U,ce){return this.pdf.lines(z,U,ce,null,null)},ae=function(z,U,ce,_e,Z,de,Ae,Pe){this.pdf.internal.out([e(i(ce+z)),e(s(_e+U)),e(i(Z+z)),e(s(de+U)),e(i(Ae+z)),e(s(Pe+U)),"c"].join(" "))},he=function(z,U,ce,_e){for(var Z=2*Math.PI,de=Math.PI/2;U>ce;)U-=Z;var Ae=Math.abs(ce-U);Ae<Z&&_e&&(Ae=Z-Ae);for(var Pe=[],ke=_e?-1:1,ot=U;Ae>1e-5;){var Dt=ot+ke*Math.min(Ae,de);Pe.push(oe.call(this,z,ot,Dt)),Ae-=Math.abs(Dt-ot),ot=Dt}return Pe},oe=function(z,U,ce){var _e=(ce-U)/2,Z=z*Math.cos(_e),de=z*Math.sin(_e),Ae=Z,Pe=-de,ke=Ae*Ae+Pe*Pe,ot=ke+Ae*Z+Pe*de,Dt=4/3*(Math.sqrt(2*ke*ot)-ot)/(Ae*de-Pe*Z),yt=Ae-Dt*Pe,jt=Pe+Dt*Ae,le=yt,pt=-jt,rn=_e+U,Ee=Math.cos(rn),ct=Math.sin(rn);return{x1:z*Math.cos(U),y1:z*Math.sin(U),x2:yt*Ee-jt*ct,y2:yt*ct+jt*Ee,x3:le*Ee-pt*ct,y3:le*ct+pt*Ee,x4:z*Math.cos(ce),y4:z*Math.sin(ce)}},Q=function(z){return 180*z/Math.PI},xe=function(z,U,ce,_e,Z,de){var Ae=z+.5*(ce-z),Pe=U+.5*(_e-U),ke=Z+.5*(ce-Z),ot=de+.5*(_e-de),Dt=Math.min(z,Z,Ae,ke),yt=Math.max(z,Z,Ae,ke),jt=Math.min(U,de,Pe,ot),le=Math.max(U,de,Pe,ot);return new o(Dt,jt,yt-Dt,le-jt)},W=function(z,U,ce,_e,Z,de,Ae,Pe){var ke,ot,Dt,yt,jt,le,pt,rn,Ee,ct,zt,Mt,xt,se,G=ce-z,De=_e-U,ge=Z-ce,Ce=de-_e,Le=Ae-Z,Ve=Pe-de;for(ot=0;ot<41;ot++)Ee=(pt=(Dt=z+(ke=ot/40)*G)+ke*((jt=ce+ke*ge)-Dt))+ke*(jt+ke*(Z+ke*Le-jt)-pt),ct=(rn=(yt=U+ke*De)+ke*((le=_e+ke*Ce)-yt))+ke*(le+ke*(de+ke*Ve-le)-rn),ot==0?(zt=Ee,Mt=ct,xt=Ee,se=ct):(zt=Math.min(zt,Ee),Mt=Math.min(Mt,ct),xt=Math.max(xt,Ee),se=Math.max(se,ct));return new o(Math.round(zt),Math.round(Mt),Math.round(xt-zt),Math.round(se-Mt))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,U,ce=(z=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:U}));this.prevLineDash!==ce&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ce)}}})(Sn.API),(function(t){var e=function(a){var o,u,l,d,f,m,p,_,E,y;for(u=[],l=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>l;l+=4)(f=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(m=(f=((f=((f=((f=(f-(y=f%85))/85)-(E=f%85))/85)-(_=f%85))/85)-(p=f%85))/85)%85,u.push(m+33,p+33,_+33,E+33,y+33)):u.push(122);return(function(v,S){for(var T=S;T>0;T--)v.pop()})(u,o.length),String.fromCharCode.apply(String,u)+"~>"},n=function(a){var o,u,l,d,f,m=String,p="length",_=255,E="charCodeAt",y="slice",v="replace";for(a[y](-2),a=a[y](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],d=0,f=(a+=o="uuuuu"[y](a[p]%5||5))[p];f>d;d+=5)u=52200625*(a[E](d)-33)+614125*(a[E](d+1)-33)+7225*(a[E](d+2)-33)+85*(a[E](d+3)-33)+(a[E](d+4)-33),l.push(_&u>>24,_&u>>16,_&u>>8,_&u);return(function(S,T){for(var L=T;L>0;L--)S.pop()})(l,o[p]),m.fromCharCode.apply(m,l)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var u="",l=0;l<a.length;l+=2)u+=String.fromCharCode("0x"+(a[l]+a[l+1]));return u},s=function(a){for(var o=new Uint8Array(a.length),u=a.length;u--;)o[u]=a.charCodeAt(u);return(o=sw(o)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var u=0,l=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}})(Sn.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(u,l,d){var f=new XMLHttpRequest,m=0,p=function(_){var E=_.length,y=[],v=String.fromCharCode;for(m=0;m<E;m+=1)y.push(v(255&_.charCodeAt(m)));return y.join("")};if(f.open("GET",u,!l),f.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),l&&f.status===200)return p(f.responseText)})(i,s,a)}catch{}return o})(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Sn.API),(function(t){function e(){return(zn.html2canvas?Promise.resolve(zn.html2canvas):fe(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(zn.DOMPurify?Promise.resolve(zn.DOMPurify):fe(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var u=Or(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(o,u){var l=document.createElement(o);for(var d in u.className&&(l.className=u.className),u.innerHTML&&u.dompurify&&(l.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)l.style[d]=u.style[d];return l},s=function o(u,l){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)l!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,l));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d},a=function o(u){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),l);return(d=d.setProgress(1,o,1,[o])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,u){return o.__proto__=u||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,u){return this.then(function(){switch(u=u||(function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),u){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,u(this.prop.container,l)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var l=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var _=d[p],E=_.src.find(function(y){return y.format==="truetype"});E&&l.addFont(E.url,_.ref.name,_.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),u(this.prop.container,m)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,u,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},a.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var u=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(u)})},a.prototype.get=function(o,u){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return u?u(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function u(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(o=o||Sn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,u,l,d){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,u,l,d){return this.setProgress(o?this.progress.val+o:null,u||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,u){var l=this;return this.thenCore(o,u,function(d,f){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,d),m}).then(d,f).then(function(m){return l.updateProgress(1),m})})},a.prototype.thenCore=function(o,u,l){l=l||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),u&&(u=u.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),m=l.call(f,o,u);return a.convert(m,d.__proto__)},a.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},a.prototype.thenList=function(o){var u=this;return o.forEach(function(l){u=u.thenCore(l)}),u},a.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return a.convert(u,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Sn.getPageSize=function(o,u,l){if(Or(o)==="object"){var d=o;o=d.orientation,u=d.unit||u,l=d.format||l}u=u||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var f,m=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+u}var _,E=0,y=0;if(p.hasOwnProperty(m))E=p[m][1]/f,y=p[m][0]/f;else try{E=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",y>E&&(_=y,y=E,E=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>y&&(_=y,y=E,E=_)}return{width:y,height:E,unit:u,k:f,orientation:o}},t.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Xx):null;var l=new a(u);return u.worker?l:l.from(o).doCallback()}})(Sn.API),Sn.API.addJS=function(t){return X4=t,this.internal.events.subscribe("postPutResources",function(){Z1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Z1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Y4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+X4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Z1!==void 0&&Y4!==void 0&&this.internal.out("/Names <</JavaScript "+Z1+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var u=o[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,d=[];for(s=0;s<l;s++){var f=n.internal.newObject();d.push(f);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var u=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Sn.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var u,l=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,u=(function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),_=f.length,E={width:0,height:0,numcomponents:1},y=4;y<_;y+=2){if(y+=p,e.indexOf(f.charCodeAt(y+1))!==-1){m=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),E={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:m,numcomponents:f.charCodeAt(y+9)};break}p=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return E})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),u.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:l,index:r,alias:i}}return d}})(Sn.API),Sn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=dge(t,{checkCrc:!0}),a=s.width,o=s.height,u=s.channels,l=s.palette,d=s.depth;i=l&&u===1?(function(V){for(var M=V.width,R=V.height,k=V.data,H=V.palette,q=V.depth,Y=!1,ae=[],he=[],oe=void 0,Q=!1,xe=0,W=0;W<H.length;W++){var ee=e4(H[W],4),z=ee[0],U=ee[1],ce=ee[2],_e=ee[3];ae.push(z,U,ce),_e!=null&&(_e===0?(xe++,he.length<1&&he.push(W)):_e<255&&(Q=!0))}if(Q||xe>1){Y=!0,he=void 0;var Z=M*R;oe=new Uint8Array(Z);for(var de=new DataView(k.buffer),Ae=0;Ae<Z;Ae++){var Pe=Jx(de,Ae,q),ke=e4(H[Pe],4)[3];oe[Ae]=ke}}else xe===0&&(he=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:k,alphaBytes:oe,needSMask:Y,palette:ae,mask:he}})(s):u===2||u===4?(function(V){for(var M=V.data,R=V.width,k=V.height,H=V.channels,q=V.depth,Y=H===2?"DeviceGray":"DeviceRGB",ae=H-1,he=R*k,oe=ae,Q=he*oe,xe=1*he,W=Math.ceil(Q*q/8),ee=Math.ceil(xe*q/8),z=new Uint8Array(W),U=new Uint8Array(ee),ce=new DataView(M.buffer),_e=new DataView(z.buffer),Z=new DataView(U.buffer),de=!1,Ae=0;Ae<he;Ae++){for(var Pe=Ae*H,ke=0;ke<oe;ke++)sL(_e,Jx(ce,Pe+ke,q),Ae*oe+ke,q);var ot=Jx(ce,Pe+oe,q);ot<(1<<q)-1&&(de=!0),sL(Z,ot,1*Ae,q)}return{colorSpace:Y,colorsPerPixel:ae,sMaskBitsPerComponent:de?q:void 0,colorBytes:z,alphaBytes:U,needSMask:de}})(s):(function(V){var M=V.data,R=V.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?(function(k){for(var H=k.length,q=new Uint8Array(2*H),Y=new DataView(q.buffer,q.byteOffset,q.byteLength),ae=0;ae<H;ae++)Y.setUint16(2*ae,k[ae],!1);return q})(M):M,needSMask:!1}})(s);var f,m,p,_=i,E=_.colorSpace,y=_.colorsPerPixel,v=_.sMaskBitsPerComponent,S=_.colorBytes,T=_.alphaBytes,L=_.needSMask,I=_.palette,O=_.mask,B=null;return r!==Sn.API.image_compression.NONE&&typeof sw=="function"?(B=(function(V){var M;switch(V){case Sn.API.image_compression.FAST:M=11;break;case Sn.API.image_compression.MEDIUM:M=13;break;case Sn.API.image_compression.SLOW:M=14;break;default:M=12}return M})(r),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(B," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=eL(S,Math.ceil(a*y*d/8),y,d,r),L&&(p=eL(T,Math.ceil(a*v/8),1,v,r))):(f=void 0,m=void 0,t=S,L&&(p=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:f,decodeParameters:m,transparency:O,palette:I,sMask:p,predictor:B,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:v,colorSpace:E}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new Pge(e),a=s.width,o=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var l={data:u,width:a,height:o},d=new Qx(100).encode(l,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A})(Sn.API),fu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fu.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Gr.log("bit decode error:"+n)}},fu.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var u=this.palette[s>>7-o&1];this.data[a+4*o]=u.blue,this.data[a+4*o+1]=u.green,this.data[a+4*o+2]=u.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},fu.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,u=15&s,l=this.palette[o];if(this.data[a]=l.blue,this.data[a+1]=l.green,this.data[a+2]=l.red,this.data[a+3]=255,2*i+1>=this.width)break;l=this.palette[u],this.data[a+4]=l.blue,this.data[a+4+1]=l.green,this.data[a+4+2]=l.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},fu.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},fu.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,l=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=u,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=l}this.pos+=t}},fu.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,u=(a>>5&n)/n*255|0,l=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=l,this.data[d+1]=u,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},fu.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},fu.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},fu.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new fu(e,!1),a=s.width,o=s.height,u={data:s.getData(),width:a,height:o},l=new Qx(100).encode(u,100);return t.processJPEG.call(this,l,n,r,i)}})(Sn.API),oL.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new oL(e),a=s.width,o=s.height,u={data:s.getData(),width:a,height:o},l=new Qx(100).encode(u,100);return t.processJPEG.call(this,l,n,r,i)}})(Sn.API),Sn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,u=0,l=0;l<i;l+=4){var d=r[l],f=r[l+1],m=r[l+2],p=r[l+3];s[o++]=d,s[o++]=f,s[o++]=m,a[u++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Sn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yf=Sn.API,J1=Yf.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,u=o.fof?o.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=l.fof?l.fof:1,f=e.doKerning!==!1,m=0,p=t.length,_=0,E=o[0]||u,y=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(m=f&&Or(l[r])==="object"&&!isNaN(parseInt(l[r][_],10))?l[r][_]/d:0,y.push((o[r]||E)/u+m)),_=r;return y},Z4=Yf.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Yf.processArabic&&(t=Yf.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:J1.apply(this,arguments).reduce(function(s,a){return s+a},0)},J4=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var u=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(u,s)),o=0,u=s),o+=e[s],s++;return u!==s&&i.push(t.slice(u,s)),i},Q4=function(t,e,n){n||(n={});var r,i,s,a,o,u,l,d=[],f=[d],m=n.textIndent||0,p=0,_=0,E=t.split(" "),y=J1.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?E[0].length+2:n.lineIndent||0){var v=Array(u).join(" "),S=[];E.map(function(L){(L=L.split(/\s*\n/)).length>1?S=S.concat(L.map(function(I,O){return(O&&I.length?`
`:"")+I})):S.push(L[0])}),E=S,u=Z4.apply(this,[v,n])}for(s=0,a=E.length;s<a;s++){var T=0;if(r=E[s],u&&r[0]==`
`&&(r=r.substr(1),T=1),m+p+(_=(i=J1.apply(this,[r,n])).reduce(function(L,I){return L+I},0))>e||T){if(_>e){for(o=J4.apply(this,[r,i,e-(m+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);_=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(L,I){return L+I},0)}else d=[r];f.push(d),m=_+u,p=y}else d.push(r),m+=p+_,p=y}return l=u?function(L,I){return(I?v:"")+L.join(" ")}:function(L){return L.join(" ")},f.map(l)},Yf.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,u,l=[];for(o=0,u=r.length;o<u;o++)l=l.concat(Q4.apply(this,[r[o],a,s]));return l},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var p,_,E,y,v=["{"];for(var S in m){if(p=m[S],isNaN(parseInt(S,10))?_="'"+S+"'":(S=parseInt(S,10),_=(_=a(S).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof p=="number")p<0?(E=a(p).slice(3),y="-"):(E=a(p).slice(2),y=""),E=y+E.slice(0,-1)+i[E.slice(-1)];else{if(Or(p)!=="object")throw new Error("Don't know what to do with value type "+Or(p)+".");E=o(p)}v.push(_+E)}return v.push("}"),v.join("")},u=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,_,E,y,v={},S=1,T=v,L=[],I="",O="",B=m.length-1,V=1;V<B;V+=1)(y=m[V])=="'"?p?(E=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(L.push([T,E]),T={},E=void 0):y=="}"?((_=L.pop())[0][_[1]]=T,E=void 0,T=_[0]):y=="-"?S=-1:E===void 0?r.hasOwnProperty(y)?(I+=r[y],E=parseInt(I,16)*S,S=1,I=""):I+=y:r.hasOwnProperty(y)?(O+=r[y],T[E]=parseInt(O,16)*S,S=1,E=void 0,O=""):O+=y;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,_=f.Unicode[p.postScriptName];_&&(p.metadata.Unicode={},p.metadata.Unicode.widths=_.widths,p.metadata.Unicode.kerning=_.kerning);var E=d.Unicode[p.postScriptName];E&&(p.metadata.Unicode.encoding=E,p.encoding=E.codePages[0])}])})(Sn.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(bv(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(Sn),Sn.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw Gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=i;var l=u.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,u.width,u.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(zn.canvg?Promise.resolve(zn.canvg):fe(()=>import("./index.es-DlYTa5Q7.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(l,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},Sn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Sn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),u=[],l=0,d=0,f=0;function m(_,E){var y,v=!1;for(y=0;y<_.length;y+=1)_[y]===E&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(Or(t)==="object"){for(i in t)if(s=t[i],m(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(l=0;l<s.length;l+=1)if(r=!0,s[l].length===1&&typeof s[l][0]=="number")u.push(String(s[l]-1));else if(s[l].length>1){for(d=0;d<s[l].length;d+=1)typeof s[l][d]!="number"&&(r=!1);r===!0&&u.push([s[l][0]-1,s[l][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,E=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?E.push("/"+_+" /"+n[_].value):E.push("/"+_+" "+n[_].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),l=s.length+a.length+o.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Sn.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,u=a.metadata.Unicode.widths,l=["","0","00","000","0000"],d=[""],f=0,m=s.length;f<m;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(l[4-o.length],o)}return d.join("")},r=function(s){var a,o,u,l,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],f=0,m=(o=Object.keys(s).sort(function(p,_){return p-_})).length;f<m;f++)a=o[f],u.length>=100&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(l=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+l+">"));return u.length&&(d+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,u=a.out,l=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",_=0;_<m.length;_++)p+=String.fromCharCode(m[_]);var E=l();d({data:p,addLength1:!0,objectId:E}),u("endobj");var y=l();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var v=l();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+ep(o.fontName)),u("/FontFile2 "+E+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var S=l();u("<<"),u("/Type /Font"),u("/BaseFont /"+ep(o.fontName)),u("/FontDescriptor "+v+" 0 R"),u("/W "+t.API.PDFObject.convert(f)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=l(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+y+" 0 R"),u("/BaseFont /"+ep(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+S+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,u=a.out,l=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var _=l();d({data:m,addLength1:!0,objectId:_}),u("endobj");var E=l();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var y=l();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+_+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+ep(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=l();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+ep(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",u=s.x,l=s.y,d=s.options||{},f=s.mutex||{},m=f.pdfEscape,p=f.activeFontKey,_=f.fonts,E=p,y="",v=0,S="",T=_[E].encoding;if(_[E].encoding!=="Identity-H")return{text:o,x:u,y:l,options:d,mutex:f};for(S=o,E=p,Array.isArray(o)&&(S=o[0]),v=0;v<S.length;v+=1)_[E].metadata.hasOwnProperty("cmap")&&(a=_[E].metadata.cmap.unicode.codeMap[S[v].charCodeAt(0)]),a||S[v].charCodeAt(0)<256&&_[E].metadata.hasOwnProperty("Unicode")?y+=S[v]:y+="";var L="";return parseInt(E.slice(1))<14||T==="WinAnsiEncoding"?L=m(y,E).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(L=n(y,_[E])),f.isHex=!0,{text:L,x:u,y:l,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],u={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var l=0;for(l=0;l<a.length;l+=1)Array.isArray(a[l])&&a[l].length===3?o.push([i(Object.assign({},u,{text:a[l][0]})).text,a[l][1],a[l][2]]):o.push(i(Object.assign({},u,{text:a[l]})).text);s.text=o}else s.text=i(Object.assign({},u,{text:a})).text}])})(Sn),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Sn.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,u,l,d,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,T=0;this.__bidiEngine__={};var L=function(k){var H=k.charCodeAt(),q=H>>8,Y=E[q];return Y!==void 0?f[256*Y+(255&H)]:q===252||q===253?"AL":v.test(q)?"L":q===8?"R":"N"},I=function(k){for(var H,q=0;q<k.length;q++){if((H=L(k.charAt(q)))==="L")return!1;if(H==="R")return!0}return!1},O=function(k,H,q,Y){var ae,he,oe,Q,xe=H[Y];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(xe="AN");break;case"AL":S=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":Y<1||Y+1>=H.length||(ae=q[Y-1])!=="EN"&&ae!=="AN"||(he=H[Y+1])!=="EN"&&he!=="AN"?xe="N":S&&(he="AN"),xe=he===ae?he:"N";break;case"ES":xe=(ae=Y>0?q[Y-1]:"B")==="EN"&&Y+1<H.length&&H[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&q[Y-1]==="EN"){xe="EN";break}if(S){xe="N";break}for(oe=Y+1,Q=H.length;oe<Q&&H[oe]==="ET";)oe++;xe=oe<Q&&H[oe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Q=H.length,oe=Y+1;oe<Q&&H[oe]==="NSM";)oe++;if(oe<Q){var W=k[Y],ee=W>=1425&&W<=2303||W===64286;if(ae=H[oe],ee&&(ae==="R"||ae==="AL")){xe="R";break}}}xe=Y<1||(ae=H[Y-1])==="B"?"N":q[Y-1];break;case"B":S=!1,i=!0,xe=T;break;case"S":s=!0,xe="N"}return xe},B=function(k,H,q){var Y=k.split("");return q&&V(Y,q,{hiLevel:T}),Y.reverse(),H&&H.reverse(),Y.join("")},V=function(k,H,q){var Y,ae,he,oe,Q,xe=-1,W=k.length,ee=0,z=[],U=T?p:m,ce=[];for(S=!1,i=!1,s=!1,ae=0;ae<W;ae++)ce[ae]=L(k[ae]);for(he=0;he<W;he++){if(Q=ee,z[he]=O(k,ce,z,he),Y=240&(ee=U[Q][_[z[he]]]),ee&=15,H[he]=oe=U[ee][5],Y>0)if(Y===16){for(ae=xe;ae<he;ae++)H[ae]=1;xe=-1}else xe=-1;if(U[ee][6])xe===-1&&(xe=he);else if(xe>-1){for(ae=xe;ae<he;ae++)H[ae]=oe;xe=-1}ce[he]==="B"&&(H[he]=0),q.hiLevel|=oe}s&&(function(_e,Z,de){for(var Ae=0;Ae<de;Ae++)if(_e[Ae]==="S"){Z[Ae]=T;for(var Pe=Ae-1;Pe>=0&&_e[Pe]==="WS";Pe--)Z[Pe]=T}})(ce,H,W)},M=function(k,H,q,Y,ae){if(!(ae.hiLevel<k)){if(k===1&&T===1&&!i)return H.reverse(),void(q&&q.reverse());for(var he,oe,Q,xe,W=H.length,ee=0;ee<W;){if(Y[ee]>=k){for(Q=ee+1;Q<W&&Y[Q]>=k;)Q++;for(xe=ee,oe=Q-1;xe<oe;xe++,oe--)he=H[xe],H[xe]=H[oe],H[oe]=he,q&&(he=q[xe],q[xe]=q[oe],q[oe]=he);ee=Q}ee++}}},R=function(k,H,q){var Y=k.split(""),ae={hiLevel:T};return q||(q=[]),V(Y,q,ae),(function(he,oe,Q){if(Q.hiLevel!==0&&d)for(var xe,W=0;W<he.length;W++)oe[W]===1&&(xe=y.indexOf(he[W]))>=0&&(he[W]=y[xe+1])})(Y,q,ae),M(2,Y,H,q,ae),M(1,Y,H,q,ae),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(k,H,q){if((function(ae,he){if(he)for(var oe=0;oe<ae.length;oe++)he[oe]=oe;o===void 0&&(o=I(ae)),l===void 0&&(l=I(ae))})(k,H),a||!u||l)if(a&&u&&o^l)T=o?1:0,k=B(k,H,q);else if(!a&&u&&l)T=o?1:0,k=R(k,H,q),k=B(k,H);else if(!a||o||u||l){if(a&&!u&&o^l)k=B(k,H),o?(T=0,k=R(k,H,q)):(T=1,k=R(k,H,q),k=B(k,H));else if(a&&o&&!u&&l)T=1,k=R(k,H,q),k=B(k,H);else if(!a&&!u&&o^l){var Y=d;o?(T=1,k=R(k,H,q),T=0,d=!1,k=R(k,H,q),d=Y):(T=0,k=R(k,H,q),k=B(k,H),T=1,d=!1,k=R(k,H,q),d=Y,k=B(k,H))}}else T=0,k=R(k,H,q);else T=o?1:0,k=R(k,H,q);return k},this.__bidiEngine__.setOptions=function(k){k&&(a=k.isInputVisual,u=k.isOutputVisual,o=k.isInputRtl,l=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Sn),Sn.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new _d(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new $ge(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Rge(this.contents),this.head=new kge(this),this.name=new jge(this),this.cmap=new MF(this),this.toUnicode={},this.hhea=new Fge(this),this.maxp=new zge(this),this.hmtx=new Hge(this),this.post=new Bge(this),this.os2=new Oge(this),this.loca=new qge(this),this.glyf=new Vge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,u,l;for(l=[],a=0,o=(u=this.bbox).length;a<o;a++)e=u[a],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Su,_d=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,u;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+u},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),Rge=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,u,l,d,f,m,p,_,E;for(E in p=Object.keys(n).length,u=Math.log(2),f=16*Math.floor(Math.log(p)/u),a=Math.floor(f/u),d=16*p-f,(i=new _d).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(a),i.writeShort(d),s=16*p,l=i.pos+s,o=null,_=[],n)for(m=n[E],i.writeString(E),i.writeInt(t(m)),i.writeInt(l),i.writeInt(m.length),_=_.concat(m),E==="head"&&(o=l),l+=m.length;l%4;)_.push(0),l++;return i.write(_),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=PF.call(n);n.length%4;)n.push(0);for(s=new _d(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),Ige={}.hasOwnProperty,cl=function(t,e){for(var n in e)Ige.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Su=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var kge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new _d).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),uL=(function(){function t(e,n){var r,i,s,a,o,u,l,d,f,m,p,_,E,y,v,S,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=(function(){var L,I;for(I=[],u=L=0;0<=m?L<m:L>m;u=0<=m?++L:--L)I.push(e.readUInt16());return I})(),e.pos+=2,E=(function(){var L,I;for(I=[],u=L=0;0<=m?L<m:L>m;u=0<=m?++L:--L)I.push(e.readUInt16());return I})(),l=(function(){var L,I;for(I=[],u=L=0;0<=m?L<m:L>m;u=0<=m?++L:--L)I.push(e.readUInt16());return I})(),d=(function(){var L,I;for(I=[],u=L=0;0<=m?L<m:L>m;u=0<=m?++L:--L)I.push(e.readUInt16());return I})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var L,I;for(I=[],u=L=0;0<=i?L<i:L>i;u=0<=i?++L:--L)I.push(e.readUInt16());return I})(),u=v=0,T=s.length;v<T;u=++v)for(y=s[u],r=S=_=E[u];_<=y?S<=y:S>=y;r=_<=y?++S:--S)d[u]===0?a=r+l[u]:(a=o[d[u]/2+(r-_)-(m-u)]||0)!==0&&(a+=l[u]),this.codeMap[r]=65535&a}e.pos=f}return t.encode=function(e,n){var r,i,s,a,o,u,l,d,f,m,p,_,E,y,v,S,T,L,I,O,B,V,M,R,k,H,q,Y,ae,he,oe,Q,xe,W,ee,z,U,ce,_e,Z,de,Ae,Pe,ke,ot,Dt;switch(Y=new _d,a=Object.keys(e).sort(function(yt,jt){return yt-jt}),n){case"macroman":for(E=0,y=(function(){var yt=[];for(_=0;_<256;++_)yt.push(0);return yt})(),S={0:0},s={},ae=0,xe=a.length;ae<xe;ae++)S[Pe=e[i=a[ae]]]==null&&(S[Pe]=++E),s[i]={old:e[i],new:S[e[i]]},y[i]=S[e[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(y),{charMap:s,subtable:Y.data,maxGlyphID:E+1};case"unicode":for(H=[],f=[],T=0,S={},r={},v=l=null,he=0,W=a.length;he<W;he++)S[I=e[i=a[he]]]==null&&(S[I]=++T),r[i]={old:I,new:S[I]},o=S[I]-i,v!=null&&o===l||(v&&f.push(v),H.push(i),l=o),v=i;for(v&&f.push(v),f.push(65535),H.push(65535),R=2*(M=H.length),V=2*Math.pow(Math.log(M)/Math.LN2,2),m=Math.log(V/2)/Math.LN2,B=2*M-V,u=[],O=[],p=[],_=oe=0,ee=H.length;oe<ee;_=++oe){if(k=H[_],d=f[_],k===65535){u.push(0),O.push(0);break}if(k-(q=r[k].new)>=32768)for(u.push(0),O.push(2*(p.length+M-_)),i=Q=k;k<=d?Q<=d:Q>=d;i=k<=d?++Q:--Q)p.push(r[i].new);else u.push(q-k),O.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*M+2*p.length),Y.writeUInt16(0),Y.writeUInt16(R),Y.writeUInt16(V),Y.writeUInt16(m),Y.writeUInt16(B),de=0,z=f.length;de<z;de++)i=f[de],Y.writeUInt16(i);for(Y.writeUInt16(0),Ae=0,U=H.length;Ae<U;Ae++)i=H[Ae],Y.writeUInt16(i);for(ke=0,ce=u.length;ke<ce;ke++)o=u[ke],Y.writeUInt16(o);for(ot=0,_e=O.length;ot<_e;ot++)L=O[ot],Y.writeUInt16(L);for(Dt=0,Z=p.length;Dt<Z;Dt++)E=p[Dt],Y.writeUInt16(E);return{charMap:r,subtable:Y.data,maxGlyphID:T+1}}},t})(),MF=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new uL(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=uL.encode(e,n),(i=new _d).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),Fge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Oge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Bge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,u;for(u=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)u.push(e.readUInt32());return u}).call(this)}},t})(),Uge=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},jge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,u,l,d,f,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(u={},s=d=0,f=r.length;d<f;s=++d)i=r[s],e.pos=i.offset,l=e.readString(i.length),a=new Uge(l,i),u[m=i.nameID]==null&&(u[m]=[]),u[i.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t})(),zge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Hge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,u;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var l,d;for(d=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)d.push(e.readInt16());return d})(),this.widths=(function(){var l,d,f,m;for(m=[],l=0,d=(f=this.metrics).length;l<d;l++)s=f[l],m.push(s.advance);return m}).call(this),r=this.widths[this.widths.length-1],u=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)u.push(this.widths.push(r));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),PF=[].slice,Vge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,u,l,d,f;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new _d(n.read(i))).readShort(),l=o.readShort(),f=o.readShort(),u=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new Gge(o,l,f,u,d):new Wge(o,a,l,f,u,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,u;for(a=[],s=[],o=0,u=n.length;o<u;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t})(),Wge=(function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Gge=(function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new _d(PF.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),qge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,Su),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],u=this.offsets[a+1]-o;u>0&&(i+=u)}for(var l=new Array(4*r.length),d=0;d<r.length;++d)l[4*d+3]=255&r[d],l[4*d+2]=(65280&r[d])>>8,l[4*d+1]=(16711680&r[d])>>16,l[4*d]=(4278190080&r[d])>>24;return l},t})(),$ge=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,u;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in u=this.glyphsFor(n))r=u[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,u,l,d,f,m,p,_,E,y,v;for(i in r=MF.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},v=r.charMap)p[(u=v[i]).old]=u.new;for(_ in m=r.maxGlyphID,a)_ in p||(p[_]=m++);return d=(function(S){var T,L;for(T in L={},S)L[S[T]]=T;return L})(p),f=Object.keys(d).sort(function(S,T){return S-T}),E=(function(){var S,T,L;for(L=[],S=0,T=f.length;S<T;S++)o=f[S],L.push(d[o]);return L})(),s=this.font.glyf.encode(a,E,p),l=this.font.loca.encode(s.offsets,E),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t})();Sn.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+(function(){var o,u,l;for(l=[],o=0,u=n.length;o<u;o++)r=n[o],l.push(e.convert(r));return l})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e})();function Kge(){const t=jk(),e=zk(t),n=new Sn({unit:"pt",format:"a4"});n.setFont("courier","normal"),n.setFontSize(11);const r=40,i=n.internal.pageSize.getWidth(),s=n.internal.pageSize.getHeight(),a=i-r*2,o=14;let u=r;const l=e.split(`
`);for(const d of l){const f=n.splitTextToSize(d||" ",a);for(const m of f)u>s-r&&(n.addPage(),u=r),n.text(m,r,u),u+=o}n.save("CV.pdf")}function Yge(){const[t,e]=ne.useState(null);return b.jsxs("div",{className:"flex flex-col items-center gap-2",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[b.jsx("button",{type:"button",onClick:async()=>{try{await s0e(),e(null)}catch(n){e(n instanceof Error?n.message:"Failed to generate CV.")}},className:"inline-flex items-center gap-2 rounded-full border border-[var(--border)] bg-[var(--surface)] px-5 py-2 text-sm text-[var(--text)] hover:border-accent/40 hover:bg-[var(--surface-strong)] transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]",children:"Download CV (Markdown)"}),b.jsx("button",{type:"button",onClick:()=>{try{Kge(),e(null)}catch(n){e(n instanceof Error?n.message:"Failed to generate PDF.")}},className:"inline-flex items-center gap-2 rounded-full border border-[var(--border)] bg-[var(--surface)] px-5 py-2 text-sm text-[var(--text)] hover:border-accent/40 hover:bg-[var(--surface-strong)] transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--bg)]",children:"Download CV (PDF)"})]}),t?b.jsx("span",{className:"text-xs text-red-300",role:"status","aria-live":"polite",children:t}):null]})}const Vm="en",Xge=300*1e3,fw=new Map;function mve(t){fw.clear()}async function RF(t){const{data:e,error:n}=await Hn.from(t).select("id,order_index").order("order_index",{ascending:!0});return n?(console.error(`getAbout failed to load ${t}`),[]):e??[]}async function __(t,e){const{data:n,error:r}=await Hn.from(t).select("*").eq("language",e);return r?(console.error(`getAbout failed to load ${t} translations`),[]):n??[]}async function Q1(t,e,n,r,i){const[s,a,o]=await Promise.all([RF(t),__(e,i),i===Vm?Promise.resolve([]):__(e,Vm)]),u=new Map;for(const l of o){const d=l[n],f=l[r];d&&f&&u.set(d,f)}for(const l of a){const d=l[n],f=l[r];d&&f&&u.set(d,f)}return s.map(l=>u.get(l.id)).filter(l=>!!l)}async function Zge(t){const[e,n,r]=await Promise.all([RF("about_languages"),__("about_language_translations",t),t===Vm?Promise.resolve([]):__("about_language_translations",Vm)]),i=new Map;for(const s of r)i.set(s.about_language_id,{name:s.name,level:s.level});for(const s of n)i.set(s.about_language_id,{name:s.name,level:s.level});return e.map(s=>i.get(s.id)).filter(s=>!!s?.name)}async function Jge(t=Vm){const e=Date.now(),n=fw.get(t);if(n&&e-n.fetchedAt<Xge)return n.data;const[r,i,s,a,o]=await Promise.all([Q1("about_professional_journey","about_professional_journey_translations","journey_id","text",t),Q1("about_philosophy","about_philosophy_translations","philosophy_id","text",t),Q1("about_toolbox_items","about_toolbox_translations","toolbox_item_id","label",t),Q1("about_key_results","about_key_result_translations","key_result_id","summary",t),Zge(t)]),u={professionalJourney:r,philosophy:i,toolbox:s,keyResults:a.map(l=>({summary:l})),languages:o};return fw.set(t,{data:u,fetchedAt:e}),u}const Qge=300*1e3,pw=new Map;function gve(t){{pw.delete(t);return}}async function e1e(t){const e=Date.now(),n=pw.get(t);if(n&&e-n.fetchedAt<Qge)return n.data;const{data:r,error:i}=await Hn.from("site_assets").select("*").eq("key",t).maybeSingle();return i?(console.error(`getSiteAsset failed to load ${t}`,i),null):(pw.set(t,{data:r??null,fetchedAt:e}),r??null)}function t1e(){const n=!Oi(),[r,i]=ne.useState(!1),{t:s,language:a}=Hr(),[o,u]=ne.useState({professionalJourney:[],philosophy:[],toolbox:[],keyResults:[],languages:[]}),[l,d]=ne.useState(nv.portrait),[f,m]=ne.useState(!0),[p,_]=ne.useState(null);return ne.useEffect(()=>{let E=!0;return m(!0),_(null),Jge(a).then(y=>{E&&u(y)}).catch(()=>{E&&_("about.fallback.error")}).finally(()=>{E&&m(!1)}),e1e("about_portrait").then(y=>{E&&d(y?.url??nv.portrait)}).catch(()=>{E&&d(nv.portrait)}),()=>{E=!1}},[a]),b.jsxs(b.Fragment,{children:[b.jsx(Ipe,{enabled:!1}),b.jsx(a2,{}),b.jsx(Fpe,{}),b.jsxs(po,{ariaLabel:s("pages.about.ariaLabel"),children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-accent/5 to-transparent pointer-events-none","aria-hidden":"true"}),b.jsx(i2,{icon:A_,title:b.jsx(At,{translationKey:"pages.about.title",shimmerWidth:"150px"}),subtitle:b.jsx(At,{translationKey:"pages.about.subtitle",as:"span",shimmerWidth:"400px"})}),b.jsxs("div",{className:"space-y-[var(--space-64)]",children:[b.jsx(Cpe,{professionalJourney:o.professionalJourney,philosophy:o.philosophy,toolbox:o.toolbox,languages:o.languages,portraitUrl:l??void 0,isLoading:f}),b.jsx(Mpe,{items:o.keyResults,isLoading:f}),b.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-accent/30 to-transparent"}),b.jsx(zpe,{}),b.jsx(qpe,{}),b.jsx(Ype,{}),b.jsxs(zs,{className:"flex flex-col items-center gap-[var(--space-16)] text-center",children:[b.jsx("h2",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)] font-display text-balance",children:b.jsx(At,{translationKey:"hero.downloadCV",shimmerWidth:"140px"})}),b.jsx(Yge,{})]})]})]}),b.jsx(Ppe,{}),b.jsx(Rpe,{}),b.jsx(kpe,{enabled:r}),p?b.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-[var(--surface-strong)] border border-[var(--border)] text-[var(--text-muted)] px-4 py-2 rounded-full text-[length:var(--font-100)] shadow-[0_12px_30px_rgba(0,0,0,0.35)]",role:"status","aria-live":"polite",children:s(p)}):null,n?null:b.jsx("style",{children:`
          * { animation-duration: 0s !important; transition-duration: 0s !important; }
        `}),null]})}function n1e({projects:t}){return!t||t.length===0?b.jsx("div",{className:"text-center text-[var(--text-muted)] text-[length:var(--font-300)] py-[var(--space-48)]",children:b.jsx(At,{translationKey:"projects.none",as:"span",shimmerWidth:"150px"})}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-[var(--space-24)]",children:t.map((e,n)=>b.jsx(sI,{title:e.title,description:e.description,image:e.image||"",tags:e.tags,liveUrl:e.live_url||void 0,githubUrl:e.github_url||void 0},e.id||n))})}function ev({className:t,"aria-label":e,width:n="100%",height:r="1rem",rounded:i="md",animation:s="shimmer"}){const a=i?`rounded-${i}`:"rounded-md";return b.jsx("div",{className:Rp("bg-white/5 relative overflow-hidden",s==="pulse"&&"animate-pulse",s==="shimmer"&&"shimmer",a,t),style:{width:typeof n=="number"?`${n}px`:n,height:typeof r=="number"?`${r}px`:r},"aria-hidden":"true","aria-label":e})}function r1e({imageHeight:t="12rem",titleWidth:e="75%",descriptionLines:n=2,tagCount:r=3}){return b.jsxs("div",{className:"space-y-4",children:[b.jsx(ev,{width:"100%",height:t,rounded:"lg","aria-label":"Loading image"}),b.jsx(ev,{width:e,height:"2rem",rounded:"md","aria-label":"Loading title"}),b.jsx("div",{className:"space-y-2",children:Array.from({length:n}).map((i,s)=>b.jsx(ev,{width:s===n-1?"80%":"100%",height:"1rem",rounded:"sm","aria-label":`Loading description line ${s+1}`},s))}),b.jsx("div",{className:"flex gap-2",children:Array.from({length:r}).map((i,s)=>b.jsx(ev,{width:`${s%2===0?16:20}ch`,height:"1.5rem",rounded:"full","aria-label":"Loading tag"},s))})]})}function i1e({cardCount:t=4,gridCols:e=2}){return b.jsx("div",{className:`grid grid-cols-1 md:grid-cols-${e} gap-8`,children:Array.from({length:t}).map((n,r)=>b.jsx(r1e,{},r))})}function s1e(){const{t}=Hr(),{projects:e,isLoading:n,error:r}=kk(),{isFeatureEnabled:i}=wd();return i("work_section")?r?b.jsx(po,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)] mb-[var(--space-16)]",children:t("error")}),b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-200)]",children:r})]})})}):b.jsxs(po,{children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-blue-400/5 to-transparent"}),b.jsx(i2,{icon:Rh,title:b.jsx(At,{translationKey:"pages.work.title",shimmerWidth:"150px"}),subtitle:b.jsx(At,{translationKey:"pages.work.subtitle",as:"span",shimmerWidth:"400px"})}),n?b.jsx(i1e,{}):b.jsx(n1e,{projects:e})]}):b.jsx(po,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(Rh,{className:"h-[var(--space-64)] w-[var(--space-64)] text-[var(--text-muted)] mx-auto mb-[var(--space-16)]"}),b.jsx("h2",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)] mb-[var(--space-16)]",children:b.jsx(At,{translationKey:"pages.sectionUnavailable.title",as:"span",shimmerWidth:"200px"})}),b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-200)]",children:b.jsx(At,{translationKey:"pages.sectionUnavailable.message",as:"span",shimmerWidth:"350px"})})]})})})}function a1e({blogPosts:t}){const e=n=>({id:n.id,title:n.title,slug:n.slug,excerpt:n.excerpt,content:n.content,image:n.image,created_at:n.created_at,read_time:n.read_time});return!t||t.length===0?b.jsx("div",{className:"text-center py-[var(--space-64)]",children:b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-300)]",children:b.jsx(At,{translationKey:"blog.empty",as:"span",shimmerWidth:"200px"})})}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[var(--space-24)]",children:t.map(n=>b.jsx(lS,{...e(n)},n.id))})}function o1e(){const{t,language:e}=Hr(),{blogPosts:n,isLoading:r,error:i}=z_(e),{isFeatureEnabled:s}=wd();return s("blog_section")?r?b.jsx(po,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsx(kh,{})})}):i?b.jsx(po,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h2",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)] mb-[var(--space-16)]",children:t("error")}),b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-200)]",children:i})]})})}):b.jsxs(po,{children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-blue-400/5 to-transparent"}),b.jsx(i2,{icon:dp,title:b.jsx(At,{translationKey:"pages.blog.title",shimmerWidth:"100px"}),subtitle:b.jsx(At,{translationKey:"pages.blog.subtitle",as:"span",shimmerWidth:"400px"})}),b.jsx(a1e,{blogPosts:n})]}):b.jsx(po,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx(dp,{className:"h-[var(--space-64)] w-[var(--space-64)] text-[var(--text-muted)] mx-auto mb-[var(--space-16)]"}),b.jsx("h2",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)] mb-[var(--space-16)]",children:b.jsx(At,{translationKey:"blog.unavailableTitle",as:"span",shimmerWidth:"200px"})}),b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-200)]",children:b.jsx(At,{translationKey:"blog.unavailableBody",as:"span",shimmerWidth:"300px"})})]})})})}function u1e({headings:t,className:e=""}){const{t:n}=Hr(),[r,i]=ne.useState(""),[s,a]=ne.useState(!1),o=ne.useRef(new Map),u=ne.useRef(null);ne.useEffect(()=>{if(!r)return;const d=o.current.get(r),f=u.current;if(d&&f){const m=window.matchMedia("(prefers-reduced-motion: reduce)").matches;requestAnimationFrame(()=>{const p=f.getBoundingClientRect(),_=d.getBoundingClientRect(),E=f.scrollTop,y=_.top-p.top,v=E+y-p.height/2+_.height/2;f.scrollTo({top:v,behavior:m?"auto":"smooth"})})}},[r]),ne.useEffect(()=>{if(t.length===0)return;let d=null,f=null,m=0;const p=3,_=()=>{const E=t.map(v=>{let S=document.getElementById(v.id);if(!S){const T=document.querySelectorAll("h1, h2, h3, h4, h5, h6");for(const L of T)if(L.textContent?.trim()===v.text){S=L;break}}return{...v,actualId:S?.id||v.id,element:S}}),y=E.filter(v=>!v.element);if(y.length>0&&m<p){console.warn(`TOC: ${y.length} headings not yet in DOM, retry ${m+1}/${p}`),m++,setTimeout(_,100*Math.pow(2,m));return}d=new IntersectionObserver(v=>{const S=v.filter(T=>T.isIntersecting).sort((T,L)=>T.boundingClientRect.top-L.boundingClientRect.top);if(S.length>0){const T=S[0].target.id;T&&i(T)}},{rootMargin:"-64px 0px -60% 0px",threshold:[0,.25,.5,.75,1]}),E.forEach(v=>{v.element&&d?.observe(v.element)})};return f=new MutationObserver(()=>{t.every(E=>document.getElementById(E.id)||Array.from(document.querySelectorAll("h1, h2, h3, h4, h5, h6")).some(y=>y.textContent?.trim()===E.text))&&(f?.disconnect(),_())}),f.observe(document.body,{childList:!0,subtree:!0}),_(),()=>{d?.disconnect(),f?.disconnect()}},[t]);const l=(d,f)=>{d.preventDefault();let m=document.getElementById(f);if(!m){const p=t.find(_=>_.id===f);if(p){const _=document.querySelectorAll("h1, h2, h3, h4, h5, h6");for(const E of _)if(E.textContent?.trim()===p.text){m=E;break}}}if(!m){console.error(`TOC: Heading element #${f} not found in DOM`);return}requestAnimationFrame(()=>{const E=m.getBoundingClientRect().top+window.pageYOffset-80,y=window.matchMedia("(prefers-reduced-motion: reduce)").matches;window.scrollTo({top:E,behavior:y?"auto":"smooth"}),i(m.id)})};return t.length===0?null:b.jsxs("nav",{className:`bg-[var(--surface)] rounded-[var(--radius-md)] border border-[var(--border)] ${e}`,"aria-label":n("aria.tableOfContents"),children:[b.jsxs("button",{onClick:()=>a(!s),className:"lg:hidden w-full flex items-center justify-between p-[var(--space-16)] text-[var(--text)] font-semibold text-[length:var(--font-100)] hover:bg-[var(--surface-strong)] transition-colors","aria-expanded":s,"aria-controls":"toc-content",children:[b.jsx(At,{translationKey:"blog.toc.title",as:"span",shimmerWidth:"120px"}),b.jsx(ww,{className:`h-[var(--space-16)] w-[var(--space-16)] transition-transform duration-200 ${s?"rotate-180":""}`,"aria-hidden":"true"})]}),b.jsx("div",{className:"hidden lg:block p-[var(--space-16)] pb-[var(--space-8)]",children:b.jsx("h3",{className:"text-[var(--text)] font-semibold text-[length:var(--font-100)]",children:b.jsx(At,{translationKey:"blog.toc.title",as:"span",shimmerWidth:"120px"})})}),b.jsx("div",{id:"toc-content",ref:u,className:`
          overflow-y-auto overflow-x-hidden
          ${s?"block":"hidden"} lg:block
          lg:max-h-[calc(100vh-12rem)]
          max-h-[50vh]
          scrollbar-thin
        `,style:{scrollbarWidth:"thin",scrollbarColor:"rgba(237, 252, 58, 0.3) transparent"},children:b.jsx("div",{className:"stack p-[var(--space-16)] pt-[var(--space-8)] [--stack-space:var(--space-4)]",children:t.map(d=>{let f=d.id;const m=document.getElementById(d.id);if(m)f=m.id;else{const E=document.querySelectorAll("h1, h2, h3, h4, h5, h6");for(const y of E)if(y.textContent?.trim()===d.text){f=y.id;break}}const p=r===f,_=d.depth===3;return b.jsx("a",{ref:E=>{E?o.current.set(f,E):o.current.delete(f)},href:`#${f}`,onClick:E=>l(E,f),"aria-current":p?"true":void 0,className:`
                  block text-[length:var(--font-100)] transition-all duration-200 px-[var(--space-12)] py-[var(--space-8)] rounded-[var(--radius-sm)]
                  focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-[var(--bg)]
                  ${_?"ml-[var(--space-16)] pl-[var(--space-16)] border-l-2 border-[var(--border)]":""}
                  ${p?"text-accent font-medium bg-accent/10 border-l-accent":"text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-strong)]"}
                `,children:d.text},d.id)})})})]})}function l1e({className:t=""}){const[e,n]=ne.useState(0);return ne.useEffect(()=>{const r=()=>{const i=window.scrollY,s=document.documentElement.scrollHeight-window.innerHeight,a=i/s*100;n(Math.min(100,Math.max(0,a)))};return window.addEventListener("scroll",r),r(),()=>window.removeEventListener("scroll",r)},[]),b.jsx("div",{className:`fixed top-0 left-0 w-full h-[var(--space-2)] bg-transparent z-50 ${t}`,children:b.jsx("div",{className:"h-full bg-gradient-to-r from-accent to-accent-strong transition-all duration-150 ease-out",style:{width:`${e}%`}})})}function c1e({title:t,url:e,className:n=""}){const{t:r}=Hr(),[i,s]=ne.useState(!1),[a,o]=ne.useState(!1),u=async()=>{if(navigator.share)try{await navigator.share({title:t,text:r("share.checkOutArticle").replace("{title}",t),url:e}),s(!1)}catch(m){console.log("Error sharing:",m)}},l=async()=>{try{await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3),s(!1)}catch(m){console.log("Error copying:",m)}},d=()=>{const m=`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(e)}`;window.open(m,"_blank","width=600,height=400"),s(!1)},f=()=>{const m=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`;window.open(m,"_blank","width=600,height=400"),s(!1)};return b.jsxs("div",{className:`relative ${n}`,children:[b.jsxs("button",{onClick:()=>s(!i),className:"inline-flex items-center gap-[var(--space-8)] text-[var(--text-muted)] hover:text-accent transition-colors text-[length:var(--font-100)]",title:r("share.title"),children:[b.jsx(JT,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx("span",{children:r("share.share")})]}),i&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),b.jsx("div",{className:"absolute top-full left-0 mt-[var(--space-8)] bg-[var(--surface)] backdrop-blur-sm rounded-[var(--radius-md)] border border-[var(--border)] p-[var(--space-8)] z-20 min-w-[12rem]",children:b.jsxs("div",{className:"stack [--stack-space:var(--space-4)]",children:[navigator.share&&b.jsxs("button",{onClick:u,className:"w-full flex items-center gap-[var(--space-12)] px-[var(--space-12)] py-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-strong)] rounded-[var(--radius-sm)] transition-colors",children:[b.jsx(JT,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx("span",{children:r("share.share")})]}),b.jsxs("button",{onClick:d,className:"w-full flex items-center gap-[var(--space-12)] px-[var(--space-12)] py-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-strong)] rounded-[var(--radius-sm)] transition-colors",children:[b.jsx($B,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx("span",{children:r("share.twitter")})]}),b.jsxs("button",{onClick:f,className:"w-full flex items-center gap-[var(--space-12)] px-[var(--space-12)] py-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-strong)] rounded-[var(--radius-sm)] transition-colors",children:[b.jsx(WL,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx("span",{children:r("share.linkedin")})]}),b.jsxs("button",{onClick:l,className:"w-full flex items-center gap-[var(--space-12)] px-[var(--space-12)] py-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface-strong)] rounded-[var(--radius-sm)] transition-colors",children:[a?b.jsx(OL,{className:"h-[var(--space-16)] w-[var(--space-16)] text-green-400"}):b.jsx(BL,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx("span",{children:r(a?"share.copied":"share.copyLink")})]})]})})]})]})}function d1e(t){if(!t)return[];const e=[],n=i=>Array.isArray(i.children);function r(i){if(i.type==="heading"){const s=i;if(s.depth<2||s.depth>3){n(s)&&s.children.forEach(r);return}const a=IF(s);if(!a){n(s)&&s.children.forEach(r);return}const o=h1e(a);e.push({id:o,depth:s.depth,text:a})}n(i)&&i.children.forEach(r)}return r(t),e}function IF(t){let e="";return t.type==="text"?t.value:("children"in t&&Array.isArray(t.children)&&(e=t.children.map(n=>IF(n)).join("")),e)}function h1e(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")}function f1e(t){const[e,n]=ne.useState([]),[r,i]=ne.useState(!1),[s,a]=ne.useState(null);return ne.useEffect(()=>{(async()=>{try{if(i(!0),a(null),!t){n([]);return}const u=await vpe(t),l=d1e(u);n(l)}catch(u){console.error("Error extracting TOC:",u),a(u instanceof Error?u.message:"Failed to extract table of contents"),n([])}finally{i(!1)}})()},[t]),{headings:e,isLoading:r,error:s}}function p1e(t,e,n){const r=new Date(t);if(Number.isNaN(r.getTime()))return e("blog.dateUnavailable");try{const i=n==="am"?"hy-AM":n;return new Intl.DateTimeFormat(i,{year:"numeric",month:"long",day:"numeric"}).format(r)}catch{return e("blog.dateUnavailable")}}function m1e(t,e,n=3){return e.filter(r=>r.id!==t).slice(0,n)}function g1e(){const{slug:t}=kO(),{t:e,language:n}=Hr(),{blogPosts:r,isLoading:i,error:s,refreshBlogPosts:a}=z_(n),[o,u]=ne.useState(!1),l=r.find(y=>y.slug===t),{headings:d}=f1e(l?.content||"");if(!t)return b.jsx(rb,{to:"..",relative:"path",replace:!0});if(i&&!l)return b.jsx(po,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsx(kh,{})})});if(s&&!l){const y=async()=>{u(!0);try{await a()}finally{u(!1)}};return b.jsx(po,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-[var(--space-64)] h-[var(--space-64)] rounded-full bg-red-500/10 text-red-400 mb-[var(--space-16)]",children:b.jsx(dp,{className:"h-[var(--space-32)] w-[var(--space-32)]"})}),b.jsx("h2",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)] mb-[var(--space-8)]",children:b.jsx(At,{translationKey:"blog.error.title",as:"span",shimmerWidth:"150px"})}),b.jsx("p",{className:"text-[var(--text-muted)] mb-[var(--space-8)] text-[length:var(--font-100)]",children:s}),b.jsx("p",{className:"text-[var(--text-muted)] mb-[var(--space-24)] text-[length:var(--font-100)]",children:b.jsx(At,{translationKey:"blog.error.description",as:"span",shimmerWidth:"300px"})}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-[var(--space-12)] justify-center",children:[b.jsxs("button",{onClick:y,disabled:o,className:"btn btn-primary inline-flex items-center gap-[var(--space-8)] disabled:opacity-50 disabled:cursor-not-allowed",children:[b.jsx(zB,{className:`h-[var(--space-16)] w-[var(--space-16)] ${o?"animate-spin":""}`}),o?b.jsx(At,{translationKey:"blog.error.retrying",shimmerWidth:"100px"}):b.jsx(At,{translationKey:"blog.error.retry",shimmerWidth:"80px"})]}),b.jsxs(hs,{to:"..",relative:"path",className:"btn btn-secondary inline-flex items-center gap-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)]",children:[b.jsx(tp,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx(At,{translationKey:"blog.back",shimmerWidth:"100px"})]})]})]})})})}if(!i&&!l)return b.jsx(po,{children:b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsxs("div",{className:"text-center max-w-md",children:[b.jsx(dp,{className:"h-[var(--space-64)] w-[var(--space-64)] text-[var(--text-muted)] mx-auto mb-[var(--space-16)]"}),b.jsx("h2",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)] mb-[var(--space-16)]",children:b.jsx(At,{translationKey:"blog.notFound.title",as:"span",shimmerWidth:"200px"})}),b.jsx("p",{className:"text-[var(--text-muted)] mb-[var(--space-24)] text-[length:var(--font-200)]",children:b.jsx(At,{translationKey:"blog.notFound.description",as:"span",shimmerWidth:"300px"})}),b.jsxs(hs,{to:"..",relative:"path",className:"btn btn-primary inline-flex items-center gap-[var(--space-8)]",children:[b.jsx(tp,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx(At,{translationKey:"blog.back",shimmerWidth:"100px"})]})]})})});if(!l)return b.jsx(rb,{to:"..",relative:"path",replace:!0});const f=typeof window<"u"?window.location.href:"",m=m1e(l.id,r),p=p1e(l.created_at,e,n),_=!!l.image,E=!!l.content;return b.jsxs(po,{className:"!overflow-visible",children:[b.jsx(l1e,{}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-blue-400/5 to-transparent"}),b.jsx("div",{className:"mb-[var(--space-32)]",children:b.jsxs(hs,{to:"..",relative:"path",className:"inline-flex items-center gap-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)] transition-colors group",children:[b.jsx(tp,{className:"h-[var(--space-16)] w-[var(--space-16)] group-hover:-translate-x-1 transition-transform"}),b.jsx(At,{translationKey:"blog.back",shimmerWidth:"100px"})]})}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-[var(--space-32)]",children:[b.jsxs("div",{className:"lg:col-span-3",children:[b.jsxs("div",{className:"text-center mb-[var(--space-48)]",children:[b.jsx("h1",{className:"text-[length:var(--font-800)] md:text-[length:var(--font-900)] font-semibold text-[var(--text)] mb-[var(--space-24)] leading-[var(--leading-tight)] tracking-[var(--tracking-tight)]",children:l.title}),b.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-[var(--space-24)] text-[var(--text-muted)] mb-[var(--space-32)]",children:[b.jsxs("div",{className:"flex items-center gap-[var(--space-8)]",children:[b.jsx(FL,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx("span",{children:p})]}),b.jsxs("div",{className:"flex items-center gap-[var(--space-8)]",children:[b.jsx(DB,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx("span",{children:l.read_time})]}),b.jsxs("div",{className:"flex items-center gap-[var(--space-8)]",children:[b.jsx(A_,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx(At,{translationKey:"author.name",as:"span",shimmerWidth:"100px"})]}),b.jsx(c1e,{title:l.title,url:f})]}),_&&b.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-[var(--radius-xl)] mb-[var(--space-32)] shadow-[var(--shadow-md)]",children:[b.jsx("img",{src:l.image||"",alt:l.title,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),b.jsx("div",{className:"text-[length:var(--font-400)] text-[var(--text-muted)] max-w-4xl mx-auto leading-[var(--leading-loose)]",children:b.jsx("p",{children:l.excerpt})})]}),b.jsx("article",{className:"prose prose-invert max-w-none mb-[var(--space-32)]",children:E?b.jsx(xp,{content:l.content||"",className:"prose-headings:text-[var(--text)] prose-headings:font-semibold prose-headings:tracking-[var(--tracking-tight)] prose-p:text-[var(--text-muted)] prose-li:text-[var(--text-muted)] prose-strong:text-[var(--text)] prose-code:text-accent prose-pre:bg-white/5 prose-blockquote:border-accent leading-[var(--leading-loose)]"}):b.jsxs("div",{className:"text-center py-[var(--space-64)]",children:[b.jsx(dp,{className:"h-[var(--space-64)] w-[var(--space-64)] text-[var(--text-muted)] mx-auto mb-[var(--space-16)]"}),b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-300)]",children:b.jsx(At,{translationKey:"blog.noContent",as:"span",shimmerWidth:"200px"})})]})}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-[var(--space-16)] pt-[var(--space-48)] mt-[var(--space-64)] border-t border-white/10",children:[b.jsxs(hs,{to:"..",relative:"path",className:"inline-flex items-center gap-[var(--space-8)] text-accent hover:text-[var(--text)] transition-colors group",children:[b.jsx(tp,{className:"h-[var(--space-16)] w-[var(--space-16)] group-hover:-translate-x-1 transition-transform"}),b.jsx(At,{translationKey:"blog.back",shimmerWidth:"100px"})]}),b.jsxs("div",{className:"text-[length:var(--font-100)] text-[var(--text-muted)]",children:[b.jsx(At,{translationKey:"blog.publishedOn",shimmerWidth:"120px"})," ",p]})]})]}),b.jsx("aside",{className:"lg:col-span-1","aria-label":"Table of contents sidebar",children:b.jsx("div",{className:"sticky top-24 self-start stack [--stack-space:var(--space-24)]",children:d.length>0&&b.jsx(u1e,{headings:d})})})]}),m.length>0&&b.jsxs("div",{className:"mt-[var(--space-64)]",children:[b.jsxs("div",{className:"text-center mb-[var(--space-48)]",children:[b.jsx("h2",{className:"text-[length:var(--font-700)] font-semibold text-[var(--text)] mb-[var(--space-16)]",children:b.jsx(At,{translationKey:"blog.related.title",as:"span",shimmerWidth:"200px"})}),b.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-300)]",children:b.jsx(At,{translationKey:"blog.related.subtitle",as:"span",shimmerWidth:"250px"})})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[var(--space-32)]",children:m.map(y=>b.jsx(lS,{id:y.id,title:y.title,slug:y.slug,excerpt:y.excerpt,content:y.content,image:y.image,created_at:y.created_at,read_time:y.read_time},y.id))})]})]})}class gg{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const v1e=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Us={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:v1e()},mS=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},_1e=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=mS(t);Us.publicKey=n.publicKey,Us.blockHeadless=n.blockHeadless,Us.storageProvider=n.storageProvider,Us.blockList=n.blockList,Us.limitRate=n.limitRate,Us.origin=n.origin||e},kF=async(t,e,n={})=>{const r=await fetch(Us.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),s=new gg(r.status,i);if(r.ok)return s;throw s},FF=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},y1e=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},OF=t=>t.webdriver||!t.languages||t.languages.length===0,BF=()=>new gg(451,"Unavailable For Headless Browser"),x1e=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},b1e=t=>!t.list?.length||!t.watchVariable,E1e=(t,e)=>t instanceof FormData?t.get(e):t[e],UF=(t,e)=>{if(b1e(t))return!1;x1e(t.list,t.watchVariable);const n=E1e(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},jF=()=>new gg(403,"Forbidden"),w1e=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},A1e=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},zF=async(t,e,n)=>{if(!e.throttle||!n)return!1;w1e(e.throttle,e.id);const r=e.id||t;return await A1e(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},HF=()=>new gg(429,"Too Many Requests"),S1e=async(t,e,n,r)=>{const i=mS(r),s=i.publicKey||Us.publicKey,a=i.blockHeadless||Us.blockHeadless,o=i.storageProvider||Us.storageProvider,u={...Us.blockList,...i.blockList},l={...Us.limitRate,...i.limitRate};return a&&OF(navigator)?Promise.reject(BF()):(FF(s,t,e),y1e(n),n&&UF(u,n)?Promise.reject(jF()):await zF(location.pathname,l,o)?Promise.reject(HF()):kF("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},T1e=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},D1e=t=>typeof t=="string"?document.querySelector(t):t,C1e=async(t,e,n,r)=>{const i=mS(r),s=i.publicKey||Us.publicKey,a=i.blockHeadless||Us.blockHeadless,o=Us.storageProvider||i.storageProvider,u={...Us.blockList,...i.blockList},l={...Us.limitRate,...i.limitRate};if(a&&OF(navigator))return Promise.reject(BF());const d=D1e(n);FF(s,t,e),T1e(d);const f=new FormData(d);return UF(u,f)?Promise.reject(jF()):await zF(location.pathname,l,o)?Promise.reject(HF()):(f.append("lib_version","4.4.1"),f.append("service_id",t),f.append("template_id",e),f.append("user_id",s),kF("/api/v1.0/email/send-form",f))},lL={init:_1e,send:S1e,sendForm:C1e,EmailJSResponseStatus:gg};function N1e({isOpen:t,onClose:e,message:n}){return b.jsx(J$,{children:t&&b.jsx(Xt.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-[var(--space-64)] right-[var(--space-16)] z-50",children:b.jsxs("div",{className:"bg-[var(--bg-elevated)] border border-accent/20 rounded-[var(--radius-md)] shadow-[var(--shadow-sm)] p-[var(--space-16)] flex items-start gap-[var(--space-12)] max-w-md",children:[b.jsx(AB,{className:"h-[var(--space-20)] w-[var(--space-20)] text-accent flex-shrink-0 mt-[var(--space-4)]"}),b.jsx("div",{className:"flex-1",children:b.jsx("p",{className:"text-[var(--text)] text-[length:var(--font-100)]",children:n})}),b.jsx("button",{onClick:e,className:"text-[var(--text-muted)] hover:text-[var(--text)] transition-colors","aria-label":"Close notification",children:b.jsx(Cw,{className:"h-[var(--space-20)] w-[var(--space-20)]"})})]})})})}const VF=Wi({from_name:Wt().min(1,"Name is required").max(100,"Name too long"),from_email:Wt().email("Invalid email address").max(255,"Email too long"),message:Wt().min(10,"Message must be at least 10 characters").max(2e3,"Message too long")}),L1e=VF.extend({status:zw(["new","read","replied","archived"]).optional()});function M1e(){const[t,e]=ne.useState(!1),[n,r]=ne.useState(null),i=ne.useCallback(async s=>{try{e(!0),r(null);const a=L1e.parse(s),{error:o}=await Hn.from("contact_submissions").insert(a);if(o)throw o}catch(a){throw console.error("Error creating contact submission:",a),r(a instanceof Error?a.message:"Failed to save contact submission"),a}finally{e(!1)}},[]);return{isLoading:t,error:n,createSubmission:i}}function P1e(){const[t,e]=ne.useState(!1),[n,r]=ne.useState(""),[i,s]=ne.useState(!1),[a,o]=ne.useState({}),{t:u}=Hr(),l=M1e(),d=ne.useRef(null);ne.useEffect(()=>{lL.init("jAUnep12KdGWp6a-W")},[]);const f=[{id:"from_name",label:u("contact.name"),type:"text"},{id:"from_email",label:u("contact.email"),type:"email"},{id:"message",label:u("contact.message"),type:"text",isTextArea:!0}],m=async p=>{p.preventDefault(),s(!0),o({});const _=new FormData(p.currentTarget),E={from_name:_.get("from_name"),from_email:_.get("from_email"),message:_.get("message")};try{const y=VF.parse(E),v=await lL.sendForm("service_cphipqq","template_nfqpjze",p.currentTarget,"jAUnep12KdGWp6a-W");try{await l.createSubmission({from_name:y.from_name,from_email:y.from_email,message:y.message,status:"new"})}catch(S){console.warn("Failed to log contact submission to database:",S)}if(v.text==="OK")r(u("contact.successMessage")),d.current?.reset();else throw new Error("Failed to send email")}catch(y){if(console.error("Failed to send email:",y),y instanceof Error&&"issues"in y){const v={};y.issues.forEach(S=>{v[S.path[0]]=S.message}),o(v),r(u("contact.validationError"))}else r(u("contact.errorMessage"))}finally{e(!0),s(!1)}};return b.jsxs(b.Fragment,{children:[b.jsx(zs,{children:b.jsxs("form",{ref:d,className:"stack",style:{"--stack-space":"var(--space-16)"},onSubmit:m,children:[f.map(({id:p,label:_,type:E,isTextArea:y})=>b.jsxs("div",{children:[b.jsx("label",{htmlFor:p,className:"form-label",children:_}),y?b.jsx("textarea",{id:p,name:p,rows:4,required:!0,disabled:i,className:`field ${a[p]?"border-red-500":"border-[var(--border)]"}`}):b.jsx("input",{type:E,id:p,name:p,required:!0,disabled:i,className:`field ${a[p]?"border-red-500":"border-[var(--border)]"}`}),a[p]&&b.jsx("p",{className:"text-red-400 text-[length:var(--font-200)] mt-[var(--space-4)]",children:a[p]})]},p)),b.jsxs("button",{type:"submit",disabled:i,className:`w-full inline-flex items-center justify-center gap-[var(--space-8)] bg-accent 
                     text-black px-[var(--space-24)] py-[var(--space-12)] min-h-[var(--size-tap)] rounded-[var(--radius-md)] text-[length:var(--font-200)] font-medium hover:bg-accent-strong 
                     transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed`,children:[b.jsx(VB,{className:"h-5 w-5"}),u(i?"contact.sending":"contact.sendMessage")]})]})}),b.jsx(N1e,{isOpen:t,onClose:()=>e(!1),message:n})]})}function R1e(){const{t}=Hr(),e=[{icon:w_,label:t("contact.email"),value:"gorpapyan2@gmail.com",href:"mailto:gorpapyan2@gmail.com"},{icon:GL,label:t("contact.phone"),value:"+374 (98) 500-501",href:"tel:+37498500501"},{icon:Dw,label:t("contact.location"),value:"Armenia Kapan, Syunik"}];return b.jsxs(zs,{className:"stack [--stack-space:var(--space-24)]",children:[b.jsx("h2",{className:"text-[length:var(--font-500)] font-semibold text-[var(--text)]",children:b.jsx(At,{translationKey:"contact.getInTouch",as:"span",shimmerWidth:"150px"})}),b.jsx("div",{className:"stack [--stack-space:var(--space-24)]",children:e.map(({icon:n,label:r,value:i,href:s})=>b.jsxs("div",{className:"flex items-start gap-[var(--space-16)]",children:[b.jsx("div",{className:"icon-circle",children:b.jsx(n,{className:"h-[var(--space-16)] w-[var(--space-16)] text-accent"})}),b.jsxs("div",{children:[b.jsx("div",{className:"text-[length:var(--font-100)] text-[var(--text-muted)]",children:r}),s?b.jsx("a",{href:s,className:"text-[var(--text)] hover:text-accent transition-colors",children:i}):b.jsx("div",{className:"text-[var(--text)]",children:i})]})]},r))})]})}function I1e(){return b.jsxs(po,{children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-blue-400/5 to-transparent"}),b.jsx(i2,{icon:w_,title:b.jsx(At,{translationKey:"pages.contact.title",shimmerWidth:"150px"}),subtitle:b.jsx(At,{translationKey:"pages.contact.subtitle",as:"span",shimmerWidth:"300px"})}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-[var(--space-32)]",children:[b.jsx(R1e,{}),b.jsx(P1e,{})]})]})}function gS({children:t}){const e=qv(0),n=qv(0),r=hD(e,{stiffness:60,damping:15}),i=hD(n,{stiffness:60,damping:15}),s=lD(r,o=>`translateX(${o}px)`),a=lD(i,o=>`translateY(${o}px)`);return ne.useEffect(()=>{const o=l=>{const{innerWidth:d,innerHeight:f}=window;e.set((l.clientX/d-.5)*8),n.set((l.clientY/f-.5)*8)};return window.matchMedia("(prefers-reduced-motion: reduce)").matches||window.addEventListener("mousemove",o),()=>window.removeEventListener("mousemove",o)},[e,n]),b.jsx(Xt.div,{style:{transform:`${s} ${a}`},className:"bg-grid min-h-screen",children:b.jsx("div",{className:"relative z-10",children:t})})}function k1e(){const[t,e]=ne.useState(""),[n,r]=ne.useState(""),[i,s]=ne.useState(!1),[a,o]=ne.useState(!1),[u,l]=ne.useState(null),{signIn:d}=tg(),{t:f}=Hr(),m=bw(),p=async _=>{_.preventDefault(),l(null),o(!0);try{await d(t,n),m("/admin/dashboard")}catch(E){l(E instanceof Error?E.message:"Login failed")}finally{o(!1)}};return b.jsxs(gS,{children:[b.jsx(a2,{}),b.jsx("div",{className:"flex items-center justify-center p-4",children:b.jsxs(zs,{className:"w-full max-w-md relative z-10",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"inline-flex p-3 rounded-lg bg-[var(--surface)] text-accent mb-4",children:b.jsx(ZT,{className:"h-8 w-8"})}),b.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:b.jsx(At,{translationKey:"admin.login.title",as:"span",shimmerWidth:"150px"})}),b.jsx("p",{className:"text-gray-400",children:b.jsx(At,{translationKey:"admin.login.subtitle",as:"span",shimmerWidth:"300px"})})]}),b.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u&&b.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:b.jsx("p",{className:"text-red-400 text-sm",children:u})}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"form-label",children:b.jsx(At,{translationKey:"admin.login.emailLabel",as:"span",shimmerWidth:"120px"})}),b.jsx("input",{id:"email",type:"email",value:t,onChange:_=>e(_.target.value),className:"field",placeholder:f("admin.login.emailPlaceholder"),required:!0,disabled:a})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"form-label",children:b.jsx(At,{translationKey:"admin.login.passwordLabel",as:"span",shimmerWidth:"80px"})}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{id:"password",type:i?"text":"password",value:n,onChange:_=>r(_.target.value),className:"field pr-10",placeholder:f("admin.login.passwordPlaceholder"),required:!0,disabled:a}),b.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:a,children:i?b.jsx(LB,{className:"h-4 w-4"}):b.jsx(MB,{className:"h-4 w-4"})})]})]}),b.jsx("button",{type:"submit",disabled:a,className:"w-full inline-flex items-center justify-center gap-[var(--space-8)] px-[var(--space-16)] py-[var(--space-12)] min-h-[var(--size-tap)] bg-accent text-accent-ink rounded-[var(--radius-md)] text-[length:var(--font-200)] font-medium hover:bg-accent-strong transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-black border-t-transparent"}),b.jsx(At,{translationKey:"admin.login.signingIn",as:"span",shimmerWidth:"120px"})]}):b.jsxs(b.Fragment,{children:[b.jsx(ZT,{className:"h-4 w-4"}),b.jsx(At,{translationKey:"admin.login.signIn",as:"span",shimmerWidth:"80px"})]})})]}),b.jsx("div",{className:"mt-6 text-center",children:b.jsx("button",{onClick:()=>m("/"),className:"text-gray-400 hover:text-white transition-colors text-sm",disabled:a,children:b.jsx(At,{translationKey:"admin.login.backToPortfolio",as:"span",shimmerWidth:"180px"})})})]})})]})}const F1e=ne.lazy(()=>fe(()=>import("./BlogAdmin-CKKDmkzb.js"),__vite__mapDeps([93,94,95,96,97,98])).then(t=>({default:t.BlogAdmin}))),O1e=ne.lazy(()=>fe(()=>import("./ProjectAdmin-Y15EQNlx.js"),__vite__mapDeps([99,94,95,96,98])).then(t=>({default:t.ProjectAdmin}))),B1e=ne.lazy(()=>fe(()=>import("./TranslationManager-CrmxGOJv.js"),__vite__mapDeps([100,94,101,97,98,96])).then(t=>({default:t.TranslationManager}))),U1e=ne.lazy(()=>fe(()=>import("./ExperienceAdmin-CEETkaUJ.js"),__vite__mapDeps([102,94,98])).then(t=>({default:t.ExperienceAdmin}))),j1e=ne.lazy(()=>fe(()=>import("./EducationAdmin-BCzq3IYE.js"),__vite__mapDeps([103,94,98])).then(t=>({default:t.EducationAdmin}))),z1e=ne.lazy(()=>fe(()=>import("./SkillsAdmin-BkoKn5GO.js"),__vite__mapDeps([104,94,98])).then(t=>({default:t.SkillsAdmin}))),H1e=ne.lazy(()=>fe(()=>import("./FeatureFlagAdmin-BA7BFdVe.js"),__vite__mapDeps([105,94,101])).then(t=>({default:t.FeatureFlagAdmin}))),V1e=ne.lazy(()=>fe(()=>import("./AboutContentAdmin-CPt_a1qN.js"),__vite__mapDeps([106,94,95,96])).then(t=>({default:t.AboutContentAdmin}))),W1e=ne.lazy(()=>fe(()=>import("./TechnologyAdmin-CwJTaTfb.js"),__vite__mapDeps([107,94,98])).then(t=>({default:t.TechnologyAdmin}))),G1e={blog:()=>fe(()=>import("./BlogAdmin-CKKDmkzb.js"),__vite__mapDeps([93,94,95,96,97,98])),projects:()=>fe(()=>import("./ProjectAdmin-Y15EQNlx.js"),__vite__mapDeps([99,94,95,96,98])),translations:()=>fe(()=>import("./TranslationManager-CrmxGOJv.js"),__vite__mapDeps([100,94,101,97,98,96])),about:()=>fe(()=>import("./AboutContentAdmin-CPt_a1qN.js"),__vite__mapDeps([106,94,95,96])),experiences:()=>fe(()=>import("./ExperienceAdmin-CEETkaUJ.js"),__vite__mapDeps([102,94,98])),education:()=>fe(()=>import("./EducationAdmin-BCzq3IYE.js"),__vite__mapDeps([103,94,98])),skills:()=>fe(()=>import("./SkillsAdmin-BkoKn5GO.js"),__vite__mapDeps([104,94,98])),"feature-flags":()=>fe(()=>import("./FeatureFlagAdmin-BA7BFdVe.js"),__vite__mapDeps([105,94,101])),technologies:()=>fe(()=>import("./TechnologyAdmin-CwJTaTfb.js"),__vite__mapDeps([107,94,98]))},cL=[{id:"blog",labelKey:"admin.dashboard.section.blog",icon:PB},{id:"projects",labelKey:"admin.dashboard.section.projects",icon:IB},{id:"translations",labelKey:"admin.dashboard.section.translations",icon:Sw},{id:"about",labelKey:"admin.dashboard.section.about",icon:A_},{id:"experiences",labelKey:"admin.dashboard.section.experiences",icon:Rh},{id:"education",labelKey:"admin.dashboard.section.education",icon:Aw},{id:"skills",labelKey:"admin.dashboard.section.skills",icon:E_},{id:"technologies",labelKey:"technologies.title",icon:CB},{id:"feature-flags",labelKey:"admin.dashboard.section.featureFlags",icon:RB}];function q1e(){const[t,e]=ne.useState("blog"),[n,r]=ne.useState(null),i=ne.useRef(null),{user:s,signOut:a}=tg(),{t:o}=Hr(),u=f=>{if(f===t)return;i.current&&(window.clearTimeout(i.current),i.current=null),r(f);const m=G1e[f]?.();if(!m){r(null);return}m.finally(()=>{i.current=window.setTimeout(()=>{r(null),i.current=null},800)})};ne.useEffect(()=>()=>{i.current&&window.clearTimeout(i.current)},[]);const l=async()=>{try{await a()}catch(f){console.error("Error signing out:",f)}},d=()=>{switch(t){case"blog":return b.jsx(F1e,{onClose:()=>{}});case"projects":return b.jsx(O1e,{onClose:()=>{}});case"translations":return b.jsx(B1e,{});case"about":return b.jsx(V1e,{});case"experiences":return b.jsx(U1e,{onClose:()=>{}});case"education":return b.jsx(j1e,{onClose:()=>{}});case"skills":return b.jsx(z1e,{onClose:()=>{}});case"technologies":return b.jsx(W1e,{onClose:()=>{}});case"feature-flags":return b.jsx(H1e,{});default:return null}};return b.jsxs(gS,{children:[b.jsx(a2,{}),b.jsxs("div",{className:"relative z-10 p-[var(--space-24)]",children:[b.jsxs("div",{className:"flex items-center justify-between mb-[var(--space-32)]",children:[b.jsxs("div",{className:"flex items-center gap-[var(--space-12)]",children:[b.jsx("div",{className:"inline-flex p-[var(--space-8)] rounded-[var(--radius-md)] bg-[var(--surface)] text-accent",children:b.jsx(qL,{className:"h-[var(--space-24)] w-[var(--space-24)]"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)]",children:b.jsx(At,{translationKey:"admin.dashboard.title",as:"span",shimmerWidth:"200px"})}),b.jsxs("p",{className:"text-[var(--text-muted)] text-[length:var(--font-100)]",children:[b.jsx(At,{translationKey:"admin.dashboard.welcomeBack",as:"span",shimmerWidth:"120px"}),", ",s?.email]})]})]}),b.jsxs("div",{className:"flex items-center gap-[var(--space-12)]",children:[b.jsxs(hs,{to:"/",className:"inline-flex items-center gap-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)] transition-colors text-[length:var(--font-100)]",children:[b.jsx(tp,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx(At,{translationKey:"admin.login.backToPortfolio",as:"span",shimmerWidth:"180px"})]}),b.jsxs("button",{onClick:l,className:"inline-flex items-center gap-[var(--space-8)] text-[var(--text-muted)] hover:text-[var(--text)] transition-colors text-[length:var(--font-100)]",children:[b.jsx(BB,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),o("admin.common.logout")]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-[var(--space-24)]",children:[b.jsx(zs,{className:"lg:col-span-1",children:b.jsxs("div",{className:"p-[var(--space-16)]",children:[b.jsx("h2",{className:"text-[length:var(--font-400)] font-semibold text-[var(--text)] mb-[var(--space-16)]",children:b.jsx(At,{translationKey:"admin.dashboard.contentManagement",as:"span",shimmerWidth:"200px"})}),n&&b.jsxs("p",{className:"text-[var(--text-muted)] text-[length:var(--font-100)] mb-[var(--space-12)]",role:"status","aria-live":"polite",children:[o("admin.common.loading")," ",o(cL.find(f=>f.id===n)?.labelKey??"")]}),b.jsx("nav",{className:"stack [--stack-space:var(--space-8)]",children:cL.map(f=>{const m=f.icon;return b.jsxs("button",{onClick:()=>e(f.id),onMouseEnter:()=>u(f.id),onFocus:()=>u(f.id),className:`w-full flex items-center gap-[var(--space-12)] px-[var(--space-12)] py-[var(--space-8)] rounded-[var(--radius-md)] text-[length:var(--font-100)] transition-colors ${t===f.id?"bg-[var(--surface-strong)] text-accent":"text-[var(--text-muted)] hover:text-[var(--text)] hover:bg-[var(--surface)]"}`,children:[b.jsx(m,{className:"h-[var(--space-16)] w-[var(--space-16)]"}),b.jsx(At,{translationKey:f.labelKey,as:"span",shimmerWidth:"120px"})]},f.id)})})]})}),b.jsx("div",{className:"lg:col-span-3",children:b.jsx(zs,{className:"min-h-[600px]",children:b.jsx("div",{className:"p-[var(--space-24)]",children:b.jsx(ne.Suspense,{fallback:b.jsx("div",{className:"flex items-center justify-center py-[var(--space-24)] text-[var(--text)]",children:b.jsx(At,{translationKey:"admin.common.loading",as:"span",shimmerWidth:"140px"})}),children:d()})})})})]})]})]})}function dL(){return b.jsx("div",{className:"min-h-screen bg-[var(--bg)] flex items-center justify-center px-[var(--space-16)] py-[var(--space-64)]",children:b.jsx("div",{className:"max-w-2xl mx-auto text-center",children:b.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[b.jsx(Xt.h1,{className:"text-[length:clamp(6rem,12vw,12rem)] font-semibold text-accent leading-none mb-[var(--space-16)] tracking-[var(--tracking-tight)]",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},children:"404"}),b.jsx(Xt.div,{className:"flex justify-center mb-[var(--space-24)]",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.4},children:b.jsx(HB,{className:"w-[var(--space-64)] h-[var(--space-64)] text-[var(--text-muted)]"})}),b.jsx(Xt.h2,{className:"text-[length:var(--font-700)] md:text-[length:var(--font-800)] font-semibold text-[var(--text)] mb-[var(--space-16)]",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:b.jsx(At,{translationKey:"pages.notFound.title",as:"span",shimmerWidth:"200px"})}),b.jsx(Xt.p,{className:"text-[length:var(--font-300)] text-[var(--text-muted)] mb-[var(--space-48)] max-w-md mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},children:b.jsx(At,{translationKey:"pages.notFound.message",as:"span",shimmerWidth:"500px"})}),b.jsxs(Xt.div,{className:"flex flex-col sm:flex-row gap-[var(--space-16)] justify-center items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:[b.jsxs(hs,{to:"/",className:"btn btn-primary inline-flex items-center gap-[var(--space-8)]",children:[b.jsx(VL,{className:"w-[var(--space-16)] h-[var(--space-16)]"}),b.jsx(At,{translationKey:"pages.notFound.goHome",as:"span",shimmerWidth:"80px"})]}),b.jsxs("button",{onClick:()=>window.history.back(),className:"btn inline-flex items-center gap-[var(--space-8)] border border-accent text-accent hover:bg-accent/10",children:[b.jsx(tp,{className:"w-[var(--space-16)] h-[var(--space-16)]"}),b.jsx(At,{translationKey:"pages.notFound.goBack",as:"span",shimmerWidth:"80px"})]})]}),b.jsxs(Xt.div,{className:"mt-[var(--space-64)] pt-[var(--space-32)] border-t border-[var(--border)]",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.2},children:[b.jsx("p",{className:"text-[length:var(--font-100)] text-[var(--text-muted)] mb-[var(--space-16)]",children:b.jsx(At,{translationKey:"pages.notFound.popularPages",as:"span",shimmerWidth:"120px"})}),b.jsxs("div",{className:"flex flex-wrap gap-[var(--space-12)] justify-center",children:[b.jsx(hs,{to:"/about",className:"text-[length:var(--font-100)] text-[var(--text-muted)] hover:text-accent transition-colors",children:b.jsx(At,{translationKey:"nav.about",shimmerWidth:"60px"})}),b.jsx("span",{className:"text-[var(--text-muted)]","aria-hidden":"true",children:"/"}),b.jsx(hs,{to:"/work",className:"text-[length:var(--font-100)] text-[var(--text-muted)] hover:text-accent transition-colors",children:b.jsx(At,{translationKey:"nav.work",shimmerWidth:"50px"})}),b.jsx("span",{className:"text-[var(--text-muted)]","aria-hidden":"true",children:"/"}),b.jsx(hs,{to:"/blog",className:"text-[length:var(--font-100)] text-[var(--text-muted)] hover:text-accent transition-colors",children:b.jsx(At,{translationKey:"nav.blog",shimmerWidth:"50px"})}),b.jsx("span",{className:"text-[var(--text-muted)]","aria-hidden":"true",children:"/"}),b.jsx(hs,{to:"/contact",className:"text-[length:var(--font-100)] text-[var(--text-muted)] hover:text-accent transition-colors",children:b.jsx(At,{translationKey:"nav.contact",shimmerWidth:"70px"})})]})]})]})})})}function $1e({children:t}){const{user:e,isLoading:n}=tg();return n?b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-accent border-t-transparent mx-auto mb-4"}),b.jsx("p",{className:"text-white",children:b.jsx(At,{translationKey:"auth.checkingAuthentication",as:"span",shimmerWidth:"200px"})})]})}):e?b.jsx(b.Fragment,{children:t}):b.jsx(rb,{to:"/admin/login",replace:!0})}async function K1e(t){return{ok:!1,message:"Save disabled in production. Export JSON instead."}}async function Y1e(){return{ok:!1,message:"Run `npm run build:cv` in CI or locally."}}function X1e(t){const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="about.data.json",r.click(),URL.revokeObjectURL(n)}async function Z1e(t){await navigator.clipboard.writeText(JSON.stringify(t,null,2))}function J1e(t,e,n){const r=new FileReader;r.onload=()=>{try{const i=JSON.parse(String(r.result));e(i)}catch(i){n(i instanceof Error?i.message:"Invalid JSON file.")}},r.onerror=()=>n("Failed to read file."),r.readAsText(t)}const hL=JSON.stringify(Ok,null,2);function Q1e(){const[t,e]=ne.useState(""),[n,r]=ne.useState(!1),[i,s]=ne.useState(hL),[a,o]=ne.useState(null),u=ne.useMemo(()=>{try{return{ok:!0,value:JSON.parse(i)}}catch(d){return{ok:!1,message:d instanceof Error?d.message:"Invalid JSON"}}},[i]),l=ne.useMemo(()=>{if(!u.ok)return{success:!1,message:u.message};const d=Uk.safeParse(u.value);return d.success?{success:!0,data:d.data}:{success:!1,message:d.error.message}},[u]);return b.jsxs(gS,{children:[b.jsx(a2,{}),b.jsx("div",{className:"relative z-10 p-[var(--space-24)]",children:n?b.jsxs("div",{className:"max-w-5xl mx-auto space-y-[var(--space-24)]",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)]",children:"About/CV Admin"}),b.jsx("p",{className:"text-[length:var(--font-200)] text-[var(--text-muted)]",children:"Edit canonical About data below. Use Export/Import for production updates."})]}),b.jsxs(zs,{className:"space-y-[var(--space-12)]",children:[b.jsxs("div",{children:[b.jsx("label",{className:"form-label",htmlFor:"about-json",children:"About data JSON"}),b.jsx("textarea",{id:"about-json",value:i,onChange:d=>s(d.target.value),rows:22,className:"field font-mono text-xs"})]}),!l.success&&b.jsx("div",{className:"rounded-[var(--radius-md)] border border-red-500/20 bg-red-500/10 p-[var(--space-12)] text-[length:var(--font-100)] text-red-400",children:l.message})]}),b.jsxs("div",{className:"flex flex-wrap gap-[var(--space-8)]",children:[b.jsx("button",{onClick:()=>s(hL),className:"btn btn-secondary",children:"Reset"}),b.jsx("button",{onClick:()=>{if(!l.success){o("Fix JSON errors before saving.");return}K1e(l.data).then(d=>o(d.message))},className:"btn btn-primary",children:"Save (Dev)"}),b.jsx("button",{onClick:()=>{if(!l.success){o("Fix JSON errors before exporting.");return}X1e(l.data),o("Exported about.data.json")},className:"btn btn-primary",children:"Export JSON"}),b.jsxs("label",{className:"btn btn-secondary cursor-pointer inline-flex items-center",children:["Import JSON",b.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:d=>{const f=d.target.files?.[0];f&&J1e(f,m=>{s(JSON.stringify(m,null,2)),o("Imported JSON.")},m=>o(m))}})]}),b.jsx("button",{onClick:()=>{if(!l.success){o("Fix JSON errors before copying.");return}Z1e(l.data).then(()=>o("Copied JSON to clipboard."))},className:"btn btn-secondary",children:"Copy JSON"}),b.jsx("button",{onClick:()=>{Y1e().then(d=>o(d.message))},className:"btn btn-primary",children:"Rebuild CV"})]}),a&&b.jsx("p",{className:"text-[length:var(--font-100)] text-[var(--text-muted)]",children:a}),b.jsxs(zs,{className:"text-[length:var(--font-200)] text-[var(--text-muted)] space-y-[var(--space-8)]",children:[b.jsx("p",{children:"Production workflow:"}),b.jsxs("ol",{className:"list-decimal pl-[var(--space-20)] space-y-[var(--space-4)]",children:[b.jsx("li",{children:"Export JSON and commit to `src/content/about.data.json`."}),b.jsxs("li",{children:["Run ",b.jsx("code",{children:"npm run build:cv"})," in CI to regenerate `docs/CV.md`."]})]})]})]}):b.jsx("div",{className:"flex justify-center",children:b.jsx(zs,{className:"w-full max-w-xl",children:b.jsxs("div",{className:"space-y-[var(--space-16)]",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-[length:var(--font-600)] font-semibold text-[var(--text)]",children:"Admin Access"}),b.jsxs("p",{className:"text-[length:var(--font-200)] text-[var(--text-muted)]",children:["Configure ",b.jsx("code",{children:"VITE_ADMIN_KEY"})," at build time. This gate is minimal and not secure for public use."]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"form-label",htmlFor:"admin-key",children:"Admin key"}),b.jsx("input",{id:"admin-key",type:"password",placeholder:"Admin key",value:t,onChange:d=>e(d.target.value),className:"field"})]}),b.jsx("button",{onClick:()=>r(t===""),className:"btn btn-primary inline-flex items-center justify-center",children:"Enter"})]})})})})]})}const eve=nB([{element:b.jsx(SK,{}),children:[{path:"/",element:b.jsx(wK,{}),children:[{index:!0,element:b.jsx(bpe,{})},{path:"about",element:b.jsx(t1e,{})},{path:"work",element:b.jsx(s1e,{})},{path:"blog",element:b.jsx(o1e,{})},{path:"blog/:slug",element:b.jsx(g1e,{})},{path:"contact",element:b.jsx(I1e,{})},{path:"*",element:b.jsx(dL,{})}]},{path:"/admin/login",element:b.jsx(k1e,{})},{path:"/admin",element:b.jsx(Q1e,{})},{path:"/admin/dashboard",element:b.jsx($1e,{children:b.jsx(q1e,{})})},{path:"*",element:b.jsx(dL,{})}]}],{basename:"/my-portfolio/"});class tve extends ne.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){if(this.state.hasError){const e=this.state.error?.message||"An unexpected error occurred";return b.jsx(gR,{title:void 0,message:e,onRetry:()=>this.setState({hasError:!1}),retryText:void 0})}return this.props.children}}mL.createRoot(document.getElementById("root")).render(b.jsx(ne.StrictMode,{children:b.jsx(tve,{children:b.jsx(oK,{children:b.jsx(iK,{children:b.jsx(xR,{children:b.jsx(cB,{router:eve})})})})})}));export{Wi as A,Wt as B,OL as C,OM as D,LB as E,PB as F,HL as G,RB as H,gve as I,mve as J,Ih as K,kh as L,ei as M,nv as N,nve as O,Or as P,T8 as R,HB as S,At as T,Cw as X,lve as Z,zw as _,MB as a,BL as b,Tn as c,YB as d,AB as e,DB as f,Wm as g,FL as h,z_ as i,b as j,iI as k,kk as l,zs as m,cve as n,TV as o,Ik as p,Upe as q,ne as r,Hn as s,GN as t,Hr as u,Wpe as v,qN as w,Kpe as x,Jee as y,$N as z};
