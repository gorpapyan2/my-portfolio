import{u as C,r as E,j as e,T as L}from"./index-siMbvs9L.js";import{T as F}from"./trash-2-ClcjC_9b.js";import{u as S,e as A}from"./useEducationService-CB-Nl3Lf.js";import{u as D}from"./useAdminCrudForm-BEugt2b5.js";import{A as T,F as d,T as w,a as I,b as q}from"./AdminToolbar-O7s0lh2N.js";import{A as _,L as P}from"./AdminLoadingState-BlNnS30Y.js";import{S as K}from"./square-pen-BtczubbV.js";import"./zodErrorHandler-CM_HDYk9.js";import"./plus-YjYhcHqF.js";function O({onClose:c}){const{t,language:m}=C(),[o,s]=E.useState(m),{education:l,isLoading:u,createEducation:x,updateEducation:h,deleteEducation:g}=S({language:o}),{showEditor:p,setShowEditor:v,editingItem:j,formData:r,setFormData:n,errors:i,handleSubmit:b,handleEdit:f,handleDelete:N,resetForm:y}=D({createItem:x,updateItem:h,deleteItem:g,schema:A,initialFormData:{degree:"",school:"",year:"",description:"",order_index:0},language:o,confirmDeleteKey:"admin.education.confirm.delete",deleteErrorKey:"admin.education.error.deleteFailed",t});return u?e.jsx(_,{}):e.jsxs("div",{children:[e.jsx(T,{title:e.jsx(L,{translationKey:"admin.education.title",as:"span",shimmerWidth:"220px"}),onClose:c}),p?e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsx(P,{value:o,onChange:s,label:t("admin.common.language")}),e.jsx(d,{label:t("admin.education.form.degree"),value:r.degree,onChange:a=>n({...r,degree:a}),error:i.degree,placeholder:t("admin.education.degreePlaceholder"),required:!0}),e.jsx(d,{label:t("admin.education.form.school"),value:r.school,onChange:a=>n({...r,school:a}),error:i.school,placeholder:t("admin.education.schoolPlaceholder"),required:!0}),e.jsx(d,{label:t("admin.education.form.year"),value:r.year,onChange:a=>n({...r,year:a}),error:i.year,placeholder:t("admin.education.yearPlaceholder"),required:!0}),e.jsx(w,{label:t("admin.common.description"),value:r.description,onChange:a=>n({...r,description:a}),error:i.description,rows:3,placeholder:t("admin.education.additionalDetails"),required:!0}),e.jsx(d,{type:"number",label:t("admin.common.orderIndex"),value:r.order_index,onChange:a=>n({...r,order_index:parseInt(a)||0}),min:0}),e.jsx(I,{onCancel:y,submitLabel:t(j?"admin.education.button.update":"admin.education.button.create"),cancelLabel:t("admin.common.cancel")})]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{title:t("admin.education.titleCount"),itemCount:l.length,activeLanguage:o,onLanguageChange:s,onAdd:()=>v(!0),addButtonLabel:t("admin.education.addEducation")}),e.jsx("div",{className:"space-y-4",children:l.map(a=>e.jsx("div",{className:"p-4 bg-[var(--surface)] rounded-[var(--radius-md)] border border-[var(--border)]",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-[length:var(--font-400)] font-medium text-[var(--text)] mb-2",children:a.degree}),e.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-100)] mb-2",children:a.school}),e.jsx("p",{className:"text-[var(--text-muted)] text-[length:var(--font-100)] mb-2",children:a.year}),e.jsx("p",{className:"text-[var(--text-muted)] mb-2",children:a.description}),e.jsxs("div",{className:"text-[length:var(--font-100)] text-[var(--text-muted)]",children:[t("admin.education.card.order")," ",a.order_index," | ",t("admin.education.card.created")," ",new Date(a.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f(a),className:"p-2 text-[var(--text-muted)] hover:text-[var(--text)] transition-colors",children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>N(a.id),className:"p-2 text-[var(--text-muted)] hover:text-red-400 transition-colors",children:e.jsx(F,{className:"h-4 w-4"})})]})]})},a.id))})]})]})}export{O as EducationAdmin};
