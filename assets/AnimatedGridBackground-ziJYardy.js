import{l as w,r as u,k as A,K as v,n as E,O as C,Q as R,R as b,V as d,W as p,Y as j,Z as L,j as g,q as N}from"./index-siMbvs9L.js";function m(t){const e=w(()=>v(t)),{isStatic:s}=u.useContext(A);if(s){const[,o]=u.useState(t);u.useEffect(()=>e.on("change",o),[])}return e}function M(t,e){const s=m(e()),o=()=>s.set(e());return o(),E(()=>{const n=()=>C.preRender(o,!1,!0),r=t.map(c=>c.on("change",n));return()=>{r.forEach(c=>c()),R(o)}}),s}const $=t=>t&&typeof t=="object"&&t.mix,k=t=>$(t)?t.mix:void 0;function q(...t){const e=!Array.isArray(t[0]),s=e?0:-1,o=t[0+s],n=t[1+s],r=t[2+s],c=t[3+s],a=b(n,r,{mixer:k(r[0]),...c});return e?a(o):a}function I(t){d.current=[],t();const e=M(d.current,t);return d.current=void 0,e}function y(t,e,s,o){if(typeof t=="function")return I(t);const n=typeof e=="function"?e:q(e,s,o);return Array.isArray(t)?x(t,n):x([t],([r])=>n(r))}function x(t,e){const s=w(()=>[]);return M(t,()=>{s.length=0;const o=t.length;for(let n=0;n<o;n++)s[n]=t[n].get();return e(s)})}function h(t){return typeof t=="number"?t:parseFloat(t)}function V(t,e={}){const{isStatic:s}=u.useContext(A),o=u.useRef(null),n=m(p(t)?h(t.get()):t),r=u.useRef(n.get()),c=u.useRef(()=>{}),a=()=>{const i=o.current;i&&i.time===0&&i.sample(j.delta),l(),o.current=L({keyframes:[n.get(),r.current],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:c.current})},l=()=>{o.current&&o.current.stop()};return u.useInsertionEffect(()=>n.attach((i,f)=>s?f(i):(r.current=i,c.current=f,C.update(a),n.get()),l),[JSON.stringify(e)]),E(()=>{if(p(t))return t.on("change",i=>n.set(h(i)))},[n]),n}function D({children:t}){const e=m(0),s=m(0),o=V(e,{stiffness:60,damping:15}),n=V(s,{stiffness:60,damping:15}),r=y(o,a=>`translateX(${a}px)`),c=y(n,a=>`translateY(${a}px)`);return u.useEffect(()=>{const a=i=>{const{innerWidth:f,innerHeight:S}=window;e.set((i.clientX/f-.5)*8),s.set((i.clientY/S-.5)*8)};return window.matchMedia("(prefers-reduced-motion: reduce)").matches||window.addEventListener("mousemove",a),()=>window.removeEventListener("mousemove",a)},[e,s]),g.jsx(N.div,{style:{transform:`${r} ${c}`},className:"bg-grid min-h-screen",children:g.jsx("div",{className:"relative z-10",children:t})})}export{D as A};
